(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var _m={exports:{}},Ho={};var B_;function aw(){if(B_)return Ho;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=e,Ho.jsx=n,Ho.jsxs=n,Ho}var H_;function rw(){return H_||(H_=1,_m.exports=aw()),_m.exports}var u=rw(),Em={exports:{}},xe={};var q_;function lw(){if(q_)return xe;q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function O(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function Y(L,te,ue){this.props=L,this.context=te,this.refs=U,this.updater=ue||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},Y.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ie(L,te,ue){this.props=L,this.context=te,this.refs=U,this.updater=ue||R}var z=ie.prototype=new W;z.constructor=ie,C(z,Y.prototype),z.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(L,te,ue){var fe=ue.ref;return{$$typeof:s,type:L,key:te,ref:fe!==void 0?fe:null,props:ue}}function k(L,te){return N(L.type,te,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function B(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return te[ue]})}var j=/\/+/g;function ae(L,te){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):te.toString(36)}function ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,te,ue,fe,Ae){var De=typeof L;(De==="undefined"||De==="boolean")&&(L=null);var qe=!1;if(L===null)qe=!0;else switch(De){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(L.$$typeof){case s:case e:qe=!0;break;case T:return qe=L._init,K(qe(L._payload),te,ue,fe,Ae)}}if(qe)return Ae=Ae(L),qe=fe===""?"."+ae(L,0):fe,oe(Ae)?(ue="",qe!=null&&(ue=qe.replace(j,"$&/")+"/"),K(Ae,te,ue,"",function(xa){return xa})):Ae!=null&&(M(Ae)&&(Ae=k(Ae,ue+(Ae.key==null||L&&L.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+qe)),te.push(Ae)),1;qe=0;var kt=fe===""?".":fe+":";if(oe(L))for(var ot=0;ot<L.length;ot++)fe=L[ot],De=kt+ae(fe,ot),qe+=K(fe,te,ue,De,Ae);else if(ot=O(L),typeof ot=="function")for(L=ot.call(L),ot=0;!(fe=L.next()).done;)fe=fe.value,De=kt+ae(fe,ot++),qe+=K(fe,te,ue,De,Ae);else if(De==="object"){if(typeof L.then=="function")return K(ye(L),te,ue,fe,Ae);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return qe}function re(L,te,ue){if(L==null)return L;var fe=[],Ae=0;return K(L,fe,"","",function(De){return te.call(ue,De,Ae++)}),fe}function me(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Te=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Me={map:re,forEach:function(L,te,ue){re(L,function(){te.apply(this,arguments)},ue)},count:function(L){var te=0;return re(L,function(){te++}),te},toArray:function(L){return re(L,function(te){return te})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return xe.Activity=b,xe.Children=Me,xe.Component=Y,xe.Fragment=n,xe.Profiler=l,xe.PureComponent=ie,xe.StrictMode=a,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,xe.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},xe.cache=function(L){return function(){return L.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(L,te,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var fe=C({},L.props),Ae=L.key;if(te!=null)for(De in te.key!==void 0&&(Ae=""+te.key),te)!x.call(te,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&te.ref===void 0||(fe[De]=te[De]);var De=arguments.length-2;if(De===1)fe.children=ue;else if(1<De){for(var qe=Array(De),kt=0;kt<De;kt++)qe[kt]=arguments[kt+2];fe.children=qe}return N(L.type,Ae,fe)},xe.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},xe.createElement=function(L,te,ue){var fe,Ae={},De=null;if(te!=null)for(fe in te.key!==void 0&&(De=""+te.key),te)x.call(te,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=te[fe]);var qe=arguments.length-2;if(qe===1)Ae.children=ue;else if(1<qe){for(var kt=Array(qe),ot=0;ot<qe;ot++)kt[ot]=arguments[ot+2];Ae.children=kt}if(L&&L.defaultProps)for(fe in qe=L.defaultProps,qe)Ae[fe]===void 0&&(Ae[fe]=qe[fe]);return N(L,De,Ae)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(L){return{$$typeof:p,render:L}},xe.isValidElement=M,xe.lazy=function(L){return{$$typeof:T,_payload:{_status:-1,_result:L},_init:me}},xe.memo=function(L,te){return{$$typeof:y,type:L,compare:te===void 0?null:te}},xe.startTransition=function(L){var te=I.T,ue={};I.T=ue;try{var fe=L(),Ae=I.S;Ae!==null&&Ae(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,Te)}catch(De){Te(De)}finally{te!==null&&ue.types!==null&&(te.types=ue.types),I.T=te}},xe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},xe.use=function(L){return I.H.use(L)},xe.useActionState=function(L,te,ue){return I.H.useActionState(L,te,ue)},xe.useCallback=function(L,te){return I.H.useCallback(L,te)},xe.useContext=function(L){return I.H.useContext(L)},xe.useDebugValue=function(){},xe.useDeferredValue=function(L,te){return I.H.useDeferredValue(L,te)},xe.useEffect=function(L,te){return I.H.useEffect(L,te)},xe.useEffectEvent=function(L){return I.H.useEffectEvent(L)},xe.useId=function(){return I.H.useId()},xe.useImperativeHandle=function(L,te,ue){return I.H.useImperativeHandle(L,te,ue)},xe.useInsertionEffect=function(L,te){return I.H.useInsertionEffect(L,te)},xe.useLayoutEffect=function(L,te){return I.H.useLayoutEffect(L,te)},xe.useMemo=function(L,te){return I.H.useMemo(L,te)},xe.useOptimistic=function(L,te){return I.H.useOptimistic(L,te)},xe.useReducer=function(L,te,ue){return I.H.useReducer(L,te,ue)},xe.useRef=function(L){return I.H.useRef(L)},xe.useState=function(L){return I.H.useState(L)},xe.useSyncExternalStore=function(L,te,ue){return I.H.useSyncExternalStore(L,te,ue)},xe.useTransition=function(){return I.H.useTransition()},xe.version="19.2.1",xe}var F_;function gp(){return F_||(F_=1,Em.exports=lw()),Em.exports}var V=gp(),Tm={exports:{}},qo={},bm={exports:{}},Sm={};var G_;function ow(){return G_||(G_=1,(function(s){function e(K,re){var me=K.length;K.push(re);e:for(;0<me;){var Te=me-1>>>1,Me=K[Te];if(0<l(Me,re))K[Te]=re,K[me]=Me,me=Te;else break e}}function n(K){return K.length===0?null:K[0]}function a(K){if(K.length===0)return null;var re=K[0],me=K.pop();if(me!==re){K[0]=me;e:for(var Te=0,Me=K.length,L=Me>>>1;Te<L;){var te=2*(Te+1)-1,ue=K[te],fe=te+1,Ae=K[fe];if(0>l(ue,me))fe<Me&&0>l(Ae,ue)?(K[Te]=Ae,K[fe]=me,Te=fe):(K[Te]=ue,K[te]=me,Te=te);else if(fe<Me&&0>l(Ae,me))K[Te]=Ae,K[fe]=me,Te=fe;else break e}}return re}function l(K,re){var me=K.sortIndex-re.sortIndex;return me!==0?me:K.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,S=3,O=!1,R=!1,C=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var re=n(y);re!==null;){if(re.callback===null)a(y);else if(re.startTime<=K)a(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function oe(K){if(C=!1,z(K),!R)if(n(g)!==null)R=!0,ce||(ce=!0,B());else{var re=n(y);re!==null&&ye(oe,re.startTime-K)}}var ce=!1,I=-1,x=5,N=-1;function k(){return U?!0:!(s.unstable_now()-N<x)}function M(){if(U=!1,ce){var K=s.unstable_now();N=K;var re=!0;try{e:{R=!1,C&&(C=!1,W(I),I=-1),O=!0;var me=S;try{t:{for(z(K),b=n(g);b!==null&&!(b.expirationTime>K&&k());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,S=b.priorityLevel;var Me=Te(b.expirationTime<=K);if(K=s.unstable_now(),typeof Me=="function"){b.callback=Me,z(K),re=!0;break t}b===n(g)&&a(g),z(K)}else a(g);b=n(g)}if(b!==null)re=!0;else{var L=n(y);L!==null&&ye(oe,L.startTime-K),re=!1}}break e}finally{b=null,S=me,O=!1}re=void 0}}finally{re?B():ce=!1}}}var B;if(typeof ie=="function")B=function(){ie(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ae=j.port2;j.port1.onmessage=M,B=function(){ae.postMessage(null)}}else B=function(){Y(M,0)};function ye(K,re){I=Y(function(){K(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(K){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var me=S;S=re;try{return K()}finally{S=me}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=S;S=K;try{return re()}finally{S=me}},s.unstable_scheduleCallback=function(K,re,me){var Te=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Te+me:Te):me=Te,K){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=me+Me,K={id:T++,callback:re,priorityLevel:K,startTime:me,expirationTime:Me,sortIndex:-1},me>Te?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&(C?(W(I),I=-1):C=!0,ye(oe,me-Te))):(K.sortIndex=Me,e(g,K),R||O||(R=!0,ce||(ce=!0,B()))),K},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(K){var re=S;return function(){var me=S;S=re;try{return K.apply(this,arguments)}finally{S=me}}}})(Sm)),Sm}var K_;function cw(){return K_||(K_=1,bm.exports=ow()),bm.exports}var Am={exports:{}},en={};var Q_;function uw(){if(Q_)return en;Q_=1;var s=gp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},en.flushSync=function(g){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=y,a.p=T,a.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):T==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);a.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},en.requestFormReset=function(g){a.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var Y_;function hw(){if(Y_)return Am.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Am.exports=uw(),Am.exports}var $_;function dw(){if($_)return qo;$_=1;var s=cw(),e=gp(),n=hw();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=m;else{for(var _=!1,A=f.child;A;){if(A===r){_=!0,r=f,o=m;break}if(A===o){_=!0,o=f,r=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===r){_=!0,r=m,o=f;break}if(A===o){_=!0,o=m,r=f;break}A=A.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Te=[],Me=-1;function L(t){return{current:t}}function te(t){0>Me||(t.current=Te[Me],Te[Me]=null,Me--)}function ue(t,i){Me++,Te[Me]=t.current,t.current=i}var fe=L(null),Ae=L(null),De=L(null),qe=L(null);function kt(t,i){switch(ue(De,i),ue(Ae,t),ue(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=u_(i),t=h_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(fe),ue(fe,t)}function ot(){te(fe),te(Ae),te(De)}function xa(t){t.memoizedState!==null&&ue(qe,t);var i=fe.current,r=h_(i,t.type);i!==r&&(ue(Ae,t),ue(fe,r))}function gr(t){Ae.current===t&&(te(fe),te(Ae)),qe.current===t&&(te(qe),Po._currentValue=me)}var yr,vr;function pi(t){if(yr===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);yr=i&&i[1]||"",vr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yr+t+vr}var Ll=!1;function Na(t,i){if(!t||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){Q=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),G=A.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===G.length)for(o=D.length-1,f=G.length-1;1<=o&&0<=f&&D[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==G[f]){var J=`
`+D[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?pi(r):""}function Pl(t,i){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return t.child!==i&&i!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Na(t.type,!1);case 11:return Na(t.type.render,!1);case 1:return Na(t.type,!0);case 31:return pi("Activity");default:return""}}function Ul(t){try{var i="",r=null;do i+=Pl(t,r),r=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,ws=s.unstable_cancelCallback,Ed=s.unstable_shouldYield,jc=s.unstable_requestPaint,on=s.unstable_now,Ra=s.unstable_getCurrentPriorityLevel,zl=s.unstable_ImmediatePriority,Bl=s.unstable_UserBlockingPriority,xs=s.unstable_NormalPriority,Td=s.unstable_LowPriority,Dc=s.unstable_IdlePriority,Oc=s.log,Mc=s.unstable_setDisableYieldValue,Zn=null,Gt=null;function On(t){if(typeof Oc=="function"&&Mc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Zn,t)}catch{}}var yt=Math.clz32?Math.clz32:kc,Vc=Math.log,_r=Math.LN2;function kc(t){return t>>>=0,t===0?32:31-(Vc(t)/_r|0)|0}var gi=256,Ca=262144,St=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,i,r){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?f=yi(o):(_&=A,_!==0?f=yi(_):r||(r=A&~t,r!==0&&(f=yi(r))))):(A=o&~m,A!==0?f=yi(A):_!==0?f=yi(_):r||(r=o&~t,r!==0&&(f=yi(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function _i(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ia(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sd(t,i,r,o,f,m){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(r=_&~r;0<r;){var J=31-yt(r),ne=1<<J;A[J]=0,D[J]=-1;var Q=G[J];if(Q!==null)for(G[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}r&=~ne}o!==0&&ja(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function ja(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-yt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Hl(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-yt(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function ql(t,i){var r=i&-i;return r=(r&42)!==0?1:Da(r),(r&(t.suspendedLanes|i))!==0?0:r}function Da(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:M_(t.type))}function ti(t,i){var r=re.p;try{return re.p=t,i()}finally{re.p=r}}var ni=Math.random().toString(36).slice(2),At="__reactFiber$"+ni,Bt="__reactProps$"+ni,Ei="__reactContainer$"+ni,Er="__reactEvents$"+ni,Ad="__reactListeners$"+ni,Uc="__reactHandles$"+ni,zc="__reactResources$"+ni,Ti="__reactMarker$"+ni;function Tr(t){delete t[At],delete t[Bt],delete t[Er],delete t[Ad],delete t[Uc]}function bi(t){var i=t[At];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Ei]||r[At]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=v_(t);t!==null;){if(r=t[At])return r;t=v_(t)}return i}t=r,r=t.parentNode}return null}function Mn(t){if(t=t[At]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Si(t){var i=t[zc];return i||(i=t[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[Ti]=!0}var Fl=new Set,Gl={};function Ai(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(Gl[t]=i,t=0;t<i.length;t++)Fl.add(i[t])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Yl={};function Bc(t){return bt.call(Yl,t)?!0:bt.call(Ql,t)?!1:Kl.test(t)?Yl[t]=!0:(Ql[t]=!0,!1)}function br(t,i,r){if(Bc(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function Sn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function xt(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $l(t,i,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){r=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Ns(t)?"checked":"value";t._valueTracker=$l(t,i,""+t[i])}}function Oa(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Ns(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ma=/[\n"\\]/g;function hn(t){return t.replace(Ma,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sr(t,i,r,o,f,m,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Xl(t,_,Ht(i)):r!=null?Xl(t,_,Ht(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ht(A):t.removeAttribute("name")}function Hc(t,i,r,o,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xe(t);return}r=r!=null?""+Ht(r):"",i=i!=null?""+Ht(i):r,A||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Xl(t,i,r){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Rs(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function qc(t,i,r){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ht(r):""}function Cs(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(ye(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=Ht(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Xe(t)}function dn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||Fc.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function Jl(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&Wl(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Wl(t,m,i[m])}function Ar(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wr(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var Zl=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Ni=null;function Va(t){var i=Mn(t);if(i&&(t=i.stateNode)){var r=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[Bt]||null;if(!f)throw Error(a(90));Sr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&Oa(o)}break e;case"textarea":qc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&Rs(t,!!r.multiple,i,!1)}}}var xr=!1;function Ds(t,i,r){if(xr)return t(i,r);xr=!0;try{var o=t(i);return o}finally{if(xr=!1,(js!==null||Ni!==null)&&(Pu(),js&&(i=js,t=Ni,Ni=js=null,Va(i),t)))for(i=0;i<t.length;i++)Va(t[i])}}function si(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Bt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(kn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ka=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ka=!1}var Ri=null,eo=null,La=null;function to(){if(La)return La;var t,i=eo,r=i.length,o,f="value"in Ri?Ri.value:Ri.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var _=r-t;for(o=1;o<=_&&i[r-o]===f[m-o];o++);return La=f.slice(t,1<o?1-o:void 0)}function Pa(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function ai(){return!1}function Kt(t){function i(r,o,f,m,_){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yi:ai,this.isPropagationStopped=ai,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Kt($i),Os=b({},$i,{view:0,detail:0}),no=Kt(Os),Ms,Nr,Ii,Rr=b({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ms=t.screenX-Ii.screenX,Nr=t.screenY-Ii.screenY):Nr=Ms=0,Ii=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:Nr}}),io=Kt(Rr),Ua=b({},Rr,{dataTransfer:0}),Kc=Kt(Ua),Qc=b({},Os,{relatedTarget:0}),za=Kt(Qc),so=b({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Yc=Kt(so),Cr=b({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$c=Kt(Cr),Xc=b({},$i,{data:0}),ji=Kt(Xc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zc[t])?!!i[t]:!1}function Vs(){return eu}var cn=b({},Os,{key:function(t){if(t.key){var i=Wc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tu=Kt(cn),nu=b({},Rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Kt(nu),h=b({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Kt(h),E=b({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(E),q=b({},Rr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Kt(q),le=b({},$i,{newState:0,oldState:0}),Ce=Kt(le),vt=[9,13,27,32],Qe=kn&&"CompositionEvent"in window,ct=null;kn&&"documentMode"in document&&(ct=document.documentMode);var Ln=kn&&"TextEvent"in window&&!ct,Di=kn&&(!Qe||ct&&8<ct&&11>=ct),ri=" ",li=!1;function Ba(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ir(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jr=!1;function CS(t,i){switch(t){case"compositionend":return Ir(i);case"keypress":return i.which!==32?null:(li=!0,ri);case"textInput":return t=i.data,t===ri&&li?null:t;default:return null}}function IS(t,i){if(jr)return t==="compositionend"||!Qe&&Ba(t,i)?(t=to(),La=eo=Ri=null,jr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jS[t.type]:i==="textarea"}function bg(t,i,r,o){js?Ni?Ni.push(o):Ni=[o]:js=o,i=Gu(i,"onChange"),0<i.length&&(r=new Ci("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var ao=null,ro=null;function DS(t){s_(t,0)}function iu(t){var i=bn(t);if(Oa(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(kn){var wd;if(kn){var xd="oninput"in document;if(!xd){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),xd=typeof wg.oninput=="function"}wd=xd}else wd=!1;Ag=wd&&(!document.documentMode||9<document.documentMode)}function xg(){ao&&(ao.detachEvent("onpropertychange",Ng),ro=ao=null)}function Ng(t){if(t.propertyName==="value"&&iu(ro)){var i=[];bg(i,ro,t,Vn(t)),Ds(DS,i)}}function OS(t,i,r){t==="focusin"?(xg(),ao=i,ro=r,ao.attachEvent("onpropertychange",Ng)):t==="focusout"&&xg()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(ro)}function VS(t,i){if(t==="click")return iu(i)}function kS(t,i){if(t==="input"||t==="change")return iu(i)}function LS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:LS;function lo(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!bt.call(i,f)||!An(t[f],i[f]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var r=Rg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rg(r)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=xi(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var PS=kn&&"documentMode"in document&&11>=document.documentMode,Dr=null,Rd=null,oo=null,Cd=!1;function Dg(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Cd||Dr==null||Dr!==xi(o)||(o=Dr,"selectionStart"in o&&Nd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&lo(oo,o)||(oo=o,o=Gu(Rd,"onSelect"),0<o.length&&(i=new Ci("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Dr)))}function Ha(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var Or={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionrun:Ha("Transition","TransitionRun"),transitionstart:Ha("Transition","TransitionStart"),transitioncancel:Ha("Transition","TransitionCancel"),transitionend:Ha("Transition","TransitionEnd")},Id={},Og={};kn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function qa(t){if(Id[t])return Id[t];if(!Or[t])return t;var i=Or[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Og)return Id[t]=i[r];return t}var Mg=qa("animationend"),Vg=qa("animationiteration"),kg=qa("animationstart"),US=qa("transitionrun"),zS=qa("transitionstart"),BS=qa("transitioncancel"),Lg=qa("transitionend"),Pg=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function oi(t,i){Pg.set(t,i),Ai(i,[t])}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Mr=0,Dd=0;function au(){for(var t=Mr,i=Dd=Mr=0;i<t;){var r=Pn[i];Pn[i++]=null;var o=Pn[i];Pn[i++]=null;var f=Pn[i];Pn[i++]=null;var m=Pn[i];if(Pn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&Ug(r,f,m)}}function ru(t,i,r,o){Pn[Mr++]=t,Pn[Mr++]=i,Pn[Mr++]=r,Pn[Mr++]=o,Dd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Od(t,i,r,o){return ru(t,i,r,o),lu(t)}function Fa(t,i){return ru(t,null,null,i),lu(t)}function Ug(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-yt(r),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=r|536870912),m):null}function lu(t){if(50<jo)throw jo=0,qf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Vr={};function HS(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,r,o){return new HS(t,i,r,o)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var r=t.alternate;return r===null?(r=wn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function zg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ou(t,i,r,o,f,m){var _=0;if(o=t,typeof t=="function")Md(t)&&(_=1);else if(typeof t=="string")_=QA(t,r,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=wn(31,r,i,f),t.elementType=N,t.lanes=m,t;case C:return Ga(r.children,f,m,i);case U:_=8,f|=24;break;case Y:return t=wn(12,r,i,f|2),t.elementType=Y,t.lanes=m,t;case oe:return t=wn(13,r,i,f),t.elementType=oe,t.lanes=m,t;case ce:return t=wn(19,r,i,f),t.elementType=ce,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case z:_=11;break e;case I:_=14;break e;case x:_=16,o=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=wn(_,r,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Ga(t,i,r,o){return t=wn(7,t,o,i),t.lanes=r,t}function Vd(t,i,r){return t=wn(6,t,null,i),t.lanes=r,t}function Bg(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function kd(t,i,r){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var r=Hg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Ul(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:Ul(i)}}var kr=[],Lr=0,cu=null,co=0,zn=[],Bn=0,ks=null,Oi=1,Mi="";function Ji(t,i){kr[Lr++]=co,kr[Lr++]=cu,cu=t,co=i}function qg(t,i,r){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=ks,ks=t;var o=Oi;t=Mi;var f=32-yt(o)-1;o&=~(1<<f),r+=1;var m=32-yt(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Oi=1<<32-yt(i)+f|r<<f|o,Mi=m+t}else Oi=1<<m|r<<f|o,Mi=t}function Ld(t){t.return!==null&&(Ji(t,1),qg(t,1,0))}function Pd(t){for(;t===cu;)cu=kr[--Lr],kr[Lr]=null,co=kr[--Lr],kr[Lr]=null;for(;t===ks;)ks=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null,Oi=zn[--Bn],zn[Bn]=null}function Fg(t,i){zn[Bn++]=Oi,zn[Bn++]=Mi,zn[Bn++]=ks,Oi=i.id,Mi=i.overflow,ks=t}var Qt=null,at=null,He=!1,Ls=null,Hn=!1,Ud=Error(a(519));function Ps(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uo(Un(i,t)),Ud}function Gg(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[At]=t,i[Bt]=o,r){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(r=0;r<Oo.length;r++)ke(Oo[r],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Hc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Cs(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||o_(i.textContent,r)?(o.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),o.onScroll!=null&&ke("scroll",i),o.onScrollEnd!=null&&ke("scrollend",i),o.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||Ps(t,!0)}function Kg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Qt=Qt.return}}function Pr(t){if(t!==Qt)return!1;if(!He)return Kg(t),He=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sm(t.type,t.memoizedProps)),r=!r),r&&at&&Ps(t),Kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=y_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));at=y_(t)}else i===27?(i=at,Js(t.type)?(t=cm,cm=null,at=t):at=i):at=Qt?Fn(t.stateNode.nextSibling):null;return!0}function Ka(){at=Qt=null,He=!1}function zd(){var t=Ls;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ls=null),t}function uo(t){Ls===null?Ls=[t]:Ls.push(t)}var Bd=L(null),Qa=null,Zi=null;function Us(t,i,r){ue(Bd,i._currentValue),i._currentValue=r}function es(t){t._currentValue=Bd.current,te(Bd)}function Hd(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function qd(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=r,A=m.alternate,A!==null&&(A.lanes|=r),Hd(m.return,r,t),o||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=r,m=_.alternate,m!==null&&(m.lanes|=r),Hd(_,r,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ur(t,i,r,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var A=f.type;An(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===qe.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}f=f.return}t!==null&&qd(i,t,r,o),i.flags|=262144}function uu(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ya(t){Qa=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Qg(Qa,t)}function hu(t,i){return Qa===null&&Ya(t),Qg(t,i)}function Qg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},Zi===null){if(t===null)throw Error(a(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return r}var qS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},FS=s.unstable_scheduleCallback,GS=s.unstable_NormalPriority,Nt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new qS,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var fo=null,Gd=0,zr=0,Br=null;function KS(t,i){if(fo===null){var r=fo=[];Gd=0,zr=$f(),Br={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Gd++,i.then(Yg,Yg),i}function Yg(){if(--Gd===0&&fo!==null){Br!==null&&(Br.status="fulfilled");var t=fo;fo=null,zr=0,Br=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function QS(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var $g=K.S;K.S=function(t,i){Dv=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(t,i),$g!==null&&$g(t,i)};var $a=L(null);function Kd(){var t=$a.current;return t!==null?t:it.pooledCache}function du(t,i){i===null?ue($a,$a.current):ue($a,i.pool)}function Xg(){var t=Kd();return t===null?null:{parent:Nt._currentValue,pool:t}}var Hr=Error(a(460)),Qd=Error(a(474)),fu=Error(a(542)),mu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(ii,ii),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw Wa=i,Hr}}function Xa(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Wa=r,Hr):r}}var Wa=null;function Zg(){if(Wa===null)throw Error(a(459));var t=Wa;return Wa=null,t}function ey(t){if(t===Hr||t===fu)throw Error(a(483))}var qr=null,mo=0;function pu(t){var i=mo;return mo+=1,qr===null&&(qr=[]),Jg(qr,t,i)}function po(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gu(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(H,P){if(t){var F=H.deletions;F===null?(H.deletions=[P],H.flags|=16):F.push(P)}}function r(H,P){if(!t)return null;for(;P!==null;)i(H,P),P=P.sibling;return null}function o(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function f(H,P){return H=Wi(H,P),H.index=0,H.sibling=null,H}function m(H,P,F){return H.index=F,t?(F=H.alternate,F!==null?(F=F.index,F<P?(H.flags|=67108866,P):F):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,P,F,Z){return P===null||P.tag!==6?(P=Vd(F,H.mode,Z),P.return=H,P):(P=f(P,F),P.return=H,P)}function D(H,P,F,Z){var ve=F.type;return ve===C?J(H,P,F.props.children,Z,F.key):P!==null&&(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Xa(ve)===P.type)?(P=f(P,F.props),po(P,F),P.return=H,P):(P=ou(F.type,F.key,F.props,null,H.mode,Z),po(P,F),P.return=H,P)}function G(H,P,F,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==F.containerInfo||P.stateNode.implementation!==F.implementation?(P=kd(F,H.mode,Z),P.return=H,P):(P=f(P,F.children||[]),P.return=H,P)}function J(H,P,F,Z,ve){return P===null||P.tag!==7?(P=Ga(F,H.mode,Z,ve),P.return=H,P):(P=f(P,F),P.return=H,P)}function ne(H,P,F){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Vd(""+P,H.mode,F),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return F=ou(P.type,P.key,P.props,null,H.mode,F),po(F,P),F.return=H,F;case R:return P=kd(P,H.mode,F),P.return=H,P;case x:return P=Xa(P),ne(H,P,F)}if(ye(P)||B(P))return P=Ga(P,H.mode,F,null),P.return=H,P;if(typeof P.then=="function")return ne(H,pu(P),F);if(P.$$typeof===ie)return ne(H,hu(H,P),F);gu(H,P)}return null}function Q(H,P,F,Z){var ve=P!==null?P.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ve!==null?null:A(H,P,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case O:return F.key===ve?D(H,P,F,Z):null;case R:return F.key===ve?G(H,P,F,Z):null;case x:return F=Xa(F),Q(H,P,F,Z)}if(ye(F)||B(F))return ve!==null?null:J(H,P,F,Z,null);if(typeof F.then=="function")return Q(H,P,pu(F),Z);if(F.$$typeof===ie)return Q(H,P,hu(H,F),Z);gu(H,F)}return null}function X(H,P,F,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get(F)||null,A(P,H,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return H=H.get(Z.key===null?F:Z.key)||null,D(P,H,Z,ve);case R:return H=H.get(Z.key===null?F:Z.key)||null,G(P,H,Z,ve);case x:return Z=Xa(Z),X(H,P,F,Z,ve)}if(ye(Z)||B(Z))return H=H.get(F)||null,J(P,H,Z,ve,null);if(typeof Z.then=="function")return X(H,P,F,pu(Z),ve);if(Z.$$typeof===ie)return X(H,P,F,hu(P,Z),ve);gu(P,Z)}return null}function pe(H,P,F,Z){for(var ve=null,Ge=null,ge=P,Oe=P=0,Pe=null;ge!==null&&Oe<F.length;Oe++){ge.index>Oe?(Pe=ge,ge=null):Pe=ge.sibling;var Ke=Q(H,ge,F[Oe],Z);if(Ke===null){ge===null&&(ge=Pe);break}t&&ge&&Ke.alternate===null&&i(H,ge),P=m(Ke,P,Oe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke,ge=Pe}if(Oe===F.length)return r(H,ge),He&&Ji(H,Oe),ve;if(ge===null){for(;Oe<F.length;Oe++)ge=ne(H,F[Oe],Z),ge!==null&&(P=m(ge,P,Oe),Ge===null?ve=ge:Ge.sibling=ge,Ge=ge);return He&&Ji(H,Oe),ve}for(ge=o(ge);Oe<F.length;Oe++)Pe=X(ge,H,Oe,F[Oe],Z),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?Oe:Pe.key),P=m(Pe,P,Oe),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return t&&ge.forEach(function(ia){return i(H,ia)}),He&&Ji(H,Oe),ve}function Ee(H,P,F,Z){if(F==null)throw Error(a(151));for(var ve=null,Ge=null,ge=P,Oe=P=0,Pe=null,Ke=F.next();ge!==null&&!Ke.done;Oe++,Ke=F.next()){ge.index>Oe?(Pe=ge,ge=null):Pe=ge.sibling;var ia=Q(H,ge,Ke.value,Z);if(ia===null){ge===null&&(ge=Pe);break}t&&ge&&ia.alternate===null&&i(H,ge),P=m(ia,P,Oe),Ge===null?ve=ia:Ge.sibling=ia,Ge=ia,ge=Pe}if(Ke.done)return r(H,ge),He&&Ji(H,Oe),ve;if(ge===null){for(;!Ke.done;Oe++,Ke=F.next())Ke=ne(H,Ke.value,Z),Ke!==null&&(P=m(Ke,P,Oe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return He&&Ji(H,Oe),ve}for(ge=o(ge);!Ke.done;Oe++,Ke=F.next())Ke=X(ge,H,Oe,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?Oe:Ke.key),P=m(Ke,P,Oe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return t&&ge.forEach(function(sw){return i(H,sw)}),He&&Ji(H,Oe),ve}function nt(H,P,F,Z){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case O:e:{for(var ve=F.key;P!==null;){if(P.key===ve){if(ve=F.type,ve===C){if(P.tag===7){r(H,P.sibling),Z=f(P,F.props.children),Z.return=H,H=Z;break e}}else if(P.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Xa(ve)===P.type){r(H,P.sibling),Z=f(P,F.props),po(Z,F),Z.return=H,H=Z;break e}r(H,P);break}else i(H,P);P=P.sibling}F.type===C?(Z=Ga(F.props.children,H.mode,Z,F.key),Z.return=H,H=Z):(Z=ou(F.type,F.key,F.props,null,H.mode,Z),po(Z,F),Z.return=H,H=Z)}return _(H);case R:e:{for(ve=F.key;P!==null;){if(P.key===ve)if(P.tag===4&&P.stateNode.containerInfo===F.containerInfo&&P.stateNode.implementation===F.implementation){r(H,P.sibling),Z=f(P,F.children||[]),Z.return=H,H=Z;break e}else{r(H,P);break}else i(H,P);P=P.sibling}Z=kd(F,H.mode,Z),Z.return=H,H=Z}return _(H);case x:return F=Xa(F),nt(H,P,F,Z)}if(ye(F))return pe(H,P,F,Z);if(B(F)){if(ve=B(F),typeof ve!="function")throw Error(a(150));return F=ve.call(F),Ee(H,P,F,Z)}if(typeof F.then=="function")return nt(H,P,pu(F),Z);if(F.$$typeof===ie)return nt(H,P,hu(H,F),Z);gu(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,P!==null&&P.tag===6?(r(H,P.sibling),Z=f(P,F),Z.return=H,H=Z):(r(H,P),Z=Vd(F,H.mode,Z),Z.return=H,H=Z),_(H)):r(H,P)}return function(H,P,F,Z){try{mo=0;var ve=nt(H,P,F,Z);return qr=null,ve}catch(ge){if(ge===Hr||ge===fu)throw ge;var Ge=wn(29,ge,null,H.mode);return Ge.lanes=Z,Ge.return=H,Ge}finally{}}}var Ja=ty(!0),ny=ty(!1),zs=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=lu(t),Ug(t,null,r),i}return ru(t,o,i,r),lu(t)}function go(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Hl(t,r)}}function Xd(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var Wd=!1;function yo(){if(Wd){var t=Br;if(t!==null)throw t}}function vo(t,i,r,o){Wd=!1;var f=t.updateQueue;zs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,G=D.next;D.next=null,_===null?m=G:_.next=G,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=G:A.next=G,J.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;_=0,J=G=D=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Le&Q)===Q:(o&Q)===Q){Q!==0&&Q===zr&&(Wd=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Ee=A;Q=i;var nt=r;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){ne=pe.call(nt,ne,Q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,Q=typeof pe=="function"?pe.call(nt,ne,Q):pe,Q==null)break e;ne=b({},ne,Q);break e;case 2:zs=!0}}Q=A.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(G=J=X,D=ne):J=J.next=X,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=G,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Qs|=_,t.lanes=_,t.memoizedState=ne}}function iy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function sy(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)iy(r[t],i)}var Fr=L(null),yu=L(0);function ay(t,i){t=cs,ue(yu,t),ue(Fr,i),cs=t|i.baseLanes}function Jd(){ue(yu,cs),ue(Fr,Fr.current)}function Zd(){cs=yu.current,te(Fr),te(yu)}var xn=L(null),qn=null;function qs(t){var i=t.alternate;ue(_t,_t.current&1),ue(xn,t),qn===null&&(i===null||Fr.current!==null||i.memoizedState!==null)&&(qn=t)}function ef(t){ue(_t,_t.current),ue(xn,t),qn===null&&(qn=t)}function ry(t){t.tag===22?(ue(_t,_t.current),ue(xn,t),qn===null&&(qn=t)):Fs()}function Fs(){ue(_t,_t.current),ue(xn,xn.current)}function Nn(t){te(xn),qn===t&&(qn=null),te(_t)}var _t=L(0);function vu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||lm(r)||om(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ts=0,Ie=null,et=null,Rt=null,_u=!1,Gr=!1,Za=!1,Eu=0,_o=0,Kr=null,YS=0;function mt(){throw Error(a(321))}function tf(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!An(t[r],i[r]))return!1;return!0}function nf(t,i,r,o,f,m){return ts=m,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?qy:vf,Za=!1,m=r(o,f),Za=!1,Gr&&(m=oy(i,r,o,f)),ly(t),m}function ly(t){K.H=bo;var i=et!==null&&et.next!==null;if(ts=0,Rt=et=Ie=null,_u=!1,_o=0,Kr=null,i)throw Error(a(300));t===null||Ct||(t=t.dependencies,t!==null&&uu(t)&&(Ct=!0))}function oy(t,i,r,o){Ie=t;var f=0;do{if(Gr&&(Kr=null),_o=0,Gr=!1,25<=f)throw Error(a(301));if(f+=1,Rt=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=Fy,m=i(r,o)}while(Gr);return m}function $S(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Eo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function sf(){var t=Eu!==0;return Eu=0,t}function af(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function rf(t){if(_u){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}_u=!1}ts=0,Rt=et=Ie=null,Gr=!1,_o=Eu=0,Kr=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Et(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(t){var i=_o;return _o+=1,Kr===null&&(Kr=[]),t=Jg(Kr,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qy:vf),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Eo(t);if(t.$$typeof===ie)return Yt(t)}throw Error(a(438,String(t)))}function lf(t){var i=null,r=Ie.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Tu(),Ie.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=k;return i.index++,r}function ns(t,i){return typeof i=="function"?i(t):i}function Su(t){var i=Et();return of(i,et,t)}function of(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var A=_=null,D=null,G=i,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Le&ne)===ne:(ts&ne)===ne){var Q=G.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===zr&&(J=!0);else if((ts&Q)===Q){G=G.next,Q===zr&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=ne,_=m):D=D.next=ne,Ie.lanes|=Q,Qs|=Q;ne=G.action,Za&&r(m,ne),m=G.hasEagerState?G.eagerState:r(m,ne)}else Q={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(A=D=Q,_=m):D=D.next=Q,Ie.lanes|=ne,Qs|=ne;G=G.next}while(G!==null&&G!==i);if(D===null?_=m:D.next=A,!An(m,t.memoizedState)&&(Ct=!0,J&&(r=Br,r!==null)))throw r;t.memoizedState=m,t.baseState=_,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function cf(t){var i=Et(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);An(m,i.memoizedState)||(Ct=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function cy(t,i,r){var o=Ie,f=Et(),m=He;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var _=!An((et||f).memoizedState,r);if(_&&(f.memoizedState=r,Ct=!0),f=f.queue,df(dy.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,Qr(9,{destroy:void 0},hy.bind(null,o,f,r,i),null),it===null)throw Error(a(349));m||(ts&127)!==0||uy(o,i,r)}return r}function uy(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=Ie.updateQueue,i===null?(i=Tu(),Ie.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function hy(t,i,r,o){i.value=r,i.getSnapshot=o,fy(i)&&my(t)}function dy(t,i,r){return r(function(){fy(i)&&my(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!An(t,r)}catch{return!0}}function my(t){var i=Fa(t,2);i!==null&&yn(i,t,2)}function uf(t){var i=un();if(typeof t=="function"){var r=t;if(t=r(),Za){On(!0);try{r()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},i}function py(t,i,r,o){return t.baseState=r,of(t,et,typeof o=="function"?o:ns)}function XS(t,i,r,o,f){if(xu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};K.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,gy(i,m)):(m.next=r.next,i.pending=r.next=m)}}function gy(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=K.T,_={};K.T=_;try{var A=r(f,o),D=K.S;D!==null&&D(_,A),yy(t,i,A)}catch(G){hf(t,i,G)}finally{m!==null&&_.types!==null&&(m.types=_.types),K.T=m}}else try{m=r(f,o),yy(t,i,m)}catch(G){hf(t,i,G)}}function yy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){vy(t,i,o)},function(o){return hf(t,i,o)}):vy(t,i,r)}function vy(t,i,r){i.status="fulfilled",i.value=r,_y(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,gy(t,r)))}function hf(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,_y(i),i=i.next;while(i!==o)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(He){var r=it.formState;if(r!==null){e:{var o=Ie;if(He){if(at){t:{for(var f=at,m=Hn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Fn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Fn(f.nextSibling),o=f.data==="F!";break e}}Ps(o)}o=!1}o&&(i=r[0])}}return r=un(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},r.queue=o,r=zy.bind(null,Ie,o),o.dispatch=r,o=uf(!1),m=yf.bind(null,Ie,!1,o.queue),o=un(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=XS.bind(null,Ie,f,m,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function by(t){var i=Et();return Sy(i,et,t)}function Sy(t,i,r){if(i=of(t,i,Ey)[0],t=Su(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Eo(i)}catch(_){throw _===Hr?fu:_}else o=i;i=Et();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(Ie.flags|=2048,Qr(9,{destroy:void 0},WS.bind(null,f,r),null)),[o,m,t]}function WS(t,i){t.action=i}function Ay(t){var i=Et(),r=et;if(r!==null)return Sy(i,r,t);Et(),i=i.memoizedState,r=Et();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Qr(t,i,r,o){return t={tag:t,create:r,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Tu(),Ie.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function wy(){return Et().memoizedState}function Au(t,i,r,o){var f=un();Ie.flags|=t,f.memoizedState=Qr(1|i,{destroy:void 0},r,o===void 0?null:o)}function wu(t,i,r,o){var f=Et();o=o===void 0?null:o;var m=f.memoizedState.inst;et!==null&&o!==null&&tf(o,et.memoizedState.deps)?f.memoizedState=Qr(i,m,r,o):(Ie.flags|=t,f.memoizedState=Qr(1|i,m,r,o))}function xy(t,i){Au(8390656,8,t,i)}function df(t,i){wu(2048,8,t,i)}function JS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Tu(),Ie.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Ny(t){var i=Et().memoizedState;return JS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return wu(4,2,t,i)}function Cy(t,i){return wu(4,4,t,i)}function Iy(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function jy(t,i,r){r=r!=null?r.concat([t]):null,wu(4,4,Iy.bind(null,i,t),r)}function ff(){}function Dy(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&tf(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function Oy(t,i){var r=Et();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&tf(i,o[1]))return o[0];if(o=t(),Za){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,i],o}function mf(t,i,r){return r===void 0||(ts&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=Mv(),Ie.lanes|=t,Qs|=t,r)}function My(t,i,r,o){return An(r,i)?r:Fr.current!==null?(t=mf(t,r,o),An(t,i)||(Ct=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=r):(t=Mv(),Ie.lanes|=t,Qs|=t,i)}function Vy(t,i,r,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=K.T,A={};K.T=A,yf(t,!1,i,r);try{var D=f(),G=K.S;if(G!==null&&G(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=QS(D,o);To(t,i,J,In(t))}else To(t,i,o,In(t))}catch(ne){To(t,i,{then:function(){},status:"rejected",reason:ne},In())}finally{re.p=m,_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}function ZS(){}function pf(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=ky(t).queue;Vy(t,f,i,me,r===null?ZS:function(){return Ly(t),r(o)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:me},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ly(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),To(t,i.next.queue,{},In())}function gf(){return Yt(Po)}function Py(){return Et().memoizedState}function Uy(){return Et().memoizedState}function eA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=In();t=Bs(r);var o=Hs(i,t,r);o!==null&&(yn(o,i,r),go(o,i,r)),i={cache:Fd()},t.payload=i;return}i=i.return}}function tA(t,i,r){var o=In();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},xu(t)?By(i,r):(r=Od(t,i,r,o),r!==null&&(yn(r,t,o),Hy(r,i,o)))}function zy(t,i,r){var o=In();To(t,i,r,o)}function To(t,i,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(xu(t))By(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,A=m(_,r);if(f.hasEagerState=!0,f.eagerState=A,An(A,_))return ru(t,i,f,0),it===null&&au(),!1}catch{}finally{}if(r=Od(t,i,f,o),r!==null)return yn(r,t,o),Hy(r,i,o),!0}return!1}function yf(t,i,r,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(i)throw Error(a(479))}else i=Od(t,r,o,2),i!==null&&yn(i,t,2)}function xu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function By(t,i){Gr=_u=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Hy(t,i,r){if((r&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Hl(t,r)}}var bo={readContext:Yt,use:bu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};bo.useEffectEvent=mt;var qy={readContext:Yt,use:bu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:xy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Au(4194308,4,Iy.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Au(4194308,4,t,i)},useInsertionEffect:function(t,i){Au(4,2,t,i)},useMemo:function(t,i){var r=un();i=i===void 0?null:i;var o=t();if(Za){On(!0);try{t()}finally{On(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=un();if(r!==void 0){var f=r(i);if(Za){On(!0);try{r(i)}finally{On(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=tA.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=uf(t);var i=t.queue,r=zy.bind(null,Ie,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:ff,useDeferredValue:function(t,i){var r=un();return mf(r,t,i)},useTransition:function(){var t=uf(!1);return t=Vy.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=Ie,f=un();if(He){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),it===null)throw Error(a(349));(Le&127)!==0||uy(o,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,xy(dy.bind(null,o,m,t),[t]),o.flags|=2048,Qr(9,{destroy:void 0},hy.bind(null,o,m,r,i),null),r},useId:function(){var t=un(),i=it.identifierPrefix;if(He){var r=Mi,o=Oi;r=(o&~(1<<32-yt(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Eu++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=YS++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=yf.bind(null,Ie,!0,r),r.dispatch=i,[t,i]},useMemoCache:lf,useCacheRefresh:function(){return un().memoizedState=eA.bind(null,Ie)},useEffectEvent:function(t){var i=un(),r={impl:t};return i.memoizedState=r,function(){if((Ye&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},vf={readContext:Yt,use:bu,useCallback:Dy,useContext:Yt,useEffect:df,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:Su,useRef:wy,useState:function(){return Su(ns)},useDebugValue:ff,useDeferredValue:function(t,i){var r=Et();return My(r,et.memoizedState,t,i)},useTransition:function(){var t=Su(ns)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Eo(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:gf,useFormState:by,useActionState:by,useOptimistic:function(t,i){var r=Et();return py(r,et,t,i)},useMemoCache:lf,useCacheRefresh:Uy};vf.useEffectEvent=Ny;var Fy={readContext:Yt,use:bu,useCallback:Dy,useContext:Yt,useEffect:df,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:cf,useRef:wy,useState:function(){return cf(ns)},useDebugValue:ff,useDeferredValue:function(t,i){var r=Et();return et===null?mf(r,t,i):My(r,et.memoizedState,t,i)},useTransition:function(){var t=cf(ns)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Eo(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:gf,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var r=Et();return et!==null?py(r,et,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Uy};Fy.useEffectEvent=Ny;function _f(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ef={enqueueSetState:function(t,i,r){t=t._reactInternals;var o=In(),f=Bs(o);f.payload=i,r!=null&&(f.callback=r),i=Hs(t,f,o),i!==null&&(yn(i,t,o),go(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=In(),f=Bs(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Hs(t,f,o),i!==null&&(yn(i,t,o),go(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=In(),o=Bs(r);o.tag=2,i!=null&&(o.callback=i),i=Hs(t,o,r),i!==null&&(yn(i,t,r),go(i,t,r))}};function Gy(t,i,r,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!lo(r,o)||!lo(f,m):!0}function Ky(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&Ef.enqueueReplaceState(i,i.state,null)}function er(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function Qy(t){su(t)}function Yy(t){console.error(t)}function $y(t){su(t)}function Nu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Xy(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tf(t,i,r){return r=Bs(r),r.tag=3,r.payload={element:null},r.callback=function(){Nu(t,i)},r}function Wy(t){return t=Bs(t),t.tag=3,t}function Jy(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Xy(i,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xy(i,r,o),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function nA(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&Ur(i,r,f,!0),r=xn.current,r!==null){switch(r.tag){case 31:case 13:return qn===null?Uu():r.alternate===null&&pt===0&&(pt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===mu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Kf(t,o,f)),!1;case 22:return r.flags|=65536,o===mu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Kf(t,o,f)),!1}throw Error(a(435,r.tag))}return Kf(t,o,f),Uu(),!1}if(He)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Ud&&(t=Error(a(422),{cause:o}),uo(Un(t,r)))):(o!==Ud&&(i=Error(a(423),{cause:o}),uo(Un(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Un(o,r),f=Tf(t.stateNode,o,f),Xd(t,f),pt!==4&&(pt=2)),!1;var m=Error(a(520),{cause:o});if(m=Un(m,r),Io===null?Io=[m]:Io.push(m),pt!==4&&(pt=2),i===null)return!0;o=Un(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=Tf(r.stateNode,o,t),Xd(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=Wy(f),Jy(f,t,r,o),Xd(r,f),!1}r=r.return}while(r!==null);return!1}var bf=Error(a(461)),Ct=!1;function $t(t,i,r,o){i.child=t===null?ny(i,null,r,o):Ja(i,t.child,r,o)}function Zy(t,i,r,o,f){r=r.render;var m=i.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Ya(i),o=nf(t,i,r,_,m,f),A=sf(),t!==null&&!Ct?(af(t,i,f),is(t,i,f)):(He&&A&&Ld(i),i.flags|=1,$t(t,i,o,f),i.child)}function ev(t,i,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!Md(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,tv(t,i,m,o,f)):(t=ou(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!If(t,f)){var _=m.memoizedProps;if(r=r.compare,r=r!==null?r:lo,r(_,o)&&t.ref===i.ref)return is(t,i,f)}return i.flags|=1,t=Wi(m,o),t.ref=i.ref,t.return=i,i.child=t}function tv(t,i,r,o,f){if(t!==null){var m=t.memoizedProps;if(lo(m,o)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=o=m,If(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,is(t,i,f)}return Sf(t,i,r,o,f)}function nv(t,i,r,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return iv(t,i,m,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(i,m!==null?m.cachePool:null),m!==null?ay(i,m):Jd(),ry(i);else return o=i.lanes=536870912,iv(t,i,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(du(i,m.cachePool),ay(i,m),Fs(),i.memoizedState=null):(t!==null&&du(i,null),Jd(),Fs());return $t(t,i,f,r),i.child}function So(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function iv(t,i,r,o,f){var m=Kd();return m=m===null?null:{parent:Nt._currentValue,pool:m},i.memoizedState={baseLanes:r,cachePool:m},t!==null&&du(i,null),Jd(),ry(i),t!==null&&Ur(t,i,o,!0),i.childLanes=f,null}function Ru(t,i){return i=Iu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sv(t,i,r){return Ja(i,t.child,null,r),t=Ru(i,i.pendingProps),t.flags|=2,Nn(i),i.memoizedState=null,t}function iA(t,i,r){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=Ru(i,o),i.lanes=536870912,So(null,t);if(ef(i),(t=at)?(t=g_(t,Hn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=i,i.child=r,Qt=i,at=null)):t=null,t===null)throw Ps(i);return i.lanes=536870912,null}return Ru(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(ef(i),f)if(i.flags&256)i.flags&=-257,i=sv(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ct||Ur(t,i,r,!1),f=(r&t.childLanes)!==0,Ct||f){if(o=it,o!==null&&(_=ql(o,r),_!==0&&_!==m.retryLane))throw m.retryLane=_,Fa(t,_),yn(o,t,_),bf;Uu(),i=sv(t,i,r)}else t=m.treeContext,at=Fn(_.nextSibling),Qt=i,He=!0,Ls=null,Hn=!1,t!==null&&Fg(i,t),i=Ru(i,o),i.flags|=4096;return i}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Sf(t,i,r,o,f){return Ya(i),r=nf(t,i,r,o,void 0,f),o=sf(),t!==null&&!Ct?(af(t,i,f),is(t,i,f)):(He&&o&&Ld(i),i.flags|=1,$t(t,i,r,f),i.child)}function av(t,i,r,o,f,m){return Ya(i),i.updateQueue=null,r=oy(i,o,r,f),ly(t),o=sf(),t!==null&&!Ct?(af(t,i,m),is(t,i,m)):(He&&o&&Ld(i),i.flags|=1,$t(t,i,r,m),i.child)}function rv(t,i,r,o,f){if(Ya(i),i.stateNode===null){var m=Vr,_=r.contextType;typeof _=="object"&&_!==null&&(m=Yt(_)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ef,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Yd(i),_=r.contextType,m.context=typeof _=="object"&&_!==null?Yt(_):Vr,m.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(_f(i,r,_,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Ef.enqueueReplaceState(m,m.state,null),vo(i,o,m,f),yo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var A=i.memoizedProps,D=er(r,A);m.props=D;var G=m.context,J=r.contextType;_=Vr,typeof J=="object"&&J!==null&&(_=Yt(J));var ne=r.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||G!==_)&&Ky(i,m,o,_),zs=!1;var Q=i.memoizedState;m.state=Q,vo(i,o,m,f),yo(),G=i.memoizedState,A||Q!==G||zs?(typeof ne=="function"&&(_f(i,r,ne,o),G=i.memoizedState),(D=zs||Gy(i,r,D,o,Q,G,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=G),m.props=o,m.state=G,m.context=_,o=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,$d(t,i),_=i.memoizedProps,J=er(r,_),m.props=J,ne=i.pendingProps,Q=m.context,G=r.contextType,D=Vr,typeof G=="object"&&G!==null&&(D=Yt(G)),A=r.getDerivedStateFromProps,(G=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||Q!==D)&&Ky(i,m,o,D),zs=!1,Q=i.memoizedState,m.state=Q,vo(i,o,m,f),yo();var X=i.memoizedState;_!==ne||Q!==X||zs||t!==null&&t.dependencies!==null&&uu(t.dependencies)?(typeof A=="function"&&(_f(i,r,A,o),X=i.memoizedState),(J=zs||Gy(i,r,J,o,Q,X,D)||t!==null&&t.dependencies!==null&&uu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),m.props=o,m.state=X,m.context=D,o=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Cu(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Ja(i,t.child,null,f),i.child=Ja(i,null,r,f)):$t(t,i,r,f),i.memoizedState=m.state,t=i.child):t=is(t,i,f),t}function lv(t,i,r,o){return Ka(),i.flags|=256,$t(t,i,r,o),i.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Xg()}}function xf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=Cn),t}function ov(t,i,r){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(_t.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?qs(i):Fs(),(t=at)?(t=g_(t,Hn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},r=Bg(t),r.return=i,i.child=r,Qt=i,at=null)):t=null,t===null)throw Ps(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Fs(),f=i.mode,A=Iu({mode:"hidden",children:A},f),o=Ga(o,f,r,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=wf(r),o.childLanes=xf(t,_,r),i.memoizedState=Af,So(null,o)):(qs(i),Nf(i,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(qs(i),i.flags&=-257,i=Rf(t,i,r)):i.memoizedState!==null?(Fs(),i.child=t.child,i.flags|=128,i=null):(Fs(),A=o.fallback,f=i.mode,o=Iu({mode:"visible",children:o.children},f),A=Ga(A,f,r,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,Ja(i,t.child,null,r),o=i.child,o.memoizedState=wf(r),o.childLanes=xf(t,_,r),i.memoizedState=Af,i=So(null,o));else if(qs(i),om(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var G=_.dgst;_=G,o=Error(a(419)),o.stack="",o.digest=_,uo({value:o,source:null,stack:null}),i=Rf(t,i,r)}else if(Ct||Ur(t,i,r,!1),_=(r&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(o=ql(_,r),o!==0&&o!==D.retryLane))throw D.retryLane=o,Fa(t,o),yn(_,t,o),bf;lm(A)||Uu(),i=Rf(t,i,r)}else lm(A)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,at=Fn(A.nextSibling),Qt=i,He=!0,Ls=null,Hn=!1,t!==null&&Fg(i,t),i=Nf(i,o.children),i.flags|=4096);return i}return f?(Fs(),A=o.fallback,f=i.mode,D=t.child,G=D.sibling,o=Wi(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,G!==null?A=Wi(G,A):(A=Ga(A,f,r,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,So(null,o),o=i.child,A=t.child.memoizedState,A===null?A=wf(r):(f=A.cachePool,f!==null?(D=Nt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Xg(),A={baseLanes:A.baseLanes|r,cachePool:f}),o.memoizedState=A,o.childLanes=xf(t,_,r),i.memoizedState=Af,So(t.child,o)):(qs(i),r=t.child,t=r.sibling,r=Wi(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function Nf(t,i){return i=Iu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Iu(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function Rf(t,i,r){return Ja(i,t.child,null,r),t=Nf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cv(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Hd(t.return,i,r)}function Cf(t,i,r,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=f,_.treeForkCount=m)}function uv(t,i,r){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=_t.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ue(_t,_),$t(t,i,o,r),o=He?co:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,r,i);else if(t.tag===19)cv(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&vu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Cf(i,!1,f,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&vu(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}Cf(i,!0,r,null,m,o);break;case"together":Cf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function is(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Qs|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Ur(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Wi(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Wi(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function If(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uu(t)))}function sA(t,i,r){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Us(i,Nt,t.memoizedState.cache),Ka();break;case 27:case 5:xa(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ef(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(qs(i),i.flags|=128,null):(r&i.child.childLanes)!==0?ov(t,i,r):(qs(i),t=is(t,i,r),t!==null?t.sibling:null);qs(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(Ur(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return uv(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(_t,_t.current),o)break;return null;case 22:return i.lanes=0,nv(t,i,r,i.pendingProps);case 24:Us(i,Nt,t.memoizedState.cache)}return is(t,i,r)}function hv(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!If(t,r)&&(i.flags&128)===0)return Ct=!1,sA(t,i,r);Ct=(t.flags&131072)!==0}else Ct=!1,He&&(i.flags&1048576)!==0&&qg(i,co,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Xa(i.elementType),i.type=t,typeof t=="function")Md(t)?(o=er(t,o),i.tag=1,i=rv(null,i,t,o,r)):(i.tag=0,i=Sf(null,i,t,o,r));else{if(t!=null){var f=t.$$typeof;if(f===z){i.tag=11,i=Zy(null,i,t,o,r);break e}else if(f===I){i.tag=14,i=ev(null,i,t,o,r);break e}}throw i=ae(t)||t,Error(a(306,i,""))}}return i;case 0:return Sf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=er(o,i.pendingProps),rv(t,i,o,f,r);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,$d(t,i),vo(i,o,null,r);var _=i.memoizedState;if(o=_.cache,Us(i,Nt,o),o!==m.cache&&qd(i,[Nt],r,!0),yo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=lv(t,i,o,r);break e}else if(o!==f){f=Un(Error(a(424)),i),uo(f),i=lv(t,i,o,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Fn(t.firstChild),Qt=i,He=!0,Ls=null,Hn=!0,r=ny(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ka(),o===f){i=is(t,i,r);break e}$t(t,i,o,r)}i=i.child}return i;case 26:return Cu(t,i),t===null?(r=b_(i.type,null,i.pendingProps,null))?i.memoizedState=r:He||(r=i.type,t=i.pendingProps,o=Ku(De.current).createElement(r),o[At]=i,o[Bt]=t,Xt(o,r,t),wt(o),i.stateNode=o):i.memoizedState=b_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xa(i),t===null&&He&&(o=i.stateNode=__(i.type,i.pendingProps,De.current),Qt=i,Hn=!0,f=at,Js(i.type)?(cm=f,at=Fn(o.firstChild)):at=f),$t(t,i,i.pendingProps.children,r),Cu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=o=at)&&(o=MA(o,i.type,i.pendingProps,Hn),o!==null?(i.stateNode=o,Qt=i,at=Fn(o.firstChild),Hn=!1,f=!0):f=!1),f||Ps(i)),xa(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,sm(f,m)?o=null:_!==null&&sm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=nf(t,i,$S,null,null,r),Po._currentValue=f),Cu(t,i),$t(t,i,o,r),i.child;case 6:return t===null&&He&&((t=r=at)&&(r=VA(r,i.pendingProps,Hn),r!==null?(i.stateNode=r,Qt=i,at=null,t=!0):t=!1),t||Ps(i)),null;case 13:return ov(t,i,r);case 4:return kt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ja(i,null,o,r):$t(t,i,o,r),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,r);case 7:return $t(t,i,i.pendingProps,r),i.child;case 8:return $t(t,i,i.pendingProps.children,r),i.child;case 12:return $t(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Us(i,i.type,o.value),$t(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ya(i),f=Yt(f),o=o(f),i.flags|=1,$t(t,i,o,r),i.child;case 14:return ev(t,i,i.type,i.pendingProps,r);case 15:return tv(t,i,i.type,i.pendingProps,r);case 19:return uv(t,i,r);case 31:return iA(t,i,r);case 22:return nv(t,i,r,i.pendingProps);case 24:return Ya(i),o=Yt(Nt),t===null?(f=Kd(),f===null&&(f=it,m=Fd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:o,cache:f},Yd(i),Us(i,Nt,f)):((t.lanes&r)!==0&&($d(t,i),vo(i,null,null,r),yo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Us(i,Nt,o)):(o=m.cache,Us(i,Nt,o),o!==f.cache&&qd(i,[Nt],r,!0))),$t(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ss(t){t.flags|=4}function jf(t,i,r,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pv())t.flags|=8192;else throw Wa=mu,Qd}else t.flags&=-16777217}function dv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(i))if(Pv())t.flags|=8192;else throw Wa=mu,Qd}function ju(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lc():536870912,t.lanes|=i,Wr|=i)}function Ao(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function aA(t,i,r){var o=i.pendingProps;switch(Pd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),es(Nt),ot(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pr(i)?ss(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zd())),rt(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(ss(i),m!==null?(rt(i),dv(i,m)):(rt(i),jf(i,f,null,o,r))):m?m!==t.memoizedState?(ss(i),rt(i),dv(i,m)):(rt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(i),rt(i),jf(i,f,t,o,r)),null;case 27:if(gr(i),r=De.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}t=fe.current,Pr(i)?Gg(i):(t=__(f,o,r),i.stateNode=t,ss(i))}return rt(i),null;case 5:if(gr(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return rt(i),null}if(m=fe.current,Pr(i))Gg(i);else{var _=Ku(De.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[At]=i,m[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Xt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(i)}}return rt(i),jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=De.current,Pr(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||o_(t.nodeValue,r)),t||Ps(i,!0)}else t=Ku(t).createTextNode(o),t[At]=i,i.stateNode=t}return rt(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(o=Pr(i),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[At]=i}else Ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),t=!1}else r=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Nn(i),i):(Nn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return rt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Pr(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[At]=i}else Ka(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),f=!1}else f=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Nn(i),i):(Nn(i),null)}return Nn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),ju(i,i.updateQueue),rt(i),null);case 4:return ot(),t===null&&Zf(i.stateNode.containerInfo),rt(i),null;case 10:return es(i.type),rt(i),null;case 19:if(te(_t),o=i.memoizedState,o===null)return rt(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)Ao(o,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=vu(t),m!==null){for(i.flags|=128,Ao(o,!1),t=m.updateQueue,i.updateQueue=t,ju(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)zg(r,t),r=r.sibling;return ue(_t,_t.current&1|2),He&&Ji(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&on()>ku&&(i.flags|=128,f=!0,Ao(o,!1),i.lanes=4194304)}else{if(!f)if(t=vu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,ju(i,t),Ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!He)return rt(i),null}else 2*on()-o.renderingStartTime>ku&&r!==536870912&&(i.flags|=128,f=!0,Ao(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,r=_t.current,ue(_t,f?r&1|2:r&1),He&&Ji(i,o.treeForkCount),t):(rt(i),null);case 22:case 23:return Nn(i),Zd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),r=i.updateQueue,r!==null&&ju(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&te($a),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),es(Nt),rt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function rA(t,i){switch(Pd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return es(Nt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gr(i),null;case 31:if(i.memoizedState!==null){if(Nn(i),i.alternate===null)throw Error(a(340));Ka()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Nn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Ka()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(_t),null;case 4:return ot(),null;case 10:return es(i.type),null;case 22:case 23:return Nn(i),Zd(),t!==null&&te($a),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return es(Nt),null;case 25:return null;default:return null}}function fv(t,i){switch(Pd(i),i.tag){case 3:es(Nt),ot();break;case 26:case 27:case 5:gr(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Nn(i);break;case 13:Nn(i);break;case 19:te(_t);break;case 10:es(i.type);break;case 22:case 23:Nn(i),Zd(),t!==null&&te($a);break;case 24:es(Nt)}}function wo(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,_=r.inst;o=m(),_.destroy=o}r=r.next}while(r!==f)}}catch(A){Je(i,i.return,A)}}function Gs(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var D=r,G=A;try{G()}catch(J){Je(f,D,J)}}}o=o.next}while(o!==m)}}catch(J){Je(i,i.return,J)}}function mv(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{sy(i,r)}catch(o){Je(t,t.return,o)}}}function pv(t,i,r){r.props=er(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,i,o)}}function xo(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(f){Je(t,i,f)}}function Vi(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,i,f)}else r.current=null}function gv(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function Df(t,i,r){try{var o=t.stateNode;RA(o,t.type,r,i),o[Bt]=i}catch(f){Je(t,t.return,f)}}function yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=ii));else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Mf(t,i,r),t=t.sibling;t!==null;)Mf(t,i,r),t=t.sibling}function Du(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Du(t,i,r),t=t.sibling;t!==null;)Du(t,i,r),t=t.sibling}function vv(t){var i=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,o,r),i[At]=t,i[Bt]=r}catch(m){Je(t,t.return,m)}}var as=!1,It=!1,Vf=!1,_v=typeof WeakSet=="function"?WeakSet:Set,qt=null;function lA(t,i){if(t=t.containerInfo,nm=Zu,t=jg(t),Nd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var _=0,A=-1,D=-1,G=0,J=0,ne=t,Q=null;t:for(;;){for(var X;ne!==r||f!==0&&ne.nodeType!==3||(A=_+f),ne!==m||o!==0&&ne.nodeType!==3||(D=_+o),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===t)break t;if(Q===r&&++G===f&&(A=_),Q===m&&++J===o&&(D=_),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}r=A===-1||D===-1?null:{start:A,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(im={focusedElem:t,selectionRange:r},Zu=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=er(r.type,f);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Je(r,r.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)rm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function Ev(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:ls(t,r),o&4&&wo(5,r);break;case 1:if(ls(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(r,r.return,_)}else{var f=er(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(r,r.return,_)}}o&64&&mv(r),o&512&&xo(r,r.return);break;case 3:if(ls(t,r),o&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{sy(t,i)}catch(_){Je(r,r.return,_)}}break;case 27:i===null&&o&4&&vv(r);case 26:case 5:ls(t,r),i===null&&o&4&&gv(r),o&512&&xo(r,r.return);break;case 12:ls(t,r);break;case 31:ls(t,r),o&4&&Sv(t,r);break;case 13:ls(t,r),o&4&&Av(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=gA.bind(null,r),kA(t,r))));break;case 22:if(o=r.memoizedState!==null||as,!o){i=i!==null&&i.memoizedState!==null||It,f=as;var m=It;as=o,(It=i)&&!m?os(t,r,(r.subtreeFlags&8772)!==0):ls(t,r),as=f,It=m}break;case 30:break;default:ls(t,r)}}function Tv(t){var i=t.alternate;i!==null&&(t.alternate=null,Tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function rs(t,i,r){for(r=r.child;r!==null;)bv(t,i,r),r=r.sibling}function bv(t,i,r){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:It||Vi(r,i),rs(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:It||Vi(r,i);var o=ut,f=fn;Js(r.type)&&(ut=r.stateNode,fn=!1),rs(t,i,r),Vo(r.stateNode),ut=o,fn=f;break;case 5:It||Vi(r,i);case 6:if(o=ut,f=fn,ut=null,rs(t,i,r),ut=o,fn=f,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(r.stateNode)}catch(m){Je(r,i,m)}else try{ut.removeChild(r.stateNode)}catch(m){Je(r,i,m)}break;case 18:ut!==null&&(fn?(t=ut,m_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),al(t)):m_(ut,r.stateNode));break;case 4:o=ut,f=fn,ut=r.stateNode.containerInfo,fn=!0,rs(t,i,r),ut=o,fn=f;break;case 0:case 11:case 14:case 15:Gs(2,r,i),It||Gs(4,r,i),rs(t,i,r);break;case 1:It||(Vi(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&pv(r,i,o)),rs(t,i,r);break;case 21:rs(t,i,r);break;case 22:It=(o=It)||r.memoizedState!==null,rs(t,i,r),It=o;break;default:rs(t,i,r)}}function Sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{al(t)}catch(r){Je(i,i.return,r)}}}function Av(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{al(t)}catch(r){Je(i,i.return,r)}}function oA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _v),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _v),i;default:throw Error(a(435,t.tag))}}function Ou(t,i){var r=oA(t);i.forEach(function(o){if(!r.has(o)){r.add(o);var f=yA.bind(null,t,o);o.then(f,f)}})}function mn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Js(A.type)){ut=A.stateNode,fn=!1;break e}break;case 5:ut=A.stateNode,fn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(ut===null)throw Error(a(160));bv(m,_,f),ut=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)wv(i,t),i=i.sibling}var ci=null;function wv(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),o&4&&(Gs(3,t,t.return),wo(3,t),Gs(5,t,t.return));break;case 1:mn(i,t),pn(t),o&512&&(It||r===null||Vi(r,r.return)),o&64&&as&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=ci;if(mn(i,t),pn(t),o&512&&(It||r===null||Vi(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ti]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Xt(m,o,r),m[At]=t,wt(m),o=m;break e;case"link":var _=w_("link","href",f).get(o+(r.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,r),f.head.appendChild(m);break;case"meta":if(_=w_("meta","content",f).get(o+(r.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,r),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[At]=t,wt(m),o=m}t.stateNode=o}else x_(f,t.type,t.stateNode);else t.stateNode=A_(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?x_(f,t.type,t.stateNode):A_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Df(t,t.memoizedProps,r.memoizedProps)}break;case 27:mn(i,t),pn(t),o&512&&(It||r===null||Vi(r,r.return)),r!==null&&o&4&&Df(t,t.memoizedProps,r.memoizedProps);break;case 5:if(mn(i,t),pn(t),o&512&&(It||r===null||Vi(r,r.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Df(t,f,r!==null?r.memoizedProps:f)),o&1024&&(Vf=!0);break;case 6:if(mn(i,t),pn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if($u=null,f=ci,ci=Qu(i.containerInfo),mn(i,t),ci=f,pn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{al(i.containerInfo)}catch(pe){Je(t,t.return,pe)}Vf&&(Vf=!1,xv(t));break;case 4:o=ci,ci=Qu(t.stateNode.containerInfo),mn(i,t),pn(t),ci=o;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Vu=on()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 22:f=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,G=as,J=It;if(as=G||f,It=J||D,mn(i,t),It=J,as=G,pn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||D||as||It||tr(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){D=r=i;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var ne=D.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===6){if(r===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===18){if(r===null){D=i;try{var X=D.stateNode;f?p_(X,!0):p_(D.stateNode,!1)}catch(pe){Je(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Ou(t,r))));break;case 19:mn(i,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var r,o=t.return;o!==null;){if(yv(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,m=Of(t);Du(t,m,f);break;case 5:var _=r.stateNode;r.flags&32&&(dn(_,""),r.flags&=-33);var A=Of(t);Du(t,A,_);break;case 3:case 4:var D=r.stateNode.containerInfo,G=Of(t);Mf(t,G,D);break;default:throw Error(a(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function xv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ls(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ev(t,i.alternate,i),i=i.sibling}function tr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gs(4,i,i.return),tr(i);break;case 1:Vi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&pv(i,i.return,r),tr(i);break;case 27:Vo(i.stateNode);case 26:case 5:Vi(i,i.return),tr(i);break;case 22:i.memoizedState===null&&tr(i);break;case 30:tr(i);break;default:tr(i)}t=t.sibling}}function os(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:os(f,m,r),wo(4,m);break;case 1:if(os(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Je(o,o.return,G)}if(o=m,f=o.updateQueue,f!==null){var A=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)iy(D[f],A)}catch(G){Je(o,o.return,G)}}r&&_&64&&mv(m),xo(m,m.return);break;case 27:vv(m);case 26:case 5:os(f,m,r),r&&o===null&&_&4&&gv(m),xo(m,m.return);break;case 12:os(f,m,r);break;case 31:os(f,m,r),r&&_&4&&Sv(f,m);break;case 13:os(f,m,r),r&&_&4&&Av(f,m);break;case 22:m.memoizedState===null&&os(f,m,r),xo(m,m.return);break;case 30:break;default:os(f,m,r)}i=i.sibling}}function kf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ho(r))}function Lf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function ui(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nv(t,i,r,o),i=i.sibling}function Nv(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,r,o),f&2048&&wo(9,i);break;case 1:ui(t,i,r,o);break;case 3:ui(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){ui(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ui(t,i,r,o);break;case 31:ui(t,i,r,o);break;case 13:ui(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?ui(t,i,r,o):No(t,i):m._visibility&2?ui(t,i,r,o):(m._visibility|=2,Yr(t,i,r,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&kf(_,i);break;case 24:ui(t,i,r,o),f&2048&&Lf(i.alternate,i);break;default:ui(t,i,r,o)}}function Yr(t,i,r,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,A=r,D=o,G=_.flags;switch(_.tag){case 0:case 11:case 15:Yr(m,_,A,D,f),wo(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Yr(m,_,A,D,f):No(m,_):(J._visibility|=2,Yr(m,_,A,D,f)),f&&G&2048&&kf(_.alternate,_);break;case 24:Yr(m,_,A,D,f),f&&G&2048&&Lf(_.alternate,_);break;default:Yr(m,_,A,D,f)}i=i.sibling}}function No(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:No(r,o),f&2048&&kf(o.alternate,o);break;case 24:No(r,o),f&2048&&Lf(o.alternate,o);break;default:No(r,o)}i=i.sibling}}var Ro=8192;function $r(t,i,r){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)Rv(t,i,r),t=t.sibling}function Rv(t,i,r){switch(t.tag){case 26:$r(t,i,r),t.flags&Ro&&t.memoizedState!==null&&YA(r,ci,t.memoizedState,t.memoizedProps);break;case 5:$r(t,i,r);break;case 3:case 4:var o=ci;ci=Qu(t.stateNode.containerInfo),$r(t,i,r),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ro,Ro=16777216,$r(t,i,r),Ro=o):$r(t,i,r));break;default:$r(t,i,r)}}function Cv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Co(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];qt=o,jv(o,t)}Cv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iv(t),t=t.sibling}function Iv(t){switch(t.tag){case 0:case 11:case 15:Co(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:Co(t);break;case 12:Co(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mu(t)):Co(t);break;default:Co(t)}}function Mu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];qt=o,jv(o,t)}Cv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gs(8,i,i.return),Mu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Mu(i));break;default:Mu(i)}t=t.sibling}}function jv(t,i){for(;qt!==null;){var r=qt;switch(r.tag){case 0:case 11:case 15:Gs(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qt=o;else e:for(r=t;qt!==null;){o=qt;var f=o.sibling,m=o.return;if(Tv(o),o===r){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var cA={getCacheForType:function(t){var i=Yt(Nt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Yt(Nt).controller.signal}},uA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ve=null,Le=0,We=0,Rn=null,Ks=!1,Xr=!1,Pf=!1,cs=0,pt=0,Qs=0,nr=0,Uf=0,Cn=0,Wr=0,Io=null,gn=null,zf=!1,Vu=0,Dv=0,ku=1/0,Lu=null,Ys=null,Pt=0,$s=null,Jr=null,us=0,Bf=0,Hf=null,Ov=null,jo=0,qf=null;function In(){return(Ye&2)!==0&&Le!==0?Le&-Le:K.T!==null?$f():Pc()}function Mv(){if(Cn===0)if((Le&536870912)===0||He){var t=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Cn=t}else Cn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Cn}function yn(t,i,r){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Zr(t,0),Xs(t,Le,Cn,!1)),Ia(t,r),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(nr|=r),pt===4&&Xs(t,Le,Cn,!1)),ki(t))}function Vv(t,i,r){if((Ye&6)!==0)throw Error(a(327));var o=!r&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),f=o?fA(t,i):Gf(t,i,!0),m=o;do{if(f===0){Xr&&!o&&Xs(t,i,0,!1);break}else{if(r=t.current.alternate,m&&!hA(r)){f=Gf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Io;var D=A.current.memoizedState.isDehydrated;if(D&&(Zr(A,_).flags|=256),_=Gf(A,_,!1),_!==2){if(Pf&&!D){A.errorRecoveryDisabledLanes|=m,nr|=m,f=4;break e}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Zr(t,0),Xs(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Xs(o,i,Cn,!Ks);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=Vu+300-on(),10<f)){if(Xs(o,i,Cn,!Ks),vi(o,0,!0)!==0)break e;us=i,o.timeoutHandle=d_(kv.bind(null,o,r,gn,Lu,zf,i,Cn,nr,Wr,Ks,m,"Throttled",-0,0),f);break e}kv(o,r,gn,Lu,zf,i,Cn,nr,Wr,Ks,m,null,-0,0)}}break}while(!0);ki(t)}function kv(t,i,r,o,f,m,_,A,D,G,J,ne,Q,X){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Rv(i,m,ne);var pe=(m&62914560)===m?Vu-on():(m&4194048)===m?Dv-on():0;if(pe=$A(ne,pe),pe!==null){us=m,t.cancelPendingCommit=pe(Fv.bind(null,t,i,m,r,o,f,_,A,D,J,ne,null,Q,X)),Xs(t,m,_,!G);return}}Fv(t,i,m,r,o,f,_,A,D)}function hA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!An(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xs(t,i,r,o){i&=~Uf,i&=~nr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-yt(f),_=1<<m;o[m]=-1,f&=~_}r!==0&&ja(t,r,i)}function Pu(){return(Ye&6)===0?(Do(0),!1):!0}function Ff(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Zi=Qa=null,rf(t),qr=null,mo=0,t=Ve;for(;t!==null;)fv(t.alternate,t),t=t.return;Ve=null}}function Zr(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,jA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),us=0,Ff(),it=t,Ve=r=Wi(t.current,null),Le=i,We=0,Rn=null,Ks=!1,Xr=ei(t,i),Pf=!1,Wr=Cn=Uf=nr=Qs=pt=0,gn=Io=null,zf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-yt(o),m=1<<f;i|=t[f],o&=~m}return cs=i,au(),r}function Lv(t,i){Ie=null,K.H=bo,i===Hr||i===fu?(i=Zg(),We=3):i===Qd?(i=Zg(),We=4):We=i===bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ve===null&&(pt=1,Nu(t,Un(i,t.current)))}function Pv(){var t=xn.current;return t===null?!0:(Le&4194048)===Le?qn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===qn:!1}function Uv(){var t=K.H;return K.H=bo,t===null?bo:t}function zv(){var t=K.A;return K.A=cA,t}function Uu(){pt=4,Ks||(Le&4194048)!==Le&&xn.current!==null||(Xr=!0),(Qs&134217727)===0&&(nr&134217727)===0||it===null||Xs(it,Le,Cn,!1)}function Gf(t,i,r){var o=Ye;Ye|=2;var f=Uv(),m=zv();(it!==t||Le!==i)&&(Lu=null,Zr(t,i)),i=!1;var _=pt;e:do try{if(We!==0&&Ve!==null){var A=Ve,D=Rn;switch(We){case 8:Ff(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var G=We;if(We=0,Rn=null,el(t,A,D,G),r&&Xr){_=0;break e}break;default:G=We,We=0,Rn=null,el(t,A,D,G)}}dA(),_=pt;break}catch(J){Lv(t,J)}while(!0);return i&&t.shellSuspendCounter++,Zi=Qa=null,Ye=o,K.H=f,K.A=m,Ve===null&&(it=null,Le=0,au()),_}function dA(){for(;Ve!==null;)Bv(Ve)}function fA(t,i){var r=Ye;Ye|=2;var o=Uv(),f=zv();it!==t||Le!==i?(Lu=null,ku=on()+500,Zr(t,i)):Xr=ei(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var m=Rn;t:switch(We){case 1:We=0,Rn=null,el(t,i,m,1);break;case 2:case 9:if(Wg(m)){We=0,Rn=null,Hv(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),ki(t)},m.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Wg(m)?(We=0,Rn=null,Hv(i)):(We=0,Rn=null,el(t,i,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?N_(_):A.stateNode.complete){We=0,Rn=null;var D=A.sibling;if(D!==null)Ve=D;else{var G=A.return;G!==null?(Ve=G,zu(G)):Ve=null}break t}}We=0,Rn=null,el(t,i,m,5);break;case 6:We=0,Rn=null,el(t,i,m,6);break;case 8:Ff(),pt=6;break e;default:throw Error(a(462))}}mA();break}catch(J){Lv(t,J)}while(!0);return Zi=Qa=null,K.H=o,K.A=f,Ye=r,Ve!==null?0:(it=null,Le=0,au(),pt)}function mA(){for(;Ve!==null&&!Ed();)Bv(Ve)}function Bv(t){var i=hv(t.alternate,t,cs);t.memoizedProps=t.pendingProps,i===null?zu(t):Ve=i}function Hv(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=av(r,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=av(r,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:rf(i);default:fv(r,i),i=Ve=zg(i,cs),i=hv(r,i,cs)}t.memoizedProps=t.pendingProps,i===null?zu(t):Ve=i}function el(t,i,r,o){Zi=Qa=null,rf(i),qr=null,mo=0;var f=i.return;try{if(nA(t,f,i,r,Le)){pt=1,Nu(t,Un(r,t.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;pt=1,Nu(t,Un(r,t.current)),Ve=null;return}i.flags&32768?(He||o===1?t=!0:Xr||(Le&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qv(i,t)):zu(i)}function zu(t){var i=t;do{if((i.flags&32768)!==0){qv(i,Ks);return}t=i.return;var r=aA(i.alternate,i,cs);if(r!==null){Ve=r;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);pt===0&&(pt=5)}function qv(t,i){do{var r=rA(t.alternate,t);if(r!==null){r.flags&=32767,Ve=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=r}while(t!==null);pt=6,Ve=null}function Fv(t,i,r,o,f,m,_,A,D){t.cancelPendingCommit=null;do Bu();while(Pt!==0);if((Ye&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Dd,Sd(t,r,m,_,A,D),t===it&&(Ve=it=null,Le=0),Jr=i,$s=t,us=r,Bf=m,Hf=f,Ov=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vA(xs,function(){return $v(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,f=re.p,re.p=2,_=Ye,Ye|=4;try{lA(t,i,r)}finally{Ye=_,re.p=f,K.T=o}}Pt=1,Gv(),Kv(),Qv()}}function Gv(){if(Pt===1){Pt=0;var t=$s,i=Jr,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=K.T,K.T=null;var o=re.p;re.p=2;var f=Ye;Ye|=4;try{wv(i,t);var m=im,_=jg(t.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Ig(A.ownerDocument.documentElement,A)){if(D!==null&&Nd(A)){var G=D.start,J=D.end;if(J===void 0&&(J=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pe=A.textContent.length,Ee=Math.min(D.start,pe),nt=D.end===void 0?Ee:Math.min(D.end,pe);!X.extend&&Ee>nt&&(_=nt,nt=Ee,Ee=_);var H=Cg(A,Ee),P=Cg(A,nt);if(H&&P&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var F=ne.createRange();F.setStart(H.node,H.offset),X.removeAllRanges(),Ee>nt?(X.addRange(F),X.extend(P.node,P.offset)):(F.setEnd(P.node,P.offset),X.addRange(F))}}}}for(ne=[],X=A;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var Z=ne[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zu=!!nm,im=nm=null}finally{Ye=f,re.p=o,K.T=r}}t.current=i,Pt=2}}function Kv(){if(Pt===2){Pt=0;var t=$s,i=Jr,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=K.T,K.T=null;var o=re.p;re.p=2;var f=Ye;Ye|=4;try{Ev(t,i.alternate,i)}finally{Ye=f,re.p=o,K.T=r}}Pt=3}}function Qv(){if(Pt===4||Pt===3){Pt=0,jc();var t=$s,i=Jr,r=us,o=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Jr=$s=null,Yv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ys=null),Qi(r),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,f=re.p,re.p=2,K.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var A=o[_];m(A.value,{componentStack:A.stack})}}finally{K.T=i,re.p=f}}(us&3)!==0&&Bu(),ki(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===qf?jo++:(jo=0,qf=t):jo=0,Do(0)}}function Yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function Bu(){return Gv(),Kv(),Qv(),$v()}function $v(){if(Pt!==5)return!1;var t=$s,i=Bf;Bf=0;var r=Qi(us),o=K.T,f=re.p;try{re.p=32>r?32:r,K.T=null,r=Hf,Hf=null;var m=$s,_=us;if(Pt=0,Jr=$s=null,us=0,(Ye&6)!==0)throw Error(a(331));var A=Ye;if(Ye|=4,Iv(m.current),Nv(m,m.current,_,r),Ye=A,Do(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{re.p=f,K.T=o,Yv(t,i)}}function Xv(t,i,r){i=Un(r,i),i=Tf(t.stateNode,i,2),t=Hs(t,i,2),t!==null&&(Ia(t,2),ki(t))}function Je(t,i,r){if(t.tag===3)Xv(t,t,r);else for(;i!==null;){if(i.tag===3){Xv(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Un(r,t),r=Wy(2),o=Hs(i,r,2),o!==null&&(Jy(r,o,i,t),Ia(o,2),ki(o));break}}i=i.return}}function Kf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new uA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(Pf=!0,f.add(r),t=pA.bind(null,t,i,r),i.then(t,t))}function pA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,it===t&&(Le&r)===r&&(pt===4||pt===3&&(Le&62914560)===Le&&300>on()-Vu?(Ye&2)===0&&Zr(t,0):Uf|=r,Wr===Le&&(Wr=0)),ki(t)}function Wv(t,i){i===0&&(i=Lc()),t=Fa(t,i),t!==null&&(Ia(t,i),ki(t))}function gA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),Wv(t,r)}function yA(t,i){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),Wv(t,r)}function vA(t,i){return Lt(t,i)}var Hu=null,tl=null,Qf=!1,qu=!1,Yf=!1,Ws=0;function ki(t){t!==tl&&t.next===null&&(tl===null?Hu=tl=t:tl=tl.next=t),qu=!0,Qf||(Qf=!0,EA())}function Do(t,i){if(!Yf&&qu){Yf=!0;do for(var r=!1,o=Hu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-yt(42|t)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,t_(o,m))}else m=Le,m=vi(o,o===it?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||ei(o,m)||(r=!0,t_(o,m));o=o.next}while(r);Yf=!1}}function _A(){Jv()}function Jv(){qu=Qf=!1;var t=0;Ws!==0&&IA()&&(t=Ws);for(var i=on(),r=null,o=Hu;o!==null;){var f=o.next,m=Zv(o,i);m===0?(o.next=null,r===null?Hu=f:r.next=f,f===null&&(tl=r)):(r=o,(t!==0||(m&3)!==0)&&(qu=!0)),o=f}Pt!==0&&Pt!==5||Do(t),Ws!==0&&(Ws=0)}function Zv(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-yt(m),A=1<<_,D=f[_];D===-1?((A&r)===0||(A&o)!==0)&&(f[_]=bd(A,i)):D<=i&&(t.expiredLanes|=A),m&=~A}if(i=it,r=Le,r=vi(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ws(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ei(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&ws(o),Qi(r)){case 2:case 8:r=Bl;break;case 32:r=xs;break;case 268435456:r=Dc;break;default:r=xs}return o=e_.bind(null,t),r=Lt(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&ws(o),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Bu()&&t.callbackNode!==r)return null;var o=Le;return o=vi(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vv(t,o,i),Zv(t,on()),t.callbackNode!=null&&t.callbackNode===r?e_.bind(null,t):null)}function t_(t,i){if(Bu())return null;Vv(t,i,!0)}function EA(){DA(function(){(Ye&6)!==0?Lt(zl,_A):Jv()})}function $f(){if(Ws===0){var t=zr;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ws=t}return Ws}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wr(""+t)}function i_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function TA(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var m=n_((f[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?n_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var A=new Ci("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var D=_?i_(f,_):new FormData(f);pf(r,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?i_(f,_):new FormData(f),pf(r,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Xf=0;Xf<jd.length;Xf++){var Wf=jd[Xf],bA=Wf.toLowerCase(),SA=Wf[0].toUpperCase()+Wf.slice(1);oi(bA,"on"+SA)}oi(Mg,"onAnimationEnd"),oi(Vg,"onAnimationIteration"),oi(kg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(US,"onTransitionRun"),oi(zS,"onTransitionStart"),oi(BS,"onTransitionCancel"),oi(Lg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function s_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var A=o[_],D=A.instance,G=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=G;try{m(f)}catch(J){su(J)}f.currentTarget=null,m=D}else for(_=0;_<o.length;_++){if(A=o[_],D=A.instance,G=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=G;try{m(f)}catch(J){su(J)}f.currentTarget=null,m=D}}}}function ke(t,i){var r=i[Er];r===void 0&&(r=i[Er]=new Set);var o=t+"__bubble";r.has(o)||(a_(i,t,2,!1),r.add(o))}function Jf(t,i,r){var o=0;i&&(o|=4),a_(r,t,o,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Fu]){t[Fu]=!0,Fl.forEach(function(r){r!=="selectionchange"&&(AA.has(r)||Jf(r,!1,t),Jf(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,Jf("selectionchange",!1,i))}}function a_(t,i,r,o){switch(M_(i)){case 2:var f=JA;break;case 8:f=ZA;break;default:f=mm}r=f.bind(null,i,r,t),f=void 0,!ka||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function em(t,i,r,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=bi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=m=_;continue e}A=A.parentNode}}o=o.return}Ds(function(){var G=m,J=Vn(r),ne=[];e:{var Q=Pg.get(t);if(Q!==void 0){var X=Ci,pe=t;switch(t){case"keypress":if(Pa(r)===0)break e;case"keydown":case"keyup":X=tu;break;case"focusin":pe="focus",X=za;break;case"focusout":pe="blur",X=za;break;case"beforeblur":case"afterblur":X=za;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Mg:case Vg:case kg:X=Yc;break;case Lg:X=w;break;case"scroll":case"scrollend":X=no;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xi;break;case"toggle":case"beforetoggle":X=Ce}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),H=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var P=G,F;P!==null;){var Z=P;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||H===null||(Z=si(P,H),Z!=null&&Ee.push(Mo(P,Z,F))),nt)break;P=P.return}0<Ee.length&&(Q=new X(Q,pe,null,r,J),ne.push({event:Q,listeners:Ee}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&r!==Zl&&(pe=r.relatedTarget||r.fromElement)&&(bi(pe)||pe[Ei]))break e;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=r.relatedTarget||r.toElement,X=G,pe=pe?bi(pe):null,pe!==null&&(nt=c(pe),Ee=pe.tag,pe!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(X=null,pe=G),X!==pe)){if(Ee=io,Z="onMouseLeave",H="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Xi,Z="onPointerLeave",H="onPointerEnter",P="pointer"),nt=X==null?Q:bn(X),F=pe==null?Q:bn(pe),Q=new Ee(Z,P+"leave",X,r,J),Q.target=nt,Q.relatedTarget=F,Z=null,bi(J)===G&&(Ee=new Ee(H,P+"enter",pe,r,J),Ee.target=F,Ee.relatedTarget=nt,Z=Ee),nt=Z,X&&pe)t:{for(Ee=wA,H=X,P=pe,F=0,Z=H;Z;Z=Ee(Z))F++;Z=0;for(var ve=P;ve;ve=Ee(ve))Z++;for(;0<F-Z;)H=Ee(H),F--;for(;0<Z-F;)P=Ee(P),Z--;for(;F--;){if(H===P||P!==null&&H===P.alternate){Ee=H;break t}H=Ee(H),P=Ee(P)}Ee=null}else Ee=null;X!==null&&r_(ne,Q,X,Ee,!1),pe!==null&&nt!==null&&r_(ne,nt,pe,Ee,!0)}}e:{if(Q=G?bn(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ge=Sg;else if(Tg(Q))if(Ag)Ge=kS;else{Ge=MS;var ge=OS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Ar(G.elementType)&&(Ge=Sg):Ge=VS;if(Ge&&(Ge=Ge(t,G))){bg(ne,Ge,r,J);break e}ge&&ge(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Xl(Q,"number",Q.value)}switch(ge=G?bn(G):window,t){case"focusin":(Tg(ge)||ge.contentEditable==="true")&&(Dr=ge,Rd=G,oo=null);break;case"focusout":oo=Rd=Dr=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Dg(ne,r,J);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Dg(ne,r,J)}var Oe;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else jr?Ba(t,r)&&(Pe="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Pe="onCompositionStart");Pe&&(Di&&r.locale!=="ko"&&(jr||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&jr&&(Oe=to()):(Ri=J,eo="value"in Ri?Ri.value:Ri.textContent,jr=!0)),ge=Gu(G,Pe),0<ge.length&&(Pe=new ji(Pe,t,null,r,J),ne.push({event:Pe,listeners:ge}),Oe?Pe.data=Oe:(Oe=Ir(r),Oe!==null&&(Pe.data=Oe)))),(Oe=Ln?CS(t,r):IS(t,r))&&(Pe=Gu(G,"onBeforeInput"),0<Pe.length&&(ge=new ji("onBeforeInput","beforeinput",null,r,J),ne.push({event:ge,listeners:Pe}),ge.data=Oe)),TA(ne,t,G,r,J)}s_(ne,i)})}function Mo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Gu(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=si(t,r),f!=null&&o.unshift(Mo(t,f,m)),f=si(t,i),f!=null&&o.push(Mo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function wA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,i,r,o,f){for(var m=i._reactName,_=[];r!==null&&r!==o;){var A=r,D=A.alternate,G=A.stateNode;if(A=A.tag,D!==null&&D===o)break;A!==5&&A!==26&&A!==27||G===null||(D=G,f?(G=si(r,m),G!=null&&_.unshift(Mo(r,G,D))):f||(G=si(r,m),G!=null&&_.push(Mo(r,G,D)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var xA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(NA,"")}function o_(t,i){return i=l_(i),l_(t)===i}function tt(t,i,r,o,f,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&dn(t,""+o);break;case"className":Sn(t,"class",o);break;case"tabIndex":Sn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(t,r,o);break;case"style":Jl(t,o,m);break;case"data":if(i!=="object"){Sn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=wr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=wr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),br(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":br(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Gc.get(r)||r,br(t,r,o))}}function tm(t,i,r,o,f,m){switch(r){case"style":Jl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[Bt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):br(t,r,o)}}}function Xt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var _=r[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,m,_,r,null)}}f&&tt(t,i,"srcSet",r.srcSet,r,null),o&&tt(t,i,"src",r.src,r,null);return;case"input":ke("invalid",t);var A=m=_=f=null,D=null,G=null;for(o in r)if(r.hasOwnProperty(o)){var J=r[o];if(J!=null)switch(o){case"name":f=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,i));break;default:tt(t,i,o,J,r,null)}}Hc(t,m,A,D,G,_,f,!1);return;case"select":ke("invalid",t),o=_=m=null;for(f in r)if(r.hasOwnProperty(f)&&(A=r[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:tt(t,i,f,A,r,null)}i=m,r=_,t.multiple=!!o,i!=null?Rs(t,!!o,i,!1):r!=null&&Rs(t,!!o,r,!0);return;case"textarea":ke("invalid",t),m=f=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(A=r[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:tt(t,i,_,A,r,null)}Cs(t,o,f,m);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(o=r[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,D,o,r,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Oo.length;o++)ke(Oo[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in r)if(r.hasOwnProperty(G)&&(o=r[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,G,o,r,null)}return;default:if(Ar(i)){for(J in r)r.hasOwnProperty(J)&&(o=r[J],o!==void 0&&tm(t,i,J,o,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(o=r[A],o!=null&&tt(t,i,A,o,r,null))}function RA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,G=null,J=null;for(X in r){var ne=r[X];if(r.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty(X)||tt(t,i,X,null,o,ne)}}for(var Q in o){var X=o[Q];if(ne=r[Q],o.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ne&&tt(t,i,Q,X,o,ne)}}Sr(t,_,A,D,G,J,m,f);return;case"select":X=_=A=Q=null;for(m in r)if(D=r[m],r.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:o.hasOwnProperty(m)||tt(t,i,m,null,o,D)}for(f in o)if(m=o[f],D=r[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&tt(t,i,f,m,o,D)}i=A,r=_,o=X,Q!=null?Rs(t,!!r,Q,!1):!!o!=!!r&&(i!=null?Rs(t,!!r,i,!0):Rs(t,!!r,r?[]:"",!1));return;case"textarea":X=Q=null;for(A in r)if(f=r[A],r.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,o,f)}for(_ in o)if(f=o[_],m=r[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&tt(t,i,_,f,o,m)}qc(t,Q,X);return;case"option":for(var pe in r)if(Q=r[pe],r.hasOwnProperty(pe)&&Q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:tt(t,i,pe,null,o,Q)}for(D in o)if(Q=o[D],X=r[D],o.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(t,i,D,Q,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in r)Q=r[Ee],r.hasOwnProperty(Ee)&&Q!=null&&!o.hasOwnProperty(Ee)&&tt(t,i,Ee,null,o,Q);for(G in o)if(Q=o[G],X=r[G],o.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:tt(t,i,G,Q,o,X)}return;default:if(Ar(i)){for(var nt in r)Q=r[nt],r.hasOwnProperty(nt)&&Q!==void 0&&!o.hasOwnProperty(nt)&&tm(t,i,nt,void 0,o,Q);for(J in o)Q=o[J],X=r[J],!o.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||tm(t,i,J,Q,o,X);return}}for(var H in r)Q=r[H],r.hasOwnProperty(H)&&Q!=null&&!o.hasOwnProperty(H)&&tt(t,i,H,null,o,Q);for(ne in o)Q=o[ne],X=r[ne],!o.hasOwnProperty(ne)||Q===X||Q==null&&X==null||tt(t,i,ne,Q,o,X)}function c_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&c_(_)){for(_=0,A=f.responseEnd,o+=1;o<r.length;o++){var D=r[o],G=D.startTime;if(G>A)break;var J=D.transferSize,ne=D.initiatorType;J&&c_(ne)&&(D=D.responseEnd,_+=J*(D<A?1:(A-G)/(D-G)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var am=null;function IA(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(OA)}:d_;function OA(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function m_(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(f),al(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")Vo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,Vo(r);for(var m=r.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ti]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}else r==="body"&&Vo(t.ownerDocument.body);r=f}while(r);al(i)}function p_(t,i){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function rm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rm(r),Tr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function MA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function VA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Fn(t.nextSibling),t===null))return null;return t}function g_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kA(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function y_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Fn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function v_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function __(t,i,r){switch(i=Ku(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Vo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Tr(t)}var Gn=new Map,E_=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=re.d;re.d={f:LA,r:PA,D:UA,C:zA,L:BA,m:HA,X:FA,S:qA,M:GA};function LA(){var t=hs.f(),i=Pu();return t||i}function PA(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Ly(i):hs.r(t)}var nl=typeof document>"u"?null:document;function T_(t,i,r){var o=nl;if(o&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),E_.has(f)||(E_.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Xt(i,"link",t),wt(i),o.head.appendChild(i)))}}function UA(t){hs.D(t),T_("dns-prefetch",t,null)}function zA(t,i){hs.C(t,i),T_("preconnect",t,i)}function BA(t,i,r){hs.L(t,i,r);var o=nl;if(o&&t&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+hn(r.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var m=f;switch(i){case"style":m=il(t);break;case"script":m=sl(t)}Gn.has(m)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Gn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ko(m))||i==="script"&&o.querySelector(Lo(m))||(i=o.createElement("link"),Xt(i,"link",t),wt(i),o.head.appendChild(i)))}}function HA(t,i){hs.m(t,i);var r=nl;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=sl(t)}if(!Gn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Gn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Lo(m)))return}o=r.createElement("link"),Xt(o,"link",t),wt(o),r.head.appendChild(o)}}}function qA(t,i,r){hs.S(t,i,r);var o=nl;if(o&&t){var f=Si(o).hoistableStyles,m=il(t);i=i||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(ko(m)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Gn.get(m))&&um(t,r);var D=_=o.createElement("link");wt(D),Xt(D,"link",t),D._p=new Promise(function(G,J){D.onload=G,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yu(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function FA(t,i){hs.X(t,i);var r=nl;if(r&&t){var o=Si(r).hoistableScripts,f=sl(t),m=o.get(f);m||(m=r.querySelector(Lo(f)),m||(t=b({src:t,async:!0},i),(i=Gn.get(f))&&hm(t,i),m=r.createElement("script"),wt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function GA(t,i){hs.M(t,i);var r=nl;if(r&&t){var o=Si(r).hoistableScripts,f=sl(t),m=o.get(f);m||(m=r.querySelector(Lo(f)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Gn.get(f))&&hm(t,i),m=r.createElement("script"),wt(m),Xt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function b_(t,i,r,o){var f=(f=De.current)?Qu(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=il(r.href),r=Si(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var m=Si(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(ko(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Gn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Gn.set(t,r),m||KA(f,t,r,_.state))),i&&o===null)throw Error(a(528,""));return _}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=sl(r),r=Si(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function il(t){return'href="'+hn(t)+'"'}function ko(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function KA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Xt(i,"link",r),wt(i),t.head.appendChild(i))}function sl(t){return'[src="'+hn(t)+'"]'}function Lo(t){return"script[async]"+t}function A_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+hn(r.href)+'"]');if(o)return i.instance=o,wt(o),o;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Xt(o,"style",f),Yu(o,r.precedence,t),i.instance=o;case"stylesheet":f=il(r.href);var m=t.querySelector(ko(f));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;o=S_(r),(f=Gn.get(f))&&um(o,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Xt(m,"link",o),i.state.loading|=4,Yu(m,r.precedence,t),i.instance=m;case"script":return m=sl(r.src),(f=t.querySelector(Lo(m)))?(i.instance=f,wt(f),f):(o=r,(f=Gn.get(m))&&(o=b({},r),hm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Xt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,r.precedence,t));return i.instance}function Yu(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $u=null;function w_(t,i,r){if($u===null){var o=new Map,f=$u=new Map;f.set(r,o)}else f=$u,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Ti]||m[At]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var A=o.get(_);A?A.push(m):o.set(_,[m])}}return o}function x_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function QA(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YA(t,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=il(o.href),m=i.querySelector(ko(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xu.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=m,wt(m);return}m=i.ownerDocument||i,o=S_(o),(f=Gn.get(f))&&um(o,f),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Xt(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=Xu.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var dm=0;function $A(t,i){return t.stylesheets&&t.count===0&&Ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&dm===0&&(dm=62500*CA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>dm?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function Ju(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,i.forEach(XA,t),Wu=null,Xu.call(t))}function XA(t,i){if(!(i.state.loading&4)){var r=Wu.get(t);if(r)var o=r.get(null);else{r=new Map,Wu.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=r.get(_)||o,m===o&&r.set(null,f),r.set(_,f),this.count++,o=Xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Po={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function WA(t,i,r,o,f,m,_,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function R_(t,i,r,o,f,m,_,A,D,G,J,ne){return t=new WA(t,i,r,_,D,G,J,ne,A),i=1,m===!0&&(i|=24),m=wn(3,null,null,i),t.current=m,m.stateNode=t,i=Fd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},Yd(m),t}function C_(t){return t?(t=Vr,t):Vr}function I_(t,i,r,o,f,m){f=C_(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Hs(t,o,i),r!==null&&(yn(r,t,i),go(r,t,i))}function j_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function fm(t,i){j_(t,i),(t=t.alternate)&&j_(t,i)}function D_(t){if(t.tag===13||t.tag===31){var i=Fa(t,67108864);i!==null&&yn(i,t,67108864),fm(t,67108864)}}function O_(t){if(t.tag===13||t.tag===31){var i=In();i=Da(i);var r=Fa(t,i);r!==null&&yn(r,t,i),fm(t,i)}}var Zu=!0;function JA(t,i,r,o){var f=K.T;K.T=null;var m=re.p;try{re.p=2,mm(t,i,r,o)}finally{re.p=m,K.T=f}}function ZA(t,i,r,o){var f=K.T;K.T=null;var m=re.p;try{re.p=8,mm(t,i,r,o)}finally{re.p=m,K.T=f}}function mm(t,i,r,o){if(Zu){var f=pm(o);if(f===null)em(t,i,o,eh,r),V_(t,o);else if(tw(f,t,i,r,o))o.stopPropagation();else if(V_(t,o),i&4&&-1<ew.indexOf(t)){for(;f!==null;){var m=Mn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=yi(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-yt(_);A.entanglements[1]|=D,_&=~D}ki(m),(Ye&6)===0&&(ku=on()+500,Do(0))}}break;case 31:case 13:A=Fa(m,2),A!==null&&yn(A,m,2),Pu(),fm(m,2)}if(m=pm(o),m===null&&em(t,i,o,eh,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else em(t,i,o,null,r)}}function pm(t){return t=Vn(t),gm(t)}var eh=null;function gm(t){if(eh=null,t=bi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=p(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function M_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case zl:return 2;case Bl:return 8;case xs:case Td:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var ym=!1,Zs=null,ea=null,ta=null,Uo=new Map,zo=new Map,na=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(t,i){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Uo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function Bo(t,i,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Mn(i),i!==null&&D_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function tw(t,i,r,o,f){switch(i){case"focusin":return Zs=Bo(Zs,t,i,r,o,f),!0;case"dragenter":return ea=Bo(ea,t,i,r,o,f),!0;case"mouseover":return ta=Bo(ta,t,i,r,o,f),!0;case"pointerover":var m=f.pointerId;return Uo.set(m,Bo(Uo.get(m)||null,t,i,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,zo.set(m,Bo(zo.get(m)||null,t,i,r,o,f)),!0}return!1}function k_(t){var i=bi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,ti(t.priority,function(){O_(r)});return}}else if(i===31){if(i=p(r),i!==null){t.blockedOn=i,ti(t.priority,function(){O_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=pm(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Zl=o,r.target.dispatchEvent(o),Zl=null}else return i=Mn(r),i!==null&&D_(i),t.blockedOn=r,!1;i.shift()}return!0}function L_(t,i,r){th(t)&&r.delete(i)}function nw(){ym=!1,Zs!==null&&th(Zs)&&(Zs=null),ea!==null&&th(ea)&&(ea=null),ta!==null&&th(ta)&&(ta=null),Uo.forEach(L_),zo.forEach(L_)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var ih=null;function P_(t){ih!==t&&(ih=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(gm(o||r)===null)continue;break}var m=Mn(r);m!==null&&(t.splice(i,3),i-=3,pf(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function al(t){function i(D){return nh(D,t)}Zs!==null&&nh(Zs,t),ea!==null&&nh(ea,t),ta!==null&&nh(ta,t),Uo.forEach(i),zo.forEach(i);for(var r=0;r<na.length;r++){var o=na[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<na.length&&(r=na[0],r.blockedOn===null);)k_(r),r.blockedOn===null&&na.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],_=f[Bt]||null;if(typeof m=="function")_||P_(r);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Bt]||null)A=_.formAction;else if(gm(f)!==null)continue}else A=_.action;typeof A=="function"?r[o+1]=A:(r.splice(o,3),o-=3),P_(r)}}}function U_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function vm(t){this._internalRoot=t}sh.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=In();I_(r,o,t,i,null,null)},sh.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;I_(t.current,2,null,t,null,null),Pu(),i[Ei]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<na.length&&i!==0&&i<na[r].priority;r++);na.splice(r,0,t),r===0&&k_(t)}};var z_=e.version;if(z_!=="19.2.1")throw Error(a(527,z_,"19.2.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{Zn=ah.inject(iw),Gt=ah}catch{}}return qo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=Qy,m=Yy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=R_(t,1,!1,null,null,r,o,null,f,m,_,U_),t[Ei]=i.current,Zf(t),new vm(i)},qo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",m=Qy,_=Yy,A=$y,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),i=R_(t,1,!0,i,r??null,o,f,D,m,_,A,U_),i.context=C_(null),r=i.current,o=In(),o=Da(o),f=Bs(o),f.callback=null,Hs(r,f,o),r=o,i.current.lanes=r,Ia(i,r),ki(i),t[Ei]=i.current,Zf(t),new sh(i)},qo.version="19.2.1",qo}var X_;function fw(){if(X_)return Tm.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tm.exports=dw(),Tm.exports}var mw=fw();var W_="popstate";function pw(s={}){function e(a,l){let{pathname:c,search:d,hash:p}=a.location;return Hm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:sc(l)}return yw(e,n,null,s)}function ht(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Xn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function J_(s,e){return{usr:s.state,key:s.key,idx:e}}function Hm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||a||gw()}}function sc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Al(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function yw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,p="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let U=T(),Y=U==null?null:U-y;y=U,g&&g({action:p,location:C.location,delta:Y})}function S(U,Y){p="PUSH";let W=Hm(C.location,U,Y);y=T()+1;let ie=J_(W,y),z=C.createHref(W);try{d.pushState(ie,"",z)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(z)}c&&g&&g({action:p,location:C.location,delta:1})}function O(U,Y){p="REPLACE";let W=Hm(C.location,U,Y);y=T();let ie=J_(W,y),z=C.createHref(W);d.replaceState(ie,"",z),c&&g&&g({action:p,location:C.location,delta:0})}function R(U){return vw(U)}let C={get action(){return p},get location(){return s(l,d)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(W_,b),g=U,()=>{l.removeEventListener(W_,b),g=null}},createHref(U){return e(l,U)},createURL:R,encodeLocation(U){let Y=R(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:O,go(U){return d.go(U)}};return C}function vw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:sc(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function LT(s,e,n="/"){return _w(s,e,n,!1)}function _w(s,e,n,a){let l=typeof e=="string"?Al(e):e,c=ys(l.pathname||"/",n);if(c==null)return null;let d=PT(s);Ew(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=jw(c);p=Cw(d[g],y,a)}return p}function PT(s,e=[],n=[],a="",l=!1){let c=(d,p,g=l,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(a)&&g)return;ht(T.relativePath.startsWith(a),`Absolute route path "${T.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(a.length)}let b=ms([a,T.relativePath]),S=n.concat(T);d.children&&d.children.length>0&&(ht(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),PT(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:Nw(b,d.index),routesMeta:S})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of UT(d.path))c(d,p,!0,g)}),e}function UT(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=UT(a.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Ew(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Rw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Tw=/^:[\w-]+$/,bw=3,Sw=2,Aw=1,ww=10,xw=-2,Z_=s=>s==="*";function Nw(s,e){let n=s.split("/"),a=n.length;return n.some(Z_)&&(a+=xw),e&&(a+=Sw),n.filter(l=>!Z_(l)).reduce((l,c)=>l+(Tw.test(c)?bw:c===""?Aw:ww),a)}function Rw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function Cw(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let p=0;p<a.length;++p){let g=a[p],y=p===a.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),S=g.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ms([c,b.pathname]),pathnameBase:kw(ms([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ms([c,b.pathnameBase]))}return d}function wh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Iw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,{paramName:T,isOptional:b},S)=>{if(T==="*"){let R=p[S]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const O=p[S];return b&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Iw(s,e=!1,n=!0){Xn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function jw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Xn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ys(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ow=s=>Dw.test(s);function Mw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Al(s):s,c;if(n)if(Ow(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Xn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=eE(n.substring(1),"/"):c=eE(n,e)}else c=e;return{pathname:c,search:Lw(a),hash:Pw(l)}}function eE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function wm(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(s){let e=Vw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function vp(s,e,n,a=!1){let l;typeof s=="string"?l=Al(s):(l={...s},ht(!l.pathname||!l.pathname.includes("?"),wm("?","pathname","search",l)),ht(!l.pathname||!l.pathname.includes("#"),wm("#","pathname","hash",l)),ht(!l.search||!l.search.includes("#"),wm("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!a&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=Mw(l,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ms=s=>s.join("/").replace(/\/\/+/g,"/"),kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Pw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Uw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function zw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zT=["POST","PUT","PATCH","DELETE"];new Set(zT);var Bw=["GET",...zT];new Set(Bw);var wl=V.createContext(null);wl.displayName="DataRouter";var Gh=V.createContext(null);Gh.displayName="DataRouterState";V.createContext(!1);var BT=V.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var Hw=V.createContext(new Map);Hw.displayName="Fetchers";var qw=V.createContext(null);qw.displayName="Await";var Jn=V.createContext(null);Jn.displayName="Navigation";var gc=V.createContext(null);gc.displayName="Location";var mi=V.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var _p=V.createContext(null);_p.displayName="RouteError";function Fw(s,{relative:e}={}){ht(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=V.useContext(Jn),{hash:l,pathname:c,search:d}=yc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ms([n,c])),a.createHref({pathname:p,search:d,hash:l})}function xl(){return V.useContext(gc)!=null}function Ta(){return ht(xl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(gc).location}var HT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(s){V.useContext(Jn).static||V.useLayoutEffect(s)}function Nl(){let{isDataRoute:s}=V.useContext(mi);return s?sx():Gw()}function Gw(){ht(xl(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(wl),{basename:e,navigator:n}=V.useContext(Jn),{matches:a}=V.useContext(mi),{pathname:l}=Ta(),c=JSON.stringify(yp(a)),d=V.useRef(!1);return qT(()=>{d.current=!0}),V.useCallback((g,y={})=>{if(Xn(d.current,HT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=vp(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ms([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,l,s])}V.createContext(null);function Kw(){let{matches:s}=V.useContext(mi),e=s[s.length-1];return e?e.params:{}}function yc(s,{relative:e}={}){let{matches:n}=V.useContext(mi),{pathname:a}=Ta(),l=JSON.stringify(yp(n));return V.useMemo(()=>vp(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function Qw(s,e){return FT(s,e)}function FT(s,e,n,a,l){ht(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Jn),{matches:d}=V.useContext(mi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let W=b&&b.path||"";GT(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=Ta(),O;if(e){let W=typeof e=="string"?Al(e):e;ht(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=S;let R=O.pathname||"/",C=R;if(T!=="/"){let W=T.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=LT(s,{pathname:C});Xn(b||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Xn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Jw(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ms([T,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:ms([T,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),d,n,a,l);return e&&Y?V.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function Yw(){let s=ix(),e=Uw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,d)}var $w=V.createElement(Yw,null),Xw=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?V.createElement(mi.Provider,{value:this.props.routeContext},V.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ww({routeContext:s,match:e,children:n}){let a=V.useContext(wl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(mi.Provider,{value:s},n)}function Jw(s,e=[],n=null,a=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);ht(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:S,errors:O}=n,R=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||R){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&a?(T,b)=>{a(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zw(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,S)=>{let O,R=!1,C=null,U=null;n&&(O=d&&b.route.id?d[b.route.id]:void 0,C=b.route.errorElement||$w,p&&(g<0&&S===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):g===S&&(R=!0,U=b.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),W=()=>{let ie;return O?ie=C:R?ie=U:b.route.Component?ie=V.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=T,V.createElement(Ww,{match:b,routeContext:{outlet:T,matches:Y,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?V.createElement(Xw,{location:n.location,revalidation:n.revalidation,component:C,error:O,children:W(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):W()},null)}function Ep(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(s){let e=V.useContext(wl);return ht(e,Ep(s)),e}function ex(s){let e=V.useContext(Gh);return ht(e,Ep(s)),e}function tx(s){let e=V.useContext(mi);return ht(e,Ep(s)),e}function Tp(s){let e=tx(s),n=e.matches[e.matches.length-1];return ht(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function nx(){return Tp("useRouteId")}function ix(){let s=V.useContext(_p),e=ex("useRouteError"),n=Tp("useRouteError");return s!==void 0?s:e.errors?.[n]}function sx(){let{router:s}=Zw("useNavigate"),e=Tp("useNavigate"),n=V.useRef(!1);return qT(()=>{n.current=!0}),V.useCallback(async(l,c={})=>{Xn(n.current,HT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var tE={};function GT(s,e,n){!e&&!tE[s]&&(tE[s]=!0,Xn(!1,n))}V.memo(ax);function ax({routes:s,future:e,state:n,unstable_onError:a}){return FT(s,void 0,n,a,e)}function Rl({to:s,replace:e,state:n,relative:a}){ht(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=V.useContext(Jn);Xn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(mi),{pathname:d}=Ta(),p=Nl(),g=vp(s,yp(c),d,a==="path"),y=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:a})},[p,y,a,e,n]),null}function Ut(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rx({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){ht(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Al(n));let{pathname:y="/",search:T="",hash:b="",state:S=null,key:O="default"}=n,R=V.useMemo(()=>{let C=ys(y,p);return C==null?null:{location:{pathname:C,search:T,hash:b,state:S,key:O},navigationType:a}},[p,y,T,b,S,O,a]);return Xn(R!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:V.createElement(Jn.Provider,{value:g},V.createElement(gc.Provider,{children:e,value:R}))}function lx({children:s,location:e}){return Qw(qm(s),e)}function qm(s,e=[]){let n=[];return V.Children.forEach(s,(a,l)=>{if(!V.isValidElement(a))return;let c=[...e,l];if(a.type===V.Fragment){n.push.apply(n,qm(a.props.children,c));return}ht(a.type===Ut,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=qm(a.props.children,c)),n.push(d)}),n}var fh="get",mh="application/x-www-form-urlencoded";function Kh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function ox(s){return Kh(s)&&s.tagName.toLowerCase()==="button"}function cx(s){return Kh(s)&&s.tagName.toLowerCase()==="form"}function ux(s){return Kh(s)&&s.tagName.toLowerCase()==="input"}function hx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function dx(s,e){return s.button===0&&(!e||e==="_self")&&!hx(s)}var rh=null;function fx(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(s){return s!=null&&!mx.has(s)?(Xn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):s}function px(s,e){let n,a,l,c,d;if(cx(s)){let p=s.getAttribute("action");a=p?ys(p,e):null,n=s.getAttribute("method")||fh,l=xm(s.getAttribute("enctype"))||mh,c=new FormData(s)}else if(ox(s)||ux(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(a=g?ys(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||fh,l=xm(s.getAttribute("formenctype"))||xm(p.getAttribute("enctype"))||mh,c=new FormData(p,s),!fx()){let{name:y,type:T,value:b}=s;if(T==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Kh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,a=null,l=mh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function gx(s,e,n){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&ys(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function yx(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function _x(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await yx(c,n);return d.links?d.links():[]}return[]}));return Sx(a.flat(1).filter(vx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function nE(s,e,n,a,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let T=a.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ex(s,e,{includeHydrateFallback:n}={}){return Tx(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Tx(s){return[...new Set(s)]}function bx(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function Sx(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(bx(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function KT(){let s=V.useContext(wl);return bp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ax(){let s=V.useContext(Gh);return bp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sp=V.createContext(void 0);Sp.displayName="FrameworkContext";function QT(){let s=V.useContext(Sp);return bp(s,"You must render this element inside a <HydratedRouter> element"),s}function wx(s,e){let n=V.useContext(Sp),[a,l]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,S=V.useRef(null);V.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=Y=>{Y.forEach(W=>{d(W.isIntersecting)})},U=new IntersectionObserver(C,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[s]),V.useEffect(()=>{if(a){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[a]);let O=()=>{l(!0)},R=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Fo(p,O),onBlur:Fo(g,R),onMouseEnter:Fo(y,O),onMouseLeave:Fo(T,R),onTouchStart:Fo(b,O)}]:[!1,S,{}]}function Fo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function xx({page:s,...e}){let{router:n}=KT(),a=V.useMemo(()=>LT(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?V.createElement(Rx,{page:s,matches:a,...e}):null}function Nx(s){let{manifest:e,routeModules:n}=QT(),[a,l]=V.useState([]);return V.useEffect(()=>{let c=!1;return _x(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),a}function Rx({page:s,matches:e,...n}){let a=Ta(),{manifest:l,routeModules:c}=QT(),{basename:d}=KT(),{loaderData:p,matches:g}=Ax(),y=V.useMemo(()=>nE(s,e,g,l,a,"data"),[s,e,g,l,a]),T=V.useMemo(()=>nE(s,e,g,l,a,"assets"),[s,e,g,l,a]),b=V.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let R=new Set,C=!1;if(e.forEach(Y=>{let W=l.routes[Y.route.id];!W||!W.hasLoader||(!y.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:R.add(Y.route.id))}),R.size===0)return[];let U=gx(s,d,"data");return C&&R.size>0&&U.searchParams.set("_routes",e.filter(Y=>R.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[d,p,a,l,y,e,s,c]),S=V.useMemo(()=>Ex(T,l),[T,l]),O=Nx(T);return V.createElement(V.Fragment,null,b.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),O.map(({key:R,link:C})=>V.createElement("link",{key:R,nonce:n.nonce,...C})))}function Cx(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.10.1")}catch{}function Ix({basename:s,children:e,unstable_useTransitions:n,window:a}){let l=V.useRef();l.current==null&&(l.current=pw({window:a,v5Compat:!0}));let c=l.current,[d,p]=V.useState({action:c.action,location:c.location}),g=V.useCallback(y=>{n===!1?p(y):V.startTransition(()=>p(y))},[n]);return V.useLayoutEffect(()=>c.listen(g),[c,g]),V.createElement(rx,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=V.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:b,...S},O){let{basename:R,unstable_useTransitions:C}=V.useContext(Jn),U=typeof y=="string"&&$T.test(y),Y,W=!1;if(typeof y=="string"&&U&&(Y=y,YT))try{let k=new URL(window.location.href),M=y.startsWith("//")?new URL(k.protocol+y):new URL(y),B=ys(M.pathname,R);M.origin===k.origin&&B!=null?y=B+M.search+M.hash:W=!0}catch{Xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=Fw(y,{relative:l}),[z,oe,ce]=wx(a,S),I=Mx(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:b,unstable_useTransitions:C});function x(k){e&&e(k),k.defaultPrevented||I(k)}let N=V.createElement("a",{...S,...ce,href:Y||ie,onClick:W||c?e:x,ref:Cx(O,oe),target:g,"data-discover":!U&&n==="render"?"true":void 0});return z&&!U?V.createElement(V.Fragment,null,N,V.createElement(xx,{page:ie})):N});Ne.displayName="Link";var jx=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},T){let b=yc(d,{relative:y.relative}),S=Ta(),O=V.useContext(Gh),{navigator:R,basename:C}=V.useContext(Jn),U=O!=null&&Ux(b)&&p===!0,Y=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,W=S.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&C&&(ie=ys(ie,C)||ie);const z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=W===Y||!l&&W.startsWith(Y)&&W.charAt(z)==="/",ce=ie!=null&&(ie===Y||!l&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),I={isActive:oe,isPending:ce,isTransitioning:U},x=oe?e:void 0,N;typeof a=="function"?N=a(I):N=[a,oe?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(I):c;return V.createElement(Ne,{...y,"aria-current":x,className:N,ref:T,style:k,to:d,viewTransition:p},typeof g=="function"?g(I):g)});jx.displayName="NavLink";var Dx=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:d=fh,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...S},O)=>{let{unstable_useTransitions:R}=V.useContext(Jn),C=Lx(),U=Px(p,{relative:y}),Y=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&$T.test(p),ie=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let oe=z.nativeEvent.submitter,ce=oe?.getAttribute("formmethod")||d,I=()=>C(oe||z.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:b});R&&n!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:O,method:Y,action:U,onSubmit:a?g:ie,...S,"data-discover":!W&&s==="render"?"true":void 0})});Dx.displayName="Form";function Ox(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(s){let e=V.useContext(wl);return ht(e,Ox(s)),e}function Mx(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=Nl(),y=Ta(),T=yc(s,{relative:c});return V.useCallback(b=>{if(dx(b,e)){b.preventDefault();let S=n!==void 0?n:sc(y)===sc(T),O=()=>g(s,{replace:S,state:a,preventScrollReset:l,relative:c,viewTransition:d});p?V.startTransition(()=>O()):O()}},[y,g,T,n,a,e,s,l,c,d,p])}var Vx=0,kx=()=>`__${String(++Vx)}__`;function Lx(){let{router:s}=XT("useSubmit"),{basename:e}=V.useContext(Jn),n=nx(),a=s.fetch,l=s.navigate;return V.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:T,body:b}=px(c,e);if(d.navigate===!1){let S=d.fetcherKey||kx();await a(S,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,e,n])}function Px(s,{relative:e}={}){let{basename:n}=V.useContext(Jn),a=V.useContext(mi);ht(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...yc(s||".",{relative:e})},d=Ta();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ms([n,c.pathname])),sc(c)}function Ux(s,{relative:e}={}){let n=V.useContext(BT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=XT("useViewTransitionState"),l=yc(s,{relative:e});if(!n.isTransitioning)return!1;let c=ys(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=ys(n.nextLocation.pathname,a)||n.nextLocation.pathname;return wh(l.pathname,d)!=null||wh(l.pathname,c)!=null}const zx=()=>{};var iE={};const WT=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Bx=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(S=64)),a.push(n[T],n[b],n[S],n[O])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(WT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Bx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new Hx;const S=c<<2|p>>4;if(a.push(S),y!==64){const O=p<<4&240|y>>2;if(a.push(O),b!==64){const R=y<<6&192|b;a.push(R)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Hx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(s){const e=WT(s);return JT.encodeByteArray(e,!0)},xh=function(s){return qx(s).replace(/\./g,"")},ZT=function(s){try{return JT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gx=()=>Fx().__FIREBASE_DEFAULTS__,Kx=()=>{if(typeof process>"u"||typeof iE>"u")return;const s=iE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Qx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ZT(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return zx()||Gx()||Kx()||Qx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eb=s=>Qh()?.emulatorHosts?.[s],Yx=s=>{const e=eb(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},tb=()=>Qh()?.config,nb=s=>Qh()?.[`_${s}`];class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Cl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(s){return(await fetch(s,{credentials:"include"})).ok}function Xx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xh(JSON.stringify(n)),xh(JSON.stringify(d)),""].join(".")}const Jo={};function Wx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jo))Jo[e]?s.emulator.push(e):s.prod.push(e);return s}function Jx(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let sE=!1;function sb(s,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Jo[s]===e||Jo[s]||sE)return;Jo[s]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=Wx().prod.length>0;function d(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sE=!0,d()},S}function T(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Jx(a),O=n("text"),R=document.getElementById(O)||document.createElement("span"),C=n("learnmore"),U=document.getElementById(C)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;p(ie),T(U,C);const z=y();g(W,Y),ie.append(W,R,U,z),document.body.appendChild(ie)}c?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function eN(){const s=Qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const s=an();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function aN(){return!eN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const oN="FirebaseError";class Ss extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=oN,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?cN(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ss(l,p,a)}}function cN(s,e){return s.replace(uN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const uN=/\{\$([^}]+)}/g;function hN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function lr(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(aE(c)&&aE(d)){if(!lr(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function aE(s){return s!==null&&typeof s=="object"}function _c(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Go(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ko(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function dN(s,e){const n=new fN(s,e);return n.subscribe.bind(n)}class fN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Nm),l.error===void 0&&(l.error=Nm),l.complete===void 0&&(l.complete=Nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Nm(){}function Vt(s){return s&&s._delegate?s._delegate:s}class or{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ir="[DEFAULT]";class pN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new $x;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yN(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ir){return this.instances.has(e)}getOptions(e=ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:gN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ir){return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gN(s){return s===ir?void 0:s}function yN(s){return s.instantiationMode==="EAGER"}class vN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const _N={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},EN=Ue.INFO,TN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},bN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=TN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=bN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SN=(s,e)=>e.some(n=>s instanceof n);let rE,lE;function AN(){return rE||(rE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ab=new WeakMap,Fm=new WeakMap,rb=new WeakMap,Rm=new WeakMap,wp=new WeakMap;function xN(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(ua(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&ab.set(n,s)}).catch(()=>{}),wp.set(e,s),e}function NN(s){if(Fm.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fm.set(s,e)}let Gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rb.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ua(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function RN(s){Gm=s(Gm)}function CN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Cm(this),e,...n);return rb.set(a,e.sort?e.sort():[e]),ua(a)}:wN().includes(s)?function(...e){return s.apply(Cm(this),e),ua(ab.get(this))}:function(...e){return ua(s.apply(Cm(this),e))}}function IN(s){return typeof s=="function"?CN(s):(s instanceof IDBTransaction&&NN(s),SN(s,AN())?new Proxy(s,Gm):s)}function ua(s){if(s instanceof IDBRequest)return xN(s);if(Rm.has(s))return Rm.get(s);const e=IN(s);return e!==s&&(Rm.set(s,e),wp.set(e,s)),e}const Cm=s=>wp.get(s);function jN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=ua(d);return a&&d.addEventListener("upgradeneeded",g=>{a(ua(d.result),g.oldVersion,g.newVersion,ua(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],Im=new Map;function oE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=ON.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||DN.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Im.set(e,c),c}RN(s=>({...s,get:(e,n,a)=>oE(e,n)||s.get(e,n,a),has:(e,n)=>!!oE(e,n)||s.has(e,n)}));class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function VN(s){return s.getComponent()?.type==="VERSION"}const Km="@firebase/app",cE="0.14.6";const vs=new Ap("@firebase/app"),kN="@firebase/app-compat",LN="@firebase/analytics-compat",PN="@firebase/analytics",UN="@firebase/app-check-compat",zN="@firebase/app-check",BN="@firebase/auth",HN="@firebase/auth-compat",qN="@firebase/database",FN="@firebase/data-connect",GN="@firebase/database-compat",KN="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",$N="@firebase/installations-compat",XN="@firebase/messaging",WN="@firebase/messaging-compat",JN="@firebase/performance",ZN="@firebase/performance-compat",e1="@firebase/remote-config",t1="@firebase/remote-config-compat",n1="@firebase/storage",i1="@firebase/storage-compat",s1="@firebase/firestore",a1="@firebase/ai",r1="@firebase/firestore-compat",l1="firebase",o1="12.6.0";const Qm="[DEFAULT]",c1={[Km]:"fire-core",[kN]:"fire-core-compat",[PN]:"fire-analytics",[LN]:"fire-analytics-compat",[zN]:"fire-app-check",[UN]:"fire-app-check-compat",[BN]:"fire-auth",[HN]:"fire-auth-compat",[qN]:"fire-rtdb",[FN]:"fire-data-connect",[GN]:"fire-rtdb-compat",[KN]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[$N]:"fire-iid-compat",[XN]:"fire-fcm",[WN]:"fire-fcm-compat",[JN]:"fire-perf",[ZN]:"fire-perf-compat",[e1]:"fire-rc",[t1]:"fire-rc-compat",[n1]:"fire-gcs",[i1]:"fire-gcs-compat",[s1]:"fire-fst",[r1]:"fire-fst-compat",[a1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};const Nh=new Map,u1=new Map,Ym=new Map;function uE(s,e){try{s.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function pl(s){const e=s.name;if(Ym.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,s);for(const n of Nh.values())uE(n,s);for(const n of u1.values())uE(n,s);return!0}function xp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Qn(s){return s==null?!1:s.settings!==void 0}const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ha=new vc("app","Firebase",h1);class d1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ha.create("app-deleted",{appName:this._name})}}const Il=o1;function lb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Qm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ha.create("bad-app-name",{appName:String(l)});if(n||(n=tb()),!n)throw ha.create("no-options");const c=Nh.get(l);if(c){if(lr(n,c.options)&&lr(a,c.config))return c;throw ha.create("duplicate-app",{appName:l})}const d=new vN(l);for(const g of Ym.values())d.addComponent(g);const p=new d1(n,a,d);return Nh.set(l,p),p}function ob(s=Qm){const e=Nh.get(s);if(!e&&s===Qm&&tb())return lb();if(!e)throw ha.create("no-app",{appName:s});return e}function da(s,e,n){let a=c1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}pl(new or(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const f1="firebase-heartbeat-database",m1=1,ac="firebase-heartbeat-store";let jm=null;function cb(){return jm||(jm=jN(f1,m1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ac)}catch(n){console.warn(n)}}}}).catch(s=>{throw ha.create("idb-open",{originalErrorMessage:s.message})})),jm}async function p1(s){try{const n=(await cb()).transaction(ac),a=await n.objectStore(ac).get(ub(s));return await n.done,a}catch(e){if(e instanceof Ss)vs.warn(e.message);else{const n=ha.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}}async function hE(s,e){try{const a=(await cb()).transaction(ac,"readwrite");await a.objectStore(ac).put(e,ub(s)),await a.done}catch(n){if(n instanceof Ss)vs.warn(n.message);else{const a=ha.create("idb-set",{originalErrorMessage:n?.message});vs.warn(a.message)}}}function ub(s){return`${s.name}!${s.options.appId}`}const g1=1024,y1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>y1){const l=T1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:n,unsentEntries:a}=_1(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vs.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function _1(s,e=g1){const n=[];let a=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),fE(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),fE(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function fE(s){return xh(JSON.stringify({version:2,heartbeats:s})).length}function T1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function b1(s){pl(new or("platform-logger",e=>new MN(e),"PRIVATE")),pl(new or("heartbeat",e=>new v1(e),"PRIVATE")),da(Km,cE,s),da(Km,cE,"esm2020"),da("fire-js","")}b1("");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S1=hb,db=new vc("auth","Firebase",hb());const Rh=new Ap("@firebase/auth");function A1(s,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${Il}): ${s}`,...e)}function ph(s,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${Il}): ${s}`,...e)}function di(s,...e){throw Np(s,...e)}function Pi(s,...e){return Np(s,...e)}function fb(s,e,n){const a={...S1(),[e]:n};return new vc("auth","Firebase",a).create(e,{appName:s.name})}function ps(s){return fb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return db.create(s,...e)}function be(s,e,...n){if(!s)throw Np(e,...n)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ph(e),new Error(e)}function _s(s,e){s||ds(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function w1(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||nN()||"connection"in navigator)?navigator.onLine:!0}function N1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=Zx()||iN()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(s,e){_s(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const C1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I1=new Ec(3e4,6e4);function As(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ki(s,e,n,a,l={}){return pb(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=_c({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return tN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(y.credentials="include"),mb.fetch()(await gb(s,s.config.apiHost,n,p),y)})}async function pb(s,e,n){s._canInitEmulator=!1;const a={...R1,...e};try{const l=new D1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw lh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw lh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw lh(s,"user-disabled",d);const T=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fb(s,T,y);di(s,T)}}catch(l){if(l instanceof Ss)throw l;di(s,"network-request-failed",{message:String(l)})}}async function Tc(s,e,n,a,l={}){const c=await Ki(s,e,n,a,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function gb(s,e,n,a){const l=`${e}${n}?${a}`,c=s,d=c.config.emulator?Rp(s.config,l):`${s.config.apiScheme}://${l}`;return C1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function j1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Pi(this.auth,"network-request-failed")),I1.get())})}}function lh(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Pi(s,e,a);return l.customData._tokenResponse=n,l}function pE(s){return s!==void 0&&s.enterprise!==void 0}class O1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M1(s,e){return Ki(s,"GET","/v2/recaptchaConfig",As(s,e))}async function V1(s,e){return Ki(s,"POST","/v1/accounts:delete",e)}async function Ch(s,e){return Ki(s,"POST","/v1/accounts:lookup",e)}function Zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k1(s,e=!1){const n=Vt(s),a=await n.getIdToken(e),l=Cp(a);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Zo(Dm(l.auth_time)),issuedAtTime:Zo(Dm(l.iat)),expirationTime:Zo(Dm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dm(s){return Number(s)*1e3}function Cp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const l=ZT(n);return l?JSON.parse(l):(ph("Failed to decode base64 JWT payload"),null)}catch(l){return ph("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gE(s){const e=Cp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function gl(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof Ss&&L1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function L1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class P1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(s){const e=s.auth,n=await s.getIdToken(),a=await gl(s,Ch(e,{idToken:n}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?yb(l.providerUserInfo):[],d=z1(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function U1(s){const e=Vt(s);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z1(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function yb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function B1(s,e){const n=await pb(s,{},async()=>{const a=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await gb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H1(s,e){return Ki(s,"POST","/v2/accounts:revokeToken",As(s,e))}class hl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await B1(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new hl;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hl,this.toJSON())}_performRefresh(){return ds("not implemented")}}function sa(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new P1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await gl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k1(this,e)}reload(){return U1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Qn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await gl(this,V1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:O,providerData:R,stsTokenManager:C}=n;be(b&&C,e,"internal-error");const U=hl.fromJSON(this.name,C);be(typeof b=="string",e,"internal-error"),sa(a,e.name),sa(l,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),sa(c,e.name),sa(d,e.name),sa(p,e.name),sa(g,e.name),sa(y,e.name),sa(T,e.name);const Y=new hi({uid:b,auth:e,email:l,emailVerified:S,displayName:a,isAnonymous:O,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:T});return R&&Array.isArray(R)&&(Y.providerData=R.map(W=>({...W}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,a=!1){const l=new hl;l.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new hl;p.updateFromIdToken(a);const g=new hi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const yE=new Map;function fs(s){_s(s instanceof Function,"Expected a class definition");let e=yE.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,yE.set(s,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vb.type="NONE";const vE=vb;function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class dl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=gh(this.userKey,l.apiKey,c),this.fullPersistenceKey=gh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new dl(fs(vE),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||fs(vE);const d=gh(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const S=await Ch(e,{idToken:T}).catch(()=>{});if(!S)break;b=await hi._fromGetAccountInfoResponse(e,S,T)}else b=hi._fromJSON(e,T);y!==c&&(p=b),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new dl(c,e,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new dl(c,e,a))}}function _E(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(wb(e))return"Webos";if(Eb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function _b(s=an()){return/firefox\//i.test(s)}function Eb(s=an()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(s=an()){return/crios\//i.test(s)}function bb(s=an()){return/iemobile/i.test(s)}function Sb(s=an()){return/android/i.test(s)}function Ab(s=an()){return/blackberry/i.test(s)}function wb(s=an()){return/webos/i.test(s)}function Ip(s=an()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function q1(s=an()){return Ip(s)&&!!window.navigator?.standalone}function F1(){return sN()&&document.documentMode===10}function xb(s=an()){return Ip(s)||Sb(s)||wb(s)||Ab(s)||/windows phone/i.test(s)||bb(s)}function Nb(s,e=[]){let n;switch(s){case"Browser":n=_E(an());break;case"Worker":n=`${_E(an())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${a}`}class G1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function K1(s,e={}){return Ki(s,"GET","/v2/passwordPolicy",As(s,e))}const Q1=6;class Y1{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $1{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new G1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await dl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Qn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Qn(this.app))return Promise.reject(ps(this));const n=e?Vt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Qn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Qn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K1(this),n=new Y1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await H1(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await dl.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if(Qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&A1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ba(s){return Vt(s)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X1(s){Yh=s}function Rb(s){return Yh.loadJS(s)}function W1(){return Yh.recaptchaEnterpriseScript}function J1(){return Yh.gapiScript}function Z1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class eR{constructor(){this.enterprise=new tR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nR="recaptcha-enterprise",Cb="NO_RECAPTCHA";class iR{constructor(e){this.type=nR,this.auth=ba(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{M1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new O1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;pE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Cb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!n&&pE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=W1();g.length!==0&&(g+=p),Rb(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function TE(s,e,n,a=!1,l=!1){const c=new iR(s);let d;if(l)d=Cb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jh(s,e,n,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await TE(s,e,n,n==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await TE(s,e,n,n==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function sR(s,e){const n=xp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(lr(c,e??{}))return l;di(l,"already-initialized")}return n.initialize({options:e})}function aR(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function rR(s,e,n){const a=ba(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=Ib(e),{host:d,port:p}=lR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(lr(y,a.config.emulator)&&lr(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Cl(d)?(ib(`${c}//${d}${g}`),sb("Auth",!0)):oR()}function Ib(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lR(s){const e=Ib(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:bE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:bE(d)}}}function bE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function cR(s,e){return Ki(s,"POST","/v1/accounts:signUp",e)}async function uR(s,e){return Tc(s,"POST","/v1/accounts:signInWithPassword",As(s,e))}async function hR(s,e){return Ki(s,"POST","/v1/accounts:sendOobCode",As(s,e))}async function dR(s,e){return hR(s,e)}async function fR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}async function mR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}class rc extends jp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new rc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new rc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,n,"signInWithPassword",uR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,a,"signUpPassword",cR);case"emailLink":return mR(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function fl(s,e){return Tc(s,"POST","/v1/accounts:signInWithIdp",As(s,e))}const pR="http://localhost";class cr extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new cr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=n;if(!a||!l)return null;const d=new cr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return fl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,fl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fl(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}function gR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yR(s){const e=Go(Ko(s)).link,n=e?Go(Ko(e)).deep_link_id:null,a=Go(Ko(s)).deep_link_id;return(a?Go(Ko(a)).link:null)||a||n||e||s}class Dp{constructor(e){const n=Go(Ko(e)),a=n.apiKey??null,l=n.oobCode??null,c=gR(n.mode??null);be(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yR(e);try{return new Dp(n)}catch{return null}}}class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return rc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Dp.parseLink(n);return be(a,"argument-error"),rc._fromEmailAndCode(e,a.code,a.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bc extends jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class aa extends bc{constructor(){super("facebook.com")}static credential(e){return cr._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return aa.credentialFromTaggedObject(e)}static credentialFromError(e){return aa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return aa.credential(e.oauthAccessToken)}catch{return null}}}aa.FACEBOOK_SIGN_IN_METHOD="facebook.com";aa.PROVIDER_ID="facebook.com";class ra extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return cr._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ra.credential(n,a)}catch{return null}}}ra.GOOGLE_SIGN_IN_METHOD="google.com";ra.PROVIDER_ID="google.com";class la extends bc{constructor(){super("github.com")}static credential(e){return cr._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return la.credentialFromTaggedObject(e)}static credentialFromError(e){return la.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return la.credential(e.oauthAccessToken)}catch{return null}}}la.GITHUB_SIGN_IN_METHOD="github.com";la.PROVIDER_ID="github.com";class oa extends bc{constructor(){super("twitter.com")}static credential(e,n){return cr._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return oa.credential(n,a)}catch{return null}}}oa.TWITTER_SIGN_IN_METHOD="twitter.com";oa.PROVIDER_ID="twitter.com";async function vR(s,e){return Tc(s,"POST","/v1/accounts:signUp",As(s,e))}class ur{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await hi._fromIdTokenResponse(e,a,l),d=SE(a);return new ur({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=SE(a);return new ur({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function SE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Dh extends Ss{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Dh(e,n,a,l)}}function Db(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(s,c,e,a):c})}async function _R(s,e,n=!1){const a=await gl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ur._forOperation(s,"link",a)}async function ER(s,e,n=!1){const{auth:a}=s;if(Qn(a.app))return Promise.reject(ps(a));const l="reauthenticate";try{const c=await gl(s,Db(a,l,e,s),n);be(c.idToken,a,"internal-error");const d=Cp(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),ur._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(a,"user-mismatch"),c}}async function Ob(s,e,n=!1){if(Qn(s.app))return Promise.reject(ps(s));const a="signIn",l=await Db(s,a,e),c=await ur._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function TR(s,e){return Ob(ba(s),e)}async function Mb(s){const e=ba(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bR(s,e,n){const a=ba(s);await jh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dR)}async function SR(s,e,n){if(Qn(s.app))return Promise.reject(ps(s));const a=ba(s),d=await jh(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Mb(s),g}),p=await ur._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function AR(s,e,n){return Qn(s.app)?Promise.reject(ps(s)):TR(Vt(s),jl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Mb(s),a})}async function wR(s,e){return Ki(s,"POST","/v1/accounts:update",e)}async function xR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=Vt(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await gl(a,wR(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function NR(s,e,n,a){return Vt(s).onIdTokenChanged(e,n,a)}function RR(s,e,n){return Vt(s).beforeAuthStateChanged(e,n)}function CR(s,e,n,a){return Vt(s).onAuthStateChanged(e,n,a)}function IR(s){return Vt(s).signOut()}const Oh="__sak";class Vb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jR=1e3,DR=10;class kb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);F1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,DR):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const OR=kb;class Lb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lb.type="SESSION";const Pb=Lb;function MR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new $h(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await MR(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Op(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class VR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Op("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function kR(s){Ui().location.href=s}function Ub(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PR(){return navigator?.serviceWorker?.controller||null}function UR(){return Ub()?self:null}const zb="firebaseLocalStorageDb",zR=1,Mh="firebaseLocalStorage",Bb="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function BR(){const s=indexedDB.deleteDatabase(zb);return new Sc(s).toPromise()}function Wm(){const s=indexedDB.open(zb,zR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Mh,{keyPath:Bb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Mh)?e(a):(a.close(),await BR(),e(await Wm()))})})}async function AE(s,e,n){const a=Xh(s,!0).put({[Bb]:e,value:n});return new Sc(a).toPromise()}async function HR(s,e){const n=Xh(s,!1).get(e),a=await new Sc(n).toPromise();return a===void 0?null:a.value}function wE(s,e){const n=Xh(s,!0).delete(e);return new Sc(n).toPromise()}const qR=800,FR=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>FR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new VR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await AE(e,Oh,"1"),await wE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>AE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>HR(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Xh(l,!1).getAll();return new Sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const GR=Hb;new Ec(3e4,6e4);function KR(s,e){return e?fs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QR(s){return Ob(s.auth,new Mp(s),s.bypassAuthState)}function YR(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),ER(n,new Mp(s),s.bypassAuthState)}async function $R(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),_R(n,new Mp(s),s.bypassAuthState)}class qb{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return $R;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:di(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XR=new Ec(2e3,1e4);class ul extends qb{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ul.currentPopupAction&&ul.currentPopupAction.cancel(),ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XR.get())};e()}}ul.currentPopupAction=null;const WR="pendingRedirect",yh=new Map;class JR extends qb{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const a=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const n=nC(e),a=tC(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function eC(s,e){yh.set(s._key(),e)}function tC(s){return fs(s._redirectPersistence)}function nC(s){return gh(WR,s.config.apiKey,s.name)}async function iC(s,e,n=!1){if(Qn(s.app))return Promise.reject(ps(s));const a=ba(s),l=KR(a,e),d=await new JR(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const sC=600*1e3;class aC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Fb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Fb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function rC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(s);default:return!1}}async function lC(s,e={}){return Ki(s,"GET","/v1/projects",e)}const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lC(s);for(const n of e)try{if(hC(n))return}catch{}di(s,"unauthorized-domain")}function hC(s){const e=$m(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!cC.test(n))return!1;if(oC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const dC=new Ec(3e4,6e4);function NE(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fC(s){return new Promise((e,n)=>{function a(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Pi(s,"network-request-failed"))},timeout:dC.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)a();else{const l=Z1("iframefcb");return Ui()[l]=()=>{gapi.load?a():n(Pi(s,"network-request-failed"))},Rb(`${J1()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vh=null,e})}let vh=null;function mC(s){return vh=vh||fC(s),vh}const pC=new Ec(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Rp(e,yC):`https://${s.config.authDomain}/${gC}`,a={apiKey:e.apiKey,appName:s.name,v:Il},l=_C.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${_c(a).slice(1)}`}async function TC(s){const e=await mC(s),n=Ui().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:EC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Pi(s,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},pC.get());function g(){Ui().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const bC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,AC=600,wC="_blank",xC="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,e,n,a=SC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...bC,width:a.toString(),height:l.toString(),top:c,left:d},y=an().toLowerCase();n&&(p=Tb(y)?wC:n),_b(y)&&(e=e||xC,g.scrollbars="yes");const T=Object.entries(g).reduce((S,[O,R])=>`${S}${O}=${R},`,"");if(q1(y)&&p!=="_self")return RC(e||"",p),new RE(null);const b=window.open(e||"",p,T);be(b,s,"popup-blocked");try{b.focus()}catch{}return new RE(b)}function RC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const CC="__/auth/handler",IC="emulator/auth/handler",jC=encodeURIComponent("fac");async function CE(s,e,n,a,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:Il,eventId:l};if(e instanceof jb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",hN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof bc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${jC}=${encodeURIComponent(g)}`:"";return`${DC(s)}?${_c(p).slice(1)}${y}`}function DC({config:s}){return s.emulator?Rp(s,IC):`https://${s.authDomain}/${CC}`}const Om="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=iC,this._overrideRedirectResult=eC}async _openPopup(e,n,a,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await CE(e,n,a,$m(),l);return NC(e,c,Op())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await CE(e,n,a,$m(),l);return kR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await TC(e),a=new aC(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},l=>{const c=l?.[0]?.[Om];c!==void 0&&n(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xb()||Eb()||Ip()}}const MC=OC;var IE="@firebase/auth",jE="1.11.1";class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(s){pl(new or("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(s)},y=new $1(a,l,c,g);return aR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),pl(new or("auth-internal",e=>{const n=ba(e.getProvider("auth").getImmediate());return(a=>new VC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),da(IE,jE,kC(s)),da(IE,jE,"esm2020")}const PC=300,UC=nb("authIdTokenMaxAge")||PC;let DE=null;const zC=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>UC)return;const l=n?.token;DE!==l&&(DE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BC(s=ob()){const e=xp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=sR(s,{popupRedirectResolver:MC,persistence:[GR,OR,Pb]}),a=nb("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=zC(c.toString());RR(n,d,()=>d(n.currentUser)),NR(n,p=>d(p))}}const l=eb("auth");return l&&rR(n,`http://${l}`),n}function HC(){return document.getElementsByTagName("head")?.[0]??document}X1({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Pi("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",HC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fa,Gb;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,M,B){for(var j=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)j[ae-2]=arguments[ae];return x.prototype[M].apply(k,j)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,N){N||(N=0);const k=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)k[M]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(M=0;M<16;++M)k[M]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],M=I.g[2];let B=I.g[3],j;j=x+(B^N&(M^B))+k[0]+3614090360&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[1]+3905402710&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[2]+606105819&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[3]+3250441966&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[4]+4118548399&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[5]+1200080426&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[6]+2821735955&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[7]+4249261313&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[8]+1770035416&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[9]+2336552879&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[10]+4294925233&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[11]+2304563134&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[12]+1804603682&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[13]+4254626195&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[14]+2792965006&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[15]+1236535329&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(M^B&(N^M))+k[1]+4129170786&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[6]+3225465664&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[11]+643717713&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[0]+3921069994&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[5]+3593408605&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[10]+38016083&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[15]+3634488961&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[4]+3889429448&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[9]+568446438&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[14]+3275163606&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[3]+4107603335&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[8]+1163531501&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[13]+2850285829&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[2]+4243563512&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[7]+1735328473&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[12]+2368359562&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(N^M^B)+k[5]+4294588738&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[8]+2272392833&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[11]+1839030562&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[14]+4259657740&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[1]+2763975236&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[4]+1272893353&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[7]+4139469664&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[10]+3200236656&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[13]+681279174&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[0]+3936430074&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[3]+3572445317&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[6]+76029189&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[9]+3654602809&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[12]+3873151461&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[15]+530742520&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[2]+3299628645&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(M^(N|~B))+k[0]+4096336452&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[7]+1126891415&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[14]+2878612391&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[5]+4237533241&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[12]+1700485571&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[3]+2399980690&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[10]+4293915773&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[1]+2240044497&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[8]+1873313359&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[15]+4264355552&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[6]+2734768916&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[13]+1309151649&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[4]+4149444226&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[11]+3174756917&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[2]+718787259&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+B&4294967295}a.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,k=this.C;let M=this.h,B=0;for(;B<x;){if(M==0)for(;B<=N;)l(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(k[M++]=I.charCodeAt(B++),M==this.blockSize){l(this,k),M=0;break}}else for(;B<x;)if(k[M++]=I[B++],M==this.blockSize){l(this,k),M=0;break}}this.h=M,this.o+=x},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[x++]=this.g[N]>>>k&255;return I};function c(I,x){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function d(I,x){this.h=x;const N=[];let k=!0;for(let M=I.length-1;M>=0;M--){const B=I[M]|0;k&&B==x||(N[M]=B,k=!1)}this.g=N}var p={};function g(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return U(y(-I));const x=[];let N=1;for(let k=0;I>=N;k++)x[k]=I/N|0,N*=4294967296;return new d(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return U(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let k=b;for(let B=0;B<I.length;B+=8){var M=Math.min(8,I.length-B);const j=parseInt(I.substring(B,B+M),x);M<8?(M=y(Math.pow(x,M)),k=k.j(M).add(y(j))):(k=k.j(N),k=k.add(y(j)))}return k}var b=g(0),S=g(1),O=g(16777216);s=d.prototype,s.m=function(){if(C(this))return-U(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(C(this))return"-"+U(this).toString(I);const x=y(Math.pow(I,6));var N=this;let k="";for(;;){const M=z(N,x).g;N=Y(N,M.j(x));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=M,R(N))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function C(I){return I.h==-1}s.l=function(I){return I=Y(this,I),C(I)?-1:R(I)?0:1};function U(I){const x=I.g.length,N=[];for(let k=0;k<x;k++)N[k]=~I.g[k];return new d(N,~I.h).add(S)}s.abs=function(){return C(this)?U(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let M=0;M<=x;M++){let B=k+(this.i(M)&65535)+(I.i(M)&65535),j=(B>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);k=j>>>16,B&=65535,j&=65535,N[M]=j<<16|B}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(U(x))}s.j=function(I){if(R(this)||R(I))return b;if(C(this))return C(I)?U(this).j(U(I)):U(U(this).j(I));if(C(I))return U(this.j(U(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var k=0;k<2*x;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<I.g.length;M++){const B=this.i(k)>>>16,j=this.i(k)&65535,ae=I.i(M)>>>16,ye=I.i(M)&65535;N[2*k+2*M]+=j*ye,W(N,2*k+2*M),N[2*k+2*M+1]+=B*ye,W(N,2*k+2*M+1),N[2*k+2*M+1]+=j*ae,W(N,2*k+2*M+1),N[2*k+2*M+2]+=B*ae,W(N,2*k+2*M+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new d(N,0)};function W(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ie(I,x){this.g=I,this.h=x}function z(I,x){if(R(x))throw Error("division by zero");if(R(I))return new ie(b,b);if(C(I))return x=z(U(I),x),new ie(U(x.g),U(x.h));if(C(x))return x=z(I,U(x)),new ie(U(x.g),x.h);if(I.g.length>30){if(C(I)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var N=S,k=x;k.l(I)<=0;)N=oe(N),k=oe(k);var M=ce(N,1),B=ce(k,1);for(k=ce(k,2),N=ce(N,2);!R(k);){var j=B.add(k);j.l(I)<=0&&(M=M.add(N),B=j),k=ce(k,1),N=ce(N,1)}return x=Y(I,M.j(x)),new ie(M,x)}for(M=b;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=y(N),j=B.j(x);C(j)||j.l(I)>0;)N-=k,B=y(N),j=B.j(x);R(B)&&(B=S),M=M.add(B),I=Y(I,j)}return new ie(M,I)}s.B=function(I){return z(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)&I.i(k);return new d(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)|I.i(k);return new d(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)^I.i(k);return new d(N,this.h^I.h)};function oe(I){const x=I.g.length+1,N=[];for(let k=0;k<x;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(N,I.h)}function ce(I,x){const N=x>>5;x%=32;const k=I.g.length-N,M=[];for(let B=0;B<k;B++)M[B]=x>0?I.i(B+N)>>>x|I.i(B+N+1)<<32-x:I.i(B+N);return new d(M,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Gb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,fa=d}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Qo,Qb,_h,Jm,Yb,$b,Xb;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(h,v){if(v)e:{var E=a;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in E))break e;E=E[q]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,q,$){for(var le=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)le[Ce-2]=arguments[Ce];return v.prototype[q].apply(w,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function R(h,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const $=q.length||0;h.length=E+$;for(let le=0;le<$;le++)h[E+le]=q[le]}else h.push(q)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){d.setTimeout(()=>{throw h},0)}function Y(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,E){const w=ie.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new C(()=>new z,h=>h.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,I=new W,x=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(N)}};function N(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){U(E)}var v=ie;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function ae(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(ae,M),ae.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(h,v,E,w,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=q,this.key=++K,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Me(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)h[E]=w[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,E,w,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const le=De(h,v,w,q);return le>-1?(v=h[le],E||(v.fa=!1)):(v=new re(v,this.src,$,!!w,q),v.fa=E,h.push(v)),v};function Ae(h,v){const E=v.type;if(E in h.g){var w=h.g[E],q=Array.prototype.indexOf.call(w,v,void 0),$;($=q>=0)&&Array.prototype.splice.call(w,q,1),$&&(me(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,v,E,w){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==w)return q}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(h,v,E,w,q){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ot(h,v[$],E,w,q);return null}return E=Ul(E),h&&h[ye]?h.J(v,E,p(w)?!!w.capture:!1,q):xa(h,v,E,!1,w,q)}function xa(h,v,E,w,q,$){if(!v)throw Error("Invalid event type");const le=p(q)?!!q.capture:!!q;let Ce=Na(h);if(Ce||(h[qe]=Ce=new fe(h)),E=Ce.add(v,E,w,le,$),E.proxy)return E;if(w=gr(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)B||(q=le),q===void 0&&(q=!1),h.addEventListener(v.toString(),w,q);else if(h.attachEvent)h.attachEvent(pi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function gr(){function h(E){return v.call(h.src,h.listener,E)}const v=Ll;return h}function yr(h,v,E,w,q){if(Array.isArray(v))for(var $=0;$<v.length;$++)yr(h,v[$],E,w,q);else w=p(w)?!!w.capture:!!w,E=Ul(E),h&&h[ye]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=De(v,E,w,q),E>-1&&(me(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=Na(h))&&(v=h.g[v.toString()],h=-1,v&&(h=De(v,E,w,q)),(E=h>-1?v[h]:null)&&vr(E))}function vr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ye])Ae(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(pi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Na(v))?(Ae(E,h),E.h==0&&(E.src=null,v[qe]=null)):me(h)}}}function pi(h){return h in kt?kt[h]:kt[h]="on"+h}function Ll(h,v){if(h.da)h=!0;else{v=new ae(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&vr(h),h=E.call(w,v)}return h}function Na(h){return h=h[qe],h instanceof fe?h:null}var Pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ul(h){return typeof h=="function"?h:(h[Pl]||(h[Pl]=function(v){return h.handleEvent(v)}),h[Pl])}function bt(){k.call(this),this.i=new fe(this),this.M=this,this.G=null}b(bt,k),bt.prototype[ye]=!0,bt.prototype.removeEventListener=function(h,v,E,w){yr(this,h,v,E,w)};function Lt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var q=v;v=new M(w,h),ue(v,q)}q=!0;let $,le;if(E)for(le=E.length-1;le>=0;le--)$=v.g=E[le],q=ws($,w,!0,v)&&q;if($=v.g=h,q=ws($,w,!0,v)&&q,q=ws($,w,!1,v)&&q,E)for(le=0;le<E.length;le++)$=v.g=E[le],q=ws($,w,!1,v)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)me(E[w]);delete h.g[v],h.h--}}this.G=null},bt.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},bt.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function ws(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let $=0;$<v.length;++$){const le=v[$];if(le&&!le.da&&le.capture==E){const Ce=le.listener,vt=le.ha||le.src;le.fa&&Ae(h.i,le),q=Ce.call(vt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ed(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function jc(h){h.g=Ed(()=>{h.g=null,h.i&&(h.i=!1,jc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class on extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(h){k.call(this),this.h=h,this.g={}}b(Ra,k);var zl=[];function Bl(h){Te(h.g,function(v,E){this.g.hasOwnProperty(E)&&vr(v)},h),h.g={}}Ra.prototype.N=function(){Ra.Z.N.call(this),Bl(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=d.JSON.stringify,Td=d.JSON.parse,Dc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Oc(){}function Mc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){M.call(this,"d")}b(Gt,M);function On(){M.call(this,"c")}b(On,M);var yt={},Vc=null;function _r(){return Vc=Vc||new bt}yt.Ia="serverreachability";function kc(h){M.call(this,yt.Ia,h)}b(kc,M);function gi(h){const v=_r();Lt(v,new kc(v))}yt.STAT_EVENT="statevent";function Ca(h,v){M.call(this,yt.STAT_EVENT,h),this.stat=v}b(Ca,M);function St(h){const v=_r();Lt(v,new Ca(v,h))}yt.Ja="timingevent";function yi(h,v){M.call(this,yt.Ja,h),this.size=v}b(yi,M);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function bd(h,v,E,w,q,$){h.info(function(){if(h.g)if($){var le="",Ce=$.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var vt=Ce[Qe].split("=");if(vt.length>1){const ct=vt[0];vt=vt[1];const Ln=ct.split("_");le=Ln.length>=2&&Ln[1]=="type"?le+(ct+"="+vt+"&"):le+(ct+"=redacted&")}}}else le=null;else le=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+E+`
`+le})}function Lc(h,v,E,w,q,$,le){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+E+`
`+$+" "+le})}function _i(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sd(h,E)+(w?" "+w:"")})}function Ia(h,v){h.info(function(){return"TIMEOUT: "+v})}ei.prototype.info=function(){};function Sd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let le=1;le<w.length;le++)w[le]=""}}}}return xs($)}catch{return v}}var ja={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ql;function Da(){}b(Da,Oc),Da.prototype.g=function(){return new XMLHttpRequest},ql=new Da;function Qi(h){return encodeURIComponent(String(h))}function Pc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ti(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var At={},Bt={};function Ei(h,v,E){h.M=1,h.A=Oa(xt(v)),h.u=E,h.R=!0,Er(h,null)}function Er(h,v){h.F=Date.now(),Ti(h),h.B=xt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Ar(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ni,h.g=Zc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new on(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(zl[0]=q.toString()),q=zl);for(let $=0;$<q.length;$++){const le=ot(E,q[$],w||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),bd(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const v=this.O;v&&ai(h)==3?v.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ai(this.g),vt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||vt==7||(vt==8||Qe<=0?gi(3):gi(2)),bi(this);var v=this.g.ca();this.X=v;var E=Ad(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var $=w;break t}}$=null}if(h=$)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,St(12),bn(this),Mn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=zc(this,E),ct==Bt){Ce==4&&(this.m=4,St(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ct,null),Si(this,ct);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),bn(this),Mn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),so(le),le.P=!0,St(11))}}else _i(this.i,this.l,E,null),Si(this,E);Ce==4&&bn(this),this.o&&!this.K&&(Ce==4?$c(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),bn(this),Mn(this)}}}catch{}finally{}};function Ad(h){if(!Uc(h))return h.g.la();const v=Kt(h.g);if(v==="")return"";let E="";const w=v.length,q=ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return bn(h),Mn(h),"";h.h.i=new d.TextDecoder}for(let $=0;$<w;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(q&&$==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Uc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Bt:(E=Number(v.substring(E,w)),isNaN(E)?At:(w+=1,w+E>v.length?Bt:(v=v.slice(w,w+E),h.C=w+E,v)))}ti.prototype.cancel=function(){this.K=!0,bn(this)};function Ti(h){h.T=Date.now()+h.H,Tr(h,h.H)}function Tr(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(y(h.aa,h),v)}function bi(h){h.D&&(d.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ia(this.i,this.B),this.M!=2&&(gi(),St(17)),bn(this),this.m=2,Mn(this)):Tr(this,this.T-h)};function Mn(h){h.j.I==0||h.K||$c(h.j,h)}function bn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Bl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Si(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Cr(E),Ms(E);else break e;za(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(y(E.Va,E),6e3));Ai(E.h)<=1&&E.ta&&(E.ta=void 0)}else ji(E,11)}else if((h.L||E.g==h)&&Cr(E),!j(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Qe=q[v];const ct=Qe[0];if(!(ct<=E.K))if(E.K=ct,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Ln=Qe[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Di=Qe[4];Di!=null&&(E.za=Di,E.j.info("SVER="+E.za));const ri=Qe[5];ri!=null&&typeof ri=="number"&&ri>0&&(w=1.5*ri,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const li=h.g;if(li){const Ba=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var $=w.h;$.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Kl($,$.h),$.h=null))}if(w.G){const Ir=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Ir&&(w.wa=Ir,Xe(w.J,w.G,Ir))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var le=h;if(w.na=Jc(w,w.L?w.ba:null,w.W),le.L){Ql(w.h,le);var Ce=le,vt=w.O;vt&&(Ce.H=vt),Ce.D&&(bi(Ce),Ti(Ce)),w.g=le}else Qc(w);E.i.length>0&&Ii(E)}else Qe[0]!="stop"&&Qe[0]!="close"||ji(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ji(E,7):no(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}gi(4)}catch{}}var wt=class{constructor(h,v){this.g=h,this.map=v}};function Fl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Kl(h,v){h.g?h.g.add(v):h.h=v}function Ql(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Fl.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return O(h.i)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function br(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let q,$=null;w>=0?(q=h[E].substring(0,w),$=h[E].substring(w+1)):q=h[E],v(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof Sn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Ns(this,h.u),this.h=h.h,$l(this,Gc(h.i)),this.m=h.m):h&&(v=String(h).match(Bc))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),Ns(this,v[4]),this.h=xi(v[5]||"",!0),$l(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}Sn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Ma(v,Sr,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ma(v,Sr,!0),"@"),h.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Ma(E,E.charAt(0)=="/"?Xl:Hc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Ma(E,qc)),h.join("")},Sn.prototype.resolve=function(h){const v=xt(this);let E=!!h.j;E?Ht(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Ns(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let le=0;le<q.length;){const Ce=q[le++];Ce=="."?w&&le==q.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&le==q.length&&$.push("")):($.push(Ce),w=!0)}w=$.join("/")}else w=q}return E?v.h=w:E=h.i.toString()!=="",E?$l(v,Gc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xt(h){return new Sn(h)}function Ht(h,v,E){h.j=E?xi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ns(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function $l(h,v,E){v instanceof Cs?(h.i=v,wr(h.i,h.l)):(E||(v=Ma(v,Rs)),h.i=new Cs(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function Oa(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ma(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,hn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Sr=/[#\/\?@]/g,Hc=/[#\?:]/g,Xl=/[#\?]/g,Rs=/[#\?@]/g,qc=/#/g;function Cs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&br(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=Cs.prototype,s.add=function(h,v){dn(this),this.i=null,h=Is(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Fc(h,v){dn(h),v=Is(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Wl(h,v){return dn(h),v=Is(h,v),h.g.has(v)}s.forEach=function(h,v){dn(this),this.g.forEach(function(E,w){E.forEach(function(q){h.call(v,q,w,this)},this)},this)};function Jl(h,v){dn(h);let E=[];if(typeof v=="string")Wl(h,v)&&(E=E.concat(h.g.get(Is(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}s.set=function(h,v){return dn(this),this.i=null,h=Is(this,h),Wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=Jl(this,h),h.length>0?String(h[0]):v):v};function Ar(h,v,E){Fc(h,v),E.length>0&&(h.i=null,h.g.set(Is(h,v),O(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const q=Qi(E);E=Jl(this,E);for(let $=0;$<E.length;$++){let le=q;E[$]!==""&&(le+="="+Qi(E[$])),h.push(le)}}return this.i=h.join("&")};function Gc(h){const v=new Cs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Is(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function wr(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(Fc(this,w),Ar(this,q,E))},h)),h.j=v}function ii(h,v){const E=new ei;if(d.Image){const w=new Image;w.onload=T(Vn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Vn,E,"TestLoadImage: error",!1,v,w),w.onabort=T(Vn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Vn,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Zl(h,v){const E=new ei,w=new AbortController,q=setTimeout(()=>{w.abort(),Vn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Vn(E,"TestPingServer: ok",!0,v):Vn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Vn(E,"TestPingServer: error",!1,v)})}function Vn(h,v,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function js(){this.g=new Dc}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ni,Oc),Ni.prototype.g=function(){return new Va(this.i,this.h)};function Va(h,v){bt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Va,bt),s=Va.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function xr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ds(this):si(this),this.readyState==3&&xr(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Ds(this))},s.Na=function(h){this.g&&(this.response=h,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function kn(h){let v="";return Te(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function ka(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=kn(E),typeof h=="string"?E!=null&&Qi(E):Xe(h,v,E))}function Ze(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,bt);var Ri=/^https?$/i,eo=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ql.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){La(this,$);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(eo,v,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of E)this.g.setRequestHeader($,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){La(this,$)}};function La(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,to(h),Yi(h)}function to(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pa(this):this.Xa())},s.Xa=function(){Pa(this)};function Pa(h){if(h.h&&typeof c<"u"){if(h.v&&ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ai(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=$===0){let le=String(h.D).match(Bc)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),w=!Ri.test(le?le.toLowerCase():"")}E=w}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var q=ai(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",to(h)}}finally{Yi(h)}}}}function Yi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Td(v)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const v={};h=(h.g&&ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(j(h[w]))continue;var E=Pc(h[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[q]||[];v[q]=$,$.push(E)}Me(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Os(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(h&&h.concurrentRequestLimit),this.Ba=new js,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(h,v,E,w){St(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Jc(this,null,this.W),Ii(this)};function no(h){if(Nr(h),h.I==3){var v=h.V++,E=xt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),Ua(h,E),v=new ti(h,h.j,v),v.M=2,v.A=Oa(xt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=Zc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ti(v)}Wc(h)}function Ms(h){h.g&&(so(h),h.g.cancel(),h.g=null)}function Nr(h){Ms(h),h.v&&(d.clearTimeout(h.v),h.v=null),Cr(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Ii(h){if(!Gl(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||x(),ce||(oe(),ce=!0),I.add(v,h),h.D=0}}function Rr(h,v){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(y(h.Ea,h,v),Xc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new ti(this,this.j,h);let $=this.o;if(this.U&&($?($=L($),ue($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Kc(this,q,v),E=xt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ua(this,E),$&&(this.R?v="headers="+Qi(kn($))+"&"+v:this.u&&ka(E,this.u,$)),Kl(this.h,q),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),q.U=!0,Ei(q,E,null)):Ei(q,E,v),this.I=2}}else this.I==3&&(h?io(this,h):this.i.length==0||Gl(this.h)||io(this))};function io(h,v){var E;v?E=v.l:E=h.V++;const w=xt(h.J);Xe(w,"SID",h.M),Xe(w,"RID",E),Xe(w,"AID",h.K),Ua(h,w),h.u&&h.o&&ka(w,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Kc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Kl(h.h,E),Ei(E,w,v)}function Ua(h,v){h.H&&Te(h.H,function(E,w){Xe(v,w,E)}),h.l&&Te({},function(E,w){Xe(v,w,E)})}function Kc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const vt=["count="+E];Ce==-1?E>0?(Ce=q[0].g,vt.push("ofs="+Ce)):Ce=0:vt.push("ofs="+Ce);let Qe=!0;for(let ct=0;ct<E;ct++){var $=q[ct].g;const Ln=q[ct].map;if($-=Ce,$<0)Ce=Math.max(0,q[ct].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var le=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Di,ri]of le){let li=ri;p(ri)&&(li=xs(ri)),vt.push($+Di+"="+encodeURIComponent(li))}}catch(Di){throw vt.push($+"type="+encodeURIComponent("_badmap")),Di}}catch{w&&w(Ln)}}if(Qe){le=vt.join("&");break e}}le=void 0}return h=h.i.splice(0,E),v.G=h,le}function Qc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||x(),ce||(oe(),ce=!0),I.add(v,h),h.A=0}}function za(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(y(h.Da,h),Xc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ms(this),Yc(this))};function so(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Yc(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),Ua(h,v),h.u&&h.o&&ka(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Oa(xt(v)),E.u=null,E.R=!0,Er(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),za(this),St(19))};function Cr(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function $c(h,v){var E=null;if(h.g==v){Cr(h),so(h),h.g=null;var w=2}else if(wi(h.h,v))E=v.G,Ql(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;w=_r(),Lt(w,new yi(w,E)),Ii(h)}else Qc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&Rr(h,v)||w==2&&za(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function Xc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const q=!w;w=new Sn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(w,"https"),Oa(w),q?ii(w.toString(),E):Zl(w.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(v),Wc(h),Nr(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Wc(h){if(h.I=0,h.ja=[],h.l){const v=Yl(h.h);(v.length!=0||h.i.length!=0)&&(R(h.ja,v),R(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function Jc(h,v,E){var w=E instanceof Sn?xt(E):new Sn(E);if(w.g!="")v&&(w.g=v+"."+w.g),Ns(w,w.u);else{var q=d.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const $=new Sn(null);w&&Ht($,w),v&&($.g=v),q&&Ns($,q),E&&($.h=E),w=$}return E=h.G,v=h.wa,E&&v&&Xe(w,E,v),Xe(w,"VER",h.ka),Ua(h,w),w}function Zc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Ni({ab:E})):new Ze(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}s=eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){bt.call(this),this.g=new Os(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Xi(this)}b(cn,bt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){no(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xs(h),h=E);v.i.push(new wt(v.Ya++,h)),v.I==3&&Ii(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,cn.Z.N.call(this)};function tu(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(tu,Gt);function nu(){On.call(this),this.status=1}b(nu,On);function Xi(h){this.g=h}b(Xi,eu),Xi.prototype.ra=function(){Lt(this.g,"a")},Xi.prototype.qa=function(h){Lt(this.g,new tu(h))},Xi.prototype.pa=function(h){Lt(this.g,new nu)},Xi.prototype.oa=function(){Lt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Xb=function(){return new Vs},$b=function(){return _r()},Yb=yt,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ja.NO_ERROR=0,ja.TIMEOUT=8,ja.HTTP_ERROR=6,_h=ja,Hl.COMPLETE="complete",Qb=Hl,Mc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Qo=Mc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Kb=Ze}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",VE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Dl="12.3.0";const hr=new Ap("@firebase/firestore");function rl(){return hr.logLevel}function de(s,...e){if(hr.logLevel<=Ue.DEBUG){const n=e.map(Vp);hr.debug(`Firestore (${Dl}): ${s}`,...n)}}function Es(s,...e){if(hr.logLevel<=Ue.ERROR){const n=e.map(Vp);hr.error(`Firestore (${Dl}): ${s}`,...n)}}function yl(s,...e){if(hr.logLevel<=Ue.WARN){const n=e.map(Vp);hr.warn(`Firestore (${Dl}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,Wb(s,a,n)}function Wb(s,e,n){let a=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw Es(a),new Error(a)}function $e(s,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||Wb(e,l,a)}function Re(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let c=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new Jb(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class KC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $C(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=$C(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function ze(s,e){return s<e?-1:s>e?1:0}function Zm(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Mm(l)===Mm(c)?ze(l,c):Mm(l)?1:-1}return ze(s.length,e.length)}const XC=55296,WC=57343;function Mm(s){const e=s.charCodeAt(0);return e>=XC&&e<=WC}function vl(s,e,n){return s.length===e.length&&s.every(((a,l)=>n(a,e[l])))}const LE="__name__";class Li{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=Li.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const a=Li.isNumericId(e),l=Li.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?Li.extractNumericId(e).compare(Li.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fa.fromString(e.substring(4,e.length-2))}}class st extends Li{construct(e,n,a){return new st(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Li{construct(e,n,a){return new Jt(e,n,a)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Jt([LE])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function Zb(s,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZC(s,e,n,a){if(e===!0&&a===!0)throw new he(ee.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function PE(s){if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function UE(s){if(_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function e0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function En(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ac(s,e){if(!e0(s))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}const zE=-62135596800,BE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*BE);return new lt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ot("string",lt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lc=-1;function eI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(a===1e9?new lt(n+1,0):new lt(n,a));return new pa(l,_e.empty(),e)}function tI(s){return new pa(s.readTime,s.key,lc)}class pa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new pa(we.min(),_e.empty(),lc)}static max(){return new pa(we.max(),_e.empty(),lc)}}function nI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==iI)throw s;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,a)=>{n(e)}))}static reject(e){return new se(((n,a)=>{a(e)}))}static waitFor(e){return new se(((n,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>a(g)))})),d=!0,c===l&&n()}))}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next((l=>l?se.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,c)=>{a.push(n.call(this,l,c))})),this.waitFor(a)}static mapArray(e,n){return new se(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new se(((a,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):a()};c()}))}}function aI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(s){return s.name==="IndexedDbTransactionError"}class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Lp=-1;function Zh(s){return s==null}function Vh(s){return s===0&&1/s==-1/0}function rI(s){return typeof s=="number"&&Number.isInteger(s)&&!Vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const t0="";function lI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=HE(e)),e=oI(s.get(n),e);return HE(e)}function oI(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case t0:n+="";break;default:n+=c}}return n}function HE(s){return s+t0+""}function qE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Sa(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function n0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class ft{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Wt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,l,c){return this}insert(e,n,a){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new jn([])}unionWith(e){let n=new zt(Jt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i0("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const cI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ga(s){if($e(!!s,39018),typeof s=="string"){let e=0;const n=cI.exec(s);if($e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ya(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}const s0="server_timestamp",a0="__type__",r0="__previous_value__",l0="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[a0]?.stringValue===s0}function ed(s){const e=s.mapValue.fields[r0];return Pp(e)?ed(e):e}function oc(s){const e=ga(s.mapValue.fields[l0].timestampValue);return new lt(e.seconds,e.nanos)}class uI{constructor(e,n,a,l,c,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const kh="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const o0="__type__",hI="__max__",uh={mapValue:{}},c0="__vector__",Lh="value";function va(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:fI(s)?9007199254740991:dI(s)?10:11:Se(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const n=va(s);if(n!==va(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return oc(s).isEqual(oc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ga(l.timestampValue),p=ga(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ya(l.bytesValue).isEqual(ya(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Tt(l.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(l.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Tt(l.integerValue)===Tt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Tt(l.doubleValue),p=Tt(c.doubleValue);return d===p?Vh(d)===Vh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return vl(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(qE(d)!==qE(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Fi(d[g],p[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function uc(s,e){return(s.values||[]).find((n=>Fi(n,e)))!==void 0}function _l(s,e){if(s===e)return 0;const n=va(s),a=va(e);if(n!==a)return ze(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Tt(c.integerValue||c.doubleValue),g=Tt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return GE(s.timestampValue,e.timestampValue);case 4:return GE(oc(s),oc(e));case 5:return Zm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ya(c),g=ya(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ze(p[y],g[y]);if(T!==0)return T}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(Tt(c.latitude),Tt(d.latitude));return p!==0?p:ze(Tt(c.longitude),Tt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return KE(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Lh]?.arrayValue,T=g[Lh]?.arrayValue,b=ze(y?.values?.length||0,T?.values?.length||0);return b!==0?b:KE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===uh.mapValue&&d===uh.mapValue)return 0;if(c===uh.mapValue)return 1;if(d===uh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const S=Zm(g[b],T[b]);if(S!==0)return S;const O=_l(p[g[b]],y[T[b]]);if(O!==0)return O}return ze(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function GE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=ga(s),a=ga(e),l=ze(n.seconds,a.seconds);return l!==0?l:ze(n.nanos,a.nanos)}function KE(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=_l(n[l],a[l]);if(c)return c}return ze(n.length,a.length)}function El(s){return ep(s)}function ep(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=ga(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ya(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return _e.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=ep(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ep(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Eh(s){switch(va(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(s);return e?16+Eh(e):16;case 5:return 2*s.stringValue.length;case 6:return ya(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Eh(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Sa(a.fields,((c,d)=>{l+=c.length+Eh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function QE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function tp(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function YE(s){return!!s&&"nullValue"in s}function $E(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Th(s){return!!s&&"mapValue"in s}function dI(s){return(s?.mapValue?.fields||{})[o0]?.stringValue===c0}function ec(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sa(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=ec(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(s.arrayValue.values[n]);return e}return{...s}}function fI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=Jt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=p.popLast()}d?a[p.lastSegment()]=ec(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Sa(n,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new _n(ec(this.value))}}function u0(s){const e=[];return Sa(s.fields,((n,a)=>{const l=new Jt([n]);if(Th(a)){const c=u0(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new jn(e)}class sn{constructor(e,n,a,l,c,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,a,l){return new sn(e,1,n,we.min(),a,l,0)}static newNoDocument(e,n){return new sn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function XE(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=_e.comparator(_e.fromName(d.referenceValue),n.key):a=_l(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function WE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Fi(s.position[n],e.position[n]))return!1;return!0}class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class h0{}class Dt extends h0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new gI(e,n,a):n==="array-contains"?new _I(e,a):n==="in"?new EI(e,a):n==="not-in"?new TI(e,a):n==="array-contains-any"?new bI(e,a):new Dt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new yI(e,a):new vI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_l(n,this.value)):n!==null&&va(this.value)===va(n)&&this.matchesComparison(_l(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return d0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d0(s){return s.op==="and"}function f0(s){return pI(s)&&d0(s)}function pI(s){for(const e of s.filters)if(e instanceof fi)return!1;return!0}function np(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+El(s.value);if(f0(s))return s.filters.map((e=>np(e))).join(",");{const e=s.filters.map((n=>np(n))).join(",");return`${s.op}(${e})`}}function m0(s,e){return s instanceof Dt?(function(a,l){return l instanceof Dt&&a.op===l.op&&a.field.isEqual(l.field)&&Fi(a.value,l.value)})(s,e):s instanceof fi?(function(a,l){return l instanceof fi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&m0(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function p0(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${El(n.value)}`})(s):s instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"})(s):"Filter"}class gI extends Dt{constructor(e,n,a){super(e,n,a),this.key=_e.fromName(a.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends Dt{constructor(e,n){super(e,"in",n),this.keys=g0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=g0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g0(s,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class _I extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&uc(n.arrayValue,this.value)}}class EI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class TI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class bI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>uc(this.value.arrayValue,a)))}}class SI{constructor(e,n=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function JE(s,e=null,n=[],a=[],l=null,c=null,d=null){return new SI(s,e,n,a,l,c,d)}function zp(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>np(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>El(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>El(a))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!mI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!m0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!WE(s.startAt,e.startAt)&&WE(s.endAt,e.endAt)}function ip(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vl{constructor(e,n=null,a=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AI(s,e,n,a,l,c,d,p){return new Vl(s,e,n,a,l,c,d,p)}function td(s){return new Vl(s)}function ZE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function y0(s){return s.collectionGroup!==null}function tc(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Jt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hc(c,a))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new hc(Jt.keyField(),a))}return e.Ie}function zi(s){const e=Re(s);return e.Ee||(e.Ee=wI(e,tc(s))),e.Ee}function wI(s,e){if(s.limitType==="F")return JE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hc(l.field,c)}));const n=s.endAt?new Ph(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ph(s.startAt.position,s.startAt.inclusive):null;return JE(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function sp(s,e){const n=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function ap(s,e,n){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function nd(s,e){return Bp(zi(s),zi(e))&&s.limitType===e.limitType}function v0(s){return`${zp(zi(s))}|lt:${s.limitType}`}function ll(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>p0(l))).join(", ")}]`),Zh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>El(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>El(l))).join(",")),`Target(${a})`})(zi(s))}; limitType=${s.limitType})`}function id(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_e.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of tc(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,g){const y=XE(d,p,g);return d.inclusive?y<=0:y<0})(a.startAt,tc(a),l)||a.endAt&&!(function(d,p,g){const y=XE(d,p,g);return d.inclusive?y>=0:y>0})(a.endAt,tc(a),l))})(s,e)}function xI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _0(s){return(e,n)=>{let a=!1;for(const l of tc(s)){const c=NI(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function NI(s,e,n){const a=s.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?_l(g,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class mr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,((n,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}const RI=new ft(_e.comparator);function Ts(){return RI}const E0=new ft(_e.comparator);function Yo(...s){let e=E0;for(const n of s)e=e.insert(n.key,n);return e}function T0(s){let e=E0;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function sr(){return nc()}function b0(){return nc()}function nc(){return new mr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CI=new ft(_e.comparator),II=new zt(_e.comparator);function Be(...s){let e=II;for(const n of s)e=e.add(n);return e}const jI=new zt(ze);function DI(){return jI}function Hp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function S0(s){return{integerValue:""+s}}function A0(s,e){return rI(e)?S0(e):Hp(s,e)}class sd{constructor(){this._=void 0}}function OI(s,e,n){return s instanceof dc?(function(l,c){const d={fields:{[a0]:{stringValue:s0},[l0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pp(c)&&(c=ed(c)),c&&(d.fields[r0]=c),{mapValue:d}})(n,e):s instanceof fc?x0(s,e):s instanceof mc?N0(s,e):(function(l,c){const d=w0(l,c),p=eT(d)+eT(l.Ae);return tp(d)&&tp(l.Ae)?S0(p):Hp(l.serializer,p)})(s,e)}function MI(s,e,n){return s instanceof fc?x0(s,e):s instanceof mc?N0(s,e):n}function w0(s,e){return s instanceof pc?(function(a){return tp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class dc extends sd{}class fc extends sd{constructor(e){super(),this.elements=e}}function x0(s,e){const n=R0(e);for(const a of s.elements)n.some((l=>Fi(l,a)))||n.push(a);return{arrayValue:{values:n}}}class mc extends sd{constructor(e){super(),this.elements=e}}function N0(s,e){let n=R0(e);for(const a of s.elements)n=n.filter((l=>!Fi(l,a)));return{arrayValue:{values:n}}}class pc extends sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eT(s){return Tt(s.integerValue||s.doubleValue)}function R0(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class C0{constructor(e,n){this.field=e,this.transform=n}}function VI(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof fc&&l instanceof fc||a instanceof mc&&l instanceof mc?vl(a.elements,l.elements,Fi):a instanceof pc&&l instanceof pc?Fi(a.Ae,l.Ae):a instanceof dc&&l instanceof dc})(s.transform,e.transform)}class kI{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ad{}function I0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qp(s.key,$n.none()):new wc(s.key,s.data,$n.none());{const n=s.data,a=_n.empty();let l=new zt(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Aa(s.key,a,new jn(l.toArray()),$n.none())}}function LI(s,e,n){s instanceof wc?(function(l,c,d){const p=l.value.clone(),g=nT(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Aa?(function(l,c,d){if(!bh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=nT(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(j0(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function ic(s,e,n,a){return s instanceof wc?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=c.value.clone(),T=iT(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,a):s instanceof Aa?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=iT(c.fieldTransforms,g,d),T=d.data;return T.setAll(j0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,a):(function(c,d,p){return bh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function PI(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=w0(a.transform,l||null);c!=null&&(n===null&&(n=_n.empty()),n.set(a.field,c))}return n||null}function tT(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&vl(a,l,((c,d)=>VI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class wc extends ad{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Aa extends ad{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function nT(s,e,n){const a=new Map;$e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,MI(d,p,n[l]))}return a}function iT(s,e,n){const a=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);a.set(l.field,OI(c,d,e))}return a}class qp extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends ad{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&LI(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=ic(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=ic(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=b0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=I0(d,p);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(we.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((n,a)=>tT(n,a)))&&vl(this.baseMutations,e.baseMutations,((n,a)=>tT(n,a)))}}class Fp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return CI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fp(e,n,a,l)}}class BI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HI{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Fe;function qI(s){switch(s){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function D0(s){if(s===void 0)return Es("GRPC error has no .code"),ee.UNKNOWN;switch(s){case jt.OK:return ee.OK;case jt.CANCELLED:return ee.CANCELLED;case jt.UNKNOWN:return ee.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ee.INTERNAL;case jt.UNAVAILABLE:return ee.UNAVAILABLE;case jt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case jt.NOT_FOUND:return ee.NOT_FOUND;case jt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case jt.ABORTED:return ee.ABORTED;case jt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case jt.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:s})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function FI(){return new TextEncoder}const GI=new fa([4294967295,4294967295],0);function sT(s){const e=FI().encode(s),n=new Gb;return n.update(e),new Uint8Array(n.digest())}function aT(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fa([n,a],0),new fa([l,c],0)]}class Gp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(a<0)throw new $o(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fa.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(fa.fromNumber(a)));return l.compare(GI)===1&&(l=new fa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sT(e),[a,l]=aT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gp(c,l,n);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=sT(e),[a,l]=aT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rd{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new rd(we.min(),l,new ft(ze),Ts(),Be())}}class xc{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new xc(a,n,Be(),Be(),Be())}}class Sh{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class O0{constructor(e,n){this.targetId=e,this.Ce=n}}class M0{constructor(e,n,a=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class rT{constructor(){this.ve=0,this.Fe=lT(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),a=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:c})}})),new xc(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=hh(),this.He=hh(),this.Ye=new ft(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(ip(c))if(a===0){const d=new _e(c.path);this.et(n,d,sn.newNoDocument(d,we.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=ya(a).toUint8Array()}catch(g){if(g instanceof i0)return yl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gp(d,l,c)}catch(g){return yl(g instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ip(p.target)){const g=new _e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let a=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new rd(e,n,this.Ye,this.je,a);return this.je=Ts(),this.Je=hh(),this.He=hh(),this.Ye=new ft(ze),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new rT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new ft(_e.comparator)}function lT(){return new ft(_e.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class XI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(s,e){return s.useProto3Json||Zh(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function WI(s,e){return Uh(s,e.toTimestamp())}function Bi(s){return $e(!!s,49232),we.fromTimestamp((function(n){const a=ga(n);return new lt(a.seconds,a.nanos)})(s))}function Kp(s,e){return lp(s,e).canonicalString()}function lp(s,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function k0(s){const e=st.fromString(s);return $e(B0(e),10190,{key:e.toString()}),e}function op(s,e){return Kp(s.databaseId,e.path)}function Vm(s,e){const n=k0(e);if(n.get(1)!==s.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(P0(n))}function L0(s,e){return Kp(s.databaseId,e)}function JI(s){const e=k0(s);return e.length===4?st.emptyPath():P0(e)}function cp(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P0(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function oT(s,e,n){return{name:op(s,e),fields:n.value.mapValue.fields}}function ZI(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Zt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Zt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ee.UNKNOWN:D0(y.code);return new he(T,y.message||"")})(d);n=new M0(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=Vm(s,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):we.min(),p=new _n({mapValue:{fields:a.document.fields}}),g=sn.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];n=new Sh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=Vm(s,a.document),c=a.readTime?Bi(a.readTime):we.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];n=new Sh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=Vm(s,a.document),c=a.removedTargetIds||[];n=new Sh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new HI(l,c),p=a.targetId;n=new O0(p,d)}}return n}function ej(s,e){let n;if(e instanceof wc)n={update:oT(s,e.key,e.value)};else if(e instanceof qp)n={delete:op(s,e.key)};else if(e instanceof Aa)n={update:oT(s,e.key,e.data),updateMask:cj(e.fieldMask)};else{if(!(e instanceof UI))return Se(16599,{Vt:e.type});n={verify:op(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function tj(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(we.min())&&(d=Bi(c)),new kI(d,l.transformResults||[])})(n,e)))):[]}function nj(s,e){return{documents:[L0(s,e.path)]}}function ij(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=L0(s,l);const c=(function(y){if(y.length!==0)return z0(fi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:ol(S.field),direction:rj(S.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=rp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function sj(s){let e=JI(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){$e(a===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const S=U0(b);return S instanceof fi&&f0(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((S=>(function(R){return new hc(cl(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let S;return S=typeof b=="object"?b.value:b,Zh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,O=b.values||[];return new Ph(O,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,O=b.values||[];return new Ph(O,S)})(n.endAt)),AI(e,l,d,c,p,"F",g,y)}function aj(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=cl(n.unaryFilter.field);return Dt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=cl(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=cl(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cl(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(cl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((a=>U0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function rj(s){return QI[s]}function lj(s){return YI[s]}function oj(s){return $I[s]}function ol(s){return{fieldPath:s.canonicalString()}}function cl(s){return Jt.fromServerFormat(s.fieldPath)}function z0(s){return s instanceof Dt?(function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:ol(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(n.field),op:lj(n.op),value:n.value}}})(s):s instanceof fi?(function(n){const a=n.getFilters().map((l=>z0(l)));return a.length===1?a[0]:{compositeFilter:{op:oj(n.op),filters:a}}})(s):Se(54877,{filter:s})}function cj(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class ca{constructor(e,n,a,l,c=we.min(),d=we.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ca(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ca(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uj{constructor(e){this.yt=e}}function hj(s){const e=sj({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ap(e,e.limit,"L"):e}class dj{constructor(){this.Cn=new fj}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(pa.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(pa.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class fj{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new zt(st.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(H0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class Tl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Tl(0)}static cr(){return new Tl(-1)}}const uT="LruGarbageCollector",mj=1048576;function hT([s,e],[n,a]){const l=ze(s,n);return l===0?ze(e,a):l}class pj{constructor(e){this.Ir=e,this.buffer=new zt(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();hT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(uT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?de(uT,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class yj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Jh.ce);const a=new pj(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(cT)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(e,a,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(y=Date.now(),rl()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function vj(s,e){return new yj(s,e)}class _j{constructor(){this.changes=new mr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ej{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tj{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&ic(a.mutation,l,jn.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,Be()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=Be()){const l=sr();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((c=>{let d=Yo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=sr();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,Be())))}populateOverlays(e,n,a){const l=[];return a.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,a,l){let c=Ts();const d=nc(),p=(function(){return nc()})();return n.forEach(((g,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Aa)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),ic(T.mutation,y,T.mutation.getFieldMask(),lt.now())):d.set(y.key,jn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new Ej(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=nc();let l=new ft(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=a.get(g)||jn.empty();T=p.applyToLocalView(y,T),a.set(g,T);const b=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=b0();T.forEach((S=>{if(!c.has(S)){const O=I0(n.get(S),a.get(S));O!==null&&b.set(S,O),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return se.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):se.resolve(sr());let p=lc,g=c;return d.next((y=>se.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{g=g.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((T=>({batchId:p,changes:T0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((a=>{let l=Yo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=Yo();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(g=>{const y=(function(b,S){return new Vl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((T=>{T.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))}));let p=Yo();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&ic(T.mutation,y,jn.empty(),lt.now()),id(n,y)&&(p=p.insert(g,y))})),p}))}}class bj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:hj(l.bundledQuery),readTime:Bi(l.readTime)}})(n)),se.resolve()}}class Sj{constructor(){this.overlays=new ft(_e.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=sr();return se.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const l=sr(),c=n.length+1,d=new _e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new ft(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=sr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=sr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return se.resolve(p)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new BI(n,a));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class Aj{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Qp{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Ft(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new _e(new st([])),a=new Ft(n,e),l=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new st([])),a=new Ft(n,e),l=new Ft(n,e+1);let c=Be();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ft(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class wj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zI(c,n,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),c=l<0?0:l;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new zt(ze);return n.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),se.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;_e.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new _e(c),0);let p=new zt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return se.forEach(n.mutations,(l=>{const c=new Ft(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Ft(n,0),l=this.Zr.firstAfterOrEqual(a);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xj{constructor(e){this.ri=e,this.docs=(function(){return new ft(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=Ts();return n.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=Ts();const d=n.path,p=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||nI(tI(T),a)<=0||(l.has(T.key)||id(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Se(9500)}ii(e,n){return se.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new Nj(this)}getSize(e){return se.resolve(this.size)}}class Nj extends _j{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Rj{constructor(e){this.persistence=e,this.si=new mr((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=Tl.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Tl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),se.waitFor(c).next((()=>l))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),se.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class q0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new Aj,this.referenceDelegate=e(this),this.Pi=new Rj(this),this.indexManager=new dj,this.remoteDocumentCache=(function(l){return new xj(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new uj(n),this.Ii=new bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new wj(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const l=new Cj(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class Cj extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Yp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(a=>{const l=_e.fromPath(a);return this.gi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new mr((a=>lI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=vj(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?se.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(a++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,a){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return se.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $p{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=Be(),l=Be();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $p(e,n.fromCache,a,l)}}class Ij{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aN()?8:aI(an())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ij;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(rl()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ll(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(rl()<=Ue.DEBUG&&de("QueryEngine","Query:",ll(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(rl()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ll(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):se.resolve())}ys(e,n){if(ZE(n))return se.resolve(null);let a=zi(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=ap(n,null,"F"),a=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,ap(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,a,l){return ZE(n)||l.isEqual(we.min())?se.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,a,l)?se.resolve(null):(rl()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ll(n)),this.vs(e,d,n,eI(l,lc)).next((p=>p)))}))}Ds(e,n){let a=new zt(_0(e));return n.forEach(((l,c)=>{id(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,a){return rl()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ll(n)),this.ps.getDocumentsMatchingQuery(e,n,pa.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xp="LocalStore",Dj=3e8;class Oj{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ft(ze),this.xs=new mr((c=>zp(c)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Mj(s,e,n,a){return new Oj(s,e,n,a)}async function F0(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let g=Be();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(a,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Vj(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,S=b.keys();let O=se.resolve();return S.forEach((R=>{O=O.next((()=>T.getEntry(g,R))).next((C=>{const U=y.docVersions.get(R);$e(U!==null,48541),C.version.compareTo(U)<0&&(b.applyToRemoteDocument(C,y),C.isValidDocument()&&(C.setReadTime(y.commitVersion),T.addEntry(C)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function G0(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kj(s,e){const n=Re(s),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const S=l.get(b);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let O=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,a)),l=l.insert(b,O),(function(C,U,Y){return C.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Dj?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,O,T)&&p.push(n.Pi.updateTargetData(c,O))}));let g=Ts(),y=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Lj(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!a.isEqual(we.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return se.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function Lj(s,e,n){let a=Be(),l=Be();return n.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ts();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de(Xp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function Pj(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Uj(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((c=>c?(l=c,se.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new ca(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function up(s,e,n){const a=Re(s),l=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ml(d))throw d;de(Xp,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function dT(s,e,n){const a=Re(s);let l=we.min(),c=Be();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=Re(g),S=b.xs.get(T);return S!==void 0?se.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,T)})(a,d,zi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Be()))).next((p=>(zj(a,xI(e),p),{documents:p,Qs:c})))))}function zj(s,e,n){let a=s.Os.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class fT{constructor(){this.activeTargetIds=DI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bj{constructor(){this.Mo=new fT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fT,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hj{Oo(e){}shutdown(){}}const mT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dh=null;function hp(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}const km="RestConnection",qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===kh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,c){const d=hp(),p=this.zo(e,n.toUriEncodedString());de(km,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Cl(y);return this.Jo(e,p,g,a,T).then((b=>(de(km,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw yl(km,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(e,n,a,l,c,d){return this.Go(e,n,a,l,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const a=qj[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class Gj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Kj extends Fj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,c){const d=hp();return new Promise(((p,g)=>{const y=new Kb;y.setWithCredentials(!0),y.listenOnce(Qb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const b=y.getResponseJson();de(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case _h.TIMEOUT:de(tn,`RPC '${e}' ${d} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const S=y.getStatus();if(de(tn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const R=O?.error;if(R&&R.status&&R.message){const C=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(R.status);g(new he(C,R.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(tn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(tn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,a,15)}))}T_(e,n,a){const l=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Xb(),p=$b(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const T=c.join("");de(tn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let S=!1,O=!1;const R=new Gj({Yo:U=>{O?de(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(S||(de(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),de(tn,`RPC '${e}' stream ${l} sending:`,U),b.send(U))},Zo:()=>b.close()}),C=(U,Y,W)=>{U.listen(Y,(ie=>{try{W(ie)}catch(z){setTimeout((()=>{throw z}),0)}}))};return C(b,Qo.EventType.OPEN,(()=>{O||(de(tn,`RPC '${e}' stream ${l} transport opened.`),R.o_())})),C(b,Qo.EventType.CLOSE,(()=>{O||(O=!0,de(tn,`RPC '${e}' stream ${l} transport closed`),R.a_(),this.E_(b))})),C(b,Qo.EventType.ERROR,(U=>{O||(O=!0,yl(tn,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),R.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),C(b,Qo.EventType.MESSAGE,(U=>{if(!O){const Y=U.data[0];$e(!!Y,16349);const W=Y,ie=W?.error||W[0]?.error;if(ie){de(tn,`RPC '${e}' stream ${l} received error:`,ie);const z=ie.status;let oe=(function(x){const N=jt[x];if(N!==void 0)return D0(N)})(z),ce=ie.message;oe===void 0&&(oe=ee.INTERNAL,ce="Unknown error status: "+z+" with message "+ie.message),O=!0,R.a_(new he(oe,ce)),b.close()}else de(tn,`RPC '${e}' stream ${l} received:`,Y),R.u_(Y)}})),C(p,Yb.STAT_EVENT,(U=>{U.stat===Jm.PROXY?de(tn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===Jm.NOPROXY&&de(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}function ld(s){return new XI(s,!0)}class K0{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gT="PersistentStream";class Q0{constructor(e,n,a,l,c,d,p,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new he(ee.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qj extends Q0{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZI(this.serializer,e),a=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Bi(d.readTime):we.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=ip(g)?{documents:nj(c,g)}:{query:ij(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=V0(c,d.resumeToken);const y=rp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=Uh(c,d.snapshotVersion.toTimestamp());const y=rp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=aj(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class Yj extends Q0{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tj(e.writeResults,e.commitTime),a=Bi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>ej(this.serializer,a)))};this.q_(n)}}class $j{}class Xj extends $j{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,lp(n,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,n,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,lp(n,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const dr="RemoteStore";class Jj{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{pr(this)&&(de(dr,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Nc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await od(y)})(this))}))})),this.Ra=new Wj(a,l)}}async function od(s){if(pr(s))for(const e of s.da)await e(!0)}async function Nc(s){for(const e of s.da)await e(!1)}function Y0(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):kl(n).O_()&&Jp(n,e))}function Wp(s,e){const n=Re(s),a=kl(n);n.Ia.delete(e),a.O_()&&$0(n,e),n.Ia.size===0&&(a.O_()?a.L_():pr(n)&&n.Ra.set("Unknown"))}function Jp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(s).Y_(e)}function $0(s,e){s.Va.Ue(e),kl(s).Z_(e)}function Zp(s){s.Va=new KI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.Ra.ua()}function eg(s){return pr(s)&&!kl(s).x_()&&s.Ia.size>0}function pr(s){return Re(s).Ea.size===0}function X0(s){s.Va=void 0}async function Zj(s){s.Ra.set("Online")}async function e2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function t2(s,e){X0(s),eg(s)?(s.Ra.ha(e),Zp(s)):s.Ra.set("Unknown")}async function n2(s,e,n){if(s.Ra.set("Online"),e instanceof M0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){de(dr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Bh(s,a)}else if(e instanceof Sh?s.Va.Ze(e):e instanceof O0?s.Va.st(e):s.Va.tt(e),!n.isEqual(we.min()))try{const a=await G0(s.localStore);n.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Zt.EMPTY_BYTE_STRING,T.snapshotVersion)),$0(c,g);const b=new ca(T.target,g,y,T.sequenceNumber);Jp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(a){de(dr,"Failed to raise snapshot:",a),await Bh(s,a)}}async function Bh(s,e,n){if(!Ml(e))throw e;s.Ea.add(1),await Nc(s),s.Ra.set("Offline"),n||(n=()=>G0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(dr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await od(s)}))}function W0(s,e){return e().catch((n=>Bh(s,n,e)))}async function cd(s){const e=Re(s),n=_a(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;i2(e);)try{const l=await Pj(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,s2(e,l)}catch(l){await Bh(e,l)}J0(e)&&Z0(e)}function i2(s){return pr(s)&&s.Ta.length<10}function s2(s,e){s.Ta.push(e);const n=_a(s);n.O_()&&n.X_&&n.ea(e.mutations)}function J0(s){return pr(s)&&!_a(s).x_()&&s.Ta.length>0}function Z0(s){_a(s).start()}async function a2(s){_a(s).ra()}async function r2(s){const e=_a(s);for(const n of s.Ta)e.ea(n.mutations)}async function l2(s,e,n){const a=s.Ta.shift(),l=Fp.from(a,e,n);await W0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await cd(s)}async function o2(s,e){e&&_a(s).X_&&await(async function(a,l){if((function(d){return qI(d)&&d!==ee.ABORTED})(l.code)){const c=a.Ta.shift();_a(a).B_(),await W0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await cd(a)}})(s,e),J0(s)&&Z0(s)}async function yT(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),de(dr,"RemoteStore received new credentials");const a=pr(n);n.Ea.add(3),await Nc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await od(n)}async function c2(s,e){const n=Re(s);e?(n.Ea.delete(2),await od(n)):e||(n.Ea.add(2),await Nc(n),n.Ra.set("Unknown"))}function kl(s){return s.ma||(s.ma=(function(n,a,l){const c=Re(n);return c.sa(),new Qj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:Zj.bind(null,s),t_:e2.bind(null,s),r_:t2.bind(null,s),H_:n2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Ra.set("Unknown")):(await s.ma.stop(),X0(s))}))),s.ma}function _a(s){return s.fa||(s.fa=(function(n,a,l){const c=Re(n);return c.sa(),new Yj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:a2.bind(null,s),r_:o2.bind(null,s),ta:r2.bind(null,s),na:l2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await cd(s)):(await s.fa.stop(),s.Ta.length>0&&(de(dr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,p=new tg(e,n,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(Es("AsyncQueue",`${e}: ${s}`),Ml(s))return new he(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||_e.comparator(n.key,a.key):(n,a)=>_e.comparator(n.key,a.key),this.keyedMap=Yo(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new ml;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class vT{constructor(){this.ga=new ft(_e.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class bl{constructor(e,n,a,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new bl(e,n,ml.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class u2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class h2{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Re(n),c=l.queries;l.queries=_T(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function _T(){return new mr((s=>v0(s)),nd)}async function ig(s,e){const n=Re(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new u2,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=ng(d,`Initialization of query '${ll(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&ag(n)}async function sg(s,e){const n=Re(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function d2(s,e){const n=Re(s);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&ag(n)}function f2(s,e,n){const a=Re(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);a.queries.delete(e)}function ag(s){s.Ca.forEach((e=>{e.next()}))}var dp,ET;(ET=dp||(dp={})).Ma="default",ET.Cache="cache";class rg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new bl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class m2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=_0(e),this.tu=new ml(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new vT,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const S=l.get(T),O=id(this.query,b)?b:null,R=!!S&&this.mutatedKeys.has(S.key),C=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;S&&O?S.data.isEqual(O.data)?R!==C&&(a.track({type:3,doc:O}),U=!0):this.su(S,O)||(a.track({type:2,doc:O}),U=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!S&&O?(a.track({type:0,doc:O}),U=!0):S&&!O&&(a.track({type:1,doc:S}),U=!0,(g||y)&&(p=!0)),U&&(O?(d=d.add(O),c=C?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(O,R){const C=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return C(O)-C(R)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(a),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new bl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new tS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new eS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class p2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class g2{constructor(e){this.key=e,this.hu=!1}}class y2{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new mr((p=>v0(p)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new ft(_e.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=Tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(s,e,n=!0){const a=lS(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nS(a,e,n,!0),l}async function _2(s,e){const n=lS(s);await nS(n,e,!0,!1)}async function nS(s,e,n,a){const l=await Uj(s.localStore,zi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return a&&(p=await E2(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&Y0(s.remoteStore,l),p}async function E2(s,e,n,a,l){s.pu=(b,S,O)=>(async function(C,U,Y,W){let ie=U.view.ru(Y);ie.Cs&&(ie=await dT(C.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,ie))));const z=W&&W.targetChanges.get(U.targetId),oe=W&&W.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(ie,C.isPrimaryClient,z,oe);return bT(C,U.targetId,ce.au),ce.snapshot})(s,b,S,O);const c=await dT(s.localStore,e,!0),d=new m2(e,c.Qs),p=d.ru(c.documents),g=xc.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);bT(s,n,y.au);const T=new p2(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function T2(s,e,n){const a=Re(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!nd(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await up(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&Wp(a.remoteStore,l.targetId),fp(a,l.targetId)})).catch(Ol)):(fp(a,l.targetId),await up(a.localStore,l.targetId,!0))}async function b2(s,e){const n=Re(s),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Wp(n.remoteStore,a.targetId))}async function S2(s,e,n){const a=I2(s);try{const l=await(function(d,p){const g=Re(d),y=lt.now(),T=p.reduce(((O,R)=>O.add(R.key)),Be());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let R=Ts(),C=Be();return g.Ns.getEntries(O,T).next((U=>{R=U,R.forEach(((Y,W)=>{W.isValidDocument()||(C=C.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,R))).next((U=>{b=U;const Y=[];for(const W of p){const ie=PI(W,b.get(W.key).overlayedDocument);ie!=null&&Y.push(new Aa(W.key,ie,u0(ie.value.mapValue),$n.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,Y,p)})).next((U=>{S=U;const Y=U.applyToLocalDocumentSet(b,C);return g.documentOverlayCache.saveOverlays(O,U.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:T0(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ft(ze)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,n),await Rc(a,l.changes),await cd(a.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");n.reject(c)}}async function iS(s,e){const n=Re(s);try{const a=await kj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Rc(n,a,e)}catch(a){await Ol(a)}}function TT(s,e,n){const a=Re(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Re(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)})),y&&ag(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function A2(s,e,n){const a=Re(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new ft(_e.comparator);d=d.insert(c,sn.newNoDocument(c,we.min()));const p=Be().add(c),g=new rd(we.min(),new Map,new ft(ze),d,p);await iS(a,g),a.du=a.du.remove(c),a.Au.delete(e),og(a)}else await up(a.localStore,e,!1).then((()=>fp(a,e,n))).catch(Ol)}async function w2(s,e){const n=Re(s),a=e.batch.batchId;try{const l=await Vj(n.localStore,e);aS(n,a,null),sS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Rc(n,l)}catch(l){await Ol(l)}}async function x2(s,e,n){const a=Re(s);try{const l=await(function(d,p){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>($e(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);aS(a,e,n),sS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Rc(a,l)}catch(l){await Ol(l)}}function sS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function aS(s,e,n){const a=Re(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function fp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||rS(s,a)}))}function rS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Wp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),og(s))}function bT(s,e,n){for(const a of n)a instanceof eS?(s.Ru.addReference(a.key,e),N2(s,a)):a instanceof tS?(de(lg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||rS(s,a.key)):Se(19791,{wu:a})}function N2(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(de(lg,"New document in limbo: "+n),s.Eu.add(a),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new _e(st.fromString(e)),a=s.fu.next();s.Au.set(a,new g2(n)),s.du=s.du.insert(n,a),Y0(s.remoteStore,new ca(zi(td(n.path)),a,"TargetPurposeLimboResolution",Jh.ce))}}async function Rc(s,e,n){const a=Re(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{d.push(a.pu(g,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=$p.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,y){const T=Re(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(y,(S=>se.forEach(S.Es,(O=>T.persistence.referenceDelegate.addReference(b,S.targetId,O))).next((()=>se.forEach(S.ds,(O=>T.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))))))}catch(b){if(!Ml(b))throw b;de(Xp,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const O=T.Ms.get(S),R=O.snapshotVersion,C=O.withLastLimboFreeSnapshotVersion(R);T.Ms=T.Ms.insert(S,C)}}})(a.localStore,c))}async function R2(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){de(lg,"User change. New user:",e.toKey());const a=await F0(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Rc(n,a.Ls)}}function C2(s,e){const n=Re(s),a=n.Au.get(e);if(a&&a.hu)return Be().add(a.key);{let l=Be();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function lS(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A2.bind(null,e),e.Pu.H_=d2.bind(null,e.eventManager),e.Pu.yu=f2.bind(null,e.eventManager),e}function I2(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Mj(this.persistence,new jj,e.initialUser,this.serializer)}Cu(e){return new q0(Yp.mi,this.serializer)}Du(e){return new Bj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class j2 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof zh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new gj(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new q0((a=>zh.mi(a,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>TT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new h2})()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),a=(function(c){return new Kj(c)})(e.databaseInfo);return(function(c,d,p,g){return new Xj(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,c,d,p){return new Jj(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>TT(this.syncEngine,n,0)),(function(){return pT.v()?new pT:new Hj})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,T){const b=new y2(l,c,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Re(n);de(dr,"RemoteStore shutting down."),a.Ea.add(5),await Nc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ea="FirestoreClient";class D2{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{de(Ea,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(de(Ea,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=ng(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function Pm(s,e){s.asyncQueue.verifyOperationInProgress(),de(Ea,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await F0(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function ST(s,e){s.asyncQueue.verifyOperationInProgress();const n=await O2(s);de(Ea,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>yT(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>yT(e.remoteStore,l))),s._onlineComponents=e}async function O2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Ea,"Using user provided OfflineComponentProvider");try{await Pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;yl("Error using user provided cache. Falling back to memory cache: "+n),await Pm(s,new Hh)}}else de(Ea,"Using default OfflineComponentProvider"),await Pm(s,new j2(void 0));return s._offlineComponents}async function oS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Ea,"Using user provided OnlineComponentProvider"),await ST(s,s._uninitializedComponentsProvider._online)):(de(Ea,"Using default OnlineComponentProvider"),await ST(s,new mp))),s._onlineComponents}function M2(s){return oS(s).then((e=>e.syncEngine))}async function qh(s){const e=await oS(s),n=e.eventManager;return n.onListen=v2.bind(null,e.syncEngine),n.onUnlisten=T2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),n}function V2(s,e,n={}){const a=new gs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new cg({next:S=>{T.Nu(),d.enqueueAndForget((()=>sg(c,b)));const O=S.docs.has(p);!O&&S.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new rg(td(p.path),T,{includeMetadataChanges:!0,qa:!0});return ig(c,b)})(await qh(s),s.asyncQueue,e,n,a))),a.promise}function k2(s,e,n={}){const a=new gs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new cg({next:S=>{T.Nu(),d.enqueueAndForget((()=>sg(c,b))),S.fromCache&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new rg(p,T,{includeMetadataChanges:!0,qa:!0});return ig(c,b)})(await qh(s),s.asyncQueue,e,n,a))),a.promise}function cS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const AT=new Map;const uS="firestore.googleapis.com",wT=!0;class xT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=wT}else this.host=e.host,this.ssl=e.ssl??wT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mj)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new qC;switch(a.type){case"firstParty":return new QC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=AT.get(n);a&&(de("ComponentProvider","Removing Datastore"),AT.delete(n),a.terminate())})(this),Promise.resolve()}}function L2(s,e,n,a={}){s=En(s,ud);const l=Cl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(ib(`https://${p}`),sb("Firestore",!0)),c.host!==uS&&c.host!==p&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:a};if(!lr(g,d)&&(s._setSettings(g),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=nn.MOCK_USER;else{y=Xx(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}s._authCredentials=new FC(new Jb(y,T))}}class wa{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class gt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ma(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Ac(n,gt._jsonSchema))return new gt(e,a||null,new _e(st.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:Ot("string",gt._jsonSchemaVersion),referencePath:Ot("string")};class ma extends wa{constructor(e,n,a){super(e,n,td(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new _e(e))}withConverter(e){return new ma(this.firestore,e,this._path)}}function Mt(s,e,...n){if(s=Vt(s),Zb("collection","path",e),s instanceof ud){const a=st.fromString(e,...n);return UE(a),new ma(s,null,a)}{if(!(s instanceof gt||s instanceof ma))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return UE(a),new ma(s.firestore,null,a)}}function dt(s,e,...n){if(s=Vt(s),arguments.length===1&&(e=kp.newId()),Zb("doc","path",e),s instanceof ud){const a=st.fromString(e,...n);return PE(a),new gt(s,null,new _e(a))}{if(!(s instanceof gt||s instanceof ma))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(st.fromString(e,...n));return PE(a),new gt(s.firestore,s instanceof ma?s.converter:null,new _e(a))}}const NT="AsyncQueue";class RT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K0(this,"async_queue_retry"),this._c=()=>{const a=Lm();a&&de(NT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;de(NT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",CT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=tg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function IT(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class bs extends ud{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new RT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function P2(s,e){const n=typeof s=="object"?s:ob(),a=typeof s=="string"?s:kh,l=xp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=Yx("firestore");c&&L2(l,...c)}return l}function hd(s){if(s._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||U2(s),s._firestoreClient}function U2(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new uI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new D2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Yn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yn(Zt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Yn._jsonSchema))return Yn.fromBase64String(e.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:Ot("string",Yn._jsonSchemaVersion),bytes:Ot("string")};class dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cc{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ot("string",Hi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ot("string",qi._jsonSchemaVersion),vectorValues:Ot("object")};const z2=/^__.*__$/;class B2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class hS{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class ug{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dS(this.Ac)&&z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H2{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||ld(e)}Cc(e,n,a,l=!1){return new ug({Ac:e,methodName:n,Dc:a,path:Jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(s){const e=s._freezeSettings(),n=ld(s._databaseId);return new H2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function fS(s,e,n,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);fg("Data must be an object, but it was:",d,a);const p=mS(a,d);let g,y;if(c.merge)g=new jn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const S=pp(e,b,n);if(!d.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);gS(T,S)||T.push(S)}g=new jn(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new B2(new _n(p),g,y)}class md extends Cc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}class hg extends Cc{_toFieldTransform(e){return new C0(e.path,new dc)}isEqual(e){return e instanceof hg}}class dg extends Cc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new pc(e.serializer,A0(e.serializer,this.Fc));return new C0(e.path,n)}isEqual(e){return e instanceof dg&&this.Fc===e.Fc}}function q2(s,e,n,a){const l=s.Cc(1,e,n);fg("Data must be an object, but it was:",l,a);const c=[],d=_n.empty();Sa(a,((g,y)=>{const T=mg(e,g,n);y=Vt(y);const b=l.yc(T);if(y instanceof md)c.push(T);else{const S=Ic(y,b);S!=null&&(c.push(T),d.set(T,S))}}));const p=new jn(c);return new hS(d,p,l.fieldTransforms)}function F2(s,e,n,a,l,c){const d=s.Cc(1,e,n),p=[pp(e,a,n)],g=[l];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(pp(e,c[S])),g.push(c[S+1]);const y=[],T=_n.empty();for(let S=p.length-1;S>=0;--S)if(!gS(y,p[S])){const O=p[S];let R=g[S];R=Vt(R);const C=d.yc(O);if(R instanceof md)y.push(O);else{const U=Ic(R,C);U!=null&&(y.push(O),T.set(O,U))}}const b=new jn(y);return new hS(T,b,d.fieldTransforms)}function G2(s,e,n,a=!1){return Ic(n,s.Cc(a?4:3,e))}function Ic(s,e){if(pS(s=Vt(s)))return fg("Unsupported field value:",e,s),mS(s,e);if(s instanceof Cc)return(function(a,l){if(!dS(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let g=Ic(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Vt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return A0(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=lt.fromDate(a);return{timestampValue:Uh(l.serializer,c)}}if(a instanceof lt){const c=new lt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Uh(l.serializer,c)}}if(a instanceof Hi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yn)return{bytesValue:V0(l.serializer,a._byteString)};if(a instanceof gt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof qi)return(function(d,p){return{mapValue:{fields:{[o0]:{stringValue:c0},[Lh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hp(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Wh(a)}`)})(s,e)}function mS(s,e){const n={};return n0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(s,((a,l)=>{const c=Ic(l,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function pS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Hi||s instanceof Yn||s instanceof gt||s instanceof Cc||s instanceof qi)}function fg(s,e,n){if(!pS(n)||!e0(n)){const a=Wh(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function pp(s,e,n){if((e=Vt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return mg(s,e);throw Fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const K2=new RegExp("[~\\*/\\[\\]]");function mg(s,e,n){if(e.search(K2)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Fh(s,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new he(ee.INVALID_ARGUMENT,p+s+g)}function gS(s,e){return s.some((n=>n.isEqual(e)))}class yS{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q2 extends yS{data(){return super.data()}}function pd(s,e){return typeof e=="string"?mg(s,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function vS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class _S extends pg{}function Gi(s,e,...n){let a=[];e instanceof pg&&a.push(e),a=a.concat(n),(function(c){const d=c.filter((g=>g instanceof gg)).length,p=c.filter((g=>g instanceof gd)).length;if(d>1||d>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class gd extends _S{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new gd(e,n,a)}_apply(e){const n=this._parse(e);return ES(e._query,n),new wa(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=fd(e.firestore);return(function(c,d,p,g,y,T,b){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){DT(b,T);const R=[];for(const C of b)R.push(jT(g,c,C));S={arrayValue:{values:R}}}else S=jT(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||DT(b,T),S=G2(p,d,b,T==="in"||T==="not-in");return Dt.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sl(s,e,n){const a=e,l=pd("where",s);return gd._create(l,a,n)}class gg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)ES(d,g),d=sp(d,g)})(e._query,n),new wa(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends _S{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(c,d)})(e._query,this._field,this._direction);return new wa(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Vl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function yd(s,e="asc"){const n=e,a=pd("orderBy",s);return yg._create(a,n)}function jT(s,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(st.fromString(n));if(!_e.isDocumentKey(a))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return QE(s,new _e(a))}if(n instanceof gt)return QE(s,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function DT(s,e){if(!Array.isArray(s)||s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y2{convertValue(e,n="none"){switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ya(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Sa(e,((l,c)=>{a[l]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((a=>Tt(a.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Hi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=ed(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=ga(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=st.fromString(e);$e(B0(a),9688,{name:e});const l=new cc(a.get(1),a.get(3)),c=new _e(a.popFirst(5));return l.isEqual(n)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function TS(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ar extends yS{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(pd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ar._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ar._jsonSchemaVersion="firestore/documentSnapshot/1.0",ar._jsonSchema={type:Ot("string",ar._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Ah extends ar{data(e={}){return super.data(e)}}class rr{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xo(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new Ah(this._firestore,this._userDataWriter,a.key,a,new Xo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:$2(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function vd(s){s=En(s,gt);const e=En(s.firestore,bs);return V2(hd(e),s._key).then((n=>AS(e,s,n)))}rr._jsonSchemaVersion="firestore/querySnapshot/1.0",rr._jsonSchema={type:Ot("string",rr._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vg extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function Wn(s){s=En(s,wa);const e=En(s.firestore,bs),n=hd(e),a=new vg(e);return vS(s._query),k2(n,s._query).then((l=>new rr(e,a,s,l)))}function bS(s,e,n){s=En(s,gt);const a=En(s.firestore,bs),l=TS(s.converter,e);return _d(a,[fS(fd(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,$n.none())])}function Dn(s,e,n,...a){s=En(s,gt);const l=En(s.firestore,bs),c=fd(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof dd?F2(c,"updateDoc",s._key,e,n,a):q2(c,"updateDoc",s._key,e),_d(l,[d.toMutation(s._key,$n.exists(!0))])}function SS(s){return _d(En(s.firestore,bs),[new qp(s._key,$n.none())])}function fr(s,e){const n=En(s.firestore,bs),a=dt(s),l=TS(s.converter,e);return _d(n,[fS(fd(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,$n.exists(!1))]).then((()=>a))}function OT(s,...e){s=Vt(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||IT(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IT(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof gt)d=En(s.firestore,bs),p=td(s._key.path),c={next:g=>{e[a]&&e[a](AS(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=En(s,wa);d=En(g.firestore,bs),p=g._query;const y=new vg(d);c={next:T=>{e[a]&&e[a](new rr(d,y,g,T))},error:e[a+1],complete:e[a+2]},vS(s._query)}return(function(y,T,b,S){const O=new cg(S),R=new rg(T,O,b);return y.asyncQueue.enqueueAndForget((async()=>ig(await qh(y),R))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>sg(await qh(y),R)))}})(hd(d),p,l,c)}function _d(s,e){return(function(a,l){const c=new gs;return a.asyncQueue.enqueueAndForget((async()=>S2(await M2(a),l,c))),c.promise})(hd(s),e)}function AS(s,e,n){const a=n.docs.get(e._key),l=new vg(s);return new ar(s,l,e._key,a,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}function Tn(){return new hg("serverTimestamp")}function _g(s){return new dg("increment",s)}(function(e,n=!0){(function(l){Dl=l})(Il),pl(new or("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new bs(new GC(a.getProvider("auth-internal")),new YC(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),da(ME,VE,e),da(ME,VE,"esm2020")})();var X2="firebase",W2="12.6.0";da(X2,W2,"app");const J2={apiKey:"AIzaSyCFK0ROmclDB340RnTgAMGM6xiXgcMs7Vs",authDomain:"license-manager-b0e4e.firebaseapp.com",projectId:"license-manager-b0e4e",storageBucket:"license-manager-b0e4e.firebasestorage.app",messagingSenderId:"548643757194",appId:"1:548643757194:web:79fa0555acc0ccd9702173",measurementId:"G-7RWV4LEHP1"},wS=lb(J2),Wo=BC(wS),je=P2(wS),xS=V.createContext();function ln(){return V.useContext(xS)}function Z2({children:s}){const[e,n]=V.useState(null),[a,l]=V.useState(null),[c,d]=V.useState(!0);async function p(O,R,C){const U=await SR(Wo,O,R),Y=U.user;await xR(Y,{displayName:C});const W=new Date;return W.setDate(W.getDate()+1),await bS(dt(je,"users",Y.uid),{uid:Y.uid,email:O,displayName:C,role:"user",balance:1e4,createdAt:Tn()}),U}function g(O,R){return AR(Wo,O,R)}function y(){return IR(Wo)}async function T(O){const R=dt(je,"users",O),C=await vd(R);return C.exists()?C.data():null}function b(){return a?.role==="admin"}V.useEffect(()=>CR(Wo,async R=>{if(n(R),R){const C=await T(R.uid);l(C)}else l(null);d(!1)}),[]);const S={currentUser:e,userProfile:a,signup:p,login:g,logout:y,isAdmin:b,loading:c};return u.jsx(xS.Provider,{value:S,children:!c&&s})}const NS="/logo.png";function rn(){const{currentUser:s,userProfile:e,logout:n,isAdmin:a}=ln(),l=Nl(),[c,d]=V.useState(!1);async function p(){try{await n(),l("/login")}catch(T){console.error("Logout error:",T)}}function g(){d(!c)}function y(){d(!1)}return u.jsx("nav",{className:"navbar",children:u.jsxs("div",{className:"navbar-container",children:[u.jsxs(Ne,{to:"/",className:"navbar-brand",onClick:y,children:[u.jsx("img",{src:NS,alt:"PHP Tool",className:"brand-logo"}),u.jsx("span",{className:"brand-text",children:"PHP Tool"})]}),u.jsxs("button",{className:"hamburger",onClick:g,children:[u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`})]}),u.jsx("div",{className:`navbar-menu ${c?"active":""}`,children:s?u.jsxs(u.Fragment,{children:[u.jsxs(Ne,{to:"/dashboard",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Ne,{to:"/guide",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Hng dn"})]}),u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Ti khon"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Ne,{to:"/wallet",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Ne,{to:"/my-licenses",className:"dropdown-item",onClick:y,children:" License ca ti"}),u.jsx(Ne,{to:"/profile",className:"dropdown-item",onClick:y,children:" Lch s giao dch"})]})]}),a()&&u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Ne,{to:"/admin/users",className:"dropdown-item",onClick:y,children:" Users"}),u.jsx(Ne,{to:"/admin/licenses",className:"dropdown-item",onClick:y,children:" Keys"}),u.jsx(Ne,{to:"/admin/orders",className:"dropdown-item",onClick:y,children:" n hng"}),u.jsx(Ne,{to:"/admin/deposits",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Ne,{to:"/admin/stats",className:"dropdown-item",onClick:y,children:" Thng k"}),u.jsx(Ne,{to:"/admin/settings",className:"dropdown-item",onClick:y,children:" Ci t"})]})]}),u.jsxs("div",{className:"nav-user",children:[u.jsx("span",{className:"user-name",children:e?.displayName||s.email}),u.jsx("button",{onClick:p,className:"btn-logout",children:"ng xut"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ne,{to:"/login",className:"nav-link",onClick:y,children:"ng nhp"}),u.jsx(Ne,{to:"/register",className:"btn-register",onClick:y,children:"ng k"})]})})]})})}function RS({title:s,description:e,keywords:n,image:a,url:l}){const c="PHP Tool",d="Tool t ng ng k v xc minh ti khon Facebook hng lot. H tr Hotmail, SMS, Gmail.";return V.useEffect(()=>{document.title=s?`${s} | ${c}`:`${c} - Tool Reg/Very Facebook`;const p=document.querySelector('meta[name="description"]');p&&p.setAttribute("content",e||d);const g=document.querySelector('meta[property="og:title"]'),y=document.querySelector('meta[property="og:description"]'),T=document.querySelector('meta[property="og:url"]'),b=document.querySelector('meta[property="og:image"]');g&&g.setAttribute("content",s?`${s} | ${c}`:c),y&&y.setAttribute("content",e||d),T&&l&&T.setAttribute("content",l),b&&a&&b.setAttribute("content",a);const S=document.querySelector('meta[property="twitter:title"]'),O=document.querySelector('meta[property="twitter:description"]');if(S&&S.setAttribute("content",s?`${s} | ${c}`:c),O&&O.setAttribute("content",e||d),n){let R=document.querySelector('meta[name="keywords"]');R&&R.setAttribute("content",n)}},[s,e,n,a,l]),null}const eD="/hero-visual.png",tD=[{id:"regfb",name:"Reg Facebook Tool",description:"Tool t ng ng k v verify ti khon Facebook hng lot",icon:"",features:["Reg & Verify t ng","H tr nhiu dch v mail/SMS","Bind HWID bo mt"],prices:{day:1e4,month:2e5,lifetime:6e5},status:"available",hot:!0},{id:"clonetk",name:"Clone TikTok Tool",description:"Cng c clone video TikTok, qun l nhiu ti khon",icon:"",features:["Clone video khng logo","Qun l multi accounts","Auto upload"],prices:{day:15e3,month:3e5,lifetime:8e5},status:"coming_soon"},{id:"seoyt",name:"YouTube SEO Tool",description:"Ti u SEO video YouTube, tng view v subscriber",icon:"",features:["Keyword research","Tag optimizer","Analytics dashboard"],prices:{day:2e4,month:4e5,lifetime:1e6},status:"coming_soon"}],nD=[{icon:"",color:"#e040fb",title:"Gi C Hp L",desc:"Tit kim chi ph khng ch t gi c, m cn t hiu sut lm vic cao m phn mm mang li"},{icon:"",color:"#ba68c8",title:"Cht Lng Phn Mm",desc:"Phn mm c xy dng vi tiu chun cht lng cao, m bo tnh n nh v kt qu ng tin cy"},{icon:"",color:"#9c27b0",title:"Cp Nht nh K",desc:"Lun cp nht vi cc tnh nng mi nht, m bo phn mm lun tng thch v hiu qu"},{icon:"",color:"#ab47bc",title:"Tc  V Hiu Sut Cao",desc:"Ti u ha hiu sut vi tc  x l nhanh chng, gip bn tit kim thi gian v tng nng sut"},{icon:"",color:"#ce93d8",title:"Giao Din D S Dng",desc:"Giao din phn mm d s dng v y  tnh nng, gip ngi dng d dng s dng v qun l"},{icon:"",color:"#e040fb",title:"i Ng H Tr",desc:"i ng h tr k thut chuyn nghip, sn sng gii p mi thc mc v h tr bn mi lc"}],Um=[{name:"Minh T***",avatar:"",content:"n nh, d dng, gi c ngon. Dng tt cho cng vic ca mnh!",rating:5},{name:"Hong V***",avatar:"",content:"Tool ngon, gi r, h tr tt. Mnh rt hi lng vi dch v ca PHP Tool!",rating:5},{name:"Nam N***",avatar:"",content:"Dch v tt, gi c hp l. Mnh rt hi lng vi PHP Tool!",rating:5},{name:"Tun A***",avatar:"",content:"PHP Tool gip ti tit kim hng gi lm vic mi ngy. Qu tuyt!",rating:5},{name:"c H***",avatar:"",content:"Reg acc t ng cc nhanh, chy 100% khng li. Recommend!",rating:5},{name:"Long P***",avatar:"",content:"Support tr li nhanh, fix bug trong vi pht. Rt chuyn nghip!",rating:5},{name:"Quang M***",avatar:"",content:"Giao din p, d s dng. Tool chy mt khng git lag!",rating:5},{name:"Kin T***",avatar:"",content:" dng nhiu tool khc nhng PHP Tool l n nh nht!",rating:5}];function MT(){const{currentUser:s}=ln(),e=V.useRef(null),[n,a]=V.useState(0);V.useEffect(()=>{const d=setInterval(()=>{a(p=>(p+1)%Um.length)},4e3);return()=>clearInterval(d)},[]);const l=d=>{d.preventDefault(),e.current?.scrollIntoView({behavior:"smooth",block:"start"})};function c(d){return new Intl.NumberFormat("vi-VN").format(d)}return u.jsxs("div",{className:"home-page",children:[u.jsx(RS,{title:"Trang ch",description:"PHP Tool - Cung cp Tool Reg/Very Facebook t ng hng lot. H tr Hotmail, SMS, Gmail. Giao din d s dng, gi r nht th trng.",keywords:"tool reg fb, tool very fb, reg facebook t ng, xc minh facebook, tool mmo, php tool"}),u.jsx(rn,{}),u.jsxs("section",{className:"hero-section",children:[u.jsxs("div",{className:"hero-container",children:[u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:" Nn tng Tools MMO hng u"}),u.jsxs("h1",{className:"hero-title",children:[u.jsx("span",{className:"gradient-text",children:"PHP Tool"}),u.jsx("br",{}),"Gii Php MMO Chuyn Nghip"]}),u.jsx("p",{className:"hero-description",children:"Cung cp cc cng c t ng ha, phn mm MMO cht lng cao. H tr bn pht trin kinh doanh online hiu qu v bn vng."}),u.jsxs("div",{className:"hero-actions",children:[u.jsxs("a",{href:"#products",onClick:l,className:"btn-primary-lg",children:[u.jsx("span",{children:""})," Xem sn phm"]}),!s&&u.jsxs(Ne,{to:"/register",className:"btn-secondary-lg",children:[u.jsx("span",{children:""})," ng k min ph"]})]}),u.jsxs("div",{className:"hero-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"500+"}),u.jsx("span",{className:"stat-label",children:"Khch hng"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"3+"}),u.jsx("span",{className:"stat-label",children:"Sn phm"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"24/7"}),u.jsx("span",{className:"stat-label",children:"H tr"})]})]})]}),u.jsx("div",{className:"hero-visual",children:u.jsx("img",{src:eD,alt:"PHP Tool",className:"hero-image"})})]}),u.jsxs("div",{className:"hero-decoration",children:[u.jsx("div",{className:"deco-circle deco-1"}),u.jsx("div",{className:"deco-circle deco-2"}),u.jsx("div",{className:"deco-circle deco-3"})]})]}),u.jsx("section",{className:"why-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"TI SAO NN CHN PHP TOOL"})}),u.jsx("div",{className:"why-grid",children:nD.map((d,p)=>u.jsxs("div",{className:"why-card",children:[u.jsx("div",{className:"why-number",children:p+1}),u.jsx("div",{className:"why-icon",style:{background:`${d.color}20`,color:d.color},children:d.icon}),u.jsx("h3",{children:d.title}),u.jsx("p",{children:d.desc})]},p))})]})}),u.jsx("section",{className:"products-section",id:"products",ref:e,children:u.jsxs("div",{className:"section-container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" SN PHM CA CHNG TI"}),u.jsx("p",{children:"Cc cng c MMO cht lng cao"})]}),u.jsx("div",{className:"products-grid",children:tD.map(d=>u.jsxs("div",{className:`product-card ${d.status}`,children:[d.hot&&u.jsx("div",{className:"hot-badge",children:" HOT"}),d.status==="coming_soon"&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"}),u.jsx("div",{className:"product-icon",children:d.icon}),u.jsx("h3",{className:"product-name",children:d.name}),u.jsx("p",{className:"product-desc",children:d.description}),u.jsx("ul",{className:"product-features",children:d.features.map((p,g)=>u.jsxs("li",{children:[" ",p]},g))}),u.jsxs("div",{className:"product-pricing",children:[u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 ngy"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.day),""]})]}),u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 thng"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.month),""]})]}),u.jsxs("div",{className:"price-item highlight",children:[u.jsx("span",{className:"price-label",children:"Vnh vin"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.lifetime),""]})]})]}),d.status==="available"?u.jsx(Ne,{to:`/buy/${d.id}`,className:"btn-buy-product",children:"Mua ngay"}):u.jsx("button",{className:"btn-coming-soon",disabled:!0,children:"Sp ra mt"})]},d.id))})]})}),u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"FEEDBACK KHCH HNG"})}),u.jsx("div",{className:"testimonials-slider",style:{transform:`translateX(-${n*(100/4+1.5)}%)`},children:[...Um,...Um.slice(0,4)].map((d,p)=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"testimonial-avatar",children:d.avatar}),u.jsx("h4",{className:"testimonial-name",children:d.name}),u.jsxs("p",{className:"testimonial-content",children:['"',d.content,'"']}),u.jsx("div",{className:"testimonial-rating",children:"".repeat(d.rating)})]},p))})]})}),u.jsx("section",{className:"contact-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{children:" LIN H VI CHNG TI"}),u.jsx("p",{children:"C thc mc? Lin h ngay  c h tr!"})]}),u.jsx("div",{className:"contact-buttons",children:u.jsxs("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",className:"btn-telegram",children:[u.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"Telegram"]})})]})})}),u.jsx("section",{className:"cta-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:" ng k ngay - Nhn 1 ngy dng th MIN PH!"}),u.jsx("p",{children:"To ti khon  tri nghim cc cng c ca chng ti"}),s?u.jsx(Ne,{to:"/dashboard",className:"btn-cta",children:"Vo Dashboard"}):u.jsx(Ne,{to:"/register",className:"btn-cta",children:"ng k min ph"})]})})}),u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("img",{src:NS,alt:"PHP Tool",className:"footer-logo-img"}),u.jsx("span",{className:"footer-name",children:"PHP Tool"})]}),u.jsxs("div",{className:"footer-links",children:[u.jsx("a",{href:"#",children:"iu khon"}),u.jsx("a",{href:"#",children:"Chnh sch"}),u.jsx("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})]}),u.jsx("div",{className:"footer-copyright",children:" 2024 PHP Tool. All rights reserved."})]})})]})}function iD(s=5,e=6e4,n=3e5){const[a,l]=V.useState([]),[c,d]=V.useState(!1),[p,g]=V.useState(null),y=V.useCallback(()=>{const S=Date.now();if(p&&S<p)return{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil((p-S)/1e3)} giy.`};if(p&&S>=p&&(d(!1),g(null),l([])),a.filter(R=>S-R<e).length>=s){const R=S+n;return d(!0),g(R),{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil(n/1e3)} giy.`}}return{allowed:!0}},[a,p,s,e,n]),T=V.useCallback(()=>{l(S=>[...S,Date.now()])},[]),b=V.useCallback(()=>{const S=Date.now(),O=a.filter(R=>S-R<e);return Math.max(0,s-O.length)},[a,s,e]);return{checkRateLimit:y,recordAttempt:T,getRemainingAttempts:b,isBlocked:c}}function sD(){const[s,e]=V.useState(""),n=V.useCallback(()=>s.length>0,[s]),a=V.useCallback(()=>u.jsx("input",{type:"text",name:"website_url",value:s,onChange:l=>e(l.target.value),autoComplete:"off",tabIndex:-1,style:{position:"absolute",left:"-9999px",opacity:0,height:0,width:0,zIndex:-1},"aria-hidden":"true"}),[s]);return{isBot:n,HoneypotField:a,honeypotValue:s}}function Eg(s={}){const{maxAttempts:e=5,windowMs:n=6e4,cooldownMs:a=3e5}=s,l=iD(e,n,a),c=sD();return{validateSubmission:V.useCallback(()=>{if(c.isBot())return console.warn("Bot detected via honeypot"),{valid:!1,error:"C li xy ra. Vui lng th li sau."};const p=l.checkRateLimit();return p.allowed?{valid:!0}:{valid:!1,error:p.message}},[c,l]),recordAttempt:l.recordAttempt,HoneypotField:c.HoneypotField,isBlocked:l.isBlocked,getRemainingAttempts:l.getRemainingAttempts}}function aD(){const[s,e]=V.useState(""),[n,a]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(!1),[T,b]=V.useState(!1),{login:S}=ln(),O=Nl(),{validateSubmission:R,recordAttempt:C}=Eg({maxAttempts:5,windowMs:6e4,cooldownMs:3e5});async function U(W){W.preventDefault();const ie=R();if(!ie.valid){c(ie.error);return}C();try{c(""),y(!0),await S(s,n),O("/dashboard")}catch(z){console.error(z),z.code==="auth/user-not-found"?c("Ti khon khng tn ti"):z.code==="auth/wrong-password"?c("Mt khu khng ng"):z.code==="auth/invalid-credential"?c("Email hoc mt khu khng ng"):c("ng nhp tht bi. Vui lng th li!")}y(!1)}async function Y(W){if(W.preventDefault(),!s)return c("Vui lng nhp email!");const ie=R();if(!ie.valid){c(ie.error);return}C();try{c(""),p(""),y(!0),await bR(Wo,s),p("Nu email ny  ng k, bn s nhn c link t li mt khu trong hp th."),b(!1)}catch(z){console.error(z),z.code==="auth/user-not-found"||z.code==="auth/invalid-email"?c("Email ny cha ng k ti khon!"):z.code==="auth/too-many-requests"?c("Qu nhiu yu cu! Vui lng th li sau."):c("Gi email tht bi. Vui lng th li!")}y(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:T?"":""}),u.jsx("h1",{children:T?"Qun Mt Khu":"ng Nhp"}),u.jsx("p",{children:T?"Nhp email  nhn link t li mt khu":"Cho mng bn quay tr li!"})]}),l&&u.jsx("div",{className:"alert alert-error",children:l}),d&&u.jsx("div",{className:"alert alert-success",children:d}),T?u.jsxs("form",{onSubmit:Y,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"Gi Email t Li"}),u.jsx("button",{type:"button",className:"btn-text",onClick:()=>{b(!1),c("")},children:" Quay li ng nhp"})]}):u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:n,onChange:W=>a(W.target.value),placeholder:"",required:!0})]})]}),u.jsx("button",{type:"button",className:"btn-forgot",onClick:()=>{b(!0),c(""),p("")},children:"Qun mt khu?"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"ng Nhp"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:["Cha c ti khon?"," ",u.jsx(Ne,{to:"/register",className:"auth-link",children:"ng k ngay"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}function rD(){const[s,e]=V.useState(""),[n,a]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(""),[T,b]=V.useState(!1),{signup:S}=ln(),O=Nl(),{validateSubmission:R,recordAttempt:C}=Eg({maxAttempts:3,windowMs:6e4,cooldownMs:6e5});async function U(Y){Y.preventDefault();const W=R();if(!W.valid){y(W.error);return}if(l!==d)return y("Mt khu xc nhn khng khp!");if(l.length<6)return y("Mt khu phi c t nht 6 k t!");C();try{y(""),b(!0),await S(n,l,s),O("/dashboard")}catch(ie){console.error(ie),ie.code==="auth/email-already-in-use"?y("Email ny  c s dng!"):ie.code==="auth/weak-password"?y("Mt khu qu yu!"):ie.code==="auth/invalid-email"?y("Email khng hp l!"):y("ng k tht bi. Vui lng th li!")}b(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:""}),u.jsx("h1",{children:"ng K"}),u.jsx("p",{children:"To ti khon v nhn 1 ngy dng th min ph!"})]}),g&&u.jsx("div",{className:"alert alert-error",children:g}),u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"displayName",children:"Tn hin th"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"text",id:"displayName",value:s,onChange:Y=>e(Y.target.value),placeholder:"Nguyen Van A",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:n,onChange:Y=>a(Y.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:l,onChange:Y=>c(Y.target.value),placeholder:"t nht 6 k t",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:Y=>p(Y.target.value),placeholder:"Nhp li mt khu",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:T,children:T?u.jsx("span",{className:"loading-spinner"}):"ng K"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[" c ti khon?"," ",u.jsx(Ne,{to:"/login",className:"auth-link",children:"ng nhp"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}const lD=[{id:"regfb",name:"Reg Facebook Tool",icon:"",priceRange:"10k - 600k"},{id:"clonetk",name:"Clone TikTok Tool",icon:"",priceRange:"15k - 800k",comingSoon:!0},{id:"seoyt",name:"YouTube SEO Tool",icon:"",priceRange:"20k - 1tr",comingSoon:!0}];function oD(){const{currentUser:s,userProfile:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState([]),[d,p]=V.useState(!0),[g,y]=V.useState(null);V.useEffect(()=>{async function R(){if(s){try{const U=Gi(Mt(je,"licenses"),Sl("userId","==",s.uid));let W=(await Wn(U)).docs.map(ce=>({id:ce.id,...ce.data()}));W.sort((ce,I)=>{const x=ce.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),console.log("Dashboard licenses:",W),a(W);const ie=Gi(Mt(je,"transactions"),Sl("userId","==",s.uid));let oe=(await Wn(ie)).docs.map(ce=>({id:ce.id,...ce.data()}));oe.sort((ce,I)=>{const x=ce.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),oe=oe.slice(0,5),console.log("Dashboard transactions:",oe),c(oe)}catch(U){console.error("Error fetching data:",U),alert("Li ti d liu: "+U.message)}p(!1)}}async function C(){try{const U=dt(je,"settings","software"),Y=await vd(U);Y.exists()&&y(Y.data())}catch(U){console.error("Error fetching software info:",U)}}R(),C()},[s]);function T(R){return new Intl.NumberFormat("vi-VN").format(R)}function b(R){return n.find(C=>C.productId===R&&C.status==="active")}function S(R){if(!R)return{text:"Cha mua",class:"status-none"};if(R.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(R.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(R.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const C=new Date,U=R.expiresAt?.toDate?.()||new Date(R.expiresAt);if(C>=U)return{text:"Ht hn",class:"status-expired"};const Y=U-C,W=Math.floor(Y/(1e3*60*60*24));return W<=3?{text:`Cn ${W} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}const O=e?.balance||0;return u.jsxs("div",{className:"dashboard-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"dashboard-container",children:[u.jsxs("div",{className:"dashboard-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsxs("h1",{children:["Xin cho, ",e?.displayName||"User","! "]}),u.jsx("p",{children:"Qun l license v ti khon ca bn"})]}),u.jsxs("div",{className:"balance-card",children:[u.jsx("div",{className:"balance-label",children:"S d ti khon"}),u.jsxs("div",{className:"balance-amount",children:[T(O),""]}),u.jsxs(Ne,{to:"/wallet",className:"btn-deposit",children:[u.jsx("span",{children:""})," Np tin"]})]})]}),u.jsxs("div",{className:"download-guide-section",children:[g?.downloadUrl&&u.jsxs("a",{href:g.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"download-card-dash",children:[u.jsx("div",{className:"download-card-icon",children:""}),u.jsxs("div",{className:"download-card-content",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version ",g.version||"1.0.0"]})]}),u.jsx("span",{className:"download-arrow",children:""})]}),u.jsxs(Ne,{to:"/guide",className:"guide-card-dash",children:[u.jsx("div",{className:"guide-card-icon",children:""}),u.jsxs("div",{className:"guide-card-content",children:[u.jsx("h3",{children:"Hng dn s dng"}),u.jsx("p",{children:"Xem ti liu chi tit"})]}),u.jsx("span",{className:"guide-arrow",children:""})]})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:n.filter(R=>R.status==="active").length}),u.jsx("div",{className:"stat-label",children:"License ang hot ng"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsxs("div",{className:"stat-value",children:[T(O),""]}),u.jsx("div",{className:"stat-label",children:"S d"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:l.length}),u.jsx("div",{className:"stat-label",children:"Giao dch gn y"})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Sn phm"}),u.jsx(Ne,{to:"/buy",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"products-grid",children:lD.map(R=>{const C=b(R.id),U=S(C);return u.jsxs("div",{className:`product-card ${R.comingSoon?"coming-soon":""}`,children:[u.jsx("div",{className:"product-icon",children:R.icon}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{children:R.name}),C&&u.jsx("span",{className:`license-status ${U.class}`,children:U.text})]}),R.comingSoon?u.jsx("button",{className:"btn-coming",disabled:!0,children:"Sp ra mt"}):C?u.jsx(Ne,{to:"/my-licenses",className:"btn-manage",children:"Qun l"}):u.jsx(Ne,{to:`/buy/${R.id}`,className:"btn-buy",children:"Mua ngay"})]},R.id)})})]}),u.jsxs("section",{className:"section",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:" Thao tc nhanh"})}),u.jsxs("div",{className:"actions-grid",children:[u.jsxs(Ne,{to:"/wallet",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Np tin"})]}),u.jsxs(Ne,{to:"/my-licenses",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"License ca ti"})]}),u.jsxs(Ne,{to:"/profile",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Lch s giao dch"})]}),u.jsxs(Ne,{to:"/buy",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Mua license"})]})]})]}),l.length>0&&u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Giao dch gn y"}),u.jsx(Ne,{to:"/profile",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"transactions-list",children:l.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:R.type==="deposit"?"":R.type==="license_purchase"?"":""}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",T(R.amount),""]})]},R.id))})]}),d&&u.jsx("div",{className:"loading-overlay",children:u.jsx("div",{className:"loading-spinner"})})]})]})}function cD(){const{currentUser:s}=ln(),[e,n]=V.useState(0),[a,l]=V.useState([]),[c,d]=V.useState(!0),[p,g]=V.useState(""),[y,T]=V.useState(!1),[b,S]=V.useState(null),[O,R]=V.useState(""),C={bankId:"MB",accountNo:"1444488888888",accountName:"PHAM HAI PHU",template:"compact2"};V.useEffect(()=>{if(!s)return;const z=OT(dt(je,"users",s.uid),oe=>{oe.exists()&&n(oe.data().balance||0)});return()=>z()},[s]),V.useEffect(()=>{if(!s)return;const z=Gi(Mt(je,"deposits"),Sl("userId","==",s.uid)),oe=OT(z,ce=>{let I=ce.docs.map(x=>({id:x.id,...x.data()}));if(I.sort((x,N)=>{const k=x.createdAt?.toDate?.()||new Date(0);return(N.createdAt?.toDate?.()||new Date(0))-k}),b&&y){const x=I.find(N=>N.orderId===b.orderId);x&&x.status==="completed"&&(R(` Np tin thnh cng! +${new Intl.NumberFormat("vi-VN").format(x.actualAmount||x.amount)}`),T(!1),S(null),setTimeout(()=>R(""),5e3))}l(I),d(!1)});return()=>oe()},[s,b,y]);function U(z){return new Intl.NumberFormat("vi-VN").format(z)}function Y(){const z=Date.now().toString(36).toUpperCase(),oe=Math.random().toString(36).substring(2,6).toUpperCase();return`NAP${z}${oe}`}async function W(){const z=parseInt(p);if(!z||z<1e4){alert("S tin np ti thiu l 10,000");return}if(a.filter(ce=>ce.status==="pending").length>=3){alert("Bn  c 3 yu cu np tin ang ch x l. Vui lng i admin xc nhn trc khi to yu cu mi.");return}try{const ce=Y(),I={userId:s.uid,userEmail:s.email,amount:z,orderId:ce,status:"pending",createdAt:Tn()};await fr(Mt(je,"deposits"),I),S({...I,amount:z}),T(!0)}catch(ce){console.error("Error creating deposit:",ce),alert("C li xy ra. Vui lng th li!")}}function ie(){if(!b)return"";const{bankId:z,accountNo:oe,template:ce,accountName:I}=C;return`https://qr.sepay.vn/img?bank=${z}&acc=${oe}&template=${ce}&amount=${b.amount}&des=${b.orderId}&accountName=${encodeURIComponent(I)}`}return u.jsxs("div",{className:"wallet-page",children:[u.jsx(rn,{}),O&&u.jsx("div",{className:"success-toast",children:O}),u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Np tin"})]}),u.jsx("div",{className:"balance-section",children:u.jsxs("div",{className:"balance-display",children:[u.jsx("span",{className:"balance-label",children:"S d hin ti"}),u.jsxs("span",{className:"balance-amount",children:[U(e),""]})]})}),y?u.jsxs("div",{className:"qr-section",children:[u.jsx("h2",{children:"Qut m QR  thanh ton"}),u.jsxs("div",{className:"qr-card",children:[u.jsx("img",{src:ie(),alt:"QR Code",className:"qr-image"}),u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ngn hng:"}),u.jsx("span",{className:"value",children:"MB Bank"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"S ti khon:"}),u.jsx("span",{className:"value",children:C.accountNo})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ch ti khon:"}),u.jsx("span",{className:"value",children:C.accountName})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value",children:[U(b?.amount||0),""]})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"Ni dung CK:"}),u.jsx("span",{className:"value code",children:b?.orderId})]})]}),u.jsxs("div",{className:"warning-box",children:[" Vui lng chuyn ",u.jsx("strong",{children:"ng s tin"})," v ",u.jsx("strong",{children:"ng ni dung"}),"  c cng tin t ng!"]})]}),u.jsx("button",{className:"btn-back",onClick:()=>{T(!1),S(null)},children:" Quay li"})]}):u.jsxs("div",{className:"deposit-form-section",children:[u.jsx("h2",{children:"Chn s tin np"}),u.jsx("div",{className:"amount-presets",children:[5e4,1e5,2e5,5e5,1e6].map(z=>u.jsxs("button",{className:`preset-btn ${p===z.toString()?"active":""}`,onClick:()=>g(z.toString()),children:[U(z),""]},z))}),u.jsxs("div",{className:"custom-amount",children:[u.jsx("label",{children:"Hoc nhp s tin khc:"}),u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"number",value:p,onChange:z=>g(z.target.value),placeholder:"Nhp s tin",min:"10000"}),u.jsx("span",{className:"currency",children:""})]})]}),u.jsx("button",{className:"btn-create-deposit",onClick:W,disabled:!p||parseInt(p)<1e4,children:"To lnh np tin"})]}),u.jsxs("div",{className:"history-section",children:[u.jsx("h2",{children:" Lch s np tin"}),c?u.jsx("div",{className:"loading",children:"ang ti..."}):a.length===0?u.jsx("p",{className:"empty-text",children:"Cha c lch s np tin"}):u.jsx("div",{className:"deposits-list",children:a.map(z=>u.jsxs("div",{className:"deposit-item",children:[u.jsxs("div",{className:"deposit-info",children:[u.jsx("div",{className:"deposit-id",children:z.orderId}),u.jsx("div",{className:"deposit-date",children:z.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"deposit-amount",children:["+",U(z.amount),""]}),u.jsx("div",{className:`deposit-status status-${z.status}`,children:z.status==="completed"?" Thnh cng":z.status==="rejected"?" T chi":" ang ch"})]},z.id))})]})]})]})}const zm={regfb:{"1_month":{name:"1 Thng",price:2e5,days:30},"1_year":{name:"1 Nm",price:5e5,days:365}},clonetk:{"1_month":{name:"1 Thng",price:3e5,days:30},"1_year":{name:"1 Nm",price:7e5,days:365}},seoyt:{"1_month":{name:"1 Thng",price:4e5,days:30},"1_year":{name:"1 Nm",price:9e5,days:365}}};function uD(){const{currentUser:s,userProfile:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState(null),[g,y]=V.useState({}),[T,b]=V.useState(null),[S,O]=V.useState(null),[R,C]=V.useState(null),[U,Y]=V.useState(null),[W,ie]=V.useState("1_month"),[z,oe]=V.useState(!1);V.useEffect(()=>{if(R){const ae=setTimeout(()=>C(null),5e3);return()=>clearTimeout(ae)}},[R]),V.useEffect(()=>{async function ae(){if(s){try{const K=Gi(Mt(je,"licenses"),Sl("userId","==",s.uid));let me=(await Wn(K)).docs.map(Te=>({id:Te.id,...Te.data(),licenseKey:Te.data().licenseKey||Te.data().key}));me.sort((Te,Me)=>{const L=Te.createdAt?.toDate?.()||new Date(0);return(Me.createdAt?.toDate?.()||new Date(0))-L}),console.log("MyLicenses fetched:",me),a(me)}catch(K){console.error("Error fetching licenses:",K),alert("Li ti licenses: "+K.message)}c(!1)}}async function ye(){try{const K=dt(je,"settings","software"),re=await vd(K);re.exists()&&O(re.data())}catch(K){console.error("Error fetching software info:",K)}}ae(),ye()},[s]);function ce(ae){return new Intl.NumberFormat("vi-VN").format(ae)}function I(ae){if(ae.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(ae.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(ae.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const ye=new Date,K=ae.expiresAt?.toDate?.()||new Date(ae.expiresAt);if(ye>=K)return{text:"Ht hn",class:"status-expired"};const re=K-ye,me=Math.floor(re/(1e3*60*60*24));return me<=3?{text:`Cn ${me} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}function x(ae){return{regfb:"Reg Facebook Tool",clonetk:"Clone TikTok Tool",seoyt:"YouTube SEO Tool"}[ae]||ae}function N(ae){return{daily:"Theo ngy",monthly:"1 thng",yearly:"1 nm",lifetime:"Vnh vin"}[ae]||ae}function k(ae){navigator.clipboard.writeText(ae),alert(" copy!")}async function M(ae){b(ae);try{await Dn(dt(je,"licenses",ae),{hwid:null,hwidResetRequested:!1}),a(ye=>ye.map(K=>K.id===ae?{...K,hwid:null,hwidResetRequested:!1}:K))}catch(ye){console.error("Error resetting HWID:",ye)}b(null)}async function B(ae){const ye=g[ae]?.trim();if(!ye||ye.length<20){C({type:"error",message:"HWID khng hp l! Vui lng nhp ng HWID t tool."});return}b(ae);try{const K=Gi(Mt(je,"licenses"),Sl("hwid","==",ye)),me=(await Wn(K)).docs.find(Te=>Te.id!==ae);if(me){const Te=me.data();C({type:"error",message:`HWID ny  c ng k bi ti khon khc (${Te.userEmail||"unknown"})! Mi HWID ch c th kch hot 1 license.`}),b(null);return}await Dn(dt(je,"licenses",ae),{hwid:ye,status:"active",activatedAt:new Date}),a(Te=>Te.map(Me=>Me.id===ae?{...Me,hwid:ye,status:"active"}:Me)),y(Te=>({...Te,[ae]:""})),C({type:"success",message:"Kch hot license thnh cng! Vui lng khi ng li tool  s dng."})}catch(K){console.error("Error saving HWID:",K),C({type:"error",message:"Li kch hot: "+K.message})}b(null)}async function j(){if(!U||!s)return;const ae=zm[U.productId];if(!ae){C({type:"error",message:"Khng tm thy gi gia hn cho sn phm ny!"});return}const ye=ae[W];if(!ye){C({type:"error",message:"Vui lng chn gi gia hn!"});return}const K=e?.balance||0;if(K<ye.price){C({type:"error",message:`S d khng ! Cn ${ce(ye.price)}, hin c ${ce(K)}`});return}oe(!0);try{let re;const me=U.expiresAt?.toDate?.()||new Date(U.expiresAt);me>new Date?(re=new Date(me),re.setDate(re.getDate()+ye.days)):(re=new Date,re.setDate(re.getDate()+ye.days)),await Dn(dt(je,"licenses",U.id),{expiresAt:re,status:"active",renewedAt:Tn()}),await Dn(dt(je,"users",s.uid),{balance:_g(-ye.price)}),await fr(Mt(je,"transactions"),{userId:s.uid,userEmail:s.email,type:"renewal",amount:-ye.price,description:`Gia hn ${x(U.productId)} - ${ye.name}`,licenseId:U.id,createdAt:Tn()}),a(Me=>Me.map(L=>L.id===U.id?{...L,expiresAt:re,status:"active"}:L)),C({type:"success",message:`Gia hn thnh cng! License mi ht hn: ${re.toLocaleDateString("vi-VN")}`}),Y(null)}catch(re){console.error("Error renewing license:",re),C({type:"error",message:"Li gia hn: "+re.message})}oe(!1)}return u.jsxs("div",{className:"licenses-page",children:[u.jsx(rn,{}),R&&u.jsxs("div",{className:`toast toast-${R.type}`,children:[u.jsx("span",{className:"toast-icon",children:R.type==="success"?"":""}),u.jsx("span",{className:"toast-message",children:R.message}),u.jsx("button",{className:"toast-close",onClick:()=>C(null),children:""})]}),u.jsxs("div",{className:"licenses-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" License ca ti"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Cha c license no"}),u.jsx("p",{children:"Mua license  bt u s dng cc cng c ca chng ti!"}),u.jsx(Ne,{to:"/buy",className:"btn-buy",children:" Mua license ngay"})]}):u.jsxs(u.Fragment,{children:[S?.downloadUrl&&n.some(ae=>ae.status==="active")&&u.jsxs("div",{className:"download-section",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsxs("div",{className:"download-info",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version: ",u.jsx("strong",{children:S.version||"1.0.0"})]})]}),u.jsx("a",{href:S.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-download",children:" Ti xung"})]}),S.changelog&&u.jsxs("details",{className:"changelog",children:[u.jsx("summary",{children:" Changelog"}),u.jsx("pre",{children:S.changelog})]})]}),u.jsx("div",{className:"licenses-grid",children:n.map(ae=>{const ye=I(ae);return u.jsxs("div",{className:"license-card",children:[u.jsxs("div",{className:"license-header",children:[u.jsx("h3",{children:x(ae.productId)}),u.jsx("span",{className:`license-status ${ye.class}`,children:ye.text})]}),u.jsxs("div",{className:"license-body",children:[u.jsxs("div",{className:"license-key-section",children:[u.jsx("label",{children:"License Key:"}),u.jsxs("div",{className:"key-display",children:[u.jsx("code",{children:ae.licenseKey}),u.jsx("button",{className:"btn-copy",onClick:()=>k(ae.licenseKey),children:""})]})]}),u.jsxs("div",{className:"license-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:"value",children:N(ae.plan)})]}),ae.expiresAt&&ae.plan!=="daily"&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:ae.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),ae.hwid?u.jsxs("span",{className:"value hwid",title:ae.hwid,children:[ae.hwid.substring(0,20),"..."]}):u.jsx("span",{className:"value hwid-pending",children:"Cha kch hot"})]})]}),!ae.hwid&&ae.status!=="revoked"&&u.jsxs("div",{className:"hwid-activation-section",children:[u.jsx("p",{className:"hwid-instruction",children:" M tool  Copy HWID  Paste vo y  kch hot:"}),u.jsxs("div",{className:"hwid-input-group",children:[u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:g[ae.id]||"",onChange:K=>y(re=>({...re,[ae.id]:K.target.value})),className:"hwid-input"}),u.jsxs("button",{className:"btn-activate",onClick:()=>B(ae.id),disabled:T===ae.id,children:[T===ae.id?"":""," Kch hot"]})]})]}),ae.hwid&&ae.status==="active"&&u.jsxs("button",{className:"btn-reset-hwid",onClick:()=>M(ae.id),disabled:T===ae.id,children:[T===ae.id?"":""," i my"]}),ae.plan!=="lifetime"&&ae.plan!=="daily"&&ae.status!=="revoked"&&u.jsx("button",{className:"btn-renew",onClick:()=>{Y(ae),ie("1_month")},children:" Gia hn"})]}),u.jsx("div",{className:"license-footer",children:u.jsxs("span",{className:"created-date",children:["Mua ngy: ",ae.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})})]},ae.id)})})]})]}),U&&u.jsx("div",{className:"modal-overlay",onClick:()=>Y(null),children:u.jsxs("div",{className:"renew-modal",onClick:ae=>ae.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" Gia hn License"}),u.jsx("button",{className:"modal-close",onClick:()=>Y(null),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"renew-info",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",x(U.productId)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"License:"})," ",U.licenseKey]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ht hn:"})," ",U.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"renew-options",children:[u.jsx("h3",{children:"Chn gi gia hn:"}),zm[U.productId]&&Object.entries(zm[U.productId]).map(([ae,ye])=>u.jsxs("label",{className:`renew-option ${W===ae?"selected":""}`,children:[u.jsx("input",{type:"radio",name:"renewPlan",value:ae,checked:W===ae,onChange:()=>ie(ae)}),u.jsx("span",{className:"option-name",children:ye.name}),u.jsxs("span",{className:"option-price",children:[ce(ye.price),""]})]},ae))]}),u.jsxs("div",{className:"renew-balance",children:[u.jsx("span",{children:"S d hin ti:"}),u.jsxs("span",{className:"balance-amount",children:[ce(e?.balance||0),""]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>Y(null),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:j,disabled:z,children:z?" ang x l...":" Xc nhn gia hn"})]})]})})]})}function hD(){const{currentUser:s,userProfile:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all");V.useEffect(()=>{async function R(){if(s){try{const C=Gi(Mt(je,"transactions"),Sl("userId","==",s.uid));let Y=(await Wn(C)).docs.map(W=>({id:W.id,...W.data()}));Y.sort((W,ie)=>{const z=W.createdAt?.toDate?.()||new Date(0);return(ie.createdAt?.toDate?.()||new Date(0))-z}),console.log("Transactions fetched:",Y),a(Y)}catch(C){console.error("Error fetching transactions:",C),alert("Li ti giao dch: "+C.message)}c(!1)}}R()},[s]);function g(R){return new Intl.NumberFormat("vi-VN").format(R)}function y(){return d==="all"?n:n.filter(R=>R.type===d)}function T(R){switch(R){case"deposit":return"";case"license_purchase":return"";case"daily_deduct":return"";default:return""}}function b(R){switch(R){case"deposit":return"Np tin";case"license_purchase":return"Mua license";case"daily_deduct":return"Tr ngy";default:return R}}const S=e?.balance||0,O=y();return u.jsxs("div",{className:"profile-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"profile-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Thng tin ti khon"})]}),u.jsxs("div",{className:"user-info-card",children:[u.jsx("div",{className:"avatar",children:u.jsx("span",{children:e?.displayName?.[0]?.toUpperCase()||"?"})}),u.jsxs("div",{className:"user-details",children:[u.jsx("h2",{children:e?.displayName||"User"}),u.jsx("p",{className:"email",children:s?.email}),u.jsxs("p",{className:"member-since",children:["Thnh vin t: ",e?.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"balance-section",children:[u.jsx("div",{className:"balance-label",children:"S d"}),u.jsxs("div",{className:"balance-amount",children:[g(S),""]}),u.jsx(Ne,{to:"/wallet",className:"btn-deposit",children:"Np tin"})]})]}),u.jsxs("div",{className:"transactions-section",children:[u.jsx("h2",{children:" Lch s giao dch"}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsx("button",{className:`tab ${d==="deposit"?"active":""}`,onClick:()=>p("deposit"),children:"Np tin"}),u.jsx("button",{className:`tab ${d==="license_purchase"?"active":""}`,onClick:()=>p("license_purchase"),children:"Mua license"}),u.jsx("button",{className:`tab ${d==="daily_deduct"?"active":""}`,onClick:()=>p("daily_deduct"),children:"Tr ngy"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):O.length===0?u.jsx("div",{className:"empty-text",children:"Cha c giao dch no"}):u.jsx("div",{className:"transactions-list",children:O.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:T(R.type)}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-type",children:b(R.type)}),u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",g(R.amount),""]})]},R.id))})]})]})]})}const Bm={regfb:{name:"Reg Facebook Tool",icon:"",description:"Tool t ng ng k v verify ti khon Facebook hng lot",plans:{daily:{name:"Theo ngy",price:1e4,days:0,icon:"",description:"Tr 10k/ngy khi s dng"},monthly:{name:"1 Thng",price:2e5,days:30,icon:"",popular:!0},yearly:{name:"1 Nm",price:5e5,days:365,icon:""},lifetime:{name:"Vnh vin",price:6e5,days:-1,icon:""}}},clonetk:{name:"Clone TikTok Tool",icon:"",description:"Cng c clone video TikTok, qun l nhiu ti khon",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:15e3,days:0,icon:""},monthly:{name:"1 Thng",price:3e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:8e5,days:-1,icon:""}}},seoyt:{name:"YouTube SEO Tool",icon:"",description:"Ti u SEO video YouTube, tng view v subscriber",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:2e4,days:0,icon:""},monthly:{name:"1 Thng",price:4e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:1e6,days:-1,icon:""}}}};function VT(){const{currentUser:s,userProfile:e}=ln(),n=Nl(),{productId:a}=Kw(),[l,c]=V.useState(a||"regfb"),[d,p]=V.useState("monthly"),[g,y]=V.useState(!1),[T,b]=V.useState(!1),[S,O]=V.useState(null),R=Bm[l],C=R?.plans[d],U=e?.balance||0,{validateSubmission:Y,recordAttempt:W}=Eg({maxAttempts:3,windowMs:36e5,cooldownMs:36e5});V.useEffect(()=>{a&&Bm[a]&&c(a)},[a]);function ie(x){return new Intl.NumberFormat("vi-VN").format(x)}function z(){const x="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let k=0;k<4;k++){for(let M=0;M<4;M++)N+=x.charAt(Math.floor(Math.random()*x.length));k<3&&(N+="-")}return N}function oe(x){if(x<=0)return null;const N=new Date;return N.setDate(N.getDate()+x),N}async function ce(){if(!s){n("/login");return}if(R.comingSoon){alert("Sn phm ny sp ra mt!");return}if(U<C.price){alert("S d khng ! Vui lng np thm tin."),n("/wallet");return}const x=Y();if(!x.valid){alert(x.error);return}W(),y(!0);try{const N=z(),k=oe(C.days);await fr(Mt(je,"licenses"),{userId:s.uid,userEmail:s.email,productId:l,licenseKey:N,plan:d,planName:C.name,price:C.price,status:"active",hwid:null,expiresAt:k,createdAt:Tn()}),await Dn(dt(je,"users",s.uid),{balance:_g(-C.price)}),await fr(Mt(je,"transactions"),{userId:s.uid,type:"license_purchase",amount:-C.price,productId:l,description:`Mua ${R.name} - ${C.name}`,createdAt:Tn()}),O({product:R.name,plan:C.name,licenseKey:N,expiresAt:k}),b(!1)}catch(N){console.error("Error purchasing license:",N),alert("C li xy ra. Vui lng th li!")}y(!1)}function I(){S?.licenseKey&&(navigator.clipboard.writeText(S.licenseKey),alert(" copy license key!"))}return S?u.jsxs("div",{className:"buy-page",children:[u.jsx(rn,{}),u.jsx("div",{className:"buy-container",children:u.jsxs("div",{className:"success-section",children:[u.jsx("div",{className:"success-icon",children:""}),u.jsx("h1",{children:"Mua License Thnh Cng!"}),u.jsxs("p",{children:["Cm n bn  mua ",S.product]}),u.jsxs("div",{className:"license-display",children:[u.jsx("label",{children:"License Key ca bn:"}),u.jsxs("div",{className:"license-key",children:[u.jsx("code",{children:S.licenseKey}),u.jsx("button",{onClick:I,className:"btn-copy",children:" Copy"})]})]}),u.jsxs("div",{className:"purchase-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:S.product})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:S.plan})]}),S.expiresAt&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Ht hn:"}),u.jsx("span",{children:S.expiresAt.toLocaleDateString("vi-VN")})]})]}),u.jsxs("div",{className:"success-actions",children:[u.jsx(Ne,{to:"/my-licenses",className:"btn-primary",children:"Xem License ca ti"}),u.jsx(Ne,{to:"/dashboard",className:"btn-secondary",children:"V Dashboard"})]})]})})]}):u.jsxs("div",{className:"buy-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"buy-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Mua License"})]}),u.jsxs("div",{className:"balance-bar",children:[u.jsxs("div",{className:"balance-info",children:[u.jsx("span",{children:"S d:"}),u.jsxs("span",{className:"balance-amount",children:[ie(U),""]})]}),u.jsx(Ne,{to:"/wallet",className:"btn-topup",children:" Np thm"})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"1 Chn sn phm"}),u.jsx("div",{className:"products-select",children:Object.entries(Bm).map(([x,N])=>u.jsxs("div",{className:`product-option ${l===x?"selected":""} ${N.comingSoon?"coming-soon":""}`,onClick:()=>!N.comingSoon&&c(x),children:[u.jsx("div",{className:"product-icon",children:N.icon}),u.jsx("div",{className:"product-name",children:N.name}),N.comingSoon&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"})]},x))})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"2 Chn gi"}),u.jsx("div",{className:"plans-grid",children:Object.entries(R.plans).map(([x,N])=>u.jsxs("div",{className:`plan-card ${d===x?"selected":""} ${N.popular?"popular":""}`,onClick:()=>p(x),children:[N.popular&&u.jsx("div",{className:"popular-badge",children:"Ph bin"}),u.jsx("div",{className:"plan-icon",children:N.icon}),u.jsx("h3",{children:N.name}),u.jsx("div",{className:"plan-price",children:u.jsxs("span",{className:"price",children:[ie(N.price),""]})}),N.description&&u.jsx("p",{className:"plan-desc",children:N.description}),u.jsxs("ul",{className:"plan-features",children:[u.jsx("li",{children:" Ton b tnh nng"}),u.jsx("li",{children:" H tr 24/7"}),u.jsx("li",{children:" Cp nht min ph"}),x==="lifetime"&&u.jsx("li",{children:" Khng gii hn thi gian"}),x==="daily"&&u.jsx("li",{children:" Ch tr tin khi s dng"})]}),u.jsx("div",{className:"plan-select",children:d===x?"  chn":"Chn gi ny"})]},x))})]}),u.jsxs("div",{className:"checkout-section",children:[u.jsxs("div",{className:"checkout-summary",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:R.name})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:C.name})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Tng thanh ton:"}),u.jsxs("span",{className:"total-price",children:[ie(C.price),""]})]}),U<C.price&&u.jsxs("div",{className:"insufficient-warning",children:[" S d khng . Cn np thm ",ie(C.price-U),""]})]}),u.jsx("button",{className:"btn-checkout",onClick:()=>b(!0),disabled:g||R.comingSoon||U<C.price,children:g?u.jsx("span",{className:"loading-spinner"}):U<C.price?"S d khng ":u.jsxs(u.Fragment,{children:[" Mua ngay - ",ie(C.price),""]})})]}),T&&u.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:u.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[u.jsx("h2",{children:"Xc nhn mua hng"}),u.jsxs("div",{className:"confirm-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",R.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",C.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",ie(C.price),""]}),u.jsxs("p",{children:[u.jsx("strong",{children:"S d sau khi mua:"})," ",ie(U-C.price),""]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>b(!1),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:ce,disabled:g,children:g?"ang x l...":"Xc nhn mua"})]})]})})]})]})}function dD(){return u.jsxs("div",{className:"guide-page",children:[u.jsx(RS,{title:"Hng dn s dng",description:"Hng dn chi tit cch s dng Tool Reg/Very Facebook. Cc bc ci t, kch hot license, cu hnh Option v Setting.",keywords:"hng dn tool reg fb, cch dng tool very fb, tutorial php tool, ci t tool facebook"}),u.jsx(rn,{}),u.jsxs("div",{className:"guide-container",children:[u.jsxs("div",{className:"guide-header",children:[u.jsx("h1",{children:" Hng Dn S Dng"}),u.jsx("p",{children:"Tool Reg/Very FB by PHP-TOOL"})]}),u.jsxs("div",{className:"guide-toc",children:[u.jsx("h2",{children:" Mc lc"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#intro",children:"1. Gii thiu chung"})}),u.jsx("li",{children:u.jsx("a",{href:"#features",children:"2. Cc chc nng chnh"})}),u.jsx("li",{children:u.jsx("a",{href:"#requirements",children:"3. iu kin s dng tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#steps",children:"4. Cc bc chy tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#options",children:"5. Ci t Option"})}),u.jsx("li",{children:u.jsx("a",{href:"#settings",children:"6. Ci t Setting"})}),u.jsx("li",{children:u.jsx("a",{href:"#support",children:"7. Lin h h tr"})})]})]}),u.jsxs("div",{className:"guide-content",children:[u.jsxs("section",{id:"intro",className:"guide-section",children:[u.jsx("h2",{children:"1. Gii thiu chung"}),u.jsx("p",{children:"Tool automatic Facebook account register and verification by PHP-TOOL gip vic to ti khon hay xc minh FB hng lot ca mi ngi tr nn d dng v nhanh chng thun tin."}),u.jsx("p",{children:"Giao din d dng thao tc s dng. Nhiu chc nng cho mi ngi la chn v s dng theo nhu cu v mc ch."}),u.jsx("p",{children:"Gi thu tool th r nht so vi th trng v quan trng l s h tr mi ngi trong qu trnh s dng, lng nghe s gp   tool hon thin hn."})]}),u.jsxs("section",{id:"features",className:"guide-section",children:[u.jsx("h2",{children:"2. Cc chc nng chnh"}),u.jsxs("div",{className:"features-table",children:[u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" REG (To ti khon)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," novery, hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," novery, hotmail, sms, gmail, virtual email"]})]})]}),u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" VERY (Xc minh)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," hotmail, sms, gmail, virtual email"]})]})]})]})]}),u.jsxs("section",{id:"requirements",className:"guide-section",children:[u.jsx("h2",{children:"3. iu kin s dng tool"}),u.jsxs("div",{className:"requirements-list",children:[u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"c dng th 1 ngy cho ngi mi"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Cn thu tool thng (200k) hoc vnh vin (600k)  s dng"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Tool chy c trn Windows, khng th chy trn VPS"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:" chy c tool cn c smartphone root hoc LDPlayer"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Khng c cu hnh my ti thiu, nu chy LD my yu chy t Tab"})]})]})]}),u.jsxs("section",{id:"steps",className:"guide-section",children:[u.jsx("h2",{children:"4. Cc bc chy tool"}),u.jsxs("div",{className:"step-list",children:[u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Gii nn file"}),u.jsx("p",{children:'Sau khi ti file rar tool v, n vo "Extract All"  gii nn'})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Ci t APK (nu dng in thoi)"}),u.jsx("p",{children:"n vo folder APK  tin hnh ci tt c cc app cn thit. Nu bn chy LDPlayer th b qua bc ny."})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"M Tool"}),u.jsx("p",{children:"n vo file ui .exe  m tool"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"4"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Kch hot License"}),u.jsx("p",{children:"n sao chp m HWID, sau  vo website  kch hot license"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"5"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Load thit b"}),u.jsx("p",{children:"Sau khi vo tool, chuyn sang tab Device  load thit b mun chy. C th tick tng thit b, bi en click chut phi n chn, hoc chn tt c."})]})]})]})]}),u.jsxs("section",{id:"options",className:"guide-section",children:[u.jsx("h2",{children:"5. Ci t Option"}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Hotmail"}),u.jsxs("p",{children:["C 3 site: ",u.jsx("code",{children:"unlimitmail"}),", ",u.jsx("code",{children:"dongvanfb"}),", ",u.jsx("code",{children:"shopvia1s"})]}),u.jsx("p",{className:"note",children:"dongvanfb v unlimitmail l hotmail new, cn shopvia l hotmail trust"}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."}),u.jsxs("p",{className:"tip",children:[" ",u.jsx("strong",{children:"Mo:"})," C th thay i loi email mua bng cch sa ID trong file ",u.jsx("code",{children:"data/[site].txt"}),". VD: Sa ",u.jsx("code",{children:"data/dongvanfb.txt"})," nhp s ",u.jsx("code",{children:"2"})," s mua Outlook thay v Hotmail."]})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" SMS"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"ironsim"}),", ",u.jsx("code",{children:"funotp"}),", ",u.jsx("code",{children:"otptextnow"}),", ",u.jsx("code",{children:"viotp"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Gmail"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"shopmailmmo"}),", ",u.jsx("code",{children:"shopgmail999"}),", ",u.jsx("code",{children:"gmail66"}),", ",u.jsx("code",{children:"clonenha"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Virtual Email"}),u.jsxs("p",{children:["C 7 site: ",u.jsx("code",{children:"10p"}),", ",u.jsx("code",{children:"tm"}),", ",u.jsx("code",{children:"temp"}),", ",u.jsx("code",{children:"saki"}),", ",u.jsx("code",{children:"fake"}),", ",u.jsx("code",{children:"generator"}),", ",u.jsx("code",{children:"drop"})]})]})]}),u.jsxs("section",{id:"settings",className:"guide-section",children:[u.jsx("h2",{children:"6. Ci t Setting"}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Ci t chung"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Reg/Very:"})," Chn reg hoc very (chn very khng th chn novery  option)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"App:"})," Chn app Katana hoc Lite"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Sex:"})," Chn male, female hoc random"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Language:"})," Chn VN (c trong in thoi/LD cng phi  ting Vit)"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Name & Password"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Name:"})," C last v first  t custom, hoc vo folder data thay i"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Password:"}),"  random (ngu nhin) hoc t t mt khu ring"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Bait:"})," Mi s in thoi, c th b u s mong mun vo file prefix number"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Change IP"}),u.jsxs("p",{children:["C 4 la chn: ",u.jsx("strong",{children:"4G"}),", ",u.jsx("strong",{children:"Wifi"}),", ",u.jsx("strong",{children:"Proxy"}),", ",u.jsx("strong",{children:"VPN"})]}),u.jsx("p",{children:"Ring Proxy xoay: Vo app Super Proxy, n du cng  thm proxy khi mua. Bt phn t ng i IP, nhp cc thng s v n Start."}),u.jsxs("p",{children:["Proxy list: Nhp danh sch proxy vo ",u.jsx("code",{children:"data/proxy.txt"})," vi nh dng ",u.jsx("code",{children:"ip:port:user:pass"})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Setting Time"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Time action:"})," Thi gian hnh ng (mun chm/nhanh)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time wait otp:"})," Thi gian ch ly OTP"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time buy:"})," Thi gian ch mua ti nguyn"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" File Input/Output"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"File account:"})," Nhp tk|mk  chy very"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File live:"})," Ti khon reg/very live"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File novery:"})," Ti khon cha xc minh"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File die:"})," Ti khon die"]})]})]})]}),u.jsxs("section",{id:"support",className:"guide-section support-section",children:[u.jsx("h2",{children:"7. Lin h h tr"}),u.jsxs("p",{className:"support-note",children:["Nu bn gp bt k vn  no trong qu trnh s dng hoc c  tng ng gp,",u.jsx("br",{}),"ng ngn ngi lin h vi mnh nh! "]}),u.jsx("div",{className:"support-cards centered",children:u.jsxs("a",{href:"https://t.me/phu_dev",target:"_blank",rel:"noopener noreferrer",className:"support-card",children:[u.jsx("span",{className:"support-icon",children:""}),u.jsx("span",{children:"Telegram"})]})}),u.jsx("p",{className:"support-footer",children:"Chc mi ngi s dng tool vui v v hiu qu! "})]})]})]})]})}function fD(){const{isAdmin:s,loading:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("");V.useEffect(()=>{g()},[]);async function g(){try{const S=Gi(Mt(je,"users"),yd("createdAt","desc")),R=(await Wn(S)).docs.map(C=>({id:C.id,...C.data()}));a(R)}catch(S){console.error("Error fetching users:",S)}c(!1)}async function y(S,O){const R=O==="admin"?"user":"admin";try{await Dn(dt(je,"users",S),{role:R}),a(n.map(C=>C.id===S?{...C,role:R}:C))}catch(C){console.error("Error updating role:",C)}}async function T(S){try{await SS(dt(je,"users",S)),a(n.filter(O=>O.id!==S))}catch(O){console.error("Error deleting user:",O)}}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});const b=n.filter(S=>S.email?.toLowerCase().includes(d.toLowerCase())||S.displayName?.toLowerCase().includes(d.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Users"}),u.jsxs("p",{children:["Tng cng: ",n.length," users"]})]}),u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo email hoc tn...",value:d,onChange:S=>p(S.target.value)})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Tn"}),u.jsx("th",{children:"Vai tr"}),u.jsx("th",{children:"Balance"}),u.jsx("th",{children:"Ngy to"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:b.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"email-cell",children:S.email}),u.jsx("td",{children:S.displayName||"-"}),u.jsx("td",{children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("td",{children:[S.balance?.toLocaleString("vi-VN")||0,""]}),u.jsx("td",{children:S.createdAt?.toDate?S.createdAt.toDate().toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action btn-toggle",onClick:()=>y(S.id,S.role),title:S.role==="admin"?"H xung User":"Nng ln Admin",children:S.role==="admin"?"":""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>T(S.id),title:"Xa user",children:""})]})]},S.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:b.map(S=>u.jsxs("div",{className:`mobile-card role-${S.role}`,children:[u.jsx("div",{className:"mobile-card-header",children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:S.email})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Tn:"}),u.jsx("span",{className:"value",children:S.displayName||"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S d:"}),u.jsxs("span",{className:"value amount",children:[S.balance?.toLocaleString("vi-VN")||0,""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:S.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:S.role==="admin"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>y(S.id,S.role),children:S.role==="admin"?" H QUYN":" NNG ADMIN"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>T(S.id),children:" XA"})]})]},S.id))})]})]})]})}function mD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let a="";for(let l=0;l<4;l++)a+=s.charAt(Math.floor(Math.random()*s.length));e.push(a)}return e.join("-")}function pD(){const{isAdmin:s,loading:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState({}),[d,p]=V.useState(!0),[g,y]=V.useState(!1),[T,b]=V.useState(""),[S,O]=V.useState({plan:"1_month",userId:"",userEmail:"",hwid:""});V.useEffect(()=>{R()},[]);async function R(){try{const z=await Wn(Mt(je,"users")),oe={};z.docs.forEach(N=>{oe[N.id]=N.data()}),c(oe);const ce=Gi(Mt(je,"licenses"),yd("createdAt","desc")),x=(await Wn(ce)).docs.map(N=>({id:N.id,...N.data()}));a(x)}catch(z){console.error("Error fetching data:",z)}p(!1)}async function C(){try{const z=S.plan,oe=z==="1_day"?1:z==="1_month"?30:-1,ce=oe>0?new Date(Date.now()+oe*24*60*60*1e3):null,I=S.hwid&&S.hwid.trim()!=="",x=I||S.userId,N={licenseKey:mD(),productId:"regfb",plan:z,status:x?"active":"pending",userId:S.userId||null,hwid:I?S.hwid.trim():null,hwidHistory:[],createdAt:Tn(),activatedAt:x?Tn():null,expiresAt:ce},k=await fr(Mt(je,"licenses"),N);a([{id:k.id,...N,createdAt:new Date},...n]),y(!1),O({plan:"1_month",userId:"",userEmail:"",hwid:""})}catch(z){console.error("Error creating license:",z)}}async function U(z,oe){const ce=oe==="active"?"revoked":"active";try{await Dn(dt(je,"licenses",z),{status:ce}),a(n.map(I=>I.id===z?{...I,status:ce}:I))}catch(I){console.error("Error updating status:",I)}}async function Y(z,oe){try{const I=n.find(x=>x.id===z).hwidHistory||[];oe&&I.push(oe),await Dn(dt(je,"licenses",z),{hwid:null,hwidHistory:I}),a(n.map(x=>x.id===z?{...x,hwid:null,hwidHistory:I}:x))}catch(ce){console.error("Error resetting HWID:",ce)}}async function W(z){try{await SS(dt(je,"licenses",z)),a(n.filter(oe=>oe.id!==z))}catch(oe){console.error("Error deleting license:",oe)}}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});const ie=n.filter(z=>(z.licenseKey||z.key||"").toLowerCase().includes(T.toLowerCase())||l[z.userId]?.email?.toLowerCase().includes(T.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Licenses"}),u.jsxs("p",{children:["Tng cng: ",n.length," licenses"]})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo key hoc email...",value:T,onChange:z=>b(z.target.value)})]}),u.jsx("button",{className:"btn-create",onClick:()=>y(!0),children:" To License"})]})]}),d?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Key"}),u.jsx("th",{children:"Gi"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"}),u.jsx("th",{children:"Ht hn"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:ie.map(z=>u.jsxs("tr",{children:[u.jsxs("td",{className:"key-cell",children:[u.jsx("code",{children:z.licenseKey||z.key}),u.jsx("button",{className:"btn-copy-small",onClick:()=>navigator.clipboard.writeText(z.licenseKey||z.key),children:""})]}),u.jsx("td",{children:u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&" Active",z.status==="pending"&&" Pending",z.status==="expired"&&" Expired",z.status==="revoked"&&" Revoked"]})}),u.jsx("td",{children:z.userId?l[z.userId]?.email||z.userId.substring(0,8)+"...":u.jsx("span",{className:"no-user",children:"Cha gn"})}),u.jsx("td",{children:z.hwid?u.jsxs("span",{className:"hwid-value",title:z.hwid,children:[z.hwid.substring(0,10),"..."]}):u.jsx("span",{className:"no-hwid",children:"-"})}),u.jsx("td",{children:z.plan==="lifetime"?"":z.expiresAt?.toDate?z.expiresAt.toDate().toLocaleDateString("vi-VN"):z.expiresAt?new Date(z.expiresAt).toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action",onClick:()=>U(z.id,z.status),title:z.status==="active"?"Thu hi":"Kch hot",children:z.status==="active"?"":""}),z.hwid&&u.jsx("button",{className:"btn-action",onClick:()=>Y(z.id,z.hwid),title:"Reset HWID",children:""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>W(z.id),title:"Xa",children:""})]})]},z.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:ie.map(z=>u.jsxs("div",{className:`mobile-card status-${z.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("code",{className:"license-key-mobile",children:z.licenseKey||z.key}),u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&"",z.status==="pending"&&"",z.status==="expired"&&"",z.status==="revoked"&&""]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"User:"}),u.jsx("span",{className:"value",children:z.userId?l[z.userId]?.email||z.userId.substring(0,12)+"...":"Cha gn"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),u.jsx("span",{className:"value",children:z.hwid?z.hwid.substring(0,12)+"...":"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:z.plan==="lifetime"?" Vnh vin":z.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:z.status==="active"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>U(z.id,z.status),children:z.status==="active"?" THU HI":" KCH HOT"}),z.hwid&&u.jsx("button",{className:"btn-secondary-mobile",onClick:()=>Y(z.id,z.hwid),children:" RESET"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>W(z.id),children:""})]})]},z.id))})]})]}),g&&u.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:u.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" To License Mi"}),u.jsx("button",{className:"btn-close",onClick:()=>y(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gi License"}),u.jsxs("select",{value:S.plan,onChange:z=>O({...S,plan:z.target.value}),children:[u.jsx("option",{value:"1_day",children:"1 Ngy - 10,000"}),u.jsx("option",{value:"1_month",children:"1 Thng - 200,000"}),u.jsx("option",{value:"lifetime",children:"Vnh vin - 600,000"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gn cho User (ty chn)"}),u.jsxs("select",{value:S.userId,onChange:z=>O({...S,userId:z.target.value}),children:[u.jsx("option",{value:"",children:"-- Khng gn --"}),Object.entries(l).map(([z,oe])=>u.jsx("option",{value:z,children:oe.email},z))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"HWID my tnh (copy t tool)"}),u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:S.hwid,onChange:z=>O({...S,hwid:z.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontFamily:"monospace",fontSize:"0.85rem"}}),u.jsx("small",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.75rem"},children:"User m tool  Copy HWID  Paste vo y"})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>y(!1),children:"Hy"}),u.jsx("button",{className:"btn-submit",onClick:C,children:"To License"})]})]})})]})}function gD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let a="";for(let l=0;l<4;l++)a+=s.charAt(Math.floor(Math.random()*s.length));e.push(a)}return e.join("-")}function yD(){const{isAdmin:s,loading:e}=ln(),[n,a]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all");V.useEffect(()=>{g()},[]);async function g(){try{const R=Gi(Mt(je,"orders"),yd("createdAt","desc")),U=(await Wn(R)).docs.map(Y=>({id:Y.id,...Y.data()}));a(U)}catch(R){console.error("Error fetching orders:",R)}c(!1)}async function y(R){try{await Dn(dt(je,"orders",R.id),{status:"paid",paidAt:Tn()});const C=R.plan,U=C==="1_day"?1:C==="1_month"?30:-1,Y=U>0?new Date(Date.now()+U*24*60*60*1e3):null;await fr(Mt(je,"licenses"),{licenseKey:gD(),productId:"regfb",plan:C,status:"active",userId:R.userId,hwid:null,hwidHistory:[],createdAt:Tn(),activatedAt:Tn(),expiresAt:Y,orderId:R.orderId}),a(n.map(W=>W.id===R.id?{...W,status:"paid",paidAt:new Date}:W))}catch(C){console.error("Error confirming payment:",C)}}async function T(R){try{await Dn(dt(je,"orders",R),{status:"cancelled"}),a(n.map(C=>C.id===R?{...C,status:"cancelled"}:C))}catch(C){console.error("Error cancelling order:",C)}}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});const b=d==="all"?n:n.filter(R=>R.status===d),S=n.filter(R=>R.status==="pending").length;function O(R){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l n hng"}),u.jsxs("p",{children:["Tng cng: ",n.length," n",S>0&&u.jsxs("span",{className:"pending-alert",children:["  ",S," n ch x l"]})]})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsxs("button",{className:`tab ${d==="pending"?"active":""}`,onClick:()=>p("pending"),children:[" Ch x l (",S,")"]}),u.jsx("button",{className:`tab ${d==="paid"?"active":""}`,onClick:()=>p("paid"),children:"  thanh ton"}),u.jsx("button",{className:`tab ${d==="cancelled"?"active":""}`,onClick:()=>p("cancelled"),children:"  hy"})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):b.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Khng c n hng no"})]}):u.jsx("div",{className:"orders-grid",children:b.map(R=>u.jsxs("div",{className:`order-card status-${R.status}`,children:[u.jsxs("div",{className:"order-header",children:[u.jsxs("span",{className:"order-id",children:["#",R.orderId]}),u.jsxs("span",{className:`order-status status-${R.status}`,children:[R.status==="pending"&&" Ch thanh ton",R.status==="paid"&&"  thanh ton",R.status==="cancelled"&&"  hy"]})]}),u.jsxs("div",{className:"order-body",children:[u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:R.userEmail})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:`plan-badge plan-${R.plan}`,children:R.planName||R.plan})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsx("span",{className:"value amount",children:O(R.amount)})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:R.createdAt?.toDate?R.createdAt.toDate().toLocaleString("vi-VN"):"-"})]})]}),R.status==="pending"&&u.jsxs("div",{className:"order-actions",children:[u.jsx("button",{className:"btn-confirm",onClick:()=>y(R),children:" Xc nhn  thanh ton"}),u.jsx("button",{className:"btn-cancel-order",onClick:()=>T(R.id),children:" Hy"})]})]},R.id))})]})]})}function vD(){const{isAdmin:s}=ln(),[e,n]=V.useState([]),[a,l]=V.useState(!0),[c,d]=V.useState("all"),[p,g]=V.useState(null);V.useEffect(()=>{y()},[]);async function y(){l(!0);try{const C=Gi(Mt(je,"deposits"),yd("createdAt","desc")),Y=(await Wn(C)).docs.map(W=>({id:W.id,...W.data()}));console.log("Fetched deposits:",Y),n(Y)}catch(C){console.error("Error fetching deposits:",C)}l(!1)}function T(){return c==="all"?e:e.filter(C=>C.status===c)}async function b(C){console.log("Confirm clicked for deposit:",C),g(C.id);try{console.log("Updating deposit:",C.id),await Dn(dt(je,"deposits",C.id),{status:"completed",completedAt:Tn()}),console.log("Deposit updated"),console.log("Updating user balance:",C.userId),await Dn(dt(je,"users",C.userId),{balance:_g(C.amount)}),console.log("User balance updated"),await fr(Mt(je,"transactions"),{userId:C.userId,type:"deposit",amount:C.amount,description:`Np tin - M GD: ${C.orderId}`,createdAt:Tn()}),console.log("Transaction created"),y()}catch(U){console.error("Error confirming deposit:",U)}g(null)}async function S(C){console.log("Reject clicked for deposit:",C),g(C.id);try{await Dn(dt(je,"deposits",C.id),{status:"rejected",rejectedAt:Tn()}),y()}catch(U){console.error("Error rejecting deposit:",U)}g(null)}function O(C){return new Intl.NumberFormat("vi-VN").format(C)}if(!s())return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx("p",{children:"Bn cn quyn Admin  xem trang ny."}),u.jsx(Ne,{to:"/dashboard",children:"V Dashboard"})]})})]});const R=T();return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:" Qun l np tin"}),u.jsx("button",{className:"btn-refresh",onClick:y,children:" Lm mi"})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsxs("button",{className:`tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:["Tt c (",e.length,")"]}),u.jsxs("button",{className:`tab ${c==="pending"?"active":""}`,onClick:()=>d("pending"),children:["Ch x l (",e.filter(C=>C.status==="pending").length,")"]}),u.jsxs("button",{className:`tab ${c==="completed"?"active":""}`,onClick:()=>d("completed"),children:[" np (",e.filter(C=>C.status==="completed").length,")"]})]}),a?u.jsx("div",{className:"loading",children:"ang ti..."}):R.length===0?u.jsx("div",{className:"empty",children:"Khng c yu cu np tin no"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"table-container desktop-only",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M GD"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"S tin"}),u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:R.map(C=>u.jsxs("tr",{children:[u.jsx("td",{className:"order-id",children:C.orderId}),u.jsx("td",{children:C.userEmail}),u.jsxs("td",{className:"amount",children:[O(C.amount),""]}),u.jsx("td",{className:"date",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch x l",C.status==="completed"&&"  np",C.status==="rejected"&&" T chi"]})}),u.jsxs("td",{className:"actions",children:[C.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-confirm",onClick:()=>b(C),disabled:p===C.id,children:p===C.id?"...":" Xc nhn"}),u.jsx("button",{className:"btn-reject",onClick:()=>S(C),disabled:p===C.id,children:" T chi"})]}),C.status!=="pending"&&u.jsx("span",{className:"processed",children:" x l"})]})]},C.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:R.map(C=>u.jsxs("div",{className:`mobile-card status-${C.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("span",{className:"mobile-card-id",children:C.orderId}),u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch",C.status==="completed"&&" Done",C.status==="rejected"&&" Reject"]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:C.userEmail})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value amount",children:[O(C.amount),""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Thi gian:"}),u.jsx("span",{className:"value",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]})]}),C.status==="pending"&&u.jsxs("div",{className:"mobile-card-actions",children:[u.jsxs("button",{className:"btn-confirm-mobile",onClick:()=>b(C),disabled:p===C.id,children:[p===C.id?"":""," XC NHN"]}),u.jsx("button",{className:"btn-reject-mobile",onClick:()=>S(C),disabled:p===C.id,children:" T CHI"})]})]},C.id))})]})]})]})}function _D(){const[s,e]=V.useState({today:0,thisMonth:0,total:0,uniqueToday:0,uniqueMonth:0,uniqueTotal:0,revenueToday:0,revenueMonth:0,revenueTotal:0,ordersToday:0,ordersMonth:0,ordersTotal:0}),[n,a]=V.useState(!0),[l,c]=V.useState([]);V.useEffect(()=>{p()},[]);function d(g){return new Intl.NumberFormat("vi-VN").format(g)}async function p(){a(!0);try{const y=new Date().toISOString().split("T")[0],T=y.substring(0,7),b=Mt(je,"usage_logs"),S=await Wn(b);let O=0,R=0,C=0;const U=new Set,Y=new Set,W=new Set,ie=[];S.docs.forEach(B=>{const j=B.data();C++,W.add(j.hwid),j.date===y&&(O++,U.add(j.hwid)),j.month===T&&(R++,Y.add(j.hwid)),ie.push({id:B.id,...j})}),ie.sort((B,j)=>{const ae=B.timestamp?.toDate?.()||new Date(B.timestamp||0);return(j.timestamp?.toDate?.()||new Date(j.timestamp||0))-ae});const z=Mt(je,"transactions"),oe=await Wn(z);let ce=0,I=0,x=0,N=0,k=0,M=0;oe.docs.forEach(B=>{const j=B.data();if(j.type==="license_purchase"&&j.amount<0){const ae=Math.abs(j.amount),ye=j.createdAt?.toDate?.();if(ye){const K=ye.toISOString().split("T")[0],re=K.substring(0,7);x+=ae,M++,K===y&&(ce+=ae,N++),re===T&&(I+=ae,k++)}else x+=ae,M++}}),e({today:O,thisMonth:R,total:C,uniqueToday:U.size,uniqueMonth:Y.size,uniqueTotal:W.size,revenueToday:ce,revenueMonth:I,revenueTotal:x,ordersToday:N,ordersMonth:k,ordersTotal:M}),c(ie.slice(0,20))}catch(g){console.error("Error fetching stats:",g)}a(!1)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx(Ne,{to:"/admin/users",className:"back-link",children:" Admin"}),u.jsx("h1",{children:" Thng k"}),u.jsx("button",{className:"btn-refresh",onClick:p,children:" Refresh"})]}),n?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem"},children:" Doanh thu"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueToday),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersToday," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueMonth),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersMonth," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueTotal),""]}),u.jsx("div",{className:"stat-label",children:"Tng doanh thu"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersTotal," n hng"]})]})]})]}),u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem",marginTop:"2rem"},children:" Lt s dng"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.today}),u.jsx("div",{className:"stat-label",children:"Lt dng hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueToday," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.thisMonth}),u.jsx("div",{className:"stat-label",children:"Lt dng thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueMonth," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.total}),u.jsx("div",{className:"stat-label",children:"Tng lt dng"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueTotal," ngi dng"]})]})]})]}),u.jsxs("div",{className:"section-card",style:{marginTop:"2rem"},children:[u.jsx("h2",{children:" Lch s s dng gn y"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"})]})}),u.jsx("tbody",{children:l.map(g=>u.jsxs("tr",{children:[u.jsx("td",{children:g.timestamp?.toDate?.().toLocaleString("vi-VN")||new Date(g.timestamp).toLocaleString("vi-VN")}),u.jsx("td",{children:g.userName||"Unknown"}),u.jsxs("td",{className:"hwid-cell",children:[g.hwid?.substring(0,16),"..."]})]},g.id))})]})})]})]})]})]})}function ED(){const{isAdmin:s}=ln(),[e,n]=V.useState({downloadUrl:"",version:"",changelog:"",updatedAt:null}),[a,l]=V.useState(!0),[c,d]=V.useState(!1);V.useEffect(()=>{p()},[]);async function p(){try{const y=dt(je,"settings","software"),T=await vd(y);T.exists()&&n(T.data())}catch(y){console.error("Error fetching settings:",y)}l(!1)}async function g(){d(!0);try{await bS(dt(je,"settings","software"),{...e,updatedAt:new Date})}catch(y){console.error("Error saving settings:",y)}d(!1)}return s()?u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsxs("div",{className:"admin-container",children:[u.jsx("div",{className:"admin-header",children:u.jsx("h1",{children:" Ci t phn mm"})}),a?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsx("div",{className:"settings-form",children:u.jsxs("div",{className:"settings-card",children:[u.jsx("h2",{children:" Link ti phn mm"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Version hin ti"}),u.jsx("input",{type:"text",placeholder:"VD: 1.0.0",value:e.version,onChange:y=>n({...e,version:y.target.value})}),u.jsx("small",{children:"Tool s check version ny  bo cp nht"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Link ti (Google Drive, MediaFire...)"}),u.jsx("input",{type:"text",placeholder:"https://drive.google.com/...",value:e.downloadUrl,onChange:y=>n({...e,downloadUrl:y.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Changelog (ty chn)"}),u.jsx("textarea",{placeholder:`- Tnh nng mi...
- Sa li...`,value:e.changelog||"",onChange:y=>n({...e,changelog:y.target.value}),rows:4})]}),e.updatedAt&&u.jsxs("p",{className:"last-updated",children:["Cp nht ln cui: ",new Date(e.updatedAt.seconds?e.updatedAt.seconds*1e3:e.updatedAt).toLocaleString("vi-VN")]}),u.jsx("button",{className:"btn-save",onClick:g,disabled:c,children:c?" ang lu...":" Lu ci t"})]})})]})]}):u.jsxs("div",{className:"admin-page",children:[u.jsx(rn,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx(Ne,{to:"/dashboard",children:"V Dashboard"})]})})]})}function Kn({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?s:u.jsx(Rl,{to:"/login"})}function kT({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?u.jsx(Rl,{to:"/dashboard"}):s}function TD(){return u.jsxs(lx,{children:[u.jsx(Ut,{path:"/",element:u.jsx(MT,{})}),u.jsx(Ut,{path:"/products",element:u.jsx(MT,{})}),u.jsx(Ut,{path:"/login",element:u.jsx(kT,{children:u.jsx(aD,{})})}),u.jsx(Ut,{path:"/register",element:u.jsx(kT,{children:u.jsx(rD,{})})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(Kn,{children:u.jsx(oD,{})})}),u.jsx(Ut,{path:"/wallet",element:u.jsx(Kn,{children:u.jsx(cD,{})})}),u.jsx(Ut,{path:"/my-licenses",element:u.jsx(Kn,{children:u.jsx(uD,{})})}),u.jsx(Ut,{path:"/guide",element:u.jsx(dD,{})}),u.jsx(Ut,{path:"/profile",element:u.jsx(Kn,{children:u.jsx(hD,{})})}),u.jsx(Ut,{path:"/buy",element:u.jsx(Kn,{children:u.jsx(VT,{})})}),u.jsx(Ut,{path:"/buy/:productId",element:u.jsx(Kn,{children:u.jsx(VT,{})})}),u.jsx(Ut,{path:"/admin/users",element:u.jsx(Kn,{children:u.jsx(fD,{})})}),u.jsx(Ut,{path:"/admin/licenses",element:u.jsx(Kn,{children:u.jsx(pD,{})})}),u.jsx(Ut,{path:"/admin/orders",element:u.jsx(Kn,{children:u.jsx(yD,{})})}),u.jsx(Ut,{path:"/admin/deposits",element:u.jsx(Kn,{children:u.jsx(vD,{})})}),u.jsx(Ut,{path:"/admin/stats",element:u.jsx(Kn,{children:u.jsx(_D,{})})}),u.jsx(Ut,{path:"/admin/settings",element:u.jsx(Kn,{children:u.jsx(ED,{})})}),u.jsx(Ut,{path:"*",element:u.jsx(Rl,{to:"/"})})]})}function bD(){return u.jsx(Ix,{children:u.jsx(Z2,{children:u.jsx(TD,{})})})}mw.createRoot(document.getElementById("root")).render(u.jsx(V.StrictMode,{children:u.jsx(bD,{})}));

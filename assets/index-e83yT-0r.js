(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Am={exports:{}},Qo={};var Q_;function dw(){if(Q_)return Qo;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Qo.Fragment=e,Qo.jsx=n,Qo.jsxs=n,Qo}var Y_;function fw(){return Y_||(Y_=1,Am.exports=dw()),Am.exports}var u=fw(),wm={exports:{}},Ne={};var $_;function mw(){if($_)return Ne;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function O(L){return L===null||typeof L!="object"?null:(L=S&&L[S]||L["@@iterator"],typeof L=="function"?L:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function Y(L,te,he){this.props=L,this.context=te,this.refs=U,this.updater=he||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(L,te){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,te,"setState")},Y.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ie(L,te,he){this.props=L,this.context=te,this.refs=U,this.updater=he||R}var z=ie.prototype=new W;z.constructor=ie,C(z,Y.prototype),z.isPureReactComponent=!0;var oe=Array.isArray;function ce(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(L,te,he){var me=he.ref;return{$$typeof:s,type:L,key:te,ref:me!==void 0?me:null,props:he}}function k(L,te){return N(L.type,te,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function B(L){var te={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(he){return te[he]})}var j=/\/+/g;function ae(L,te){return typeof L=="object"&&L!==null&&L.key!=null?B(""+L.key):te.toString(36)}function ye(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(ce,ce):(L.status="pending",L.then(function(te){L.status==="pending"&&(L.status="fulfilled",L.value=te)},function(te){L.status==="pending"&&(L.status="rejected",L.reason=te)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function q(L,te,he,me,we){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var qe=!1;if(L===null)qe=!0;else switch(Oe){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(L.$$typeof){case s:case e:qe=!0;break;case T:return qe=L._init,q(qe(L._payload),te,he,me,we)}}if(qe)return we=we(L),qe=me===""?"."+ae(L,0):me,oe(we)?(he="",qe!=null&&(he=qe.replace(j,"$&/")+"/"),q(we,te,he,"",function(Ir){return Ir})):we!=null&&(M(we)&&(we=k(we,he+(we.key==null||L&&L.key===we.key?"":(""+we.key).replace(j,"$&/")+"/")+qe)),te.push(we)),1;qe=0;var kt=me===""?".":me+":";if(oe(L))for(var ot=0;ot<L.length;ot++)me=L[ot],Oe=kt+ae(me,ot),qe+=q(me,te,he,Oe,we);else if(ot=O(L),typeof ot=="function")for(L=ot.call(L),ot=0;!(me=L.next()).done;)me=me.value,Oe=kt+ae(me,ot++),qe+=q(me,te,he,Oe,we);else if(Oe==="object"){if(typeof L.then=="function")return q(ye(L),te,he,me,we);throw te=String(L),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return qe}function re(L,te,he){if(L==null)return L;var me=[],we=0;return q(L,me,"","",function(Oe){return te.call(he,Oe,we++)}),me}function ue(L){if(L._status===-1){var te=L._result;te=te(),te.then(function(he){(L._status===0||L._status===-1)&&(L._status=1,L._result=he)},function(he){(L._status===0||L._status===-1)&&(L._status=2,L._result=he)}),L._status===-1&&(L._status=0,L._result=te)}if(L._status===1)return L._result.default;throw L._result}var Ee=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Ae={map:re,forEach:function(L,te,he){re(L,function(){te.apply(this,arguments)},he)},count:function(L){var te=0;return re(L,function(){te++}),te},toArray:function(L){return re(L,function(te){return te})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ne.Activity=b,Ne.Children=Ae,Ne.Component=Y,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=ie,Ne.StrictMode=r,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(L){return I.H.useMemoCache(L)}},Ne.cache=function(L){return function(){return L.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(L,te,he){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var me=C({},L.props),we=L.key;if(te!=null)for(Oe in te.key!==void 0&&(we=""+te.key),te)!x.call(te,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&te.ref===void 0||(me[Oe]=te[Oe]);var Oe=arguments.length-2;if(Oe===1)me.children=he;else if(1<Oe){for(var qe=Array(Oe),kt=0;kt<Oe;kt++)qe[kt]=arguments[kt+2];me.children=qe}return N(L.type,we,me)},Ne.createContext=function(L){return L={$$typeof:d,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:c,_context:L},L},Ne.createElement=function(L,te,he){var me,we={},Oe=null;if(te!=null)for(me in te.key!==void 0&&(Oe=""+te.key),te)x.call(te,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(we[me]=te[me]);var qe=arguments.length-2;if(qe===1)we.children=he;else if(1<qe){for(var kt=Array(qe),ot=0;ot<qe;ot++)kt[ot]=arguments[ot+2];we.children=kt}if(L&&L.defaultProps)for(me in qe=L.defaultProps,qe)we[me]===void 0&&(we[me]=qe[me]);return N(L,Oe,we)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:p,render:L}},Ne.isValidElement=M,Ne.lazy=function(L){return{$$typeof:T,_payload:{_status:-1,_result:L},_init:ue}},Ne.memo=function(L,te){return{$$typeof:y,type:L,compare:te===void 0?null:te}},Ne.startTransition=function(L){var te=I.T,he={};I.T=he;try{var me=L(),we=I.S;we!==null&&we(he,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(ce,Ee)}catch(Oe){Ee(Oe)}finally{te!==null&&he.types!==null&&(te.types=he.types),I.T=te}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(L){return I.H.use(L)},Ne.useActionState=function(L,te,he){return I.H.useActionState(L,te,he)},Ne.useCallback=function(L,te){return I.H.useCallback(L,te)},Ne.useContext=function(L){return I.H.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L,te){return I.H.useDeferredValue(L,te)},Ne.useEffect=function(L,te){return I.H.useEffect(L,te)},Ne.useEffectEvent=function(L){return I.H.useEffectEvent(L)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(L,te,he){return I.H.useImperativeHandle(L,te,he)},Ne.useInsertionEffect=function(L,te){return I.H.useInsertionEffect(L,te)},Ne.useLayoutEffect=function(L,te){return I.H.useLayoutEffect(L,te)},Ne.useMemo=function(L,te){return I.H.useMemo(L,te)},Ne.useOptimistic=function(L,te){return I.H.useOptimistic(L,te)},Ne.useReducer=function(L,te,he){return I.H.useReducer(L,te,he)},Ne.useRef=function(L){return I.H.useRef(L)},Ne.useState=function(L){return I.H.useState(L)},Ne.useSyncExternalStore=function(L,te,he){return I.H.useSyncExternalStore(L,te,he)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.1",Ne}var X_;function bp(){return X_||(X_=1,wm.exports=mw()),wm.exports}var V=bp(),xm={exports:{}},Yo={},Nm={exports:{}},Rm={};var W_;function pw(){return W_||(W_=1,(function(s){function e(q,re){var ue=q.length;q.push(re);e:for(;0<ue;){var Ee=ue-1>>>1,Ae=q[Ee];if(0<l(Ae,re))q[Ee]=re,q[ue]=Ae,ue=Ee;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var re=q[0],ue=q.pop();if(ue!==re){q[0]=ue;e:for(var Ee=0,Ae=q.length,L=Ae>>>1;Ee<L;){var te=2*(Ee+1)-1,he=q[te],me=te+1,we=q[me];if(0>l(he,ue))me<Ae&&0>l(we,he)?(q[Ee]=we,q[me]=ue,Ee=me):(q[Ee]=he,q[te]=ue,Ee=te);else if(me<Ae&&0>l(we,ue))q[Ee]=we,q[me]=ue,Ee=me;else break e}}return re}function l(q,re){var ue=q.sortIndex-re.sortIndex;return ue!==0?ue:q.id-re.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,S=3,O=!1,R=!1,C=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var re=n(y);re!==null;){if(re.callback===null)r(y);else if(re.startTime<=q)r(y),re.sortIndex=re.expirationTime,e(g,re);else break;re=n(y)}}function oe(q){if(C=!1,z(q),!R)if(n(g)!==null)R=!0,ce||(ce=!0,B());else{var re=n(y);re!==null&&ye(oe,re.startTime-q)}}var ce=!1,I=-1,x=5,N=-1;function k(){return U?!0:!(s.unstable_now()-N<x)}function M(){if(U=!1,ce){var q=s.unstable_now();N=q;var re=!0;try{e:{R=!1,C&&(C=!1,W(I),I=-1),O=!0;var ue=S;try{t:{for(z(q),b=n(g);b!==null&&!(b.expirationTime>q&&k());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,S=b.priorityLevel;var Ae=Ee(b.expirationTime<=q);if(q=s.unstable_now(),typeof Ae=="function"){b.callback=Ae,z(q),re=!0;break t}b===n(g)&&r(g),z(q)}else r(g);b=n(g)}if(b!==null)re=!0;else{var L=n(y);L!==null&&ye(oe,L.startTime-q),re=!1}}break e}finally{b=null,S=ue,O=!1}re=void 0}}finally{re?B():ce=!1}}}var B;if(typeof ie=="function")B=function(){ie(M)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ae=j.port2;j.port1.onmessage=M,B=function(){ae.postMessage(null)}}else B=function(){Y(M,0)};function ye(q,re){I=Y(function(){q(s.unstable_now())},re)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(q){switch(S){case 1:case 2:case 3:var re=3;break;default:re=S}var ue=S;S=re;try{return q()}finally{S=ue}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ue=S;S=q;try{return re()}finally{S=ue}},s.unstable_scheduleCallback=function(q,re,ue){var Ee=s.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ee+ue:Ee):ue=Ee,q){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ue+Ae,q={id:T++,callback:re,priorityLevel:q,startTime:ue,expirationTime:Ae,sortIndex:-1},ue>Ee?(q.sortIndex=ue,e(y,q),n(g)===null&&q===n(y)&&(C?(W(I),I=-1):C=!0,ye(oe,ue-Ee))):(q.sortIndex=Ae,e(g,q),R||O||(R=!0,ce||(ce=!0,B()))),q},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(q){var re=S;return function(){var ue=S;S=re;try{return q.apply(this,arguments)}finally{S=ue}}}})(Rm)),Rm}var J_;function gw(){return J_||(J_=1,Nm.exports=pw()),Nm.exports}var Cm={exports:{}},en={};var Z_;function yw(){if(Z_)return en;Z_=1;var s=bp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},en.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var eE;function vw(){if(eE)return Cm.exports;eE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cm.exports=yw(),Cm.exports}var tE;function _w(){if(tE)return Yo;tE=1;var s=gw(),e=bp(),n=vw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,o=m;break}if(A===o){_=!0,o=f,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,o=f;break}if(A===o){_=!0,o=m,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function ae(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case ce:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case ie:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ae(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return ae(t(i))}catch{}}return null}var ye=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ee=[],Ae=-1;function L(t){return{current:t}}function te(t){0>Ae||(t.current=Ee[Ae],Ee[Ae]=null,Ae--)}function he(t,i){Ae++,Ee[Ae]=t.current,t.current=i}var me=L(null),we=L(null),Oe=L(null),qe=L(null);function kt(t,i){switch(he(Oe,i),he(we,t),he(me,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?g_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=g_(i),t=y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(me),he(me,t)}function ot(){te(me),te(we),te(Oe)}function Ir(t){t.memoizedState!==null&&he(qe,t);var i=me.current,a=y_(i,t.type);i!==a&&(he(we,t),he(me,a))}function _a(t){we.current===t&&(te(me),te(we)),qe.current===t&&(te(qe),qo._currentValue=ue)}var Ea,Ta;function vi(t){if(Ea===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ea=i&&i[1]||"",Ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ea+t+Ta}var Hl=!1;function jr(t,i){if(!t||Hl)return"";Hl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var Q=X}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(X){Q=X}t.call(ne.prototype)}}else{try{throw Error()}catch(X){Q=X}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),K=A.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===K.length)for(o=D.length-1,f=K.length-1;1<=o&&0<=f&&D[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==K[f]){var J=`
`+D[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{Hl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vi(a):""}function ql(t,i){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return t.child!==i&&i!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return jr(t.type,!1);case 11:return jr(t.type.render,!1);case 1:return jr(t.type,!0);case 31:return vi("Activity");default:return""}}function Fl(t){try{var i="",a=null;do i+=ql(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,Ns=s.unstable_cancelCallback,wd=s.unstable_shouldYield,Pc=s.unstable_requestPaint,on=s.unstable_now,Dr=s.unstable_getCurrentPriorityLevel,Gl=s.unstable_ImmediatePriority,Kl=s.unstable_UserBlockingPriority,Rs=s.unstable_NormalPriority,xd=s.unstable_LowPriority,Uc=s.unstable_IdlePriority,zc=s.log,Bc=s.unstable_setDisableYieldValue,Zn=null,Qt=null;function Vn(t){if(typeof zc=="function"&&Bc(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Zn,t)}catch{}}var vt=Math.clz32?Math.clz32:qc,Hc=Math.log,ba=Math.LN2;function qc(t){return t>>>=0,t===0?32:31-(Hc(t)/ba|0)|0}var _i=256,Or=262144,At=4194304;function Ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?f=Ei(o):(_&=A,_!==0?f=Ei(_):a||(a=A&~t,a!==0&&(f=Ei(a))))):(A=o&~m,A!==0?f=Ei(A):_!==0?f=Ei(_):a||(a=o&~t,a!==0&&(f=Ei(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Nd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Mr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rd(t,i,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,K=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-vt(a),ne=1<<J;A[J]=0,D[J]=-1;var Q=K[J];if(Q!==null)for(K[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}a&=~ne}o!==0&&Vr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Vr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ql(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-vt(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function Yl(t,i){var a=i&-i;return a=(a&42)!==0?1:kr(a),(a&(t.suspendedLanes|i))!==0?0:a}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gc(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function ti(t,i){var a=re.p;try{return re.p=t,i()}finally{re.p=a}}var ni=Math.random().toString(36).slice(2),wt="__reactFiber$"+ni,Bt="__reactProps$"+ni,Si="__reactContainer$"+ni,Sa="__reactEvents$"+ni,Cd="__reactListeners$"+ni,Kc="__reactHandles$"+ni,Qc="__reactResources$"+ni,Ai="__reactMarker$"+ni;function Aa(t){delete t[wt],delete t[Bt],delete t[Sa],delete t[Cd],delete t[Kc]}function wi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Si]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=A_(t);t!==null;){if(a=t[wt])return a;t=A_(t)}return i}t=a,a=t.parentNode}return null}function kn(t){if(t=t[wt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function xi(t){var i=t[Qc];return i||(i=t[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ai]=!0}var $l=new Set,Xl={};function Ni(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(Xl[t]=i,t=0;t<i.length;t++)$l.add(i[t])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Zl={};function Yc(t){return St.call(Zl,t)?!0:St.call(Jl,t)?!1:Wl.test(t)?Zl[t]=!0:(Jl[t]=!0,!1)}function wa(t,i,a){if(Yc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Nt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function eo(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Cs(t)?"checked":"value";t._valueTracker=eo(t,i,""+t[i])}}function Lr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Cs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pr=/[\n"\\]/g;function fn(t){return t.replace(Pr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xa(t,i,a,o,f,m,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?to(t,_,Ht(i)):a!=null?to(t,_,Ht(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ht(A):t.removeAttribute("name")}function $c(t,i,a,o,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function to(t,i,a){i==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Is(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Xc(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function js(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ye(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Wc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Wc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function io(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&no(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&no(t,m,i[m])}function Na(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var so=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Ii=null;function Ur(t){var i=kn(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+fn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Bt]||null;if(!f)throw Error(r(90));xa(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Lr(o)}break e;case"textarea":Xc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Is(t,!!a.multiple,i,!1)}}}var Ca=!1;function Ms(t,i,a){if(Ca)return t(i,a);Ca=!0;try{var o=t(i);return o}finally{if(Ca=!1,(Os!==null||Ii!==null)&&(Gu(),Os&&(i=Os,t=Ii,Ii=Os=null,Ur(i),t)))for(i=0;i<t.length;i++)Ur(t[i])}}function si(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Bt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zr=!1;if(Pn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){zr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{zr=!1}var ji=null,ro=null,Br=null;function ao(){if(Br)return Br;var t,i=ro,a=i.length,o,f="value"in ji?ji.value:ji.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===f[m-o];o++);return Br=f.slice(t,1<o?1-o:void 0)}function Hr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ri(){return!1}function Yt(t){function i(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:ri,this.isPropagationStopped=ri,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Yt(Xi),Vs=b({},Xi,{view:0,detail:0}),lo=Yt(Vs),ks,Ia,Oi,ja=b({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(ks=t.screenX-Oi.screenX,Ia=t.screenY-Oi.screenY):Ia=ks=0,Oi=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),oo=Yt(ja),qr=b({},ja,{dataTransfer:0}),Zc=Yt(qr),eu=b({},Vs,{relatedTarget:0}),Fr=Yt(eu),co=b({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),tu=Yt(co),Da=b({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nu=Yt(Da),iu=b({},Xi,{data:0}),Mi=Yt(iu),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=au[t])?!!i[t]:!1}function Ls(){return lu}var cn=b({},Vs,{key:function(t){if(t.key){var i=su[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?Hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ou=Yt(cn),cu=b({},ja,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Yt(cu),h=b({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),v=Yt(h),E=b({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Yt(E),F=b({},ja,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Yt(F),le=b({},Xi,{newState:0,oldState:0}),je=Yt(le),_t=[9,13,27,32],Qe=Pn&&"CompositionEvent"in window,ct=null;Pn&&"documentMode"in document&&(ct=document.documentMode);var Un=Pn&&"TextEvent"in window&&!ct,Vi=Pn&&(!Qe||ct&&8<ct&&11>=ct),ai=" ",li=!1;function Gr(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ma=!1;function kS(t,i){switch(t){case"compositionend":return Oa(i);case"keypress":return i.which!==32?null:(li=!0,ai);case"textInput":return t=i.data,t===ai&&li?null:t;default:return null}}function LS(t,i){if(Ma)return t==="compositionend"||!Qe&&Gr(t,i)?(t=ao(),Br=ro=ji=null,Ma=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PS[t.type]:i==="textarea"}function Rg(t,i,a,o){Os?Ii?Ii.push(o):Ii=[o]:Os=o,i=Ju(i,"onChange"),0<i.length&&(a=new Di("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var uo=null,ho=null;function US(t){u_(t,0)}function uu(t){var i=An(t);if(Lr(i))return t}function Cg(t,i){if(t==="change")return i}var Ig=!1;if(Pn){var Id;if(Pn){var jd="oninput"in document;if(!jd){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),jd=typeof jg.oninput=="function"}Id=jd}else Id=!1;Ig=Id&&(!document.documentMode||9<document.documentMode)}function Dg(){uo&&(uo.detachEvent("onpropertychange",Og),ho=uo=null)}function Og(t){if(t.propertyName==="value"&&uu(ho)){var i=[];Rg(i,ho,t,Ln(t)),Ms(US,i)}}function zS(t,i,a){t==="focusin"?(Dg(),uo=i,ho=a,uo.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return uu(ho)}function HS(t,i){if(t==="click")return uu(i)}function qS(t,i){if(t==="input"||t==="change")return uu(i)}function FS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:FS;function fo(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!St.call(i,f)||!xn(t[f],i[f]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var a=Mg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Mg(a)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ci(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ci(t.document)}return i}function Dd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var GS=Pn&&"documentMode"in document&&11>=document.documentMode,Va=null,Od=null,mo=null,Md=!1;function Pg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Md||Va==null||Va!==Ci(o)||(o=Va,"selectionStart"in o&&Dd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&fo(mo,o)||(mo=o,o=Ju(Od,"onSelect"),0<o.length&&(i=new Di("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Va)))}function Kr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Kr("Animation","AnimationEnd"),animationiteration:Kr("Animation","AnimationIteration"),animationstart:Kr("Animation","AnimationStart"),transitionrun:Kr("Transition","TransitionRun"),transitionstart:Kr("Transition","TransitionStart"),transitioncancel:Kr("Transition","TransitionCancel"),transitionend:Kr("Transition","TransitionEnd")},Vd={},Ug={};Pn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Qr(t){if(Vd[t])return Vd[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ug)return Vd[t]=i[a];return t}var zg=Qr("animationend"),Bg=Qr("animationiteration"),Hg=Qr("animationstart"),KS=Qr("transitionrun"),QS=Qr("transitionstart"),YS=Qr("transitioncancel"),qg=Qr("transitionend"),Fg=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function oi(t,i){Fg.set(t,i),Ni(i,[t])}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],La=0,Ld=0;function du(){for(var t=La,i=Ld=La=0;i<t;){var a=zn[i];zn[i++]=null;var o=zn[i];zn[i++]=null;var f=zn[i];zn[i++]=null;var m=zn[i];if(zn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&Gg(a,f,m)}}function fu(t,i,a,o){zn[La++]=t,zn[La++]=i,zn[La++]=a,zn[La++]=o,Ld|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Pd(t,i,a,o){return fu(t,i,a,o),mu(t)}function Yr(t,i){return fu(t,null,null,i),mu(t)}function Gg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-vt(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),m):null}function mu(t){if(50<ko)throw ko=0,Yf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function $S(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,i,a,o){return new $S(t,i,a,o)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=Nn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Kg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function pu(t,i,a,o,f,m){var _=0;if(o=t,typeof t=="function")Ud(t)&&(_=1);else if(typeof t=="string")_=ew(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Nn(31,a,i,f),t.elementType=N,t.lanes=m,t;case C:return $r(a.children,f,m,i);case U:_=8,f|=24;break;case Y:return t=Nn(12,a,i,f|2),t.elementType=Y,t.lanes=m,t;case oe:return t=Nn(13,a,i,f),t.elementType=oe,t.lanes=m,t;case ce:return t=Nn(19,a,i,f),t.elementType=ce,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case W:_=9;break e;case z:_=11;break e;case I:_=14;break e;case x:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=Nn(_,a,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function $r(t,i,a,o){return t=Nn(7,t,o,i),t.lanes=a,t}function zd(t,i,a){return t=Nn(6,t,null,i),t.lanes=a,t}function Qg(t){var i=Nn(18,null,null,0);return i.stateNode=t,i}function Bd(t,i,a){return i=Nn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yg=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var a=Yg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fl(i)},Yg.set(t,i),i)}return{value:t,source:i,stack:Fl(i)}}var Ua=[],za=0,gu=null,po=0,Hn=[],qn=0,Ps=null,ki=1,Li="";function Zi(t,i){Ua[za++]=po,Ua[za++]=gu,gu=t,po=i}function $g(t,i,a){Hn[qn++]=ki,Hn[qn++]=Li,Hn[qn++]=Ps,Ps=t;var o=ki;t=Li;var f=32-vt(o)-1;o&=~(1<<f),a+=1;var m=32-vt(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,ki=1<<32-vt(i)+f|a<<f|o,Li=m+t}else ki=1<<m|a<<f|o,Li=t}function Hd(t){t.return!==null&&(Zi(t,1),$g(t,1,0))}function qd(t){for(;t===gu;)gu=Ua[--za],Ua[za]=null,po=Ua[--za],Ua[za]=null;for(;t===Ps;)Ps=Hn[--qn],Hn[qn]=null,Li=Hn[--qn],Hn[qn]=null,ki=Hn[--qn],Hn[qn]=null}function Xg(t,i){Hn[qn++]=ki,Hn[qn++]=Li,Hn[qn++]=Ps,ki=i.id,Li=i.overflow,Ps=t}var $t=null,at=null,He=!1,Us=null,Fn=!1,Fd=Error(r(519));function zs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(Bn(i,t)),Fd}function Wg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[wt]=t,i[Bt]=o,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Po.length;a++)ke(Po[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),$c(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),js(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||m_(i.textContent,a)?(o.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),o.onScroll!=null&&ke("scroll",i),o.onScrollEnd!=null&&ke("scrollend",i),o.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||zs(t,!0)}function Jg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$t=$t.return}}function Ba(t){if(t!==$t)return!1;if(!He)return Jg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||cm(t.type,t.memoizedProps)),a=!a),a&&at&&zs(t),Jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=S_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));at=S_(t)}else i===27?(i=at,er(t.type)?(t=mm,mm=null,at=t):at=i):at=$t?Kn(t.stateNode.nextSibling):null;return!0}function Xr(){at=$t=null,He=!1}function Gd(){var t=Us;return t!==null&&(vn===null?vn=t:vn.push.apply(vn,t),Us=null),t}function go(t){Us===null?Us=[t]:Us.push(t)}var Kd=L(null),Wr=null,es=null;function Bs(t,i,a){he(Kd,i._currentValue),i._currentValue=a}function ts(t){t._currentValue=Kd.current,te(Kd)}function Qd(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Yd(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Qd(m.return,a,t),o||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Qd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ha(t,i,a,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;xn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===qe.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}f=f.return}t!==null&&Yd(i,t,a,o),i.flags|=262144}function yu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Jr(t){Wr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Zg(Wr,t)}function vu(t,i){return Wr===null&&Jr(t),Zg(t,i)}function Zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},es===null){if(t===null)throw Error(r(308));es=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else es=es.next=i;return a}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},WS=s.unstable_scheduleCallback,JS=s.unstable_NormalPriority,Rt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new XS,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&WS(JS,function(){t.controller.abort()})}var vo=null,Xd=0,qa=0,Fa=null;function ZS(t,i){if(vo===null){var a=vo=[];Xd=0,qa=em(),Fa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Xd++,i.then(ey,ey),i}function ey(){if(--Xd===0&&vo!==null){Fa!==null&&(Fa.status="fulfilled");var t=vo;vo=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eA(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var ty=q.S;q.S=function(t,i){Pv=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ZS(t,i),ty!==null&&ty(t,i)};var Zr=L(null);function Wd(){var t=Zr.current;return t!==null?t:it.pooledCache}function _u(t,i){i===null?he(Zr,Zr.current):he(Zr,i.pool)}function ny(){var t=Wd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ga=Error(r(460)),Jd=Error(r(474)),Eu=Error(r(542)),Tu={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ii,ii),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ay(t),t}throw ta=i,Ga}}function ea(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ta=a,Ga):a}}var ta=null;function ry(){if(ta===null)throw Error(r(459));var t=ta;return ta=null,t}function ay(t){if(t===Ga||t===Eu)throw Error(r(483))}var Ka=null,_o=0;function bu(t){var i=_o;return _o+=1,Ka===null&&(Ka=[]),sy(Ka,t,i)}function Eo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Su(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){function i(H,P){if(t){var G=H.deletions;G===null?(H.deletions=[P],H.flags|=16):G.push(P)}}function a(H,P){if(!t)return null;for(;P!==null;)i(H,P),P=P.sibling;return null}function o(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function f(H,P){return H=Ji(H,P),H.index=0,H.sibling=null,H}function m(H,P,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<P?(H.flags|=67108866,P):G):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,P,G,Z){return P===null||P.tag!==6?(P=zd(G,H.mode,Z),P.return=H,P):(P=f(P,G),P.return=H,P)}function D(H,P,G,Z){var _e=G.type;return _e===C?J(H,P,G.props.children,Z,G.key):P!==null&&(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&ea(_e)===P.type)?(P=f(P,G.props),Eo(P,G),P.return=H,P):(P=pu(G.type,G.key,G.props,null,H.mode,Z),Eo(P,G),P.return=H,P)}function K(H,P,G,Z){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Bd(G,H.mode,Z),P.return=H,P):(P=f(P,G.children||[]),P.return=H,P)}function J(H,P,G,Z,_e){return P===null||P.tag!==7?(P=$r(G,H.mode,Z,_e),P.return=H,P):(P=f(P,G),P.return=H,P)}function ne(H,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=zd(""+P,H.mode,G),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return G=pu(P.type,P.key,P.props,null,H.mode,G),Eo(G,P),G.return=H,G;case R:return P=Bd(P,H.mode,G),P.return=H,P;case x:return P=ea(P),ne(H,P,G)}if(ye(P)||B(P))return P=$r(P,H.mode,G,null),P.return=H,P;if(typeof P.then=="function")return ne(H,bu(P),G);if(P.$$typeof===ie)return ne(H,vu(H,P),G);Su(H,P)}return null}function Q(H,P,G,Z){var _e=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:A(H,P,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return G.key===_e?D(H,P,G,Z):null;case R:return G.key===_e?K(H,P,G,Z):null;case x:return G=ea(G),Q(H,P,G,Z)}if(ye(G)||B(G))return _e!==null?null:J(H,P,G,Z,null);if(typeof G.then=="function")return Q(H,P,bu(G),Z);if(G.$$typeof===ie)return Q(H,P,vu(H,G),Z);Su(H,G)}return null}function X(H,P,G,Z,_e){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get(G)||null,A(P,H,""+Z,_e);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return H=H.get(Z.key===null?G:Z.key)||null,D(P,H,Z,_e);case R:return H=H.get(Z.key===null?G:Z.key)||null,K(P,H,Z,_e);case x:return Z=ea(Z),X(H,P,G,Z,_e)}if(ye(Z)||B(Z))return H=H.get(G)||null,J(P,H,Z,_e,null);if(typeof Z.then=="function")return X(H,P,G,bu(Z),_e);if(Z.$$typeof===ie)return X(H,P,G,vu(P,Z),_e);Su(P,Z)}return null}function pe(H,P,G,Z){for(var _e=null,Ge=null,ge=P,Me=P=0,Pe=null;ge!==null&&Me<G.length;Me++){ge.index>Me?(Pe=ge,ge=null):Pe=ge.sibling;var Ke=Q(H,ge,G[Me],Z);if(Ke===null){ge===null&&(ge=Pe);break}t&&ge&&Ke.alternate===null&&i(H,ge),P=m(Ke,P,Me),Ge===null?_e=Ke:Ge.sibling=Ke,Ge=Ke,ge=Pe}if(Me===G.length)return a(H,ge),He&&Zi(H,Me),_e;if(ge===null){for(;Me<G.length;Me++)ge=ne(H,G[Me],Z),ge!==null&&(P=m(ge,P,Me),Ge===null?_e=ge:Ge.sibling=ge,Ge=ge);return He&&Zi(H,Me),_e}for(ge=o(ge);Me<G.length;Me++)Pe=X(ge,H,Me,G[Me],Z),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?Me:Pe.key),P=m(Pe,P,Me),Ge===null?_e=Pe:Ge.sibling=Pe,Ge=Pe);return t&&ge.forEach(function(rr){return i(H,rr)}),He&&Zi(H,Me),_e}function Te(H,P,G,Z){if(G==null)throw Error(r(151));for(var _e=null,Ge=null,ge=P,Me=P=0,Pe=null,Ke=G.next();ge!==null&&!Ke.done;Me++,Ke=G.next()){ge.index>Me?(Pe=ge,ge=null):Pe=ge.sibling;var rr=Q(H,ge,Ke.value,Z);if(rr===null){ge===null&&(ge=Pe);break}t&&ge&&rr.alternate===null&&i(H,ge),P=m(rr,P,Me),Ge===null?_e=rr:Ge.sibling=rr,Ge=rr,ge=Pe}if(Ke.done)return a(H,ge),He&&Zi(H,Me),_e;if(ge===null){for(;!Ke.done;Me++,Ke=G.next())Ke=ne(H,Ke.value,Z),Ke!==null&&(P=m(Ke,P,Me),Ge===null?_e=Ke:Ge.sibling=Ke,Ge=Ke);return He&&Zi(H,Me),_e}for(ge=o(ge);!Ke.done;Me++,Ke=G.next())Ke=X(ge,H,Me,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?Me:Ke.key),P=m(Ke,P,Me),Ge===null?_e=Ke:Ge.sibling=Ke,Ge=Ke);return t&&ge.forEach(function(hw){return i(H,hw)}),He&&Zi(H,Me),_e}function nt(H,P,G,Z){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case O:e:{for(var _e=G.key;P!==null;){if(P.key===_e){if(_e=G.type,_e===C){if(P.tag===7){a(H,P.sibling),Z=f(P,G.props.children),Z.return=H,H=Z;break e}}else if(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&ea(_e)===P.type){a(H,P.sibling),Z=f(P,G.props),Eo(Z,G),Z.return=H,H=Z;break e}a(H,P);break}else i(H,P);P=P.sibling}G.type===C?(Z=$r(G.props.children,H.mode,Z,G.key),Z.return=H,H=Z):(Z=pu(G.type,G.key,G.props,null,H.mode,Z),Eo(Z,G),Z.return=H,H=Z)}return _(H);case R:e:{for(_e=G.key;P!==null;){if(P.key===_e)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){a(H,P.sibling),Z=f(P,G.children||[]),Z.return=H,H=Z;break e}else{a(H,P);break}else i(H,P);P=P.sibling}Z=Bd(G,H.mode,Z),Z.return=H,H=Z}return _(H);case x:return G=ea(G),nt(H,P,G,Z)}if(ye(G))return pe(H,P,G,Z);if(B(G)){if(_e=B(G),typeof _e!="function")throw Error(r(150));return G=_e.call(G),Te(H,P,G,Z)}if(typeof G.then=="function")return nt(H,P,bu(G),Z);if(G.$$typeof===ie)return nt(H,P,vu(H,G),Z);Su(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(a(H,P.sibling),Z=f(P,G),Z.return=H,H=Z):(a(H,P),Z=zd(G,H.mode,Z),Z.return=H,H=Z),_(H)):a(H,P)}return function(H,P,G,Z){try{_o=0;var _e=nt(H,P,G,Z);return Ka=null,_e}catch(ge){if(ge===Ga||ge===Eu)throw ge;var Ge=Nn(29,ge,null,H.mode);return Ge.lanes=Z,Ge.return=H,Ge}finally{}}}var na=ly(!0),oy=ly(!1),Hs=!1;function Zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function qs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Fs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=mu(t),Gg(t,null,a),i}return fu(t,o,i,a),mu(t)}function To(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ql(t,a)}}function tf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var nf=!1;function bo(){if(nf){var t=Fa;if(t!==null)throw t}}function So(t,i,a,o){nf=!1;var f=t.updateQueue;Hs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,_===null?m=K:_.next=K,_=D;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=K:A.next=K,J.lastBaseUpdate=D))}if(m!==null){var ne=f.baseState;_=0,J=K=D=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Le&Q)===Q:(o&Q)===Q){Q!==0&&Q===qa&&(nf=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Te=A;Q=i;var nt=a;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ne=pe.call(nt,ne,Q);break e}ne=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,Q=typeof pe=="function"?pe.call(nt,ne,Q):pe,Q==null)break e;ne=b({},ne,Q);break e;case 2:Hs=!0}}Q=A.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(K=J=X,D=ne):J=J.next=X,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(D=ne),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),$s|=_,t.lanes=_,t.memoizedState=ne}}function cy(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function uy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)cy(a[t],i)}var Qa=L(null),Au=L(0);function hy(t,i){t=us,he(Au,t),he(Qa,i),us=t|i.baseLanes}function sf(){he(Au,us),he(Qa,Qa.current)}function rf(){us=Au.current,te(Qa),te(Au)}var Rn=L(null),Gn=null;function Gs(t){var i=t.alternate;he(Et,Et.current&1),he(Rn,t),Gn===null&&(i===null||Qa.current!==null||i.memoizedState!==null)&&(Gn=t)}function af(t){he(Et,Et.current),he(Rn,t),Gn===null&&(Gn=t)}function dy(t){t.tag===22?(he(Et,Et.current),he(Rn,t),Gn===null&&(Gn=t)):Ks()}function Ks(){he(Et,Et.current),he(Rn,Rn.current)}function Cn(t){te(Rn),Gn===t&&(Gn=null),te(Et)}var Et=L(0);function wu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dm(a)||fm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ns=0,De=null,et=null,Ct=null,xu=!1,Ya=!1,ia=!1,Nu=0,Ao=0,$a=null,tA=0;function pt(){throw Error(r(321))}function lf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function of(t,i,a,o,f,m){return ns=m,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?$y:Sf,ia=!1,m=a(o,f),ia=!1,Ya&&(m=my(i,a,o,f)),fy(t),m}function fy(t){q.H=No;var i=et!==null&&et.next!==null;if(ns=0,Ct=et=De=null,xu=!1,Ao=0,$a=null,i)throw Error(r(300));t===null||It||(t=t.dependencies,t!==null&&yu(t)&&(It=!0))}function my(t,i,a,o){De=t;var f=0;do{if(Ya&&($a=null),Ao=0,Ya=!1,25<=f)throw Error(r(301));if(f+=1,Ct=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Xy,m=i(a,o)}while(Ya);return m}function nA(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?wo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(De.flags|=1024),i}function cf(){var t=Nu!==0;return Nu=0,t}function uf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function hf(t){if(xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}xu=!1}ns=0,Ct=et=De=null,Ya=!1,Ao=Nu=0,$a=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Tt(){if(et===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?De.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw De.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?De.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var i=Ao;return Ao+=1,$a===null&&($a=[]),t=sy($a,t,i),i=De,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?$y:Sf),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===ie)return Xt(t)}throw Error(r(438,String(t)))}function df(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=De.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ru(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=k;return i.index++,a}function is(t,i){return typeof i=="function"?i(t):i}function Iu(t){var i=Tt();return ff(i,et,t)}function ff(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var A=_=null,D=null,K=i,J=!1;do{var ne=K.lane&-536870913;if(ne!==K.lane?(Le&ne)===ne:(ns&ne)===ne){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ne===qa&&(J=!0);else if((ns&Q)===Q){K=K.next,Q===qa&&(J=!0);continue}else ne={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=ne,_=m):D=D.next=ne,De.lanes|=Q,$s|=Q;ne=K.action,ia&&a(m,ne),m=K.hasEagerState?K.eagerState:a(m,ne)}else Q={lane:ne,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=Q,_=m):D=D.next=Q,De.lanes|=ne,$s|=ne;K=K.next}while(K!==null&&K!==i);if(D===null?_=m:D.next=A,!xn(m,t.memoizedState)&&(It=!0,J&&(a=Fa,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function mf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);xn(m,i.memoizedState)||(It=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function py(t,i,a){var o=De,f=Tt(),m=He;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!xn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,It=!0),f=f.queue,yf(vy.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Xa(9,{destroy:void 0},yy.bind(null,o,f,a,i),null),it===null)throw Error(r(349));m||(ns&127)!==0||gy(o,i,a)}return a}function gy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Ru(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function yy(t,i,a,o){i.value=a,i.getSnapshot=o,_y(i)&&Ey(t)}function vy(t,i,a){return a(function(){_y(i)&&Ey(t)})}function _y(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function Ey(t){var i=Yr(t,2);i!==null&&_n(i,t,2)}function pf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),ia){Vn(!0);try{a()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},i}function Ty(t,i,a,o){return t.baseState=a,ff(t,et,typeof o=="function"?o:is)}function iA(t,i,a,o,f){if(Ou(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};q.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,by(i,m)):(m.next=a.next,i.pending=a.next=m)}}function by(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=q.T,_={};q.T=_;try{var A=a(f,o),D=q.S;D!==null&&D(_,A),Sy(t,i,A)}catch(K){gf(t,i,K)}finally{m!==null&&_.types!==null&&(m.types=_.types),q.T=m}}else try{m=a(f,o),Sy(t,i,m)}catch(K){gf(t,i,K)}}function Sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Ay(t,i,o)},function(o){return gf(t,i,o)}):Ay(t,i,a)}function Ay(t,i,a){i.status="fulfilled",i.value=a,wy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,by(t,a)))}function gf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,wy(i),i=i.next;while(i!==o)}t.action=null}function wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Ny(t,i){if(He){var a=it.formState;if(a!==null){e:{var o=De;if(He){if(at){t:{for(var f=at,m=Fn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){at=Kn(f.nextSibling),o=f.data==="F!";break e}}zs(o)}o=!1}o&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},a.queue=o,a=Ky.bind(null,De,o),o.dispatch=a,o=pf(!1),m=bf.bind(null,De,!1,o.queue),o=un(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=iA.bind(null,De,f,m,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function Ry(t){var i=Tt();return Cy(i,et,t)}function Cy(t,i,a){if(i=ff(t,i,xy)[0],t=Iu(is)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=wo(i)}catch(_){throw _===Ga?Eu:_}else o=i;i=Tt();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(De.flags|=2048,Xa(9,{destroy:void 0},sA.bind(null,f,a),null)),[o,m,t]}function sA(t,i){t.action=i}function Iy(t){var i=Tt(),a=et;if(a!==null)return Cy(i,a,t);Tt(),i=i.memoizedState,a=Tt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Xa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=De.updateQueue,i===null&&(i=Ru(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function jy(){return Tt().memoizedState}function ju(t,i,a,o){var f=un();De.flags|=t,f.memoizedState=Xa(1|i,{destroy:void 0},a,o===void 0?null:o)}function Du(t,i,a,o){var f=Tt();o=o===void 0?null:o;var m=f.memoizedState.inst;et!==null&&o!==null&&lf(o,et.memoizedState.deps)?f.memoizedState=Xa(i,m,a,o):(De.flags|=t,f.memoizedState=Xa(1|i,m,a,o))}function Dy(t,i){ju(8390656,8,t,i)}function yf(t,i){Du(2048,8,t,i)}function rA(t){De.flags|=4;var i=De.updateQueue;if(i===null)i=Ru(),De.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Oy(t){var i=Tt().memoizedState;return rA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function My(t,i){return Du(4,2,t,i)}function Vy(t,i){return Du(4,4,t,i)}function ky(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ly(t,i,a){a=a!=null?a.concat([t]):null,Du(4,4,ky.bind(null,i,t),a)}function vf(){}function Py(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&lf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Uy(t,i){var a=Tt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&lf(i,o[1]))return o[0];if(o=t(),ia){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[o,i],o}function _f(t,i,a){return a===void 0||(ns&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=zv(),De.lanes|=t,$s|=t,a)}function zy(t,i,a,o){return xn(a,i)?a:Qa.current!==null?(t=_f(t,a,o),xn(t,i)||(It=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Le&261930)===0?(It=!0,t.memoizedState=a):(t=zv(),De.lanes|=t,$s|=t,i)}function By(t,i,a,o,f){var m=re.p;re.p=m!==0&&8>m?m:8;var _=q.T,A={};q.T=A,bf(t,!1,i,a);try{var D=f(),K=q.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=eA(D,o);xo(t,i,J,Dn(t))}else xo(t,i,o,Dn(t))}catch(ne){xo(t,i,{then:function(){},status:"rejected",reason:ne},Dn())}finally{re.p=m,_!==null&&A.types!==null&&(_.types=A.types),q.T=_}}function aA(){}function Ef(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=Hy(t).queue;By(t,f,i,ue,a===null?aA:function(){return qy(t),a(o)})}function Hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qy(t){var i=Hy(t);i.next===null&&(i=t.alternate.memoizedState),xo(t,i.next.queue,{},Dn())}function Tf(){return Xt(qo)}function Fy(){return Tt().memoizedState}function Gy(){return Tt().memoizedState}function lA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();t=qs(a);var o=Fs(i,t,a);o!==null&&(_n(o,i,a),To(o,i,a)),i={cache:$d()},t.payload=i;return}i=i.return}}function oA(t,i,a){var o=Dn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(t)?Qy(i,a):(a=Pd(t,i,a,o),a!==null&&(_n(a,t,o),Yy(a,i,o)))}function Ky(t,i,a){var o=Dn();xo(t,i,a,o)}function xo(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))Qy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,A=m(_,a);if(f.hasEagerState=!0,f.eagerState=A,xn(A,_))return fu(t,i,f,0),it===null&&du(),!1}catch{}finally{}if(a=Pd(t,i,f,o),a!==null)return _n(a,t,o),Yy(a,i,o),!0}return!1}function bf(t,i,a,o){if(o={lane:2,revertLane:em(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(i)throw Error(r(479))}else i=Pd(t,a,o,2),i!==null&&_n(i,t,2)}function Ou(t){var i=t.alternate;return t===De||i!==null&&i===De}function Qy(t,i){Ya=xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Yy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ql(t,a)}}var No={readContext:Xt,use:Cu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};No.useEffectEvent=pt;var $y={readContext:Xt,use:Cu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Dy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ju(4194308,4,ky.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ju(4194308,4,t,i)},useInsertionEffect:function(t,i){ju(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var o=t();if(ia){Vn(!0);try{t()}finally{Vn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=un();if(a!==void 0){var f=a(i);if(ia){Vn(!0);try{a(i)}finally{Vn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=oA.bind(null,De,t),[o.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=pf(t);var i=t.queue,a=Ky.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:vf,useDeferredValue:function(t,i){var a=un();return _f(a,t,i)},useTransition:function(){var t=pf(!1);return t=By.bind(null,De,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=De,f=un();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Le&127)!==0||gy(o,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,Dy(vy.bind(null,o,m,t),[t]),o.flags|=2048,Xa(9,{destroy:void 0},yy.bind(null,o,m,a,i),null),a},useId:function(){var t=un(),i=it.identifierPrefix;if(He){var a=Li,o=ki;a=(o&~(1<<32-vt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Nu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=tA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Tf,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bf.bind(null,De,!0,a),a.dispatch=i,[t,i]},useMemoCache:df,useCacheRefresh:function(){return un().memoizedState=lA.bind(null,De)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Sf={readContext:Xt,use:Cu,useCallback:Py,useContext:Xt,useEffect:yf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:Iu,useRef:jy,useState:function(){return Iu(is)},useDebugValue:vf,useDeferredValue:function(t,i){var a=Tt();return zy(a,et.memoizedState,t,i)},useTransition:function(){var t=Iu(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:wo(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Tf,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var a=Tt();return Ty(a,et,t,i)},useMemoCache:df,useCacheRefresh:Gy};Sf.useEffectEvent=Oy;var Xy={readContext:Xt,use:Cu,useCallback:Py,useContext:Xt,useEffect:yf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:mf,useRef:jy,useState:function(){return mf(is)},useDebugValue:vf,useDeferredValue:function(t,i){var a=Tt();return et===null?_f(a,t,i):zy(a,et.memoizedState,t,i)},useTransition:function(){var t=mf(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:wo(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Tf,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var a=Tt();return et!==null?Ty(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:df,useCacheRefresh:Gy};Xy.useEffectEvent=Oy;function Af(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wf={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Dn(),f=qs(o);f.payload=i,a!=null&&(f.callback=a),i=Fs(t,f,o),i!==null&&(_n(i,t,o),To(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Dn(),f=qs(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Fs(t,f,o),i!==null&&(_n(i,t,o),To(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Dn(),o=qs(a);o.tag=2,i!=null&&(o.callback=i),i=Fs(t,o,a),i!==null&&(_n(i,t,a),To(i,t,a))}};function Wy(t,i,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!fo(a,o)||!fo(f,m):!0}function Jy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&wf.enqueueReplaceState(i,i.state,null)}function sa(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Zy(t){hu(t)}function ev(t){console.error(t)}function tv(t){hu(t)}function Mu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function nv(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xf(t,i,a){return a=qs(a),a.tag=3,a.payload={element:null},a.callback=function(){Mu(t,i)},a}function iv(t){return t=qs(t),t.tag=3,t}function sv(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){nv(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){nv(i,a,o),typeof f!="function"&&(Xs===null?Xs=new Set([this]):Xs.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function cA(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ha(i,a,f,!0),a=Rn.current,a!==null){switch(a.tag){case 31:case 13:return Gn===null?Ku():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===Tu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Wf(t,o,f)),!1;case 22:return a.flags|=65536,o===Tu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Wf(t,o,f)),!1}throw Error(r(435,a.tag))}return Wf(t,o,f),Ku(),!1}if(He)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Fd&&(t=Error(r(422),{cause:o}),go(Bn(t,a)))):(o!==Fd&&(i=Error(r(423),{cause:o}),go(Bn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Bn(o,a),f=xf(t.stateNode,o,f),tf(t,f),gt!==4&&(gt=2)),!1;var m=Error(r(520),{cause:o});if(m=Bn(m,a),Vo===null?Vo=[m]:Vo.push(m),gt!==4&&(gt=2),i===null)return!0;o=Bn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=xf(a.stateNode,o,t),tf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xs===null||!Xs.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=iv(f),sv(f,t,a,o),tf(a,f),!1}a=a.return}while(a!==null);return!1}var Nf=Error(r(461)),It=!1;function Wt(t,i,a,o){i.child=t===null?oy(i,null,a,o):na(i,t.child,a,o)}function rv(t,i,a,o,f){a=a.render;var m=i.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Jr(i),o=of(t,i,a,_,m,f),A=cf(),t!==null&&!It?(uf(t,i,f),ss(t,i,f)):(He&&A&&Hd(i),i.flags|=1,Wt(t,i,o,f),i.child)}function av(t,i,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,lv(t,i,m,o,f)):(t=pu(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Vf(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:fo,a(_,o)&&t.ref===i.ref)return ss(t,i,f)}return i.flags|=1,t=Ji(m,o),t.ref=i.ref,t.return=i,i.child=t}function lv(t,i,a,o,f){if(t!==null){var m=t.memoizedProps;if(fo(m,o)&&t.ref===i.ref)if(It=!1,i.pendingProps=o=m,Vf(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,ss(t,i,f)}return Rf(t,i,a,o,f)}function ov(t,i,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return cv(t,i,m,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&_u(i,m!==null?m.cachePool:null),m!==null?hy(i,m):sf(),dy(i);else return o=i.lanes=536870912,cv(t,i,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(_u(i,m.cachePool),hy(i,m),Ks(),i.memoizedState=null):(t!==null&&_u(i,null),sf(),Ks());return Wt(t,i,f,a),i.child}function Ro(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cv(t,i,a,o,f){var m=Wd();return m=m===null?null:{parent:Rt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&_u(i,null),sf(),dy(i),t!==null&&Ha(t,i,o,!0),i.childLanes=f,null}function Vu(t,i){return i=Lu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function uv(t,i,a){return na(i,t.child,null,a),t=Vu(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function uA(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=Vu(i,o),i.lanes=536870912,Ro(null,t);if(af(i),(t=at)?(t=b_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=i,i.child=a,$t=i,at=null)):t=null,t===null)throw zs(i);return i.lanes=536870912,null}return Vu(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(af(i),f)if(i.flags&256)i.flags&=-257,i=uv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(It||Ha(t,i,a,!1),f=(a&t.childLanes)!==0,It||f){if(o=it,o!==null&&(_=Yl(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Yr(t,_),_n(o,t,_),Nf;Ku(),i=uv(t,i,a)}else t=m.treeContext,at=Kn(_.nextSibling),$t=i,He=!0,Us=null,Fn=!1,t!==null&&Xg(i,t),i=Vu(i,o),i.flags|=4096;return i}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function ku(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Rf(t,i,a,o,f){return Jr(i),a=of(t,i,a,o,void 0,f),o=cf(),t!==null&&!It?(uf(t,i,f),ss(t,i,f)):(He&&o&&Hd(i),i.flags|=1,Wt(t,i,a,f),i.child)}function hv(t,i,a,o,f,m){return Jr(i),i.updateQueue=null,a=my(i,o,a,f),fy(t),o=cf(),t!==null&&!It?(uf(t,i,m),ss(t,i,m)):(He&&o&&Hd(i),i.flags|=1,Wt(t,i,a,m),i.child)}function dv(t,i,a,o,f){if(Jr(i),i.stateNode===null){var m=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(m=Xt(_)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Zd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Xt(_):Pa,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Af(i,a,_,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&wf.enqueueReplaceState(m,m.state,null),So(i,o,m,f),bo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var A=i.memoizedProps,D=sa(a,A);m.props=D;var K=m.context,J=a.contextType;_=Pa,typeof J=="object"&&J!==null&&(_=Xt(J));var ne=a.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||K!==_)&&Jy(i,m,o,_),Hs=!1;var Q=i.memoizedState;m.state=Q,So(i,o,m,f),bo(),K=i.memoizedState,A||Q!==K||Hs?(typeof ne=="function"&&(Af(i,a,ne,o),K=i.memoizedState),(D=Hs||Wy(i,a,D,o,Q,K,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=K),m.props=o,m.state=K,m.context=_,o=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,ef(t,i),_=i.memoizedProps,J=sa(a,_),m.props=J,ne=i.pendingProps,Q=m.context,K=a.contextType,D=Pa,typeof K=="object"&&K!==null&&(D=Xt(K)),A=a.getDerivedStateFromProps,(K=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ne||Q!==D)&&Jy(i,m,o,D),Hs=!1,Q=i.memoizedState,m.state=Q,So(i,o,m,f),bo();var X=i.memoizedState;_!==ne||Q!==X||Hs||t!==null&&t.dependencies!==null&&yu(t.dependencies)?(typeof A=="function"&&(Af(i,a,A,o),X=i.memoizedState),(J=Hs||Wy(i,a,J,o,Q,X,D)||t!==null&&t.dependencies!==null&&yu(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),m.props=o,m.state=X,m.context=D,o=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,ku(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=na(i,t.child,null,f),i.child=na(i,null,a,f)):Wt(t,i,a,f),i.memoizedState=m.state,t=i.child):t=ss(t,i,f),t}function fv(t,i,a,o){return Xr(),i.flags|=256,Wt(t,i,a,o),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:ny()}}function jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function mv(t,i,a){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?Gs(i):Ks(),(t=at)?(t=b_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ps!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},a=Qg(t),a.return=i,i.child=a,$t=i,at=null)):t=null,t===null)throw zs(i);return fm(t)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Ks(),f=i.mode,A=Lu({mode:"hidden",children:A},f),o=$r(o,f,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=If(a),o.childLanes=jf(t,_,a),i.memoizedState=Cf,Ro(null,o)):(Gs(i),Df(i,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(Gs(i),i.flags&=-257,i=Of(t,i,a)):i.memoizedState!==null?(Ks(),i.child=t.child,i.flags|=128,i=null):(Ks(),A=o.fallback,f=i.mode,o=Lu({mode:"visible",children:o.children},f),A=$r(A,f,a,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,na(i,t.child,null,a),o=i.child,o.memoizedState=If(a),o.childLanes=jf(t,_,a),i.memoizedState=Cf,i=Ro(null,o));else if(Gs(i),fm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;_=K,o=Error(r(419)),o.stack="",o.digest=_,go({value:o,source:null,stack:null}),i=Of(t,i,a)}else if(It||Ha(t,i,a,!1),_=(a&t.childLanes)!==0,It||_){if(_=it,_!==null&&(o=Yl(_,a),o!==0&&o!==D.retryLane))throw D.retryLane=o,Yr(t,o),_n(_,t,o),Nf;dm(A)||Ku(),i=Of(t,i,a)}else dm(A)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,at=Kn(A.nextSibling),$t=i,He=!0,Us=null,Fn=!1,t!==null&&Xg(i,t),i=Df(i,o.children),i.flags|=4096);return i}return f?(Ks(),A=o.fallback,f=i.mode,D=t.child,K=D.sibling,o=Ji(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,K!==null?A=Ji(K,A):(A=$r(A,f,a,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,Ro(null,o),o=i.child,A=t.child.memoizedState,A===null?A=If(a):(f=A.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ny(),A={baseLanes:A.baseLanes|a,cachePool:f}),o.memoizedState=A,o.childLanes=jf(t,_,a),i.memoizedState=Cf,Ro(t.child,o)):(Gs(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Df(t,i){return i=Lu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Lu(t,i){return t=Nn(22,t,null,i),t.lanes=0,t}function Of(t,i,a){return na(i,t.child,null,a),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function pv(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Qd(t.return,i,a)}function Mf(t,i,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function gv(t,i,a){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=Et.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,he(Et,_),Wt(t,i,o,a),o=He?po:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,a,i);else if(t.tag===19)pv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&wu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Mf(i,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&wu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Mf(i,!0,a,null,m,o);break;case"together":Mf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ss(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$s|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ha(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Vf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&yu(t)))}function hA(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Bs(i,Rt,t.memoizedState.cache),Xr();break;case 27:case 5:Ir(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Bs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,af(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Gs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?mv(t,i,a):(Gs(i),t=ss(t,i,a),t!==null?t.sibling:null);Gs(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ha(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return gv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Et,Et.current),o)break;return null;case 22:return i.lanes=0,ov(t,i,a,i.pendingProps);case 24:Bs(i,Rt,t.memoizedState.cache)}return ss(t,i,a)}function yv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Vf(t,a)&&(i.flags&128)===0)return It=!1,hA(t,i,a);It=(t.flags&131072)!==0}else It=!1,He&&(i.flags&1048576)!==0&&$g(i,po,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=ea(i.elementType),i.type=t,typeof t=="function")Ud(t)?(o=sa(t,o),i.tag=1,i=dv(null,i,t,o,a)):(i.tag=0,i=Rf(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===z){i.tag=11,i=rv(null,i,t,o,a);break e}else if(f===I){i.tag=14,i=av(null,i,t,o,a);break e}}throw i=ae(t)||t,Error(r(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=sa(o,i.pendingProps),dv(t,i,o,f,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,ef(t,i),So(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Bs(i,Rt,o),o!==m.cache&&Yd(i,[Rt],a,!0),bo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=fv(t,i,o,a);break e}else if(o!==f){f=Bn(Error(r(424)),i),go(f),i=fv(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(at=Kn(t.firstChild),$t=i,He=!0,Us=null,Fn=!0,a=oy(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Xr(),o===f){i=ss(t,i,a);break e}Wt(t,i,o,a)}i=i.child}return i;case 26:return ku(t,i),t===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,o=Zu(Oe.current).createElement(a),o[wt]=i,o[Bt]=t,Jt(o,a,t),xt(o),i.stateNode=o):i.memoizedState=R_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ir(i),t===null&&He&&(o=i.stateNode=w_(i.type,i.pendingProps,Oe.current),$t=i,Fn=!0,f=at,er(i.type)?(mm=f,at=Kn(o.firstChild)):at=f),Wt(t,i,i.pendingProps.children,a),ku(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=o=at)&&(o=BA(o,i.type,i.pendingProps,Fn),o!==null?(i.stateNode=o,$t=i,at=Kn(o.firstChild),Fn=!1,f=!0):f=!1),f||zs(i)),Ir(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,cm(f,m)?o=null:_!==null&&cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=of(t,i,nA,null,null,a),qo._currentValue=f),ku(t,i),Wt(t,i,o,a),i.child;case 6:return t===null&&He&&((t=a=at)&&(a=HA(a,i.pendingProps,Fn),a!==null?(i.stateNode=a,$t=i,at=null,t=!0):t=!1),t||zs(i)),null;case 13:return mv(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=na(i,null,o,a):Wt(t,i,o,a),i.child;case 11:return rv(t,i,i.type,i.pendingProps,a);case 7:return Wt(t,i,i.pendingProps,a),i.child;case 8:return Wt(t,i,i.pendingProps.children,a),i.child;case 12:return Wt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Bs(i,i.type,o.value),Wt(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Jr(i),f=Xt(f),o=o(f),i.flags|=1,Wt(t,i,o,a),i.child;case 14:return av(t,i,i.type,i.pendingProps,a);case 15:return lv(t,i,i.type,i.pendingProps,a);case 19:return gv(t,i,a);case 31:return uA(t,i,a);case 22:return ov(t,i,a,i.pendingProps);case 24:return Jr(i),o=Xt(Rt),t===null?(f=Wd(),f===null&&(f=it,m=$d(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:o,cache:f},Zd(i),Bs(i,Rt,f)):((t.lanes&a)!==0&&(ef(t,i),So(i,null,null,a),bo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Bs(i,Rt,o)):(o=m.cache,Bs(i,Rt,o),o!==f.cache&&Yd(i,[Rt],a,!0))),Wt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function rs(t){t.flags|=4}function kf(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Fv())t.flags|=8192;else throw ta=Tu,Jd}else t.flags&=-16777217}function vv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!O_(i))if(Fv())t.flags|=8192;else throw ta=Tu,Jd}function Pu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Fc():536870912,t.lanes|=i,el|=i)}function Co(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function dA(t,i,a){var o=i.pendingProps;switch(qd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ts(Rt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(i)?rs(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gd())),lt(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(rs(i),m!==null?(lt(i),vv(i,m)):(lt(i),kf(i,f,null,o,a))):m?m!==t.memoizedState?(rs(i),lt(i),vv(i,m)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&rs(i),lt(i),kf(i,f,t,o,a)),null;case 27:if(_a(i),a=Oe.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return lt(i),null}t=me.current,Ba(i)?Wg(i):(t=w_(f,o,a),i.stateNode=t,rs(i))}return lt(i),null;case 5:if(_a(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return lt(i),null}if(m=me.current,Ba(i))Wg(i);else{var _=Zu(Oe.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[wt]=i,m[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Jt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&rs(i)}}return lt(i),kf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&rs(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=Oe.current,Ba(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=$t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||m_(t.nodeValue,a)),t||zs(i,!0)}else t=Zu(t).createTextNode(o),t[wt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ba(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[wt]=i}else Xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return lt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Ba(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[wt]=i}else Xr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),f=!1}else f=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Pu(i,i.updateQueue),lt(i),null);case 4:return ot(),t===null&&sm(i.stateNode.containerInfo),lt(i),null;case 10:return ts(i.type),lt(i),null;case 19:if(te(Et),o=i.memoizedState,o===null)return lt(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)Co(o,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=wu(t),m!==null){for(i.flags|=128,Co(o,!1),t=m.updateQueue,i.updateQueue=t,Pu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Kg(a,t),a=a.sibling;return he(Et,Et.current&1|2),He&&Zi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&on()>qu&&(i.flags|=128,f=!0,Co(o,!1),i.lanes=4194304)}else{if(!f)if(t=wu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Pu(i,t),Co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!He)return lt(i),null}else 2*on()-o.renderingStartTime>qu&&a!==536870912&&(i.flags|=128,f=!0,Co(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,a=Et.current,he(Et,f?a&1|2:a&1),He&&Zi(i,o.treeForkCount),t):(lt(i),null);case 22:case 23:return Cn(i),rf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&Pu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&te(Zr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ts(Rt),lt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function fA(t,i){switch(qd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ts(Rt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _a(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(r(340));Xr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Xr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(Et),null;case 4:return ot(),null;case 10:return ts(i.type),null;case 22:case 23:return Cn(i),rf(),t!==null&&te(Zr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ts(Rt),null;case 25:return null;default:return null}}function _v(t,i){switch(qd(i),i.tag){case 3:ts(Rt),ot();break;case 26:case 27:case 5:_a(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:te(Et);break;case 10:ts(i.type);break;case 22:case 23:Cn(i),rf(),t!==null&&te(Zr);break;case 24:ts(Rt)}}function Io(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(A){Je(i,i.return,A)}}function Qs(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var D=a,K=A;try{K()}catch(J){Je(f,D,J)}}}o=o.next}while(o!==m)}}catch(J){Je(i,i.return,J)}}function Ev(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{uy(i,a)}catch(o){Je(t,t.return,o)}}}function Tv(t,i,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function jo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Je(t,i,f)}}function Pi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function bv(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Lf(t,i,a){try{var o=t.stateNode;VA(o,t.type,a,i),o[Bt]=i}catch(f){Je(t,t.return,f)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ii));else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Uf(t,i,a),t=t.sibling;t!==null;)Uf(t,i,a),t=t.sibling}function Uu(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&er(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Uu(t,i,a),t=t.sibling;t!==null;)Uu(t,i,a),t=t.sibling}function Av(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,o,a),i[wt]=t,i[Bt]=a}catch(m){Je(t,t.return,m)}}var as=!1,jt=!1,zf=!1,wv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function mA(t,i){if(t=t.containerInfo,lm=ah,t=Lg(t),Dd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,A=-1,D=-1,K=0,J=0,ne=t,Q=null;t:for(;;){for(var X;ne!==a||f!==0&&ne.nodeType!==3||(A=_+f),ne!==m||o!==0&&ne.nodeType!==3||(D=_+o),ne.nodeType===3&&(_+=ne.nodeValue.length),(X=ne.firstChild)!==null;)Q=ne,ne=X;for(;;){if(ne===t)break t;if(Q===a&&++K===f&&(A=_),Q===m&&++J===o&&(D=_),(X=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=X}a=A===-1||D===-1?null:{start:A,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(om={focusedElem:t,selectionRange:a},ah=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var pe=sa(a.type,f);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){Je(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function xv(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),o&4&&Io(5,a);break;case 1:if(os(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var f=sa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}o&64&&Ev(a),o&512&&jo(a,a.return);break;case 3:if(os(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{uy(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&o&4&&Av(a);case 26:case 5:os(t,a),i===null&&o&4&&bv(a),o&512&&jo(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),o&4&&Cv(t,a);break;case 13:os(t,a),o&4&&Iv(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=SA.bind(null,a),qA(t,a))));break;case 22:if(o=a.memoizedState!==null||as,!o){i=i!==null&&i.memoizedState!==null||jt,f=as;var m=jt;as=o,(jt=i)&&!m?cs(t,a,(a.subtreeFlags&8772)!==0):os(t,a),as=f,jt=m}break;case 30:break;default:os(t,a)}}function Nv(t){var i=t.alternate;i!==null&&(t.alternate=null,Nv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Aa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,pn=!1;function ls(t,i,a){for(a=a.child;a!==null;)Rv(t,i,a),a=a.sibling}function Rv(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Zn,a)}catch{}switch(a.tag){case 26:jt||Pi(a,i),ls(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:jt||Pi(a,i);var o=ut,f=pn;er(a.type)&&(ut=a.stateNode,pn=!1),ls(t,i,a),zo(a.stateNode),ut=o,pn=f;break;case 5:jt||Pi(a,i);case 6:if(o=ut,f=pn,ut=null,ls(t,i,a),ut=o,pn=f,ut!==null)if(pn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{ut.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:ut!==null&&(pn?(t=ut,E_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ol(t)):E_(ut,a.stateNode));break;case 4:o=ut,f=pn,ut=a.stateNode.containerInfo,pn=!0,ls(t,i,a),ut=o,pn=f;break;case 0:case 11:case 14:case 15:Qs(2,a,i),jt||Qs(4,a,i),ls(t,i,a);break;case 1:jt||(Pi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Tv(a,i,o)),ls(t,i,a);break;case 21:ls(t,i,a);break;case 22:jt=(o=jt)||a.memoizedState!==null,ls(t,i,a),jt=o;break;default:ls(t,i,a)}}function Cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(a){Je(i,i.return,a)}}}function Iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(a){Je(i,i.return,a)}}function pA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wv),i;default:throw Error(r(435,t.tag))}}function zu(t,i){var a=pA(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=AA.bind(null,t,o);o.then(f,f)}})}function gn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(er(A.type)){ut=A.stateNode,pn=!1;break e}break;case 5:ut=A.stateNode,pn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,pn=!0;break e}A=A.return}if(ut===null)throw Error(r(160));Rv(m,_,f),ut=null,pn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jv(i,t),i=i.sibling}var ci=null;function jv(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gn(i,t),yn(t),o&4&&(Qs(3,t,t.return),Io(3,t),Qs(5,t,t.return));break;case 1:gn(i,t),yn(t),o&512&&(jt||a===null||Pi(a,a.return)),o&64&&as&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=ci;if(gn(i,t),yn(t),o&512&&(jt||a===null||Pi(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ai]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,o,a),m[wt]=t,xt(m),o=m;break e;case"link":var _=j_("link","href",f).get(o+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(o),Jt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=j_("meta","content",f).get(o+(a.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}m=f.createElement(o),Jt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[wt]=t,xt(m),o=m}t.stateNode=o}else D_(f,t.type,t.stateNode);else t.stateNode=I_(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?D_(f,t.type,t.stateNode):I_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,a.memoizedProps)}break;case 27:gn(i,t),yn(t),o&512&&(jt||a===null||Pi(a,a.return)),a!==null&&o&4&&Lf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(gn(i,t),yn(t),o&512&&(jt||a===null||Pi(a,a.return)),t.flags&32){f=t.stateNode;try{mn(f,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Lf(t,f,a!==null?a.memoizedProps:f)),o&1024&&(zf=!0);break;case 6:if(gn(i,t),yn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if(nh=null,f=ci,ci=eh(i.containerInfo),gn(i,t),ci=f,yn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(pe){Je(t,t.return,pe)}zf&&(zf=!1,Dv(t));break;case 4:o=ci,ci=eh(t.stateNode.containerInfo),gn(i,t),yn(t),ci=o;break;case 12:gn(i,t),yn(t);break;case 31:gn(i,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 13:gn(i,t),yn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hu=on()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 22:f=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,K=as,J=jt;if(as=K||f,jt=J||D,gn(i,t),jt=J,as=K,yn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||as||jt||ra(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var ne=D.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===18){if(a===null){D=i;try{var X=D.stateNode;f?T_(X,!0):T_(D.stateNode,!1)}catch(pe){Je(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zu(t,a))));break;case 19:gn(i,t),yn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,zu(t,o)));break;case 30:break;case 21:break;default:gn(i,t),yn(t)}}function yn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Sv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Pf(t);Uu(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(mn(_,""),a.flags&=-33);var A=Pf(t);Uu(t,A,_);break;case 3:case 4:var D=a.stateNode.containerInfo,K=Pf(t);Uf(t,K,D);break;default:throw Error(r(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Dv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Dv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function os(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(t,i.alternate,i),i=i.sibling}function ra(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Qs(4,i,i.return),ra(i);break;case 1:Pi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Tv(i,i.return,a),ra(i);break;case 27:zo(i.stateNode);case 26:case 5:Pi(i,i.return),ra(i);break;case 22:i.memoizedState===null&&ra(i);break;case 30:ra(i);break;default:ra(i)}t=t.sibling}}function cs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:cs(f,m,a),Io(4,m);break;case 1:if(cs(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Je(o,o.return,K)}if(o=m,f=o.updateQueue,f!==null){var A=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cy(D[f],A)}catch(K){Je(o,o.return,K)}}a&&_&64&&Ev(m),jo(m,m.return);break;case 27:Av(m);case 26:case 5:cs(f,m,a),a&&o===null&&_&4&&bv(m),jo(m,m.return);break;case 12:cs(f,m,a);break;case 31:cs(f,m,a),a&&_&4&&Cv(f,m);break;case 13:cs(f,m,a),a&&_&4&&Iv(f,m);break;case 22:m.memoizedState===null&&cs(f,m,a),jo(m,m.return);break;case 30:break;default:cs(f,m,a)}i=i.sibling}}function Bf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&yo(a))}function Hf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t))}function ui(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ov(t,i,a,o),i=i.sibling}function Ov(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,o),f&2048&&Io(9,i);break;case 1:ui(t,i,a,o);break;case 3:ui(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t)));break;case 12:if(f&2048){ui(t,i,a,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ui(t,i,a,o);break;case 31:ui(t,i,a,o);break;case 13:ui(t,i,a,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?ui(t,i,a,o):Do(t,i):m._visibility&2?ui(t,i,a,o):(m._visibility|=2,Wa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Bf(_,i);break;case 24:ui(t,i,a,o),f&2048&&Hf(i.alternate,i);break;default:ui(t,i,a,o)}}function Wa(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,A=a,D=o,K=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(m,_,A,D,f),Io(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Wa(m,_,A,D,f):Do(m,_):(J._visibility|=2,Wa(m,_,A,D,f)),f&&K&2048&&Bf(_.alternate,_);break;case 24:Wa(m,_,A,D,f),f&&K&2048&&Hf(_.alternate,_);break;default:Wa(m,_,A,D,f)}i=i.sibling}}function Do(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:Do(a,o),f&2048&&Bf(o.alternate,o);break;case 24:Do(a,o),f&2048&&Hf(o.alternate,o);break;default:Do(a,o)}i=i.sibling}}var Oo=8192;function Ja(t,i,a){if(t.subtreeFlags&Oo)for(t=t.child;t!==null;)Mv(t,i,a),t=t.sibling}function Mv(t,i,a){switch(t.tag){case 26:Ja(t,i,a),t.flags&Oo&&t.memoizedState!==null&&tw(a,ci,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,i,a);break;case 3:case 4:var o=ci;ci=eh(t.stateNode.containerInfo),Ja(t,i,a),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Oo,Oo=16777216,Ja(t,i,a),Oo=o):Ja(t,i,a));break;default:Ja(t,i,a)}}function Vv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Mo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qt=o,Lv(o,t)}Vv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Bu(t)):Mo(t);break;default:Mo(t)}}function Bu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qt=o,Lv(o,t)}Vv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Qs(8,i,i.return),Bu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Bu(i));break;default:Bu(i)}t=t.sibling}}function Lv(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Qs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qt=o;else e:for(a=t;qt!==null;){o=qt;var f=o.sibling,m=o.return;if(Nv(o),o===a){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var gA={getCacheForType:function(t){var i=Xt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Xt(Rt).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ve=null,Le=0,We=0,In=null,Ys=!1,Za=!1,qf=!1,us=0,gt=0,$s=0,aa=0,Ff=0,jn=0,el=0,Vo=null,vn=null,Gf=!1,Hu=0,Pv=0,qu=1/0,Fu=null,Xs=null,Pt=0,Ws=null,tl=null,hs=0,Kf=0,Qf=null,Uv=null,ko=0,Yf=null;function Dn(){return(Ye&2)!==0&&Le!==0?Le&-Le:q.T!==null?em():Gc()}function zv(){if(jn===0)if((Le&536870912)===0||He){var t=Or;Or<<=1,(Or&3932160)===0&&(Or=262144),jn=t}else jn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),jn}function _n(t,i,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Js(t,Le,jn,!1)),Mr(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(aa|=a),gt===4&&Js(t,Le,jn,!1)),Ui(t))}function Bv(t,i,a){if((Ye&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),f=o?EA(t,i):Xf(t,i,!0),m=o;do{if(f===0){Za&&!o&&Js(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!vA(a)){f=Xf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Vo;var D=A.current.memoizedState.isDehydrated;if(D&&(nl(A,_).flags|=256),_=Xf(A,_,!1),_!==2){if(qf&&!D){A.errorRecoveryDisabledLanes|=m,aa|=m,f=4;break e}m=vn,vn=f,m!==null&&(vn===null?vn=m:vn.push.apply(vn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){nl(t,0),Js(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Js(o,i,jn,!Ys);break e;case 2:vn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Hu+300-on(),10<f)){if(Js(o,i,jn,!Ys),Ti(o,0,!0)!==0)break e;hs=i,o.timeoutHandle=v_(Hv.bind(null,o,a,vn,Fu,Gf,i,jn,aa,el,Ys,m,"Throttled",-0,0),f);break e}Hv(o,a,vn,Fu,Gf,i,jn,aa,el,Ys,m,null,-0,0)}}break}while(!0);Ui(t)}function Hv(t,i,a,o,f,m,_,A,D,K,J,ne,Q,X){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Mv(i,m,ne);var pe=(m&62914560)===m?Hu-on():(m&4194048)===m?Pv-on():0;if(pe=nw(ne,pe),pe!==null){hs=m,t.cancelPendingCommit=pe(Xv.bind(null,t,i,m,a,o,f,_,A,D,J,ne,null,Q,X)),Js(t,m,_,!K);return}}Xv(t,i,m,a,o,f,_,A,D)}function vA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Js(t,i,a,o){i&=~Ff,i&=~aa,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-vt(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&Vr(t,a,i)}function Gu(){return(Ye&6)===0?(Lo(0),!1):!0}function $f(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,es=Wr=null,hf(t),Ka=null,_o=0,t=Ve;for(;t!==null;)_v(t.alternate,t),t=t.return;Ve=null}}function nl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,$f(),it=t,Ve=a=Ji(t.current,null),Le=i,We=0,In=null,Ys=!1,Za=ei(t,i),qf=!1,el=jn=Ff=aa=$s=gt=0,vn=Vo=null,Gf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-vt(o),m=1<<f;i|=t[f],o&=~m}return us=i,du(),a}function qv(t,i){De=null,q.H=No,i===Ga||i===Eu?(i=ry(),We=3):i===Jd?(i=ry(),We=4):We=i===Nf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Ve===null&&(gt=1,Mu(t,Bn(i,t.current)))}function Fv(){var t=Rn.current;return t===null?!0:(Le&4194048)===Le?Gn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Gn:!1}function Gv(){var t=q.H;return q.H=No,t===null?No:t}function Kv(){var t=q.A;return q.A=gA,t}function Ku(){gt=4,Ys||(Le&4194048)!==Le&&Rn.current!==null||(Za=!0),($s&134217727)===0&&(aa&134217727)===0||it===null||Js(it,Le,jn,!1)}function Xf(t,i,a){var o=Ye;Ye|=2;var f=Gv(),m=Kv();(it!==t||Le!==i)&&(Fu=null,nl(t,i)),i=!1;var _=gt;e:do try{if(We!==0&&Ve!==null){var A=Ve,D=In;switch(We){case 8:$f(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var K=We;if(We=0,In=null,il(t,A,D,K),a&&Za){_=0;break e}break;default:K=We,We=0,In=null,il(t,A,D,K)}}_A(),_=gt;break}catch(J){qv(t,J)}while(!0);return i&&t.shellSuspendCounter++,es=Wr=null,Ye=o,q.H=f,q.A=m,Ve===null&&(it=null,Le=0,du()),_}function _A(){for(;Ve!==null;)Qv(Ve)}function EA(t,i){var a=Ye;Ye|=2;var o=Gv(),f=Kv();it!==t||Le!==i?(Fu=null,qu=on()+500,nl(t,i)):Za=ei(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var m=In;t:switch(We){case 1:We=0,In=null,il(t,i,m,1);break;case 2:case 9:if(iy(m)){We=0,In=null,Yv(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),Ui(t)},m.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:iy(m)?(We=0,In=null,Yv(i)):(We=0,In=null,il(t,i,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?O_(_):A.stateNode.complete){We=0,In=null;var D=A.sibling;if(D!==null)Ve=D;else{var K=A.return;K!==null?(Ve=K,Qu(K)):Ve=null}break t}}We=0,In=null,il(t,i,m,5);break;case 6:We=0,In=null,il(t,i,m,6);break;case 8:$f(),gt=6;break e;default:throw Error(r(462))}}TA();break}catch(J){qv(t,J)}while(!0);return es=Wr=null,q.H=o,q.A=f,Ye=a,Ve!==null?0:(it=null,Le=0,du(),gt)}function TA(){for(;Ve!==null&&!wd();)Qv(Ve)}function Qv(t){var i=yv(t.alternate,t,us);t.memoizedProps=t.pendingProps,i===null?Qu(t):Ve=i}function Yv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=hv(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=hv(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:hf(i);default:_v(a,i),i=Ve=Kg(i,us),i=yv(a,i,us)}t.memoizedProps=t.pendingProps,i===null?Qu(t):Ve=i}function il(t,i,a,o){es=Wr=null,hf(i),Ka=null,_o=0;var f=i.return;try{if(cA(t,f,i,a,Le)){gt=1,Mu(t,Bn(a,t.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;gt=1,Mu(t,Bn(a,t.current)),Ve=null;return}i.flags&32768?(He||o===1?t=!0:Za||(Le&536870912)!==0?t=!1:(Ys=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$v(i,t)):Qu(i)}function Qu(t){var i=t;do{if((i.flags&32768)!==0){$v(i,Ys);return}t=i.return;var a=dA(i.alternate,i,us);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);gt===0&&(gt=5)}function $v(t,i){do{var a=fA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);gt=6,Ve=null}function Xv(t,i,a,o,f,m,_,A,D){t.cancelPendingCommit=null;do Yu();while(Pt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Ld,Rd(t,a,m,_,A,D),t===it&&(Ve=it=null,Le=0),tl=i,Ws=t,hs=a,Kf=m,Qf=f,Uv=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wA(Rs,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=re.p,re.p=2,_=Ye,Ye|=4;try{mA(t,i,a)}finally{Ye=_,re.p=f,q.T=o}}Pt=1,Wv(),Jv(),Zv()}}function Wv(){if(Pt===1){Pt=0;var t=Ws,i=tl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=re.p;re.p=2;var f=Ye;Ye|=4;try{jv(i,t);var m=om,_=Lg(t.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&kg(A.ownerDocument.documentElement,A)){if(D!==null&&Dd(A)){var K=D.start,J=D.end;if(J===void 0&&(J=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(J,A.value.length);else{var ne=A.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pe=A.textContent.length,Te=Math.min(D.start,pe),nt=D.end===void 0?Te:Math.min(D.end,pe);!X.extend&&Te>nt&&(_=nt,nt=Te,Te=_);var H=Vg(A,Te),P=Vg(A,nt);if(H&&P&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var G=ne.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),Te>nt?(X.addRange(G),X.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),X.addRange(G))}}}}for(ne=[],X=A;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ne.length;A++){var Z=ne[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ah=!!lm,om=lm=null}finally{Ye=f,re.p=o,q.T=a}}t.current=i,Pt=2}}function Jv(){if(Pt===2){Pt=0;var t=Ws,i=tl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=re.p;re.p=2;var f=Ye;Ye|=4;try{xv(t,i.alternate,i)}finally{Ye=f,re.p=o,q.T=a}}Pt=3}}function Zv(){if(Pt===4||Pt===3){Pt=0,Pc();var t=Ws,i=tl,a=hs,o=Uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,tl=Ws=null,e_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Xs=null),Yi(a),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,f=re.p,re.p=2,q.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var A=o[_];m(A.value,{componentStack:A.stack})}}finally{q.T=i,re.p=f}}(hs&3)!==0&&Yu(),Ui(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===Yf?ko++:(ko=0,Yf=t):ko=0,Lo(0)}}function e_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yo(i)))}function Yu(){return Wv(),Jv(),Zv(),t_()}function t_(){if(Pt!==5)return!1;var t=Ws,i=Kf;Kf=0;var a=Yi(hs),o=q.T,f=re.p;try{re.p=32>a?32:a,q.T=null,a=Qf,Qf=null;var m=Ws,_=hs;if(Pt=0,tl=Ws=null,hs=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,kv(m.current),Ov(m,m.current,_,a),Ye=A,Lo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{re.p=f,q.T=o,e_(t,i)}}function n_(t,i,a){i=Bn(a,i),i=xf(t.stateNode,i,2),t=Fs(t,i,2),t!==null&&(Mr(t,2),Ui(t))}function Je(t,i,a){if(t.tag===3)n_(t,t,a);else for(;i!==null;){if(i.tag===3){n_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Xs===null||!Xs.has(o))){t=Bn(a,t),a=iv(2),o=Fs(i,a,2),o!==null&&(sv(a,o,i,t),Mr(o,2),Ui(o));break}}i=i.return}}function Wf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new yA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(qf=!0,f.add(a),t=bA.bind(null,t,i,a),i.then(t,t))}function bA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(gt===4||gt===3&&(Le&62914560)===Le&&300>on()-Hu?(Ye&2)===0&&nl(t,0):Ff|=a,el===Le&&(el=0)),Ui(t)}function i_(t,i){i===0&&(i=Fc()),t=Yr(t,i),t!==null&&(Mr(t,i),Ui(t))}function SA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),i_(t,a)}function AA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),i_(t,a)}function wA(t,i){return Lt(t,i)}var $u=null,sl=null,Jf=!1,Xu=!1,Zf=!1,Zs=0;function Ui(t){t!==sl&&t.next===null&&(sl===null?$u=sl=t:sl=sl.next=t),Xu=!0,Jf||(Jf=!0,NA())}function Lo(t,i){if(!Zf&&Xu){Zf=!0;do for(var a=!1,o=$u;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-vt(42|t)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,l_(o,m))}else m=Le,m=Ti(o,o===it?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||ei(o,m)||(a=!0,l_(o,m));o=o.next}while(a);Zf=!1}}function xA(){s_()}function s_(){Xu=Jf=!1;var t=0;Zs!==0&&LA()&&(t=Zs);for(var i=on(),a=null,o=$u;o!==null;){var f=o.next,m=r_(o,i);m===0?(o.next=null,a===null?$u=f:a.next=f,f===null&&(sl=a)):(a=o,(t!==0||(m&3)!==0)&&(Xu=!0)),o=f}Pt!==0&&Pt!==5||Lo(t),Zs!==0&&(Zs=0)}function r_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-vt(m),A=1<<_,D=f[_];D===-1?((A&a)===0||(A&o)!==0)&&(f[_]=Nd(A,i)):D<=i&&(t.expiredLanes|=A),m&=~A}if(i=it,a=Le,a=Ti(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Ns(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ei(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&Ns(o),Yi(a)){case 2:case 8:a=Kl;break;case 32:a=Rs;break;case 268435456:a=Uc;break;default:a=Rs}return o=a_.bind(null,t),a=Lt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&Ns(o),t.callbackPriority=2,t.callbackNode=null,2}function a_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Yu()&&t.callbackNode!==a)return null;var o=Le;return o=Ti(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Bv(t,o,i),r_(t,on()),t.callbackNode!=null&&t.callbackNode===a?a_.bind(null,t):null)}function l_(t,i){if(Yu())return null;Bv(t,i,!0)}function NA(){UA(function(){(Ye&6)!==0?Lt(Gl,xA):s_()})}function em(){if(Zs===0){var t=qa;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),Zs=t}return Zs}function o_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function c_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function RA(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var m=o_((f[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?o_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var A=new Di("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zs!==0){var D=_?c_(f,_):new FormData(f);Ef(a,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?c_(f,_):new FormData(f),Ef(a,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var tm=0;tm<kd.length;tm++){var nm=kd[tm],CA=nm.toLowerCase(),IA=nm[0].toUpperCase()+nm.slice(1);oi(CA,"on"+IA)}oi(zg,"onAnimationEnd"),oi(Bg,"onAnimationIteration"),oi(Hg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(KS,"onTransitionRun"),oi(QS,"onTransitionStart"),oi(YS,"onTransitionCancel"),oi(qg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function u_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var A=o[_],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(J){hu(J)}f.currentTarget=null,m=D}else for(_=0;_<o.length;_++){if(A=o[_],D=A.instance,K=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(J){hu(J)}f.currentTarget=null,m=D}}}}function ke(t,i){var a=i[Sa];a===void 0&&(a=i[Sa]=new Set);var o=t+"__bubble";a.has(o)||(h_(i,t,2,!1),a.add(o))}function im(t,i,a){var o=0;i&&(o|=4),h_(a,t,o,i)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function sm(t){if(!t[Wu]){t[Wu]=!0,$l.forEach(function(a){a!=="selectionchange"&&(jA.has(a)||im(a,!1,t),im(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Wu]||(i[Wu]=!0,im("selectionchange",!1,i))}}function h_(t,i,a,o){switch(z_(i)){case 2:var f=rw;break;case 8:f=aw;break;default:f=_m}a=f.bind(null,i,a,t),f=void 0,!zr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function rm(t,i,a,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=wi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=m=_;continue e}A=A.parentNode}}o=o.return}Ms(function(){var K=m,J=Ln(a),ne=[];e:{var Q=Fg.get(t);if(Q!==void 0){var X=Di,pe=t;switch(t){case"keypress":if(Hr(a)===0)break e;case"keydown":case"keyup":X=ou;break;case"focusin":pe="focus",X=Fr;break;case"focusout":pe="blur",X=Fr;break;case"beforeblur":case"afterblur":X=Fr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Zc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case zg:case Bg:case Hg:X=tu;break;case qg:X=w;break;case"scroll":case"scrollend":X=lo;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=nu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wi;break;case"toggle":case"beforetoggle":X=je}var Te=(i&4)!==0,nt=!Te&&(t==="scroll"||t==="scrollend"),H=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var P=K,G;P!==null;){var Z=P;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||H===null||(Z=si(P,H),Z!=null&&Te.push(Uo(P,Z,G))),nt)break;P=P.return}0<Te.length&&(Q=new X(Q,pe,null,a,J),ne.push({event:Q,listeners:Te}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==so&&(pe=a.relatedTarget||a.fromElement)&&(wi(pe)||pe[Si]))break e;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=K,pe=pe?wi(pe):null,pe!==null&&(nt=c(pe),Te=pe.tag,pe!==nt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(X=null,pe=K),X!==pe)){if(Te=oo,Z="onMouseLeave",H="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Wi,Z="onPointerLeave",H="onPointerEnter",P="pointer"),nt=X==null?Q:An(X),G=pe==null?Q:An(pe),Q=new Te(Z,P+"leave",X,a,J),Q.target=nt,Q.relatedTarget=G,Z=null,wi(J)===K&&(Te=new Te(H,P+"enter",pe,a,J),Te.target=G,Te.relatedTarget=nt,Z=Te),nt=Z,X&&pe)t:{for(Te=DA,H=X,P=pe,G=0,Z=H;Z;Z=Te(Z))G++;Z=0;for(var _e=P;_e;_e=Te(_e))Z++;for(;0<G-Z;)H=Te(H),G--;for(;0<Z-G;)P=Te(P),Z--;for(;G--;){if(H===P||P!==null&&H===P.alternate){Te=H;break t}H=Te(H),P=Te(P)}Te=null}else Te=null;X!==null&&d_(ne,Q,X,Te,!1),pe!==null&&nt!==null&&d_(ne,nt,pe,Te,!0)}}e:{if(Q=K?An(K):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ge=Cg;else if(Ng(Q))if(Ig)Ge=qS;else{Ge=BS;var ge=zS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Na(K.elementType)&&(Ge=Cg):Ge=HS;if(Ge&&(Ge=Ge(t,K))){Rg(ne,Ge,a,J);break e}ge&&ge(t,Q,K),t==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&to(Q,"number",Q.value)}switch(ge=K?An(K):window,t){case"focusin":(Ng(ge)||ge.contentEditable==="true")&&(Va=ge,Od=K,mo=null);break;case"focusout":mo=Od=Va=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Pg(ne,a,J);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Pg(ne,a,J)}var Me;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ma?Gr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Vi&&a.locale!=="ko"&&(Ma||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ma&&(Me=ao()):(ji=J,ro="value"in ji?ji.value:ji.textContent,Ma=!0)),ge=Ju(K,Pe),0<ge.length&&(Pe=new Mi(Pe,t,null,a,J),ne.push({event:Pe,listeners:ge}),Me?Pe.data=Me:(Me=Oa(a),Me!==null&&(Pe.data=Me)))),(Me=Un?kS(t,a):LS(t,a))&&(Pe=Ju(K,"onBeforeInput"),0<Pe.length&&(ge=new Mi("onBeforeInput","beforeinput",null,a,J),ne.push({event:ge,listeners:Pe}),ge.data=Me)),RA(ne,t,K,a,J)}u_(ne,i)})}function Uo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ju(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=si(t,a),f!=null&&o.unshift(Uo(t,f,m)),f=si(t,i),f!=null&&o.push(Uo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function DA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,a,o,f){for(var m=i._reactName,_=[];a!==null&&a!==o;){var A=a,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===o)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=si(a,m),K!=null&&_.unshift(Uo(a,K,D))):f||(K=si(a,m),K!=null&&_.push(Uo(a,K,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var OA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(MA,"")}function m_(t,i){return i=f_(i),f_(t)===i}function tt(t,i,a,o,f,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||mn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&mn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,a,o);break;case"style":io(t,o,m);break;case"data":if(i!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ra(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),wa(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wa(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jc.get(a)||a,wa(t,a,o))}}function am(t,i,a,o,f,m){switch(a){case"style":io(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?mn(t,o):(typeof o=="number"||typeof o=="bigint")&&mn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[Bt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):wa(t,a,o)}}}function Jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,m,_,a,null)}}f&&tt(t,i,"srcSet",a.srcSet,a,null),o&&tt(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var A=m=_=f=null,D=null,K=null;for(o in a)if(a.hasOwnProperty(o)){var J=a[o];if(J!=null)switch(o){case"name":f=J;break;case"type":_=J;break;case"checked":D=J;break;case"defaultChecked":K=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:tt(t,i,o,J,a,null)}}$c(t,m,A,D,K,_,f,!1);return;case"select":ke("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:tt(t,i,f,A,a,null)}i=m,a=_,t.multiple=!!o,i!=null?Is(t,!!o,i,!1):a!=null&&Is(t,!!o,a,!0);return;case"textarea":ke("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(t,i,_,A,a,null)}js(t,o,f,m);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(o=a[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,D,o,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Po.length;o++)ke(Po[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in a)if(a.hasOwnProperty(K)&&(o=a[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,K,o,a,null)}return;default:if(Na(i)){for(J in a)a.hasOwnProperty(J)&&(o=a[J],o!==void 0&&am(t,i,J,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&tt(t,i,A,o,a,null))}function VA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,K=null,J=null;for(X in a){var ne=a[X];if(a.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ne;default:o.hasOwnProperty(X)||tt(t,i,X,null,o,ne)}}for(var Q in o){var X=o[Q];if(ne=a[Q],o.hasOwnProperty(Q)&&(X!=null||ne!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==ne&&tt(t,i,Q,X,o,ne)}}xa(t,_,A,D,K,J,m,f);return;case"select":X=_=A=Q=null;for(m in a)if(D=a[m],a.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:o.hasOwnProperty(m)||tt(t,i,m,null,o,D)}for(f in o)if(m=o[f],D=a[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&tt(t,i,f,m,o,D)}i=A,a=_,o=X,Q!=null?Is(t,!!a,Q,!1):!!o!=!!a&&(i!=null?Is(t,!!a,i,!0):Is(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&tt(t,i,_,f,o,m)}Xc(t,Q,X);return;case"option":for(var pe in a)if(Q=a[pe],a.hasOwnProperty(pe)&&Q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:tt(t,i,pe,null,o,Q)}for(D in o)if(Q=o[D],X=a[D],o.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(t,i,D,Q,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)Q=a[Te],a.hasOwnProperty(Te)&&Q!=null&&!o.hasOwnProperty(Te)&&tt(t,i,Te,null,o,Q);for(K in o)if(Q=o[K],X=a[K],o.hasOwnProperty(K)&&Q!==X&&(Q!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:tt(t,i,K,Q,o,X)}return;default:if(Na(i)){for(var nt in a)Q=a[nt],a.hasOwnProperty(nt)&&Q!==void 0&&!o.hasOwnProperty(nt)&&am(t,i,nt,void 0,o,Q);for(J in o)Q=o[J],X=a[J],!o.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||am(t,i,J,Q,o,X);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!o.hasOwnProperty(H)&&tt(t,i,H,null,o,Q);for(ne in o)Q=o[ne],X=a[ne],!o.hasOwnProperty(ne)||Q===X||Q==null&&X==null||tt(t,i,ne,Q,o,X)}function p_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&p_(_)){for(_=0,A=f.responseEnd,o+=1;o<a.length;o++){var D=a[o],K=D.startTime;if(K>A)break;var J=D.transferSize,ne=D.initiatorType;J&&p_(ne)&&(D=D.responseEnd,_+=J*(D<A?1:(A-K)/(D-K)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lm=null,om=null;function Zu(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function LA(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(zA)}:v_;function zA(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function E_(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),ol(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")zo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,zo(a);for(var m=a.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&zo(t.ownerDocument.body);a=f}while(a);ol(i)}function T_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Aa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BA(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function HA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function b_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var mm=null;function S_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Kn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function w_(t,i,a){switch(i=Zu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function zo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Aa(t)}var Qn=new Map,x_=new Set;function eh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=re.d;re.d={f:FA,r:GA,D:KA,C:QA,L:YA,m:$A,X:WA,S:XA,M:JA};function FA(){var t=ds.f(),i=Gu();return t||i}function GA(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?qy(i):ds.r(t)}var rl=typeof document>"u"?null:document;function N_(t,i,a){var o=rl;if(o&&typeof i=="string"&&i){var f=fn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),x_.has(f)||(x_.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Jt(i,"link",t),xt(i),o.head.appendChild(i)))}}function KA(t){ds.D(t),N_("dns-prefetch",t,null)}function QA(t,i){ds.C(t,i),N_("preconnect",t,i)}function YA(t,i,a){ds.L(t,i,a);var o=rl;if(o&&t&&i){var f='link[rel="preload"][as="'+fn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+fn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+fn(a.imageSizes)+'"]')):f+='[href="'+fn(t)+'"]';var m=f;switch(i){case"style":m=al(t);break;case"script":m=ll(t)}Qn.has(m)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Bo(m))||i==="script"&&o.querySelector(Ho(m))||(i=o.createElement("link"),Jt(i,"link",t),xt(i),o.head.appendChild(i)))}}function $A(t,i){ds.m(t,i);var a=rl;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(t)}if(!Qn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ho(m)))return}o=a.createElement("link"),Jt(o,"link",t),xt(o),a.head.appendChild(o)}}}function XA(t,i,a){ds.S(t,i,a);var o=rl;if(o&&t){var f=xi(o).hoistableStyles,m=al(t);i=i||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(Bo(m)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(m))&&pm(t,a);var D=_=o.createElement("link");xt(D),Jt(D,"link",t),D._p=new Promise(function(K,J){D.onload=K,D.onerror=J}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,th(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function WA(t,i){ds.X(t,i);var a=rl;if(a&&t){var o=xi(a).hoistableScripts,f=ll(t),m=o.get(f);m||(m=a.querySelector(Ho(f)),m||(t=b({src:t,async:!0},i),(i=Qn.get(f))&&gm(t,i),m=a.createElement("script"),xt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function JA(t,i){ds.M(t,i);var a=rl;if(a&&t){var o=xi(a).hoistableScripts,f=ll(t),m=o.get(f);m||(m=a.querySelector(Ho(f)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(f))&&gm(t,i),m=a.createElement("script"),xt(m),Jt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function R_(t,i,a,o){var f=(f=Oe.current)?eh(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=al(a.href),a=xi(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var m=xi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Bo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),m||ZA(f,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ll(a),a=xi(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function al(t){return'href="'+fn(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ZA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",a),xt(i),t.head.appendChild(i))}function ll(t){return'[src="'+fn(t)+'"]'}function Ho(t){return"script[async]"+t}function I_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+fn(a.href)+'"]');if(o)return i.instance=o,xt(o),o;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Jt(o,"style",f),th(o,a.precedence,t),i.instance=o;case"stylesheet":f=al(a.href);var m=t.querySelector(Bo(f));if(m)return i.state.loading|=4,i.instance=m,xt(m),m;o=C_(a),(f=Qn.get(f))&&pm(o,f),m=(t.ownerDocument||t).createElement("link"),xt(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",o),i.state.loading|=4,th(m,a.precedence,t),i.instance=m;case"script":return m=ll(a.src),(f=t.querySelector(Ho(m)))?(i.instance=f,xt(f),f):(o=a,(f=Qn.get(m))&&(o=b({},a),gm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Jt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,th(o,a.precedence,t));return i.instance}function th(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var nh=null;function j_(t,i,a){if(nh===null){var o=new Map,f=nh=new Map;f.set(a,o)}else f=nh,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Ai]||m[wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var A=o.get(_);A?A.push(m):o.set(_,[m])}}return o}function D_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ew(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tw(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=al(o.href),m=i.querySelector(Bo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=ih.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,xt(m);return}m=i.ownerDocument||i,o=C_(o),(f=Qn.get(f))&&pm(o,f),m=m.createElement("link"),xt(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=ih.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ym=0;function nw(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&ym===0&&(ym=62500*kA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ym?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function ih(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sh=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sh=new Map,i.forEach(iw,t),sh=null,ih.call(t))}function iw(t,i){if(!(i.state.loading&4)){var a=sh.get(t);if(a)var o=a.get(null);else{a=new Map,sh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=ih.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var qo={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function sw(t,i,a,o,f,m,_,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function M_(t,i,a,o,f,m,_,A,D,K,J,ne){return t=new sw(t,i,a,_,D,K,J,ne,A),i=1,m===!0&&(i|=24),m=Nn(3,null,null,i),t.current=m,m.stateNode=t,i=$d(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},Zd(m),t}function V_(t){return t?(t=Pa,t):Pa}function k_(t,i,a,o,f,m){f=V_(f),o.context===null?o.context=f:o.pendingContext=f,o=qs(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Fs(t,o,i),a!==null&&(_n(a,t,i),To(a,t,i))}function L_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function vm(t,i){L_(t,i),(t=t.alternate)&&L_(t,i)}function P_(t){if(t.tag===13||t.tag===31){var i=Yr(t,67108864);i!==null&&_n(i,t,67108864),vm(t,67108864)}}function U_(t){if(t.tag===13||t.tag===31){var i=Dn();i=kr(i);var a=Yr(t,i);a!==null&&_n(a,t,i),vm(t,i)}}var ah=!0;function rw(t,i,a,o){var f=q.T;q.T=null;var m=re.p;try{re.p=2,_m(t,i,a,o)}finally{re.p=m,q.T=f}}function aw(t,i,a,o){var f=q.T;q.T=null;var m=re.p;try{re.p=8,_m(t,i,a,o)}finally{re.p=m,q.T=f}}function _m(t,i,a,o){if(ah){var f=Em(o);if(f===null)rm(t,i,o,lh,a),B_(t,o);else if(ow(f,t,i,a,o))o.stopPropagation();else if(B_(t,o),i&4&&-1<lw.indexOf(t)){for(;f!==null;){var m=kn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ei(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-vt(_);A.entanglements[1]|=D,_&=~D}Ui(m),(Ye&6)===0&&(qu=on()+500,Lo(0))}}break;case 31:case 13:A=Yr(m,2),A!==null&&_n(A,m,2),Gu(),vm(m,2)}if(m=Em(o),m===null&&rm(t,i,o,lh,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else rm(t,i,o,null,a)}}function Em(t){return t=Ln(t),Tm(t)}var lh=null;function Tm(t){if(lh=null,t=wi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return lh=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case Gl:return 2;case Kl:return 8;case Rs:case xd:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var bm=!1,tr=null,nr=null,ir=null,Fo=new Map,Go=new Map,sr=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,i){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":ir=null;break;case"pointerover":case"pointerout":Fo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(i.pointerId)}}function Ko(t,i,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&P_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ow(t,i,a,o,f){switch(i){case"focusin":return tr=Ko(tr,t,i,a,o,f),!0;case"dragenter":return nr=Ko(nr,t,i,a,o,f),!0;case"mouseover":return ir=Ko(ir,t,i,a,o,f),!0;case"pointerover":var m=f.pointerId;return Fo.set(m,Ko(Fo.get(m)||null,t,i,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Go.set(m,Ko(Go.get(m)||null,t,i,a,o,f)),!0}return!1}function H_(t){var i=wi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,ti(t.priority,function(){U_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,ti(t.priority,function(){U_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function oh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);so=o,a.target.dispatchEvent(o),so=null}else return i=kn(a),i!==null&&P_(i),t.blockedOn=a,!1;i.shift()}return!0}function q_(t,i,a){oh(t)&&a.delete(i)}function cw(){bm=!1,tr!==null&&oh(tr)&&(tr=null),nr!==null&&oh(nr)&&(nr=null),ir!==null&&oh(ir)&&(ir=null),Fo.forEach(q_),Go.forEach(q_)}function ch(t,i){t.blockedOn===i&&(t.blockedOn=null,bm||(bm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cw)))}var uh=null;function F_(t){uh!==t&&(uh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){uh===t&&(uh=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(Tm(o||a)===null)continue;break}var m=kn(a);m!==null&&(t.splice(i,3),i-=3,Ef(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function ol(t){function i(D){return ch(D,t)}tr!==null&&ch(tr,t),nr!==null&&ch(nr,t),ir!==null&&ch(ir,t),Fo.forEach(i),Go.forEach(i);for(var a=0;a<sr.length;a++){var o=sr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<sr.length&&(a=sr[0],a.blockedOn===null);)H_(a),a.blockedOn===null&&sr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[Bt]||null;if(typeof m=="function")_||F_(a);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Bt]||null)A=_.formAction;else if(Tm(f)!==null)continue}else A=_.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),F_(a)}}}function G_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Sm(t){this._internalRoot=t}hh.prototype.render=Sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Dn();k_(a,o,t,i,null,null)},hh.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;k_(t.current,2,null,t,null,null),Gu(),i[Si]=null}};function hh(t){this._internalRoot=t}hh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Gc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<sr.length&&i!==0&&i<sr[a].priority;a++);sr.splice(a,0,t),a===0&&H_(t)}};var K_=e.version;if(K_!=="19.2.1")throw Error(r(527,K_,"19.2.1"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dh.isDisabled&&dh.supportsFiber)try{Zn=dh.inject(uw),Qt=dh}catch{}}return Yo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=Zy,m=ev,_=tv;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=M_(t,1,!1,null,null,a,o,null,f,m,_,G_),t[Si]=i.current,sm(t),new Sm(i)},Yo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=Zy,_=ev,A=tv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=M_(t,1,!0,i,a??null,o,f,D,m,_,A,G_),i.context=V_(null),a=i.current,o=Dn(),o=kr(o),f=qs(o),f.callback=null,Fs(a,f,o),a=o,i.current.lanes=a,Mr(i,a),Ui(i),t[Si]=i.current,sm(t),new hh(i)},Yo.version="19.2.1",Yo}var nE;function Ew(){if(nE)return xm.exports;nE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=_w(),xm.exports}var Tw=Ew();var iE="popstate";function bw(s={}){function e(r,l){let{pathname:c,search:d,hash:p}=r.location;return Qm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:cc(l)}return Aw(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Wn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function sE(s,e){return{usr:s.state,key:s.key,idx:e}}function Qm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||r||Sw()}}function cc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Rl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function Aw(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,p="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let U=T(),Y=U==null?null:U-y;y=U,g&&g({action:p,location:C.location,delta:Y})}function S(U,Y){p="PUSH";let W=Qm(C.location,U,Y);y=T()+1;let ie=sE(W,y),z=C.createHref(W);try{d.pushState(ie,"",z)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(z)}c&&g&&g({action:p,location:C.location,delta:1})}function O(U,Y){p="REPLACE";let W=Qm(C.location,U,Y);y=T();let ie=sE(W,y),z=C.createHref(W);d.replaceState(ie,"",z),c&&g&&g({action:p,location:C.location,delta:0})}function R(U){return ww(U)}let C={get action(){return p},get location(){return s(l,d)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(iE,b),g=U,()=>{l.removeEventListener(iE,b),g=null}},createHref(U){return e(l,U)},createURL:R,encodeLocation(U){let Y=R(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:O,go(U){return d.go(U)}};return C}function ww(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:cc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function qT(s,e,n="/"){return xw(s,e,n,!1)}function xw(s,e,n,r){let l=typeof e=="string"?Rl(e):e,c=_s(l.pathname||"/",n);if(c==null)return null;let d=FT(s);Nw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Pw(c);p=kw(d[g],y,r)}return p}function FT(s,e=[],n=[],r="",l=!1){let c=(d,p,g=l,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;dt(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let b=ps([r,T.relativePath]),S=n.concat(T);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),FT(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:Mw(b,d.index),routesMeta:S})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of GT(d.path))c(d,p,!0,g)}),e}function GT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=GT(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Nw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Vw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Rw=/^:[\w-]+$/,Cw=3,Iw=2,jw=1,Dw=10,Ow=-2,rE=s=>s==="*";function Mw(s,e){let n=s.split("/"),r=n.length;return n.some(rE)&&(r+=Ow),e&&(r+=Iw),n.filter(l=>!rE(l)).reduce((l,c)=>l+(Rw.test(c)?Cw:c===""?jw:Dw),r)}function Vw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function kw(s,e,n=!1){let{routesMeta:r}=s,l={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=jh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),S=g.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=jh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ps([c,b.pathname]),pathnameBase:qw(ps([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ps([c,b.pathnameBase]))}return d}function jh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Lw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:b},S)=>{if(T==="*"){let R=p[S]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const O=p[S];return b&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Lw(s,e=!1,n=!0){Wn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function Pw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _s(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zw=s=>Uw.test(s);function Bw(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Rl(s):s,c;if(n)if(zw(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=aE(n.substring(1),"/"):c=aE(n,e)}else c=e;return{pathname:c,search:Fw(r),hash:Gw(l)}}function aE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Im(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(s){let e=Hw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Ap(s,e,n,r=!1){let l;typeof s=="string"?l=Rl(s):(l={...s},dt(!l.pathname||!l.pathname.includes("?"),Im("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),Im("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),Im("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=Bw(l,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ps=s=>s.join("/").replace(/\/\/+/g,"/"),qw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Gw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Kw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Qw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var Yw=["GET",...KT];new Set(Yw);var Cl=V.createContext(null);Cl.displayName="DataRouter";var Wh=V.createContext(null);Wh.displayName="DataRouterState";V.createContext(!1);var QT=V.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var $w=V.createContext(new Map);$w.displayName="Fetchers";var Xw=V.createContext(null);Xw.displayName="Await";var Jn=V.createContext(null);Jn.displayName="Navigation";var _c=V.createContext(null);_c.displayName="Location";var yi=V.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var wp=V.createContext(null);wp.displayName="RouteError";function Ww(s,{relative:e}={}){dt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Jn),{hash:l,pathname:c,search:d}=Ec(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ps([n,c])),r.createHref({pathname:p,search:d,hash:l})}function Il(){return V.useContext(_c)!=null}function xr(){return dt(Il(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(_c).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(s){V.useContext(Jn).static||V.useLayoutEffect(s)}function jl(){let{isDataRoute:s}=V.useContext(yi);return s?hx():Jw()}function Jw(){dt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(Cl),{basename:e,navigator:n}=V.useContext(Jn),{matches:r}=V.useContext(yi),{pathname:l}=xr(),c=JSON.stringify(Sp(r)),d=V.useRef(!1);return $T(()=>{d.current=!0}),V.useCallback((g,y={})=>{if(Wn(d.current,YT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=Ap(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ps([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,l,s])}V.createContext(null);function Zw(){let{matches:s}=V.useContext(yi),e=s[s.length-1];return e?e.params:{}}function Ec(s,{relative:e}={}){let{matches:n}=V.useContext(yi),{pathname:r}=xr(),l=JSON.stringify(Sp(n));return V.useMemo(()=>Ap(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function ex(s,e){return XT(s,e)}function XT(s,e,n,r,l){dt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Jn),{matches:d}=V.useContext(yi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let W=b&&b.path||"";WT(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=xr(),O;if(e){let W=typeof e=="string"?Rl(e):e;dt(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=S;let R=O.pathname||"/",C=R;if(T!=="/"){let W=T.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=qT(s,{pathname:C});Wn(b||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rx(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ps([T,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:ps([T,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),d,n,r,l);return e&&Y?V.createElement(_c.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function tx(){let s=ux(),e=Kw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,d)}var nx=V.createElement(tx,null),ix=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?V.createElement(yi.Provider,{value:this.props.routeContext},V.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sx({routeContext:s,match:e,children:n}){let r=V.useContext(Cl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(yi.Provider,{value:s},n)}function rx(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);dt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:S,errors:O}=n,R=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||R){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(T,b)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Qw(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,S)=>{let O,R=!1,C=null,U=null;n&&(O=d&&b.route.id?d[b.route.id]:void 0,C=b.route.errorElement||nx,p&&(g<0&&S===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):g===S&&(R=!0,U=b.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),W=()=>{let ie;return O?ie=C:R?ie=U:b.route.Component?ie=V.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=T,V.createElement(sx,{match:b,routeContext:{outlet:T,matches:Y,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?V.createElement(ix,{location:n.location,revalidation:n.revalidation,component:C,error:O,children:W(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):W()},null)}function xp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ax(s){let e=V.useContext(Cl);return dt(e,xp(s)),e}function lx(s){let e=V.useContext(Wh);return dt(e,xp(s)),e}function ox(s){let e=V.useContext(yi);return dt(e,xp(s)),e}function Np(s){let e=ox(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function cx(){return Np("useRouteId")}function ux(){let s=V.useContext(wp),e=lx("useRouteError"),n=Np("useRouteError");return s!==void 0?s:e.errors?.[n]}function hx(){let{router:s}=ax("useNavigate"),e=Np("useNavigate"),n=V.useRef(!1);return $T(()=>{n.current=!0}),V.useCallback(async(l,c={})=>{Wn(n.current,YT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var lE={};function WT(s,e,n){!e&&!lE[s]&&(lE[s]=!0,Wn(!1,n))}V.memo(dx);function dx({routes:s,future:e,state:n,unstable_onError:r}){return XT(s,void 0,n,r,e)}function Dl({to:s,replace:e,state:n,relative:r}){dt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=V.useContext(Jn);Wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(yi),{pathname:d}=xr(),p=jl(),g=Ap(s,Sp(c),d,r==="path"),y=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Ut(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fx({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){dt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Rl(n));let{pathname:y="/",search:T="",hash:b="",state:S=null,key:O="default"}=n,R=V.useMemo(()=>{let C=_s(y,p);return C==null?null:{location:{pathname:C,search:T,hash:b,state:S,key:O},navigationType:r}},[p,y,T,b,S,O,r]);return Wn(R!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:V.createElement(Jn.Provider,{value:g},V.createElement(_c.Provider,{children:e,value:R}))}function mx({children:s,location:e}){return ex(Ym(s),e)}function Ym(s,e=[]){let n=[];return V.Children.forEach(s,(r,l)=>{if(!V.isValidElement(r))return;let c=[...e,l];if(r.type===V.Fragment){n.push.apply(n,Ym(r.props.children,c));return}dt(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=Ym(r.props.children,c)),n.push(d)}),n}var Eh="get",Th="application/x-www-form-urlencoded";function Jh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function px(s){return Jh(s)&&s.tagName.toLowerCase()==="button"}function gx(s){return Jh(s)&&s.tagName.toLowerCase()==="form"}function yx(s){return Jh(s)&&s.tagName.toLowerCase()==="input"}function vx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _x(s,e){return s.button===0&&(!e||e==="_self")&&!vx(s)}var fh=null;function Ex(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var Tx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(s){return s!=null&&!Tx.has(s)?(Wn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Th}"`),null):s}function bx(s,e){let n,r,l,c,d;if(gx(s)){let p=s.getAttribute("action");r=p?_s(p,e):null,n=s.getAttribute("method")||Eh,l=jm(s.getAttribute("enctype"))||Th,c=new FormData(s)}else if(px(s)||yx(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?_s(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Eh,l=jm(s.getAttribute("formenctype"))||jm(p.getAttribute("enctype"))||Th,c=new FormData(p,s),!Ex()){let{name:y,type:T,value:b}=s;if(T==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Jh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Eh,r=null,l=Th,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sx(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&_s(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Ax(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function xx(s,e,n){let r=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await Ax(c,n);return d.links?d.links():[]}return[]}));return Ix(r.flat(1).filter(wx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function oE(s,e,n,r,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nx(s,e,{includeHydrateFallback:n}={}){return Rx(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Rx(s){return[...new Set(s)]}function Cx(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function Ix(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let c=JSON.stringify(Cx(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function JT(){let s=V.useContext(Cl);return Rp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function jx(){let s=V.useContext(Wh);return Rp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Cp=V.createContext(void 0);Cp.displayName="FrameworkContext";function ZT(){let s=V.useContext(Cp);return Rp(s,"You must render this element inside a <HydratedRouter> element"),s}function Dx(s,e){let n=V.useContext(Cp),[r,l]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,S=V.useRef(null);V.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=Y=>{Y.forEach(W=>{d(W.isIntersecting)})},U=new IntersectionObserver(C,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[s]),V.useEffect(()=>{if(r){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[r]);let O=()=>{l(!0)},R=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:$o(p,O),onBlur:$o(g,R),onMouseEnter:$o(y,O),onMouseLeave:$o(T,R),onTouchStart:$o(b,O)}]:[!1,S,{}]}function $o(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Ox({page:s,...e}){let{router:n}=JT(),r=V.useMemo(()=>qT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?V.createElement(Vx,{page:s,matches:r,...e}):null}function Mx(s){let{manifest:e,routeModules:n}=ZT(),[r,l]=V.useState([]);return V.useEffect(()=>{let c=!1;return xx(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),r}function Vx({page:s,matches:e,...n}){let r=xr(),{manifest:l,routeModules:c}=ZT(),{basename:d}=JT(),{loaderData:p,matches:g}=jx(),y=V.useMemo(()=>oE(s,e,g,l,r,"data"),[s,e,g,l,r]),T=V.useMemo(()=>oE(s,e,g,l,r,"assets"),[s,e,g,l,r]),b=V.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let R=new Set,C=!1;if(e.forEach(Y=>{let W=l.routes[Y.route.id];!W||!W.hasLoader||(!y.some(ie=>ie.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:R.add(Y.route.id))}),R.size===0)return[];let U=Sx(s,d,"data");return C&&R.size>0&&U.searchParams.set("_routes",e.filter(Y=>R.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[d,p,r,l,y,e,s,c]),S=V.useMemo(()=>Nx(T,l),[T,l]),O=Mx(T);return V.createElement(V.Fragment,null,b.map(R=>V.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>V.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),O.map(({key:R,link:C})=>V.createElement("link",{key:R,nonce:n.nonce,...C})))}function kx(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eb&&(window.__reactRouterVersion="7.10.1")}catch{}function Lx({basename:s,children:e,unstable_useTransitions:n,window:r}){let l=V.useRef();l.current==null&&(l.current=bw({window:r,v5Compat:!0}));let c=l.current,[d,p]=V.useState({action:c.action,location:c.location}),g=V.useCallback(y=>{n===!1?p(y):V.startTransition(()=>p(y))},[n]);return V.useLayoutEffect(()=>c.listen(g),[c,g]),V.createElement(fx,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:b,...S},O){let{basename:R,unstable_useTransitions:C}=V.useContext(Jn),U=typeof y=="string"&&tb.test(y),Y,W=!1;if(typeof y=="string"&&U&&(Y=y,eb))try{let k=new URL(window.location.href),M=y.startsWith("//")?new URL(k.protocol+y):new URL(y),B=_s(M.pathname,R);M.origin===k.origin&&B!=null?y=B+M.search+M.hash:W=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=Ww(y,{relative:l}),[z,oe,ce]=Dx(r,S),I=Bx(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:b,unstable_useTransitions:C});function x(k){e&&e(k),k.defaultPrevented||I(k)}let N=V.createElement("a",{...S,...ce,href:Y||ie,onClick:W||c?e:x,ref:kx(O,oe),target:g,"data-discover":!U&&n==="render"?"true":void 0});return z&&!U?V.createElement(V.Fragment,null,N,V.createElement(Ox,{page:ie})):N});Re.displayName="Link";var Px=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},T){let b=Ec(d,{relative:y.relative}),S=xr(),O=V.useContext(Wh),{navigator:R,basename:C}=V.useContext(Jn),U=O!=null&&Kx(b)&&p===!0,Y=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,W=S.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),ie=ie?ie.toLowerCase():null,Y=Y.toLowerCase()),ie&&C&&(ie=_s(ie,C)||ie);const z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=W===Y||!l&&W.startsWith(Y)&&W.charAt(z)==="/",ce=ie!=null&&(ie===Y||!l&&ie.startsWith(Y)&&ie.charAt(Y.length)==="/"),I={isActive:oe,isPending:ce,isTransitioning:U},x=oe?e:void 0,N;typeof r=="function"?N=r(I):N=[r,oe?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(I):c;return V.createElement(Re,{...y,"aria-current":x,className:N,ref:T,style:k,to:d,viewTransition:p},typeof g=="function"?g(I):g)});Px.displayName="NavLink";var Ux=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:d=Eh,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...S},O)=>{let{unstable_useTransitions:R}=V.useContext(Jn),C=Fx(),U=Gx(p,{relative:y}),Y=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&tb.test(p),ie=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let oe=z.nativeEvent.submitter,ce=oe?.getAttribute("formmethod")||d,I=()=>C(oe||z.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:b});R&&n!==!1?V.startTransition(()=>I()):I()};return V.createElement("form",{ref:O,method:Y,action:U,onSubmit:r?g:ie,...S,"data-discover":!W&&s==="render"?"true":void 0})});Ux.displayName="Form";function zx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(s){let e=V.useContext(Cl);return dt(e,zx(s)),e}function Bx(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=jl(),y=xr(),T=Ec(s,{relative:c});return V.useCallback(b=>{if(_x(b,e)){b.preventDefault();let S=n!==void 0?n:cc(y)===cc(T),O=()=>g(s,{replace:S,state:r,preventScrollReset:l,relative:c,viewTransition:d});p?V.startTransition(()=>O()):O()}},[y,g,T,n,r,e,s,l,c,d,p])}var Hx=0,qx=()=>`__${String(++Hx)}__`;function Fx(){let{router:s}=nb("useSubmit"),{basename:e}=V.useContext(Jn),n=cx(),r=s.fetch,l=s.navigate;return V.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:T,body:b}=bx(c,e);if(d.navigate===!1){let S=d.fetcherKey||qx();await r(S,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function Gx(s,{relative:e}={}){let{basename:n}=V.useContext(Jn),r=V.useContext(yi);dt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...Ec(s||".",{relative:e})},d=xr();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ps([n,c.pathname])),cc(c)}function Kx(s,{relative:e}={}){let n=V.useContext(QT);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=nb("useViewTransitionState"),l=Ec(s,{relative:e});if(!n.isTransitioning)return!1;let c=_s(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=_s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(l.pathname,d)!=null||jh(l.pathname,c)!=null}const Qx=()=>{};var cE={};const ib=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Yx=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(S=64)),r.push(n[T],n[b],n[S],n[O])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ib(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Yx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new $x;const S=c<<2|p>>4;if(r.push(S),y!==64){const O=p<<4&240|y>>2;if(r.push(O),b!==64){const R=y<<6&192|b;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xx=function(s){const e=ib(s);return sb.encodeByteArray(e,!0)},Dh=function(s){return Xx(s).replace(/\./g,"")},rb=function(s){try{return sb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jx=()=>Wx().__FIREBASE_DEFAULTS__,Zx=()=>{if(typeof process>"u"||typeof cE>"u")return;const s=cE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eN=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&rb(s[1]);return e&&JSON.parse(e)},Zh=()=>{try{return Qx()||Jx()||Zx()||eN()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},ab=s=>Zh()?.emulatorHosts?.[s],tN=s=>{const e=ab(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lb=()=>Zh()?.config,ob=s=>Zh()?.[`_${s}`];class nN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(s){return(await fetch(s,{credentials:"include"})).ok}function iN(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(d)),""].join(".")}const nc={};function sN(){const s={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?s.emulator.push(e):s.prod.push(e);return s}function rN(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let uE=!1;function ub(s,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||nc[s]===e||nc[s]||uE)return;nc[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=sN().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{uE=!0,d()},S}function T(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=rN(r),O=n("text"),R=document.getElementById(O)||document.createElement("span"),C=n("learnmore"),U=document.getElementById(C)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;p(ie),T(U,C);const z=y();g(W,Y),ie.append(W,R,U,z),document.body.appendChild(ie)}c?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function aN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function lN(){const s=Zh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hN(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dN(){return!lN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function mN(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const pN="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=pN,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tc.prototype.create)}}class Tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?gN(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new As(l,p,r)}}function gN(s,e){return s.replace(yN,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const yN=/\{\$([^}]+)}/g;function vN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function vr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(hE(c)&&hE(d)){if(!vr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function hE(s){return s!==null&&typeof s=="object"}function bc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Xo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Wo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function _N(s,e){const n=new EN(s,e);return n.subscribe.bind(n)}class EN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Dm),l.error===void 0&&(l.error=Dm),l.complete===void 0&&(l.complete=Dm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Dm(){}function Vt(s){return s&&s._delegate?s._delegate:s}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const la="[DEFAULT]";class bN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new nN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AN(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:SN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SN(s){return s===la?void 0:s}function AN(s){return s.instantiationMode==="EAGER"}class wN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const xN={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},NN=Ue.INFO,RN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},CN=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=RN[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=NN,this._logHandler=CN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const IN=(s,e)=>e.some(n=>s instanceof n);let dE,fE;function jN(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DN(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,$m=new WeakMap,db=new WeakMap,Om=new WeakMap,jp=new WeakMap;function ON(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(dr(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&hb.set(n,s)}).catch(()=>{}),jp.set(e,s),e}function MN(s){if($m.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$m.set(s,e)}let Xm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return $m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||db.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return dr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VN(s){Xm=s(Xm)}function kN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Mm(this),e,...n);return db.set(r,e.sort?e.sort():[e]),dr(r)}:DN().includes(s)?function(...e){return s.apply(Mm(this),e),dr(hb.get(this))}:function(...e){return dr(s.apply(Mm(this),e))}}function LN(s){return typeof s=="function"?kN(s):(s instanceof IDBTransaction&&MN(s),IN(s,jN())?new Proxy(s,Xm):s)}function dr(s){if(s instanceof IDBRequest)return ON(s);if(Om.has(s))return Om.get(s);const e=LN(s);return e!==s&&(Om.set(s,e),jp.set(e,s)),e}const Mm=s=>jp.get(s);function PN(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=dr(d);return r&&d.addEventListener("upgradeneeded",g=>{r(dr(d.result),g.oldVersion,g.newVersion,dr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const UN=["get","getKey","getAll","getAllKeys","count"],zN=["put","add","delete","clear"],Vm=new Map;function mE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=zN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||UN.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Vm.set(e,c),c}VN(s=>({...s,get:(e,n,r)=>mE(e,n)||s.get(e,n,r),has:(e,n)=>!!mE(e,n)||s.has(e,n)}));class BN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function HN(s){return s.getComponent()?.type==="VERSION"}const Wm="@firebase/app",pE="0.14.6";const Es=new Ip("@firebase/app"),qN="@firebase/app-compat",FN="@firebase/analytics-compat",GN="@firebase/analytics",KN="@firebase/app-check-compat",QN="@firebase/app-check",YN="@firebase/auth",$N="@firebase/auth-compat",XN="@firebase/database",WN="@firebase/data-connect",JN="@firebase/database-compat",ZN="@firebase/functions",e1="@firebase/functions-compat",t1="@firebase/installations",n1="@firebase/installations-compat",i1="@firebase/messaging",s1="@firebase/messaging-compat",r1="@firebase/performance",a1="@firebase/performance-compat",l1="@firebase/remote-config",o1="@firebase/remote-config-compat",c1="@firebase/storage",u1="@firebase/storage-compat",h1="@firebase/firestore",d1="@firebase/ai",f1="@firebase/firestore-compat",m1="firebase",p1="12.6.0";const Jm="[DEFAULT]",g1={[Wm]:"fire-core",[qN]:"fire-core-compat",[GN]:"fire-analytics",[FN]:"fire-analytics-compat",[QN]:"fire-app-check",[KN]:"fire-app-check-compat",[YN]:"fire-auth",[$N]:"fire-auth-compat",[XN]:"fire-rtdb",[WN]:"fire-data-connect",[JN]:"fire-rtdb-compat",[ZN]:"fire-fn",[e1]:"fire-fn-compat",[t1]:"fire-iid",[n1]:"fire-iid-compat",[i1]:"fire-fcm",[s1]:"fire-fcm-compat",[r1]:"fire-perf",[a1]:"fire-perf-compat",[l1]:"fire-rc",[o1]:"fire-rc-compat",[c1]:"fire-gcs",[u1]:"fire-gcs-compat",[h1]:"fire-fst",[f1]:"fire-fst-compat",[d1]:"fire-vertex","fire-js":"fire-js",[m1]:"fire-js-all"};const Oh=new Map,y1=new Map,Zm=new Map;function gE(s,e){try{s.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function _l(s){const e=s.name;if(Zm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,s);for(const n of Oh.values())gE(n,s);for(const n of y1.values())gE(n,s);return!0}function Dp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function $n(s){return s==null?!1:s.settings!==void 0}const v1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fr=new Tc("app","Firebase",v1);class _1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fr.create("app-deleted",{appName:this._name})}}const Ml=p1;function fb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Jm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw fr.create("bad-app-name",{appName:String(l)});if(n||(n=lb()),!n)throw fr.create("no-options");const c=Oh.get(l);if(c){if(vr(n,c.options)&&vr(r,c.config))return c;throw fr.create("duplicate-app",{appName:l})}const d=new wN(l);for(const g of Zm.values())d.addComponent(g);const p=new _1(n,r,d);return Oh.set(l,p),p}function mb(s=Jm){const e=Oh.get(s);if(!e&&s===Jm&&lb())return fb();if(!e)throw fr.create("no-app",{appName:s});return e}function mr(s,e,n){let r=g1[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}_l(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const E1="firebase-heartbeat-database",T1=1,uc="firebase-heartbeat-store";let km=null;function pb(){return km||(km=PN(E1,T1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(s=>{throw fr.create("idb-open",{originalErrorMessage:s.message})})),km}async function b1(s){try{const n=(await pb()).transaction(uc),r=await n.objectStore(uc).get(gb(s));return await n.done,r}catch(e){if(e instanceof As)Es.warn(e.message);else{const n=fr.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function yE(s,e){try{const r=(await pb()).transaction(uc,"readwrite");await r.objectStore(uc).put(e,gb(s)),await r.done}catch(n){if(n instanceof As)Es.warn(n.message);else{const r=fr.create("idb-set",{originalErrorMessage:n?.message});Es.warn(r.message)}}}function gb(s){return`${s.name}!${s.options.appId}`}const S1=1024,A1=30;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=vE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>A1){const l=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vE(),{heartbeatsToSend:n,unsentEntries:r}=x1(this._heartbeatsCache.heartbeats),l=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function vE(){return new Date().toISOString().substring(0,10)}function x1(s,e=S1){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_E(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_E(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?mN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function _E(s){return Dh(JSON.stringify({version:2,heartbeats:s})).length}function R1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function C1(s){_l(new ca("platform-logger",e=>new BN(e),"PRIVATE")),_l(new ca("heartbeat",e=>new w1(e),"PRIVATE")),mr(Wm,pE,s),mr(Wm,pE,"esm2020"),mr("fire-js","")}C1("");function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I1=yb,vb=new Tc("auth","Firebase",yb());const Mh=new Ip("@firebase/auth");function j1(s,...e){Mh.logLevel<=Ue.WARN&&Mh.warn(`Auth (${Ml}): ${s}`,...e)}function bh(s,...e){Mh.logLevel<=Ue.ERROR&&Mh.error(`Auth (${Ml}): ${s}`,...e)}function mi(s,...e){throw Op(s,...e)}function Bi(s,...e){return Op(s,...e)}function _b(s,e,n){const r={...I1(),[e]:n};return new Tc("auth","Firebase",r).create(e,{appName:s.name})}function gs(s){return _b(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return vb.create(s,...e)}function be(s,e,...n){if(!s)throw Op(e,...n)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw bh(e),new Error(e)}function Ts(s,e){s||fs(e)}function ep(){return typeof self<"u"&&self.location?.href||""}function D1(){return EE()==="http:"||EE()==="https:"}function EE(){return typeof self<"u"&&self.location?.protocol||null}function O1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D1()||cN()||"connection"in navigator)?navigator.onLine:!0}function M1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Sc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=aN()||uN()}get(){return O1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Eb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const k1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L1=new Sc(3e4,6e4);function ws(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Qi(s,e,n,r,l={}){return Tb(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=bc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return oN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(y.credentials="include"),Eb.fetch()(await bb(s,s.config.apiHost,n,p),y)})}async function Tb(s,e,n){s._canInitEmulator=!1;const r={...V1,...e};try{const l=new U1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw mh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw mh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw mh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw mh(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _b(s,T,y);mi(s,T)}}catch(l){if(l instanceof As)throw l;mi(s,"network-request-failed",{message:String(l)})}}async function Ac(s,e,n,r,l={}){const c=await Qi(s,e,n,r,l);return"mfaPendingCredential"in c&&mi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function bb(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Mp(s.config,l):`${s.config.apiScheme}://${l}`;return k1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function P1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),L1.get())})}}function mh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Bi(s,e,r);return l.customData._tokenResponse=n,l}function TE(s){return s!==void 0&&s.enterprise!==void 0}class z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B1(s,e){return Qi(s,"GET","/v2/recaptchaConfig",ws(s,e))}async function H1(s,e){return Qi(s,"POST","/v1/accounts:delete",e)}async function Vh(s,e){return Qi(s,"POST","/v1/accounts:lookup",e)}function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q1(s,e=!1){const n=Vt(s),r=await n.getIdToken(e),l=Vp(r);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:ic(Lm(l.auth_time)),issuedAtTime:ic(Lm(l.iat)),expirationTime:ic(Lm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Lm(s){return Number(s)*1e3}function Vp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return bh("JWT malformed, contained fewer than 3 sections"),null;try{const l=rb(n);return l?JSON.parse(l):(bh("Failed to decode base64 JWT payload"),null)}catch(l){return bh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function bE(s){const e=Vp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function El(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof As&&F1(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function F1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class G1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function kh(s){const e=s.auth,n=await s.getIdToken(),r=await El(s,Vh(e,{idToken:n}));be(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Sb(l.providerUserInfo):[],d=Q1(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function K1(s){const e=Vt(s);await kh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q1(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function Sb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Y1(s,e){const n=await Tb(s,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await bb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(g.credentials="include"),Eb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $1(s,e){return Qi(s,"POST","/v2/accounts:revokeToken",ws(s,e))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await Y1(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new pl;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return fs("not implemented")}}function ar(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new G1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q1(this,e)}reload(){return K1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await El(this,H1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:O,providerData:R,stsTokenManager:C}=n;be(b&&C,e,"internal-error");const U=pl.fromJSON(this.name,C);be(typeof b=="string",e,"internal-error"),ar(r,e.name),ar(l,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),ar(c,e.name),ar(d,e.name),ar(p,e.name),ar(g,e.name),ar(y,e.name),ar(T,e.name);const Y=new hi({uid:b,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:O,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:T});return R&&Array.isArray(R)&&(Y.providerData=R.map(W=>({...W}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,r=!1){const l=new pl;l.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await kh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Sb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new pl;p.updateFromIdToken(r);const g=new hi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const SE=new Map;function ms(s){Ts(s instanceof Function,"Expected a class definition");let e=SE.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,SE.set(s,e),e)}class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ab.type="NONE";const AE=Ab;function Sh(s,e,n){return`firebase:${s}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Sh(this.userKey,l.apiKey,c),this.fullPersistenceKey=Sh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(ms(AE),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ms(AE);const d=Sh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const S=await Vh(e,{idToken:T}).catch(()=>{});if(!S)break;b=await hi._fromGetAccountInfoResponse(e,S,T)}else b=hi._fromJSON(e,T);y!==c&&(p=b),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new gl(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new gl(c,e,r))}}function wE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(jb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function wb(s=rn()){return/firefox\//i.test(s)}function xb(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(s=rn()){return/crios\//i.test(s)}function Rb(s=rn()){return/iemobile/i.test(s)}function Cb(s=rn()){return/android/i.test(s)}function Ib(s=rn()){return/blackberry/i.test(s)}function jb(s=rn()){return/webos/i.test(s)}function kp(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function X1(s=rn()){return kp(s)&&!!window.navigator?.standalone}function W1(){return hN()&&document.documentMode===10}function Db(s=rn()){return kp(s)||Cb(s)||jb(s)||Ib(s)||/windows phone/i.test(s)||Rb(s)}function Ob(s,e=[]){let n;switch(s){case"Browser":n=wE(rn());break;case"Worker":n=`${wE(rn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${r}`}class J1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Z1(s,e={}){return Qi(s,"GET","/v2/passwordPolicy",ws(s,e))}const eR=6;class tR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nR{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new J1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(gs(this));const n=e?Vt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z1(this),n=new tR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ms(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Nr(s){return Vt(s)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_N(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ed={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(s){ed=s}function Mb(s){return ed.loadJS(s)}function sR(){return ed.recaptchaEnterpriseScript}function rR(){return ed.gapiScript}function aR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class lR{constructor(){this.enterprise=new oR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cR="recaptcha-enterprise",Vb="NO_RECAPTCHA";class uR{constructor(e){this.type=cR,this.auth=Nr(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{B1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new z1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;TE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Vb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&TE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sR();g.length!==0&&(g+=p),Mb(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function NE(s,e,n,r=!1,l=!1){const c=new uR(s);let d;if(l)d=Vb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Lh(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NE(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await NE(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function hR(s,e){const n=Dp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(vr(c,e??{}))return l;mi(l,"already-initialized")}return n.initialize({options:e})}function dR(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function fR(s,e,n){const r=Nr(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=kb(e),{host:d,port:p}=mR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(vr(y,r.config.emulator)&&vr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Ol(d)?(cb(`${c}//${d}${g}`),ub("Auth",!0)):pR()}function kb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mR(s){const e=kb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:RE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:RE(d)}}}function RE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function gR(s,e){return Qi(s,"POST","/v1/accounts:signUp",e)}async function yR(s,e){return Ac(s,"POST","/v1/accounts:signInWithPassword",ws(s,e))}async function vR(s,e){return Qi(s,"POST","/v1/accounts:sendOobCode",ws(s,e))}async function _R(s,e){return vR(s,e)}async function ER(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}async function TR(s,e){return Ac(s,"POST","/v1/accounts:signInWithEmailLink",ws(s,e))}class hc extends Lp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new hc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,n,"signInWithPassword",yR);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Lh(e,r,"signUpPassword",gR);case"emailLink":return TR(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(s,e){return Ac(s,"POST","/v1/accounts:signInWithIdp",ws(s,e))}const bR="http://localhost";class ua extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ua(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bc(n)}return e}}function SR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AR(s){const e=Xo(Wo(s)).link,n=e?Xo(Wo(e)).deep_link_id:null,r=Xo(Wo(s)).deep_link_id;return(r?Xo(Wo(r)).link:null)||r||n||e||s}class Pp{constructor(e){const n=Xo(Wo(e)),r=n.apiKey??null,l=n.oobCode??null,c=SR(n.mode??null);be(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AR(e);try{return new Pp(n)}catch{return null}}}class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Pp.parseLink(n);return be(r,"argument-error"),hc._fromEmailAndCode(e,r.code,r.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wc extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class lr extends wc{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return or.credential(n,r)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class cr extends wc{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cr.credentialFromTaggedObject(e)}static credentialFromError(e){return cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cr.credential(e.oauthAccessToken)}catch{return null}}}cr.GITHUB_SIGN_IN_METHOD="github.com";cr.PROVIDER_ID="github.com";class ur extends wc{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ur.credentialFromTaggedObject(e)}static credentialFromError(e){return ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ur.credential(n,r)}catch{return null}}}ur.TWITTER_SIGN_IN_METHOD="twitter.com";ur.PROVIDER_ID="twitter.com";async function wR(s,e){return Ac(s,"POST","/v1/accounts:signUp",ws(s,e))}class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await hi._fromIdTokenResponse(e,r,l),d=CE(r);return new ha({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=CE(r);return new ha({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function CE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Ph extends As{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Ph(e,n,r,l)}}function Pb(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(s,c,e,r):c})}async function xR(s,e,n=!1){const r=await El(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ha._forOperation(s,"link",r)}async function NR(s,e,n=!1){const{auth:r}=s;if($n(r.app))return Promise.reject(gs(r));const l="reauthenticate";try{const c=await El(s,Pb(r,l,e,s),n);be(c.idToken,r,"internal-error");const d=Vp(c.idToken);be(d,r,"internal-error");const{sub:p}=d;return be(s.uid===p,r,"user-mismatch"),ha._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&mi(r,"user-mismatch"),c}}async function Ub(s,e,n=!1){if($n(s.app))return Promise.reject(gs(s));const r="signIn",l=await Pb(s,r,e),c=await ha._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function RR(s,e){return Ub(Nr(s),e)}async function zb(s){const e=Nr(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CR(s,e,n){const r=Nr(s);await Lh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_R)}async function IR(s,e,n){if($n(s.app))return Promise.reject(gs(s));const r=Nr(s),d=await Lh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zb(s),g}),p=await ha._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function jR(s,e,n){return $n(s.app)?Promise.reject(gs(s)):RR(Vt(s),Vl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&zb(s),r})}async function DR(s,e){return Qi(s,"POST","/v1/accounts:update",e)}async function OR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await El(r,DR(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function MR(s,e,n,r){return Vt(s).onIdTokenChanged(e,n,r)}function VR(s,e,n){return Vt(s).beforeAuthStateChanged(e,n)}function kR(s,e,n,r){return Vt(s).onAuthStateChanged(e,n,r)}function LR(s){return Vt(s).signOut()}const Uh="__sak";class Bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PR=1e3,UR=10;class Hb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);W1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UR):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const zR=Hb;class qb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Fb=qb;function BR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class td{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new td(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await BR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];function Up(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class HR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Up("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function qR(s){Hi().location.href=s}function Gb(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){return navigator?.serviceWorker?.controller||null}function KR(){return Gb()?self:null}const Kb="firebaseLocalStorageDb",QR=1,zh="firebaseLocalStorage",Qb="fbase_key";class xc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nd(s,e){return s.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function YR(){const s=indexedDB.deleteDatabase(Kb);return new xc(s).toPromise()}function np(){const s=indexedDB.open(Kb,QR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(zh,{keyPath:Qb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(zh)?e(r):(r.close(),await YR(),e(await np()))})})}async function IE(s,e,n){const r=nd(s,!0).put({[Qb]:e,value:n});return new xc(r).toPromise()}async function $R(s,e){const n=nd(s,!1).get(e),r=await new xc(n).toPromise();return r===void 0?null:r.value}function jE(s,e){const n=nd(s,!0).delete(e);return new xc(n).toPromise()}const XR=800,WR=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(KR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new HR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await IE(e,Uh,"1"),await jE(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>IE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$R(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=nd(l,!1).getAll();return new xc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const JR=Yb;new Sc(3e4,6e4);function ZR(s,e){return e?ms(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eC(s){return Ub(s.auth,new zp(s),s.bypassAuthState)}function tC(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),NR(n,new zp(s),s.bypassAuthState)}async function nC(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),xR(n,new zp(s),s.bypassAuthState)}class $b{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:mi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iC=new Sc(2e3,1e4);class fl extends $b{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iC.get())};e()}}fl.currentPopupAction=null;const sC="pendingRedirect",Ah=new Map;class rC extends $b{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const r=await aC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(s,e){const n=cC(e),r=oC(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function lC(s,e){Ah.set(s._key(),e)}function oC(s){return ms(s._redirectPersistence)}function cC(s){return Sh(sC,s.config.apiKey,s.name)}async function uC(s,e,n=!1){if($n(s.app))return Promise.reject(gs(s));const r=Nr(s),l=ZR(r,e),d=await new rC(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const hC=600*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Xb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Xb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(s);default:return!1}}async function mC(s,e={}){return Qi(s,"GET","/v1/projects",e)}const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await mC(s);for(const n of e)try{if(vC(n))return}catch{}mi(s,"unauthorized-domain")}function vC(s){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!gC.test(n))return!1;if(pC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const _C=new Sc(3e4,6e4);function OE(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function EC(s){return new Promise((e,n)=>{function r(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(Bi(s,"network-request-failed"))},timeout:_C.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)r();else{const l=aR("iframefcb");return Hi()[l]=()=>{gapi.load?r():n(Bi(s,"network-request-failed"))},Mb(`${rR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw wh=null,e})}let wh=null;function TC(s){return wh=wh||EC(s),wh}const bC=new Sc(5e3,15e3),SC="__/auth/iframe",AC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Mp(e,AC):`https://${s.config.authDomain}/${SC}`,r={apiKey:e.apiKey,appName:s.name,v:Ml},l=xC.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${bc(r).slice(1)}`}async function RC(s){const e=await TC(s),n=Hi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:NC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},bC.get());function g(){Hi().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,jC=600,DC="_blank",OC="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(s,e,n,r=IC,l=jC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...CC,width:r.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();n&&(p=Nb(y)?DC:n),wb(y)&&(e=e||OC,g.scrollbars="yes");const T=Object.entries(g).reduce((S,[O,R])=>`${S}${O}=${R},`,"");if(X1(y)&&p!=="_self")return VC(e||"",p),new ME(null);const b=window.open(e||"",p,T);be(b,s,"popup-blocked");try{b.focus()}catch{}return new ME(b)}function VC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const kC="__/auth/handler",LC="emulator/auth/handler",PC=encodeURIComponent("fac");async function VE(s,e,n,r,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Ml,eventId:l};if(e instanceof Lb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof wc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${PC}=${encodeURIComponent(g)}`:"";return`${UC(s)}?${bc(p).slice(1)}${y}`}function UC({config:s}){return s.emulator?Mp(s,LC):`https://${s.authDomain}/${kC}`}const Pm="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=uC,this._overrideRedirectResult=lC}async _openPopup(e,n,r,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await VE(e,n,r,ep(),l);return MC(e,c,Up())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await VE(e,n,r,ep(),l);return qR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RC(e),r=new dC(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},l=>{const c=l?.[0]?.[Pm];c!==void 0&&n(!!c),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Db()||xb()||kp()}}const BC=zC;var kE="@firebase/auth",LE="1.11.1";class HC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(s){_l(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(s)},y=new nR(r,l,c,g);return dR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),_l(new ca("auth-internal",e=>{const n=Nr(e.getProvider("auth").getImmediate());return(r=>new HC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(kE,LE,qC(s)),mr(kE,LE,"esm2020")}const GC=300,KC=ob("authIdTokenMaxAge")||GC;let PE=null;const QC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KC)return;const l=n?.token;PE!==l&&(PE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YC(s=mb()){const e=Dp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=hR(s,{popupRedirectResolver:BC,persistence:[JR,zR,Fb]}),r=ob("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=QC(c.toString());VR(n,d,()=>d(n.currentUser)),MR(n,p=>d(p))}}const l=ab("auth");return l&&fR(n,`http://${l}`),n}function $C(){return document.getElementsByTagName("head")?.[0]??document}iR({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Bi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",$C().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,Wb;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(k,M,B){for(var j=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)j[ae-2]=arguments[ae];return x.prototype[M].apply(k,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,N){N||(N=0);const k=Array(16);if(typeof x=="string")for(var M=0;M<16;++M)k[M]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(M=0;M<16;++M)k[M]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],M=I.g[2];let B=I.g[3],j;j=x+(B^N&(M^B))+k[0]+3614090360&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[1]+3905402710&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[2]+606105819&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[3]+3250441966&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[4]+4118548399&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[5]+1200080426&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[6]+2821735955&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[7]+4249261313&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[8]+1770035416&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[9]+2336552879&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[10]+4294925233&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[11]+2304563134&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(B^N&(M^B))+k[12]+1804603682&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(M^x&(N^M))+k[13]+4254626195&4294967295,B=x+(j<<12&4294967295|j>>>20),j=M+(N^B&(x^N))+k[14]+2792965006&4294967295,M=B+(j<<17&4294967295|j>>>15),j=N+(x^M&(B^x))+k[15]+1236535329&4294967295,N=M+(j<<22&4294967295|j>>>10),j=x+(M^B&(N^M))+k[1]+4129170786&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[6]+3225465664&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[11]+643717713&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[0]+3921069994&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[5]+3593408605&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[10]+38016083&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[15]+3634488961&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[4]+3889429448&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[9]+568446438&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[14]+3275163606&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[3]+4107603335&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[8]+1163531501&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(M^B&(N^M))+k[13]+2850285829&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^M&(x^N))+k[2]+4243563512&4294967295,B=x+(j<<9&4294967295|j>>>23),j=M+(x^N&(B^x))+k[7]+1735328473&4294967295,M=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(M^B))+k[12]+2368359562&4294967295,N=M+(j<<20&4294967295|j>>>12),j=x+(N^M^B)+k[5]+4294588738&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[8]+2272392833&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[11]+1839030562&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[14]+4259657740&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[1]+2763975236&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[4]+1272893353&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[7]+4139469664&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[10]+3200236656&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[13]+681279174&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[0]+3936430074&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[3]+3572445317&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[6]+76029189&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(N^M^B)+k[9]+3654602809&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^M)+k[12]+3873151461&4294967295,B=x+(j<<11&4294967295|j>>>21),j=M+(B^x^N)+k[15]+530742520&4294967295,M=B+(j<<16&4294967295|j>>>16),j=N+(M^B^x)+k[2]+3299628645&4294967295,N=M+(j<<23&4294967295|j>>>9),j=x+(M^(N|~B))+k[0]+4096336452&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[7]+1126891415&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[14]+2878612391&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[5]+4237533241&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[12]+1700485571&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[3]+2399980690&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[10]+4293915773&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[1]+2240044497&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[8]+1873313359&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[15]+4264355552&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[6]+2734768916&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[13]+1309151649&4294967295,N=M+(j<<21&4294967295|j>>>11),j=x+(M^(N|~B))+k[4]+4149444226&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~M))+k[11]+3174756917&4294967295,B=x+(j<<10&4294967295|j>>>22),j=M+(x^(B|~N))+k[2]+718787259&4294967295,M=B+(j<<15&4294967295|j>>>17),j=N+(B^(M|~x))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(M+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+B&4294967295}r.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,k=this.C;let M=this.h,B=0;for(;B<x;){if(M==0)for(;B<=N;)l(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(k[M++]=I.charCodeAt(B++),M==this.blockSize){l(this,k),M=0;break}}else for(;B<x;)if(k[M++]=I[B++],M==this.blockSize){l(this,k),M=0;break}}this.h=M,this.o+=x},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let k=0;k<32;k+=8)I[x++]=this.g[N]>>>k&255;return I};function c(I,x){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function d(I,x){this.h=x;const N=[];let k=!0;for(let M=I.length-1;M>=0;M--){const B=I[M]|0;k&&B==x||(N[M]=B,k=!1)}this.g=N}var p={};function g(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return U(y(-I));const x=[];let N=1;for(let k=0;I>=N;k++)x[k]=I/N|0,N*=4294967296;return new d(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return U(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let k=b;for(let B=0;B<I.length;B+=8){var M=Math.min(8,I.length-B);const j=parseInt(I.substring(B,B+M),x);M<8?(M=y(Math.pow(x,M)),k=k.j(M).add(y(j))):(k=k.j(N),k=k.add(y(j)))}return k}var b=g(0),S=g(1),O=g(16777216);s=d.prototype,s.m=function(){if(C(this))return-U(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const k=this.i(N);I+=(k>=0?k:4294967296+k)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(C(this))return"-"+U(this).toString(I);const x=y(Math.pow(I,6));var N=this;let k="";for(;;){const M=z(N,x).g;N=Y(N,M.j(x));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=M,R(N))return B+k;for(;B.length<6;)B="0"+B;k=B+k}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function C(I){return I.h==-1}s.l=function(I){return I=Y(this,I),C(I)?-1:R(I)?0:1};function U(I){const x=I.g.length,N=[];for(let k=0;k<x;k++)N[k]=~I.g[k];return new d(N,~I.h).add(S)}s.abs=function(){return C(this)?U(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let k=0;for(let M=0;M<=x;M++){let B=k+(this.i(M)&65535)+(I.i(M)&65535),j=(B>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);k=j>>>16,B&=65535,j&=65535,N[M]=j<<16|B}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(U(x))}s.j=function(I){if(R(this)||R(I))return b;if(C(this))return C(I)?U(this).j(U(I)):U(U(this).j(I));if(C(I))return U(this.j(U(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var k=0;k<2*x;k++)N[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<I.g.length;M++){const B=this.i(k)>>>16,j=this.i(k)&65535,ae=I.i(M)>>>16,ye=I.i(M)&65535;N[2*k+2*M]+=j*ye,W(N,2*k+2*M),N[2*k+2*M+1]+=B*ye,W(N,2*k+2*M+1),N[2*k+2*M+1]+=j*ae,W(N,2*k+2*M+1),N[2*k+2*M+2]+=B*ae,W(N,2*k+2*M+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new d(N,0)};function W(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ie(I,x){this.g=I,this.h=x}function z(I,x){if(R(x))throw Error("division by zero");if(R(I))return new ie(b,b);if(C(I))return x=z(U(I),x),new ie(U(x.g),U(x.h));if(C(x))return x=z(I,U(x)),new ie(U(x.g),x.h);if(I.g.length>30){if(C(I)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var N=S,k=x;k.l(I)<=0;)N=oe(N),k=oe(k);var M=ce(N,1),B=ce(k,1);for(k=ce(k,2),N=ce(N,2);!R(k);){var j=B.add(k);j.l(I)<=0&&(M=M.add(N),B=j),k=ce(k,1),N=ce(N,1)}return x=Y(I,M.j(x)),new ie(M,x)}for(M=b;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),k=Math.ceil(Math.log(N)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),B=y(N),j=B.j(x);C(j)||j.l(I)>0;)N-=k,B=y(N),j=B.j(x);R(B)&&(B=S),M=M.add(B),I=Y(I,j)}return new ie(M,I)}s.B=function(I){return z(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)&I.i(k);return new d(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)|I.i(k);return new d(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let k=0;k<x;k++)N[k]=this.i(k)^I.i(k);return new d(N,this.h^I.h)};function oe(I){const x=I.g.length+1,N=[];for(let k=0;k<x;k++)N[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(N,I.h)}function ce(I,x){const N=x>>5;x%=32;const k=I.g.length-N,M=[];for(let B=0;B<k;B++)M[B]=x>0?I.i(B+N)>>>x|I.i(B+N+1)<<32-x:I.i(B+N);return new d(M,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Wb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,pr=d}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jb,Jo,Zb,xh,ip,e0,t0,n0;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ph=="object"&&ph];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(h,v){if(v)e:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break e;E=E[F]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,$){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return v.prototype[F].apply(w,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function R(h,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const $=F.length||0;h.length=E+$;for(let le=0;le<$;le++)h[E+le]=F[le]}else h.push(F)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){d.setTimeout(()=>{throw h},0)}function Y(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,E){const w=ie.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new C(()=>new z,h=>h.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ce=!1,I=new W,x=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(N)}};function N(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){U(E)}var v=ie;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ce=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function ae(h,v){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(ae,M),ae.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),q=0;function re(h,v,E,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=F,this.key=++q,this.da=this.fa=!1}function ue(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ee(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Ae(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function L(h){const v={};for(const E in h)v[E]=h[E];return v}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let $=0;$<te.length;$++)E=te[$],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function me(h){this.src=h,this.g={},this.h=0}me.prototype.add=function(h,v,E,w,F){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const le=Oe(h,v,w,F);return le>-1?(v=h[le],E||(v.fa=!1)):(v=new re(v,this.src,$,!!w,F),v.fa=E,h.push(v)),v};function we(h,v){const E=v.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,v,void 0),$;($=F>=0)&&Array.prototype.splice.call(w,F,1),$&&(ue(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Oe(h,v,E,w){for(let F=0;F<h.length;++F){const $=h[F];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==w)return F}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(h,v,E,w,F){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ot(h,v[$],E,w,F);return null}return E=Fl(E),h&&h[ye]?h.J(v,E,p(w)?!!w.capture:!1,F):Ir(h,v,E,!1,w,F)}function Ir(h,v,E,w,F,$){if(!v)throw Error("Invalid event type");const le=p(F)?!!F.capture:!!F;let je=jr(h);if(je||(h[qe]=je=new me(h)),E=je.add(v,E,w,le,$),E.proxy)return E;if(w=_a(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)B||(F=le),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(vi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _a(){function h(E){return v.call(h.src,h.listener,E)}const v=Hl;return h}function Ea(h,v,E,w,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)Ea(h,v[$],E,w,F);else w=p(w)?!!w.capture:!!w,E=Fl(E),h&&h[ye]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=Oe(v,E,w,F),E>-1&&(ue(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=jr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Oe(v,E,w,F)),(E=h>-1?v[h]:null)&&Ta(E))}function Ta(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ye])we(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(vi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=jr(v))?(we(E,h),E.h==0&&(E.src=null,v[qe]=null)):ue(h)}}}function vi(h){return h in kt?kt[h]:kt[h]="on"+h}function Hl(h,v){if(h.da)h=!0;else{v=new ae(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&Ta(h),h=E.call(w,v)}return h}function jr(h){return h=h[qe],h instanceof me?h:null}var ql="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(h){return typeof h=="function"?h:(h[ql]||(h[ql]=function(v){return h.handleEvent(v)}),h[ql])}function St(){k.call(this),this.i=new me(this),this.M=this,this.G=null}b(St,k),St.prototype[ye]=!0,St.prototype.removeEventListener=function(h,v,E,w){Ea(this,h,v,E,w)};function Lt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new M(v,h);else if(v instanceof M)v.target=v.target||h;else{var F=v;v=new M(w,h),he(v,F)}F=!0;let $,le;if(E)for(le=E.length-1;le>=0;le--)$=v.g=E[le],F=Ns($,w,!0,v)&&F;if($=v.g=h,F=Ns($,w,!0,v)&&F,F=Ns($,w,!1,v)&&F,E)for(le=0;le<E.length;le++)$=v.g=E[le],F=Ns($,w,!1,v)&&F}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)ue(E[w]);delete h.g[v],h.h--}}this.G=null},St.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},St.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function Ns(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let $=0;$<v.length;++$){const le=v[$];if(le&&!le.da&&le.capture==E){const je=le.listener,_t=le.ha||le.src;le.fa&&we(h.i,le),F=je.call(_t,w)!==!1&&F}}return F&&!w.defaultPrevented}function wd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Pc(h){h.g=wd(()=>{h.g=null,h.i&&(h.i=!1,Pc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class on extends k{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Pc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(h){k.call(this),this.h=h,this.g={}}b(Dr,k);var Gl=[];function Kl(h){Ee(h.g,function(v,E){this.g.hasOwnProperty(E)&&Ta(v)},h),h.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),Kl(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=d.JSON.stringify,xd=d.JSON.parse,Uc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function zc(){}function Bc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){M.call(this,"d")}b(Qt,M);function Vn(){M.call(this,"c")}b(Vn,M);var vt={},Hc=null;function ba(){return Hc=Hc||new St}vt.Ia="serverreachability";function qc(h){M.call(this,vt.Ia,h)}b(qc,M);function _i(h){const v=ba();Lt(v,new qc(v))}vt.STAT_EVENT="statevent";function Or(h,v){M.call(this,vt.STAT_EVENT,h),this.stat=v}b(Or,M);function At(h){const v=ba();Lt(v,new Or(v,h))}vt.Ja="timingevent";function Ei(h,v){M.call(this,vt.Ja,h),this.size=v}b(Ei,M);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Nd(h,v,E,w,F,$){h.info(function(){if(h.g)if($){var le="",je=$.split("&");for(let Qe=0;Qe<je.length;Qe++){var _t=je[Qe].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Un=ct.split("_");le=Un.length>=2&&Un[1]=="type"?le+(ct+"="+_t+"&"):le+(ct+"=redacted&")}}}else le=null;else le=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+E+`
`+le})}function Fc(h,v,E,w,F,$,le){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+E+`
`+$+" "+le})}function bi(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rd(h,E)+(w?" "+w:"")})}function Mr(h,v){h.info(function(){return"TIMEOUT: "+v})}ei.prototype.info=function(){};function Rd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<w.length;le++)w[le]=""}}}}return Rs($)}catch{return v}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function kr(){}b(kr,zc),kr.prototype.g=function(){return new XMLHttpRequest},Yl=new kr;function Yi(h){return encodeURIComponent(String(h))}function Gc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ti(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function Si(h,v,E){h.M=1,h.A=Lr(Nt(v)),h.u=E,h.R=!0,Sa(h,null)}function Sa(h,v){h.F=Date.now(),Ai(h),h.B=Nt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Na(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ni,h.g=au(h.j,E?v:null,!h.u),h.P>0&&(h.O=new on(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Gl[0]=F.toString()),F=Gl);for(let $=0;$<F.length;$++){const le=ot(E,F[$],w||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.J?L(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),_i(),Nd(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const v=this.O;v&&ri(h)==3?v.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const je=ri(this.g),_t=this.g.ya(),Qe=this.g.ca();if(!(je<3)&&(je!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||je!=4||_t==7||(_t==8||Qe<=0?_i(3):_i(2)),wi(this);var v=this.g.ca();this.X=v;var E=Cd(this);if(this.o=v==200,Fc(this.i,this.v,this.B,this.l,this.S,je,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var $=w;break t}}$=null}if(h=$)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,At(12),An(this),kn(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=Qc(this,E),ct==Bt){je==4&&(this.m=4,At(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==wt){this.m=4,At(15),bi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ct,null),xi(this,ct);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),je!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),co(le),le.P=!0,At(11))}}else bi(this.i,this.l,E,null),xi(this,E);je==4&&An(this),this.o&&!this.K&&(je==4?nu(this.j,this):(this.o=!1,Ai(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),An(this),kn(this)}}}catch{}finally{}};function Cd(h){if(!Kc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let E="";const w=v.length,F=ri(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),kn(h),"";h.h.i=new d.TextDecoder}for(let $=0;$<w;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(F&&$==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Kc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Qc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Bt:(E=Number(v.substring(E,w)),isNaN(E)?wt:(w+=1,w+E>v.length?Bt:(v=v.slice(w,w+E),h.C=w+E,v)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ai(h){h.T=Date.now()+h.H,Aa(h,h.H)}function Aa(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(y(h.aa,h),v)}function wi(h){h.D&&(d.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Mr(this.i,this.B),this.M!=2&&(_i(),At(17)),An(this),this.m=2,kn(this)):Aa(this,this.T-h)};function kn(h){h.j.I==0||h.K||nu(h.j,h)}function An(h){wi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Kl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function xi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ri(E.h,h))){if(!h.L&&Ri(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Da(E),ks(E);else break e;Fr(E),At(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(y(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((h.L||E.g==h)&&Da(E),!j(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let Qe=F[v];const ct=Qe[0];if(!(ct<=E.K))if(E.K=ct,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const Un=Qe[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Vi=Qe[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const ai=Qe[5];ai!=null&&typeof ai=="number"&&ai>0&&(w=1.5*ai,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const li=h.g;if(li){const Gr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gr){var $=w.h;$.g||Gr.indexOf("spdy")==-1&&Gr.indexOf("quic")==-1&&Gr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Wl($,$.h),$.h=null))}if(w.G){const Oa=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Oa&&(w.wa=Oa,Xe(w.J,w.G,Oa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var le=h;if(w.na=ru(w,w.L?w.ba:null,w.W),le.L){Jl(w.h,le);var je=le,_t=w.O;_t&&(je.H=_t),je.D&&(wi(je),Ai(je)),w.g=le}else eu(w);E.i.length>0&&Oi(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Mi(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Mi(E,7):lo(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}_i(4)}catch{}}var xt=class{constructor(h,v){this.g=h,this.map=v}};function $l(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Ri(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Wl(h,v){h.g?h.g.add(v):h.h=v}function Jl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$l.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return O(h.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,$=null;w>=0?(F=h[E].substring(0,w),$=h[E].substring(w+1)):F=h[E],v(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof wn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.u),this.h=h.h,eo(this,Jc(h.i)),this.m=h.m):h&&(v=String(h).match(Yc))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Ci(v[2]||""),this.g=Ci(v[3]||"",!0),Cs(this,v[4]),this.h=Ci(v[5]||"",!0),eo(this,v[6]||"",!0),this.m=Ci(v[7]||"")):(this.l=!1,this.i=new js(null,this.l))}wn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Pr(v,xa,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pr(v,xa,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Pr(E,E.charAt(0)=="/"?to:$c,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Pr(E,Xc)),h.join("")},wn.prototype.resolve=function(h){const v=Nt(this);let E=!!h.j;E?Ht(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Cs(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let le=0;le<F.length;){const je=F[le++];je=="."?w&&le==F.length&&$.push(""):je==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&le==F.length&&$.push("")):($.push(je),w=!0)}w=$.join("/")}else w=F}return E?v.h=w:E=h.i.toString()!=="",E?eo(v,Jc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Nt(h){return new wn(h)}function Ht(h,v,E){h.j=E?Ci(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function eo(h,v,E){v instanceof js?(h.i=v,Ra(h.i,h.l)):(E||(v=Pr(v,Is)),h.i=new js(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function Lr(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,fn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function fn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xa=/[#\/\?@]/g,$c=/[#\?:]/g,to=/[#\?]/g,Is=/[#\?@]/g,Xc=/#/g;function js(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function mn(h){h.g||(h.g=new Map,h.h=0,h.i&&wa(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=js.prototype,s.add=function(h,v){mn(this),this.i=null,h=Ds(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Wc(h,v){mn(h),v=Ds(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function no(h,v){return mn(h),v=Ds(h,v),h.g.has(v)}s.forEach=function(h,v){mn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(v,F,w,this)},this)},this)};function io(h,v){mn(h);let E=[];if(typeof v=="string")no(h,v)&&(E=E.concat(h.g.get(Ds(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}s.set=function(h,v){return mn(this),this.i=null,h=Ds(this,h),no(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=io(this,h),h.length>0?String(h[0]):v):v};function Na(h,v,E){Wc(h,v),E.length>0&&(h.i=null,h.g.set(Ds(h,v),O(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const F=Yi(E);E=io(this,E);for(let $=0;$<E.length;$++){let le=F;E[$]!==""&&(le+="="+Yi(E[$])),h.push(le)}}return this.i=h.join("&")};function Jc(h){const v=new js;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Ds(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Ra(h,v){v&&!h.j&&(mn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(Wc(this,w),Na(this,F,E))},h)),h.j=v}function ii(h,v){const E=new ei;if(d.Image){const w=new Image;w.onload=T(Ln,E,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Ln,E,"TestLoadImage: error",!1,v,w),w.onabort=T(Ln,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Ln,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function so(h,v){const E=new ei,w=new AbortController,F=setTimeout(()=>{w.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Ln(E,"TestPingServer: error",!1,v)})}function Ln(h,v,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function Os(){this.g=new Uc}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ii,zc),Ii.prototype.g=function(){return new Ur(this.i,this.h)};function Ur(h,v){St.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ur,St),s=Ur.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ms(this):si(this),this.readyState==3&&Ca(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Ms(this))},s.Na=function(h){this.g&&(this.response=h,Ms(this))},s.ga=function(){this.g&&Ms(this)};function Ms(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ur.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let v="";return Ee(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function zr(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Pn(E),typeof h=="string"?E!=null&&Yi(E):Xe(h,v,E))}function Ze(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,St);var ji=/^https?$/i,ro=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Br(this,$);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(ro,v,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of E)this.g.setRequestHeader($,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Br(this,$)}};function Br(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ao(h),$i(h)}function ao(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Hr(this):this.Xa())},s.Xa=function(){Hr(this)};function Hr(h){if(h.h&&typeof c<"u"){if(h.v&&ri(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ri(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=$===0){let le=String(h.D).match(Yc)[1]||null;!le&&d.self&&d.self.location&&(le=d.self.location.protocol.slice(0,-1)),w=!ji.test(le?le.toLowerCase():"")}E=w}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var F=ri(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",ao(h)}}finally{$i(h)}}}}function $i(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ri(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xd(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const v={};h=(h.g&&ri(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(j(h[w]))continue;var E=Gc(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[F]||[];v[F]=$,$.push(E)}Ae(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Vs(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new Os,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Vs.prototype,s.ka=8,s.I=1,s.connect=function(h,v,E,w){At(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=ru(this,null,this.W),Oi(this)};function lo(h){if(Ia(h),h.I==3){var v=h.V++,E=Nt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),qr(h,E),v=new ti(h,h.j,v),v.M=2,v.A=Lr(Nt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=au(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}su(h)}function ks(h){h.g&&(co(h),h.g.cancel(),h.g=null)}function Ia(h){ks(h),h.v&&(d.clearTimeout(h.v),h.v=null),Da(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Oi(h){if(!Xl(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||x(),ce||(oe(),ce=!0),I.add(v,h),h.D=0}}function ja(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(y(h.Ea,h,v),iu(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ti(this,this.j,h);let $=this.o;if(this.U&&($?($=L($),he($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Zc(this,F,v),E=Nt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),qr(this,E),$&&(this.R?v="headers="+Yi(Pn($))+"&"+v:this.u&&zr(E,this.u,$)),Wl(this.h,F),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),F.U=!0,Si(F,E,null)):Si(F,E,v),this.I=2}}else this.I==3&&(h?oo(this,h):this.i.length==0||Xl(this.h)||oo(this))};function oo(h,v){var E;v?E=v.l:E=h.V++;const w=Nt(h.J);Xe(w,"SID",h.M),Xe(w,"RID",E),Xe(w,"AID",h.K),qr(h,w),h.u&&h.o&&zr(w,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Zc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wl(h.h,E),Si(E,w,v)}function qr(h,v){h.H&&Ee(h.H,function(E,w){Xe(v,w,E)}),h.l&&Ee({},function(E,w){Xe(v,w,E)})}function Zc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var F=h.i;let je=-1;for(;;){const _t=["count="+E];je==-1?E>0?(je=F[0].g,_t.push("ofs="+je)):je=0:_t.push("ofs="+je);let Qe=!0;for(let ct=0;ct<E;ct++){var $=F[ct].g;const Un=F[ct].map;if($-=je,$<0)je=Math.max(0,F[ct].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var le=Un instanceof Map?Un:Object.entries(Un);for(const[Vi,ai]of le){let li=ai;p(ai)&&(li=Rs(ai)),_t.push($+Vi+"="+encodeURIComponent(li))}}catch(Vi){throw _t.push($+"type="+encodeURIComponent("_badmap")),Vi}}catch{w&&w(Un)}}if(Qe){le=_t.join("&");break e}}le=void 0}return h=h.i.splice(0,E),v.G=h,le}function eu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||x(),ce||(oe(),ce=!0),I.add(v,h),h.A=0}}function Fr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(y(h.Da,h),iu(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,tu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),ks(this),tu(this))};function co(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function tu(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Nt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),qr(h,v),h.u&&h.o&&zr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Lr(Nt(v)),E.u=null,E.R=!0,Sa(E,h)}s.Va=function(){this.C!=null&&(this.C=null,ks(this),Fr(this),At(19))};function Da(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function nu(h,v){var E=null;if(h.g==v){Da(h),co(h),h.g=null;var w=2}else if(Ri(h.h,v))E=v.G,Jl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;w=ba(),Lt(w,new Ei(w,E)),Oi(h)}else eu(h);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&ja(h,v)||w==2&&Fr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),F){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function iu(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const F=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(w,"https"),Lr(w),F?ii(w.toString(),E):so(w.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(v),su(h),Ia(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function su(h){if(h.I=0,h.ja=[],h.l){const v=Zl(h.h);(v.length!=0||h.i.length!=0)&&(R(h.ja,v),R(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function ru(h,v,E){var w=E instanceof wn?Nt(E):new wn(E);if(w.g!="")v&&(w.g=v+"."+w.g),Cs(w,w.u);else{var F=d.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const $=new wn(null);w&&Ht($,w),v&&($.g=v),F&&Cs($,F),E&&($.h=E),w=$}return E=h.G,v=h.wa,E&&v&&Xe(w,E,v),Xe(w,"VER",h.ka),qr(h,w),w}function au(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Ii({ab:E})):new Ze(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function lu(){}s=lu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ls(){}Ls.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){St.call(this),this.g=new Vs(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wi(this)}b(cn,St),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){lo(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Rs(h),h=E);v.i.push(new xt(v.Ya++,h)),v.I==3&&Oi(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,cn.Z.N.call(this)};function ou(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(ou,Qt);function cu(){Vn.call(this),this.status=1}b(cu,Vn);function Wi(h){this.g=h}b(Wi,lu),Wi.prototype.ra=function(){Lt(this.g,"a")},Wi.prototype.qa=function(h){Lt(this.g,new ou(h))},Wi.prototype.pa=function(h){Lt(this.g,new cu)},Wi.prototype.oa=function(){Lt(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,n0=function(){return new Ls},t0=function(){return ba()},e0=vt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,xh=Vr,Ql.COMPLETE="complete",Zb=Ql,Bc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.J,Jo=Bc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Jb=Ze}).apply(typeof ph<"u"?ph:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",BE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let kl="12.3.0";const da=new Ip("@firebase/firestore");function cl(){return da.logLevel}function fe(s,...e){if(da.logLevel<=Ue.DEBUG){const n=e.map(Bp);da.debug(`Firestore (${kl}): ${s}`,...n)}}function bs(s,...e){if(da.logLevel<=Ue.ERROR){const n=e.map(Bp);da.error(`Firestore (${kl}): ${s}`,...n)}}function fa(s,...e){if(da.logLevel<=Ue.WARN){const n=e.map(Bp);da.warn(`Firestore (${kl}): ${s}`,...n)}}function Bp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,i0(s,r,n)}function i0(s,e,n){let r=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw bs(r),new Error(r)}function $e(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||i0(e,l,r)}function Ce(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new s0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class JC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new JC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class id{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=tI(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function sp(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Um(l)===Um(c)?ze(l,c):Um(l)?1:-1}return ze(s.length,e.length)}const nI=55296,iI=57343;function Um(s){const e=s.charCodeAt(0);return e>=nI&&e<=iI}function Tl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const qE="__name__";class zi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=zi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const r=zi.isNumericId(e),l=zi.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?zi.extractNumericId(e).compare(zi.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pr.fromString(e.substring(4,e.length-2))}}class st extends zi{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends zi{construct(e,n,r){return new Gt(e,n,r)}static isValidIdentifier(e){return sI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Gt([qE])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}function a0(s,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function l0(s,e,n,r){if(e===!0&&r===!0)throw new de(ee.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function FE(s){if(!ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function GE(s){if(ve.isDocumentKey(s))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function o0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function sd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function hn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(s);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Nc(s,e){if(!o0(s))throw new de(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new de(ee.INVALID_ARGUMENT,n);return!0}const KE=-62135596800,QE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*QE);return new rt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function rI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(r===1e9?new rt(n+1,0):new rt(n,r));return new _r(l,ve.empty(),e)}function aI(s){return new _r(s.readTime,s.key,dc)}class _r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _r(xe.min(),ve.empty(),dc)}static max(){return new _r(xe.max(),ve.empty(),dc)}}function lI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==oI)throw s;fe("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((l=>l?se.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new se(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function uI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(s){return s.name==="IndexedDbTransactionError"}class rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rd.ce=-1;const Hp=-1;function ad(s){return s==null}function Bh(s){return s===0&&1/s==-1/0}function hI(s){return typeof s=="number"&&Number.isInteger(s)&&!Bh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const c0="";function dI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=YE(e)),e=fI(s.get(n),e);return YE(e)}function fI(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case c0:n+="";break;default:n+=c}}return n}function YE(s){return s+c0+""}function $E(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Rr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function u0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gh(this.root,e,this.comparator,!1)}getReverseIterator(){return new gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gh(this.root,e,this.comparator,!0)}}class gh{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Zt.RED,this.left=l??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Zt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Zt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new zt(Gt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new h0("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(s){if($e(!!s,39018),typeof s=="string"){let e=0;const n=mI.exec(s);if($e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Tr(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const d0="server_timestamp",f0="__type__",m0="__previous_value__",p0="__local_write_time__";function qp(s){return(s?.mapValue?.fields||{})[f0]?.stringValue===d0}function ld(s){const e=s.mapValue.fields[m0];return qp(e)?ld(e):e}function fc(s){const e=Er(s.mapValue.fields[p0].timestampValue);return new rt(e.seconds,e.nanos)}class pI{constructor(e,n,r,l,c,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Hh="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}const g0="__type__",gI="__max__",yh={mapValue:{}},y0="__vector__",qh="value";function br(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qp(s)?4:vI(s)?9007199254740991:yI(s)?10:11:Se(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const n=br(s);if(n!==br(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return fc(s).isEqual(fc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Er(l.timestampValue),p=Er(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return Tr(l.bytesValue).isEqual(Tr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return bt(l.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(l.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return bt(l.integerValue)===bt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=bt(l.doubleValue),p=bt(c.doubleValue);return d===p?Bh(d)===Bh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Tl(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if($E(d)!==$E(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Gi(d[g],p[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function mc(s,e){return(s.values||[]).find((n=>Gi(n,e)))!==void 0}function Sl(s,e){if(s===e)return 0;const n=br(s),r=br(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=bt(c.integerValue||c.doubleValue),g=bt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return WE(s.timestampValue,e.timestampValue);case 4:return WE(fc(s),fc(e));case 5:return sp(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=Tr(c),g=Tr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ze(p[y],g[y]);if(T!==0)return T}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(bt(c.latitude),bt(d.latitude));return p!==0?p:ze(bt(c.longitude),bt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return JE(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[qh]?.arrayValue,T=g[qh]?.arrayValue,b=ze(y?.values?.length||0,T?.values?.length||0);return b!==0?b:JE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===yh.mapValue&&d===yh.mapValue)return 0;if(c===yh.mapValue)return 1;if(d===yh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const S=sp(g[b],T[b]);if(S!==0)return S;const O=Sl(p[g[b]],y[T[b]]);if(O!==0)return O}return ze(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function WE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=Er(s),r=Er(e),l=ze(n.seconds,r.seconds);return l!==0?l:ze(n.nanos,r.nanos)}function JE(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=Sl(n[l],r[l]);if(c)return c}return ze(n.length,r.length)}function Al(s){return rp(s)}function rp(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return Tr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=rp(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${rp(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Nh(s){switch(br(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ld(s);return e?16+Nh(e):16;case 5:return 2*s.stringValue.length;case 6:return Tr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Nh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Rr(r.fields,((c,d)=>{l+=c.length+Nh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function ZE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function ap(s){return!!s&&"integerValue"in s}function Fp(s){return!!s&&"arrayValue"in s}function eT(s){return!!s&&"nullValue"in s}function tT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Rh(s){return!!s&&"mapValue"in s}function yI(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===y0}function sc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Rr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=sc(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(s.arrayValue.values[n]);return e}return{...s}}function vI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=Gt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=sc(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Rr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new Tn(sc(this.value))}}function v0(s){const e=[];return Rr(s.fields,((n,r)=>{const l=new Gt([n]);if(Rh(r)){const c=v0(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Mn(e)}class sn{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,xe.min(),xe.min(),xe.min(),Tn.empty(),0)}static newFoundDocument(e,n,r,l){return new sn(e,1,n,xe.min(),r,l,0)}static newNoDocument(e,n){return new sn(e,2,n,xe.min(),xe.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,xe.min(),xe.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function nT(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=ve.comparator(ve.fromName(d.referenceValue),n.key):r=Sl(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Gi(s.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _I(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class _0{}class Ot extends _0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TI(e,n,r):n==="array-contains"?new AI(e,r):n==="in"?new wI(e,r):n==="not-in"?new xI(e,r):n==="array-contains-any"?new NI(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new bI(e,r):new SI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&br(this.value)===br(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends _0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pi(e,n)}matches(e){return E0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(s){return s.op==="and"}function T0(s){return EI(s)&&E0(s)}function EI(s){for(const e of s.filters)if(e instanceof pi)return!1;return!0}function lp(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Al(s.value);if(T0(s))return s.filters.map((e=>lp(e))).join(",");{const e=s.filters.map((n=>lp(n))).join(",");return`${s.op}(${e})`}}function b0(s,e){return s instanceof Ot?(function(r,l){return l instanceof Ot&&r.op===l.op&&r.field.isEqual(l.field)&&Gi(r.value,l.value)})(s,e):s instanceof pi?(function(r,l){return l instanceof pi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&b0(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function S0(s){return s instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(s):s instanceof pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(S0).join(" ,")+"}"})(s):"Filter"}class TI extends Ot{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class bI extends Ot{constructor(e,n){super(e,"in",n),this.keys=A0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=A0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function A0(s,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class AI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&mc(n.arrayValue,this.value)}}class wI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class xI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class NI extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>mc(this.value.arrayValue,r)))}}class RI{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function sT(s,e=null,n=[],r=[],l=null,c=null,d=null){return new RI(s,e,n,r,l,c,d)}function Gp(s){const e=Ce(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>lp(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ad(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Al(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Al(r))).join(",")),e.Te=n}return e.Te}function Kp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!_I(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!b0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!iT(s.startAt,e.startAt)&&iT(s.endAt,e.endAt)}function op(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ul{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CI(s,e,n,r,l,c,d,p){return new Ul(s,e,n,r,l,c,d,p)}function od(s){return new Ul(s)}function rT(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w0(s){return s.collectionGroup!==null}function rc(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Gt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,r))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new pc(Gt.keyField(),r))}return e.Ie}function qi(s){const e=Ce(s);return e.Ee||(e.Ee=II(e,rc(s))),e.Ee}function II(s,e){if(s.limitType==="F")return sT(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new pc(l.field,c)}));const n=s.endAt?new Fh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Fh(s.startAt.position,s.startAt.inclusive):null;return sT(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function cp(s,e){const n=s.filters.concat([e]);return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function up(s,e,n){return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function cd(s,e){return Kp(qi(s),qi(e))&&s.limitType===e.limitType}function x0(s){return`${Gp(qi(s))}|lt:${s.limitType}`}function ul(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>S0(l))).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>Al(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>Al(l))).join(",")),`Target(${r})`})(qi(s))}; limitType=${s.limitType})`}function ud(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ve.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of rc(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,rc(r),l)||r.endAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,rc(r),l))})(s,e)}function jI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N0(s){return(e,n)=>{let r=!1;for(const l of rc(s)){const c=DI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function DI(s,e,n){const r=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Sl(g,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Rr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}const OI=new mt(ve.comparator);function Ss(){return OI}const R0=new mt(ve.comparator);function Zo(...s){let e=R0;for(const n of s)e=e.insert(n.key,n);return e}function C0(s){let e=R0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function oa(){return ac()}function I0(){return ac()}function ac(){return new ga((s=>s.toString()),((s,e)=>s.isEqual(e)))}const MI=new mt(ve.comparator),VI=new zt(ve.comparator);function Be(...s){let e=VI;for(const n of s)e=e.add(n);return e}const kI=new zt(ze);function LI(){return kI}function Qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function j0(s){return{integerValue:""+s}}function D0(s,e){return hI(e)?j0(e):Qp(s,e)}class hd{constructor(){this._=void 0}}function PI(s,e,n){return s instanceof gc?(function(l,c){const d={fields:{[f0]:{stringValue:d0},[p0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qp(c)&&(c=ld(c)),c&&(d.fields[m0]=c),{mapValue:d}})(n,e):s instanceof wl?M0(s,e):s instanceof yc?V0(s,e):(function(l,c){const d=O0(l,c),p=aT(d)+aT(l.Ae);return ap(d)&&ap(l.Ae)?j0(p):Qp(l.serializer,p)})(s,e)}function UI(s,e,n){return s instanceof wl?M0(s,e):s instanceof yc?V0(s,e):n}function O0(s,e){return s instanceof vc?(function(r){return ap(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class gc extends hd{}class wl extends hd{constructor(e){super(),this.elements=e}}function M0(s,e){const n=k0(e);for(const r of s.elements)n.some((l=>Gi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class yc extends hd{constructor(e){super(),this.elements=e}}function V0(s,e){let n=k0(e);for(const r of s.elements)n=n.filter((l=>!Gi(l,r)));return{arrayValue:{values:n}}}class vc extends hd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function aT(s){return bt(s.integerValue||s.doubleValue)}function k0(s){return Fp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Yp{constructor(e,n){this.field=e,this.transform=n}}function zI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof wl&&l instanceof wl||r instanceof yc&&l instanceof yc?Tl(r.elements,l.elements,Gi):r instanceof vc&&l instanceof vc?Gi(r.Ae,l.Ae):r instanceof gc&&l instanceof gc})(s.transform,e.transform)}class BI{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ch(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class dd{}function L0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $p(s.key,Xn.none()):new Rc(s.key,s.data,Xn.none());{const n=s.data,r=Tn.empty();let l=new zt(Gt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Cr(s.key,r,new Mn(l.toArray()),Xn.none())}}function HI(s,e,n){s instanceof Rc?(function(l,c,d){const p=l.value.clone(),g=oT(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Cr?(function(l,c,d){if(!Ch(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=oT(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(P0(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function lc(s,e,n,r){return s instanceof Rc?(function(c,d,p,g){if(!Ch(c.precondition,d))return p;const y=c.value.clone(),T=cT(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Cr?(function(c,d,p,g){if(!Ch(c.precondition,d))return p;const y=cT(c.fieldTransforms,g,d),T=d.data;return T.setAll(P0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(c,d,p){return Ch(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function qI(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=O0(r.transform,l||null);c!=null&&(n===null&&(n=Tn.empty()),n.set(r.field,c))}return n||null}function lT(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Tl(r,l,((c,d)=>zI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Rc extends dd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Cr extends dd{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function P0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function oT(s,e,n){const r=new Map;$e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,UI(d,p,n[l]))}return r}function cT(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,PI(c,d,e))}return r}class $p extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends dd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&HI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=I0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=L0(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,r)=>lT(n,r)))&&Tl(this.baseMutations,e.baseMutations,((n,r)=>lT(n,r)))}}class Xp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return MI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Xp(e,n,r,l)}}class KI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,Fe;function YI(s){switch(s){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function U0(s){if(s===void 0)return bs("GRPC error has no .code"),ee.UNKNOWN;switch(s){case Dt.OK:return ee.OK;case Dt.CANCELLED:return ee.CANCELLED;case Dt.UNKNOWN:return ee.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ee.INTERNAL;case Dt.UNAVAILABLE:return ee.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ee.NOT_FOUND;case Dt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dt.ABORTED:return ee.ABORTED;case Dt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dt.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:s})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const XI=new pr([4294967295,4294967295],0);function uT(s){const e=$I().encode(s),n=new Wb;return n.update(e),new Uint8Array(n.digest())}function hT(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new pr([n,r],0),new pr([l,c],0)]}class Wp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(r<0)throw new ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(pr.fromNumber(r)));return l.compare(XI)===1&&(l=new pr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[r,l]=hT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Wp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=uT(e),[r,l]=hT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fd{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new fd(xe.min(),l,new mt(ze),Ss(),Be())}}class Cc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cc(r,n,Be(),Be(),Be())}}class Ih{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class z0{constructor(e,n){this.targetId=e,this.Ce=n}}class B0{constructor(e,n,r=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class dT{constructor(){this.ve=0,this.Fe=fT(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new Cc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=vh(),this.He=vh(),this.Ye=new mt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(op(c))if(r===0){const d=new ve(c.path);this.et(n,d,sn.newNoDocument(d,xe.min()))}else $e(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=Tr(r).toUint8Array()}catch(g){if(g instanceof h0)return fa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wp(d,l,c)}catch(g){return fa(g instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&op(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new fd(e,n,this.Ye,this.je,r);return this.je=Ss(),this.Je=vh(),this.He=vh(),this.Ye=new mt(ze),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vh(){return new mt(ve.comparator)}function fT(){return new mt(ve.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ej={and:"AND",or:"OR"};class tj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(s,e){return s.useProto3Json||ad(e)?e:{value:e}}function Gh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function nj(s,e){return Gh(s,e.toTimestamp())}function Fi(s){return $e(!!s,49232),xe.fromTimestamp((function(n){const r=Er(n);return new rt(r.seconds,r.nanos)})(s))}function Jp(s,e){return dp(s,e).canonicalString()}function dp(s,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function q0(s){const e=st.fromString(s);return $e(Y0(e),10190,{key:e.toString()}),e}function fp(s,e){return Jp(s.databaseId,e.path)}function zm(s,e){const n=q0(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(G0(n))}function F0(s,e){return Jp(s.databaseId,e)}function ij(s){const e=q0(s);return e.length===4?st.emptyPath():G0(e)}function mp(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function G0(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mT(s,e,n){return{name:fp(s,e),fields:n.value.mapValue.fields}}function sj(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ee.UNKNOWN:U0(y.code);return new de(T,y.message||"")})(d);n=new B0(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=zm(s,r.document.name),c=Fi(r.document.updateTime),d=r.document.createTime?Fi(r.document.createTime):xe.min(),p=new Tn({mapValue:{fields:r.document.fields}}),g=sn.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Ih(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=zm(s,r.document),c=r.readTime?Fi(r.readTime):xe.min(),d=sn.newNoDocument(l,c),p=r.removedTargetIds||[];n=new Ih([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=zm(s,r.document),c=r.removedTargetIds||[];n=new Ih([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new QI(l,c),p=r.targetId;n=new z0(p,d)}}return n}function rj(s,e){let n;if(e instanceof Rc)n={update:mT(s,e.key,e.value)};else if(e instanceof $p)n={delete:fp(s,e.key)};else if(e instanceof Cr)n={update:mT(s,e.key,e.data),updateMask:mj(e.fieldMask)};else{if(!(e instanceof FI))return Se(16599,{Vt:e.type});n={verify:fp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nj(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function aj(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(xe.min())&&(d=Fi(c)),new BI(d,l.transformResults||[])})(n,e)))):[]}function lj(s,e){return{documents:[F0(s,e.path)]}}function oj(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=F0(s,l);const c=(function(y){if(y.length!==0)return Q0(pi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:hl(S.field),direction:hj(S.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=hp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function cj(s){let e=ij(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){$e(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const S=K0(b);return S instanceof pi&&T0(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((S=>(function(R){return new pc(dl(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let S;return S=typeof b=="object"?b.value:b,ad(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,O=b.values||[];return new Fh(O,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,O=b.values||[];return new Fh(O,S)})(n.endAt)),CI(e,l,d,c,p,"F",g,y)}function uj(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=dl(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=dl(n.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=dl(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=dl(n.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ot.create(dl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return pi.create(n.compositeFilter.filters.map((r=>K0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function hj(s){return JI[s]}function dj(s){return ZI[s]}function fj(s){return ej[s]}function hl(s){return{fieldPath:s.canonicalString()}}function dl(s){return Gt.fromServerFormat(s.fieldPath)}function Q0(s){return s instanceof Ot?(function(n){if(n.op==="=="){if(tT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(eT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(eT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:dj(n.op),value:n.value}}})(s):s instanceof pi?(function(n){const r=n.getFilters().map((l=>Q0(l)));return r.length===1?r[0]:{compositeFilter:{op:fj(n.op),filters:r}}})(s):Se(54877,{filter:s})}function mj(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class hr{constructor(e,n,r,l,c=xe.min(),d=xe.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pj{constructor(e){this.yt=e}}function gj(s){const e=cj({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?up(e,e.limit,"L"):e}class yj{constructor(){this.Cn=new vj}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(_r.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(_r.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class vj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new zt(st.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$0=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En($0,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}const gT="LruGarbageCollector",_j=1048576;function yT([s,e],[n,r]){const l=ze(s,n);return l===0?ze(e,r):l}class Ej{constructor(e){this.Ir=e,this.buffer=new zt(yT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();yT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(gT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?fe(gT,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class bj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(rd.ce);const r=new Ej(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(pT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),cl()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Sj(s,e){return new bj(s,e)}class Aj{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xj{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&lc(r.mutation,l,Mn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const l=oa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Zo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=oa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=Ss();const d=ac(),p=(function(){return ac()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Cr)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),lc(T.mutation,y,T.mutation.getFieldMask(),rt.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new wj(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=ac();let l=new mt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Mn.empty();T=p.applyToLocalView(y,T),r.set(g,T);const b=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=I0();T.forEach((S=>{if(!c.has(S)){const O=L0(n.get(S),r.get(S));O!==null&&b.set(S,O),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return se.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):se.resolve(oa());let p=dc,g=c;return d.next((y=>se.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{g=g.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((T=>({batchId:p,changes:C0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let l=Zo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Zo();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(g=>{const y=(function(b,S){return new Ul(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))}));let p=Zo();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&lc(T.mutation,y,Mn.empty(),rt.now()),ud(n,y)&&(p=p.insert(g,y))})),p}))}}class Nj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:gj(l.bundledQuery),readTime:Fi(l.readTime)}})(n)),se.resolve()}}class Rj{constructor(){this.overlays=new mt(ve.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=oa();return se.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const l=oa(),c=n.length+1,d=new ve(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new mt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=oa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=oa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return se.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new KI(n,r));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class Cj{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Zp{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new st([])),r=new Ft(n,e),l=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new st([])),r=new Ft(n,e),l=new Ft(n,e+1);let c=Be();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class Ij{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GI(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Hp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(ze);return n.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;ve.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new ve(c),0);let p=new zt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(l=>{const c=new Ft(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ft(n,0),l=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jj{constructor(e){this.ri=e,this.docs=(function(){return new mt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ss();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=Ss();const d=n.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lI(aI(T),r)<=0||(l.has(T.key)||ud(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Se(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Dj(this)}getSize(e){return se.resolve(this.size)}}class Dj extends Aj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Oj{constructor(e){this.persistence=e,this.si=new ga((n=>Gp(n)),Kp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),se.waitFor(c).next((()=>l))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class X0{constructor(e,n){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new Cj,this.referenceDelegate=e(this),this.Pi=new Oj(this),this.indexManager=new yj,this.remoteDocumentCache=(function(l){return new jj(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new pj(n),this.Ii=new Nj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Ij(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const l=new Mj(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Mj extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const l=ve.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.pi=new ga((r=>dI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=Sj(this,n)}static mi(e,n){return new Kh(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?se.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nh(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return se.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Be(),l=Be();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(e,n.fromCache,r,l)}}class Vj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dN()?8:uI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Vj;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(cl()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(cl()<=Ue.DEBUG&&fe("QueryEngine","Query:",ul(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(cl()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):se.resolve())}ys(e,n){if(rT(n))return se.resolve(null);let r=qi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=up(n,null,"F"),r=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return rT(n)||l.isEqual(xe.min())?se.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?se.resolve(null):(cl()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ul(n)),this.vs(e,d,n,rI(l,dc)).next((p=>p)))}))}Ds(e,n){let r=new zt(N0(e));return n.forEach(((l,c)=>{ud(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return cl()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",ul(n)),this.ps.getDocumentsMatchingQuery(e,n,_r.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",Lj=3e8;class Pj{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new mt(ze),this.xs=new ga((c=>Gp(c)),Kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Uj(s,e,n,r){return new Pj(s,e,n,r)}async function W0(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Be();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function zj(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,S=b.keys();let O=se.resolve();return S.forEach((R=>{O=O.next((()=>T.getEntry(g,R))).next((C=>{const U=y.docVersions.get(R);$e(U!==null,48541),C.version.compareTo(U)<0&&(b.applyToRemoteDocument(C,y),C.isValidDocument()&&(C.setReadTime(y.commitVersion),T.addEntry(C)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function J0(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Bj(s,e){const n=Ce(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const S=l.get(b);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let O=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,r)),l=l.insert(b,O),(function(C,U,Y){return C.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Lj?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,O,T)&&p.push(n.Pi.updateTargetData(c,O))}));let g=Ss(),y=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Hj(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(xe.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return se.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function Hj(s,e,n){let r=Be(),l=Be();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ss();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):fe(ng,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function qj(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Fj(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,se.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new hr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function pp(s,e,n){const r=Ce(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Pl(d))throw d;fe(ng,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function vT(s,e,n){const r=Ce(s);let l=xe.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=Ce(g),S=b.xs.get(T);return S!==void 0?se.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,T)})(r,d,qi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:xe.min(),n?c:Be()))).next((p=>(Gj(r,jI(e),p),{documents:p,Qs:c})))))}function Gj(s,e,n){let r=s.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class _T{constructor(){this.activeTargetIds=LI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kj{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qj{Oo(e){}shutdown(){}}const ET="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(ET,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let _h=null;function gp(){return _h===null?_h=(function(){return 268435456+Math.round(2147483648*Math.random())})():_h++,"0x"+_h.toString(16)}const Bm="RestConnection",Yj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $j{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Hh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=gp(),p=this.zo(e,n.toUriEncodedString());fe(Bm,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Ol(y);return this.Jo(e,p,g,r,T).then((b=>(fe(Bm,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw fa(Bm,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=Yj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class Xj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Wj extends $j{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=gp();return new Promise(((p,g)=>{const y=new Jb;y.setWithCredentials(!0),y.listenOnce(Zb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xh.NO_ERROR:const b=y.getResponseJson();fe(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case xh.TIMEOUT:fe(tn,`RPC '${e}' ${d} timed out`),g(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const S=y.getStatus();if(fe(tn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const R=O?.error;if(R&&R.status&&R.message){const C=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(R.status);g(new de(C,R.message))}else g(new de(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(tn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);fe(tn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=gp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=n0(),p=t0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=c.join("");fe(tn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let S=!1,O=!1;const R=new Xj({Yo:U=>{O?fe(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(S||(fe(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),fe(tn,`RPC '${e}' stream ${l} sending:`,U),b.send(U))},Zo:()=>b.close()}),C=(U,Y,W)=>{U.listen(Y,(ie=>{try{W(ie)}catch(z){setTimeout((()=>{throw z}),0)}}))};return C(b,Jo.EventType.OPEN,(()=>{O||(fe(tn,`RPC '${e}' stream ${l} transport opened.`),R.o_())})),C(b,Jo.EventType.CLOSE,(()=>{O||(O=!0,fe(tn,`RPC '${e}' stream ${l} transport closed`),R.a_(),this.E_(b))})),C(b,Jo.EventType.ERROR,(U=>{O||(O=!0,fa(tn,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),R.a_(new de(ee.UNAVAILABLE,"The operation could not be completed")))})),C(b,Jo.EventType.MESSAGE,(U=>{if(!O){const Y=U.data[0];$e(!!Y,16349);const W=Y,ie=W?.error||W[0]?.error;if(ie){fe(tn,`RPC '${e}' stream ${l} received error:`,ie);const z=ie.status;let oe=(function(x){const N=Dt[x];if(N!==void 0)return U0(N)})(z),ce=ie.message;oe===void 0&&(oe=ee.INTERNAL,ce="Unknown error status: "+z+" with message "+ie.message),O=!0,R.a_(new de(oe,ce)),b.close()}else fe(tn,`RPC '${e}' stream ${l} received:`,Y),R.u_(Y)}})),C(p,e0.STAT_EVENT,(U=>{U.stat===ip.PROXY?fe(tn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===ip.NOPROXY&&fe(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hm(){return typeof document<"u"?document:null}function md(s){return new tj(s,!0)}class Z0{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&fe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bT="PersistentStream";class eS{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new de(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jj extends eS{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sj(this.serializer,e),r=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Fi(d.readTime):xe.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=op(g)?{documents:lj(c,g)}:{query:oj(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=H0(c,d.resumeToken);const y=hp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=Gh(c,d.snapshotVersion.toTimestamp());const y=hp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=uj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class Zj extends eS{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=aj(e.writeResults,e.commitTime),r=Fi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rj(this.serializer,r)))};this.q_(n)}}class e2{}class t2 extends e2{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dp(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ee.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,dp(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ma="RemoteStore";class i2{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ya(this)&&(fe(ma,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await Ic(y),y.Ra.set("Unknown"),y.Ea.delete(4),await pd(y)})(this))}))})),this.Ra=new n2(r,l)}}async function pd(s){if(ya(s))for(const e of s.da)await e(!0)}async function Ic(s){for(const e of s.da)await e(!1)}function tS(s,e){const n=Ce(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ag(n)?rg(n):zl(n).O_()&&sg(n,e))}function ig(s,e){const n=Ce(s),r=zl(n);n.Ia.delete(e),r.O_()&&nS(n,e),n.Ia.size===0&&(r.O_()?r.L_():ya(n)&&n.Ra.set("Unknown"))}function sg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(s).Y_(e)}function nS(s,e){s.Va.Ue(e),zl(s).Z_(e)}function rg(s){s.Va=new WI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),zl(s).start(),s.Ra.ua()}function ag(s){return ya(s)&&!zl(s).x_()&&s.Ia.size>0}function ya(s){return Ce(s).Ea.size===0}function iS(s){s.Va=void 0}async function s2(s){s.Ra.set("Online")}async function r2(s){s.Ia.forEach(((e,n)=>{sg(s,e)}))}async function a2(s,e){iS(s),ag(s)?(s.Ra.ha(e),rg(s)):s.Ra.set("Unknown")}async function l2(s,e,n){if(s.Ra.set("Online"),e instanceof B0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){fe(ma,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qh(s,r)}else if(e instanceof Ih?s.Va.Ze(e):e instanceof z0?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const r=await J0(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),nS(c,g);const b=new hr(T.target,g,y,T.sequenceNumber);sg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){fe(ma,"Failed to raise snapshot:",r),await Qh(s,r)}}async function Qh(s,e,n){if(!Pl(e))throw e;s.Ea.add(1),await Ic(s),s.Ra.set("Offline"),n||(n=()=>J0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{fe(ma,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await pd(s)}))}function sS(s,e){return e().catch((n=>Qh(s,n,e)))}async function gd(s){const e=Ce(s),n=Sr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;o2(e);)try{const l=await qj(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,c2(e,l)}catch(l){await Qh(e,l)}rS(e)&&aS(e)}function o2(s){return ya(s)&&s.Ta.length<10}function c2(s,e){s.Ta.push(e);const n=Sr(s);n.O_()&&n.X_&&n.ea(e.mutations)}function rS(s){return ya(s)&&!Sr(s).x_()&&s.Ta.length>0}function aS(s){Sr(s).start()}async function u2(s){Sr(s).ra()}async function h2(s){const e=Sr(s);for(const n of s.Ta)e.ea(n.mutations)}async function d2(s,e,n){const r=s.Ta.shift(),l=Xp.from(r,e,n);await sS(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await gd(s)}async function f2(s,e){e&&Sr(s).X_&&await(async function(r,l){if((function(d){return YI(d)&&d!==ee.ABORTED})(l.code)){const c=r.Ta.shift();Sr(r).B_(),await sS(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await gd(r)}})(s,e),rS(s)&&aS(s)}async function ST(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),fe(ma,"RemoteStore received new credentials");const r=ya(n);n.Ea.add(3),await Ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pd(n)}async function m2(s,e){const n=Ce(s);e?(n.Ea.delete(2),await pd(n)):e||(n.Ea.add(2),await Ic(n),n.Ra.set("Unknown"))}function zl(s){return s.ma||(s.ma=(function(n,r,l){const c=Ce(n);return c.sa(),new Jj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:s2.bind(null,s),t_:r2.bind(null,s),r_:a2.bind(null,s),H_:l2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),ag(s)?rg(s):s.Ra.set("Unknown")):(await s.ma.stop(),iS(s))}))),s.ma}function Sr(s){return s.fa||(s.fa=(function(n,r,l){const c=Ce(n);return c.sa(),new Zj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,s),r_:f2.bind(null,s),ta:h2.bind(null,s),na:d2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await gd(s)):(await s.fa.stop(),s.Ta.length>0&&(fe(ma,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class lg{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new lg(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Pl(s))return new de(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class AT{constructor(){this.ga=new mt(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Nl{constructor(e,n,r,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Nl(e,n,vl.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class p2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Ce(n),c=l.queries;l.queries=wT(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function wT(){return new ga((s=>x0(s)),cd)}async function cg(s,e){const n=Ce(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new p2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=og(d,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&hg(n)}async function ug(s,e){const n=Ce(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function y2(s,e){const n=Ce(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&hg(n)}function v2(s,e,n){const r=Ce(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function hg(s){s.Ca.forEach((e=>{e.next()}))}var yp,xT;(xT=yp||(yp={})).Ma="default",xT.Cache="cache";class dg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Nl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class lS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class _2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=N0(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new AT,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const S=l.get(T),O=ud(this.query,b)?b:null,R=!!S&&this.mutatedKeys.has(S.key),C=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;S&&O?S.data.isEqual(O.data)?R!==C&&(r.track({type:3,doc:O}),U=!0):this.su(S,O)||(r.track({type:2,doc:O}),U=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!S&&O?(r.track({type:0,doc:O}),U=!0):S&&!O&&(r.track({type:1,doc:S}),U=!0,(g||y)&&(p=!0)),U&&(O?(d=d.add(O),c=C?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(O,R){const C=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return C(O)-C(R)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Nl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new oS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new lS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class E2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class T2{constructor(e){this.key=e,this.hu=!1}}class b2{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ga((p=>x0(p)),cd),this.Iu=new Map,this.Eu=new Set,this.du=new mt(ve.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S2(s,e,n=!0){const r=mS(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cS(r,e,n,!0),l}async function A2(s,e){const n=mS(s);await cS(n,e,!0,!1)}async function cS(s,e,n,r){const l=await Fj(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await w2(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&tS(s.remoteStore,l),p}async function w2(s,e,n,r,l){s.pu=(b,S,O)=>(async function(C,U,Y,W){let ie=U.view.ru(Y);ie.Cs&&(ie=await vT(C.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,ie))));const z=W&&W.targetChanges.get(U.targetId),oe=W&&W.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(ie,C.isPrimaryClient,z,oe);return RT(C,U.targetId,ce.au),ce.snapshot})(s,b,S,O);const c=await vT(s.localStore,e,!0),d=new _2(e,c.Qs),p=d.ru(c.documents),g=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);RT(s,n,y.au);const T=new E2(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function x2(s,e,n){const r=Ce(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!cd(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await pp(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&ig(r.remoteStore,l.targetId),vp(r,l.targetId)})).catch(Ll)):(vp(r,l.targetId),await pp(r.localStore,l.targetId,!0))}async function N2(s,e){const n=Ce(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function R2(s,e,n){const r=V2(s);try{const l=await(function(d,p){const g=Ce(d),y=rt.now(),T=p.reduce(((O,R)=>O.add(R.key)),Be());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let R=Ss(),C=Be();return g.Ns.getEntries(O,T).next((U=>{R=U,R.forEach(((Y,W)=>{W.isValidDocument()||(C=C.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,R))).next((U=>{b=U;const Y=[];for(const W of p){const ie=qI(W,b.get(W.key).overlayedDocument);ie!=null&&Y.push(new Cr(W.key,ie,v0(ie.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,Y,p)})).next((U=>{S=U;const Y=U.applyToLocalDocumentSet(b,C);return g.documentOverlayCache.saveOverlays(O,U.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:C0(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new mt(ze)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await jc(r,l.changes),await gd(r.remoteStore)}catch(l){const c=og(l,"Failed to persist write");n.reject(c)}}async function uS(s,e){const n=Ce(s);try{const r=await Bj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await jc(n,r,e)}catch(r){await Ll(r)}}function NT(s,e,n){const r=Ce(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ce(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)})),y&&hg(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function C2(s,e,n){const r=Ce(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new mt(ve.comparator);d=d.insert(c,sn.newNoDocument(c,xe.min()));const p=Be().add(c),g=new fd(xe.min(),new Map,new mt(ze),d,p);await uS(r,g),r.du=r.du.remove(c),r.Au.delete(e),mg(r)}else await pp(r.localStore,e,!1).then((()=>vp(r,e,n))).catch(Ll)}async function I2(s,e){const n=Ce(s),r=e.batch.batchId;try{const l=await zj(n.localStore,e);dS(n,r,null),hS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await jc(n,l)}catch(l){await Ll(l)}}async function j2(s,e,n){const r=Ce(s);try{const l=await(function(d,p){const g=Ce(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>($e(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);dS(r,e,n),hS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await jc(r,l)}catch(l){await Ll(l)}}function hS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function dS(s,e,n){const r=Ce(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function vp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||fS(s,r)}))}function fS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(ig(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),mg(s))}function RT(s,e,n){for(const r of n)r instanceof lS?(s.Ru.addReference(r.key,e),D2(s,r)):r instanceof oS?(fe(fg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||fS(s,r.key)):Se(19791,{wu:r})}function D2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(fe(fg,"New document in limbo: "+n),s.Eu.add(r),mg(s))}function mg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(st.fromString(e)),r=s.fu.next();s.Au.set(r,new T2(n)),s.du=s.du.insert(n,r),tS(s.remoteStore,new hr(qi(od(n.path)),r,"TargetPurposeLimboResolution",rd.ce))}}async function jc(s,e,n){const r=Ce(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=tg.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=Ce(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(y,(S=>se.forEach(S.Es,(O=>T.persistence.referenceDelegate.addReference(b,S.targetId,O))).next((()=>se.forEach(S.ds,(O=>T.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))))))}catch(b){if(!Pl(b))throw b;fe(ng,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const O=T.Ms.get(S),R=O.snapshotVersion,C=O.withLastLimboFreeSnapshotVersion(R);T.Ms=T.Ms.insert(S,C)}}})(r.localStore,c))}async function O2(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){fe(fg,"User change. New user:",e.toKey());const r=await W0(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new de(ee.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jc(n,r.Ls)}}function M2(s,e){const n=Ce(s),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function mS(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=y2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function V2(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j2.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=md(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Uj(this.persistence,new kj,e.initialUser,this.serializer)}Cu(e){return new X0(eg.mi,this.serializer)}Du(e){return new Kj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class k2 extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Kh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Tj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new X0((r=>Kh.mi(r,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>NT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const n=md(e.databaseInfo.databaseId),r=(function(c){return new Wj(c)})(e.databaseInfo);return(function(c,d,p,g){return new t2(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new i2(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return TT.v()?new TT:new Qj})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,T){const b=new b2(l,c,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Ce(n);fe(ma,"RemoteStore shutting down."),r.Ea.add(5),await Ic(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Ar="FirestoreClient";class L2{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{fe(Ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(fe(Ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=og(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function qm(s,e){s.asyncQueue.verifyOperationInProgress(),fe(Ar,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await W0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function CT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await P2(s);fe(Ar,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>ST(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>ST(e.remoteStore,l))),s._onlineComponents=e}async function P2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){fe(Ar,"Using user provided OfflineComponentProvider");try{await qm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fa("Error using user provided cache. Falling back to memory cache: "+n),await qm(s,new Yh)}}else fe(Ar,"Using default OfflineComponentProvider"),await qm(s,new k2(void 0));return s._offlineComponents}async function pS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(fe(Ar,"Using user provided OnlineComponentProvider"),await CT(s,s._uninitializedComponentsProvider._online)):(fe(Ar,"Using default OnlineComponentProvider"),await CT(s,new _p))),s._onlineComponents}function U2(s){return pS(s).then((e=>e.syncEngine))}async function $h(s){const e=await pS(s),n=e.eventManager;return n.onListen=S2.bind(null,e.syncEngine),n.onUnlisten=x2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),n}function z2(s,e,n={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new pg({next:S=>{T.Nu(),d.enqueueAndForget((()=>ug(c,b)));const O=S.docs.has(p);!O&&S.fromCache?y.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?y.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new dg(od(p.path),T,{includeMetadataChanges:!0,qa:!0});return cg(c,b)})(await $h(s),s.asyncQueue,e,n,r))),r.promise}function B2(s,e,n={}){const r=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new pg({next:S=>{T.Nu(),d.enqueueAndForget((()=>ug(c,b))),S.fromCache&&g.source==="server"?y.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new dg(p,T,{includeMetadataChanges:!0,qa:!0});return cg(c,b)})(await $h(s),s.asyncQueue,e,n,r))),r.promise}function gS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const IT=new Map;const yS="firestore.googleapis.com",jT=!0;class DT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_j)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yd{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new r0;switch(r.type){case"firstParty":return new ZC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=IT.get(n);r&&(fe("ComponentProvider","Removing Datastore"),IT.delete(n),r.terminate())})(this),Promise.resolve()}}function vS(s,e,n,r={}){s=hn(s,yd);const l=Ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(cb(`https://${p}`),ub("Firestore",!0)),c.host!==yS&&c.host!==p&&fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!vr(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=nn.MOCK_USER;else{y=iN(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}s._authCredentials=new XC(new s0(y,T))}}class xs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ft(this.firestore,e,this._key)}toJSON(){return{type:ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nc(n,ft._jsonSchema))return new ft(e,r||null,new ve(st.fromString(n.referencePath)))}}ft._jsonSchemaVersion="firestore/documentReference/1.0",ft._jsonSchema={type:Mt("string",ft._jsonSchemaVersion),referencePath:Mt("string")};class vs extends xs{constructor(e,n,r){super(e,n,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ft(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function yt(s,e,...n){if(s=Vt(s),a0("collection","path",e),s instanceof yd){const r=st.fromString(e,...n);return GE(r),new vs(s,null,r)}{if(!(s instanceof ft||s instanceof vs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return GE(r),new vs(s.firestore,null,r)}}function ht(s,e,...n){if(s=Vt(s),arguments.length===1&&(e=id.newId()),a0("doc","path",e),s instanceof yd){const r=st.fromString(e,...n);return FE(r),new ft(s,null,new ve(r))}{if(!(s instanceof ft||s instanceof vs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return FE(r),new ft(s.firestore,s instanceof vs?s.converter:null,new ve(r))}}const OT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const r=Hm();r&&fe(OT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;fe(OT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",VT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=lg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function kT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ki extends yd{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new MT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function _S(s,e){const n=typeof s=="object"?s:mb(),r=typeof s=="string"?s:Hh,l=Dp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=tN("firestore");c&&vS(l,...c)}return l}function Dc(s){if(s._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||H2(s),s._firestoreClient}function H2(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new pI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,gS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new L2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Kt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nc(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Mt("string",On._jsonSchemaVersion),bytes:Mt("string")};class Oc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class va{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Nc(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Mt("string",di._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new de(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Mt("string",fi._jsonSchemaVersion),vectorValues:Mt("object")};const q2=/^__.*__$/;class F2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Rc(e,this.data,n,this.fieldTransforms)}}class ES{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class vd{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Xh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&q2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class G2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||md(e)}Cc(e,n,r,l=!1){return new vd({Ac:e,methodName:n,Dc:r,path:Gt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(s){const e=s._freezeSettings(),n=md(s._databaseId);return new G2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(s,e,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);_g("Data must be an object, but it was:",d,r);const p=SS(r,d);let g,y;if(c.merge)g=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const S=Ep(e,b,n);if(!d.contains(S))throw new de(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);wS(T,S)||T.push(S)}g=new Mn(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new F2(new Tn(p),g,y)}class Ed extends va{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ed}}function K2(s,e,n){return new vd({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gg extends va{_toFieldTransform(e){return new Yp(e.path,new gc)}isEqual(e){return e instanceof gg}}class yg extends va{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=K2(this,e,!0),r=this.vc.map((c=>Bl(c,n))),l=new wl(r);return new Yp(e.path,l)}isEqual(e){return e instanceof yg&&vr(this.vc,e.vc)}}class vg extends va{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new vc(e.serializer,D0(e.serializer,this.Fc));return new Yp(e.path,n)}isEqual(e){return e instanceof vg&&this.Fc===e.Fc}}function Q2(s,e,n,r){const l=s.Cc(1,e,n);_g("Data must be an object, but it was:",l,r);const c=[],d=Tn.empty();Rr(r,((g,y)=>{const T=Eg(e,g,n);y=Vt(y);const b=l.yc(T);if(y instanceof Ed)c.push(T);else{const S=Bl(y,b);S!=null&&(c.push(T),d.set(T,S))}}));const p=new Mn(c);return new ES(d,p,l.fieldTransforms)}function Y2(s,e,n,r,l,c){const d=s.Cc(1,e,n),p=[Ep(e,r,n)],g=[l];if(c.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(Ep(e,c[S])),g.push(c[S+1]);const y=[],T=Tn.empty();for(let S=p.length-1;S>=0;--S)if(!wS(y,p[S])){const O=p[S];let R=g[S];R=Vt(R);const C=d.yc(O);if(R instanceof Ed)y.push(O);else{const U=Bl(R,C);U!=null&&(y.push(O),T.set(O,U))}}const b=new Mn(y);return new ES(T,b,d.fieldTransforms)}function $2(s,e,n,r=!1){return Bl(n,s.Cc(r?4:3,e))}function Bl(s,e){if(AS(s=Vt(s)))return _g("Unsupported field value:",e,s),SS(s,e);if(s instanceof va)return(function(r,l){if(!TS(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=Bl(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return D0(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=rt.fromDate(r);return{timestampValue:Gh(l.serializer,c)}}if(r instanceof rt){const c=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gh(l.serializer,c)}}if(r instanceof di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof On)return{bytesValue:H0(l.serializer,r._byteString)};if(r instanceof ft){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof fi)return(function(d,p){return{mapValue:{fields:{[g0]:{stringValue:y0},[qh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${sd(r)}`)})(s,e)}function SS(s,e){const n={};return u0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rr(s,((r,l)=>{const c=Bl(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function AS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof di||s instanceof On||s instanceof ft||s instanceof va||s instanceof fi)}function _g(s,e,n){if(!AS(n)||!o0(n)){const r=sd(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function Ep(s,e,n){if((e=Vt(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return Eg(s,e);throw Xh("Field path arguments must be of type string or ",s,!1,void 0,n)}const X2=new RegExp("[~\\*/\\[\\]]");function Eg(s,e,n){if(e.search(X2)>=0)throw Xh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Oc(...e.split("."))._internalPath}catch{throw Xh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Xh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new de(ee.INVALID_ARGUMENT,p+s+g)}function wS(s,e){return s.some((n=>n.isEqual(e)))}class xS{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Td("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W2 extends xS{data(){return super.data()}}function Td(s,e){return typeof e=="string"?Eg(s,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}function NS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class bg extends Tg{}function gi(s,e,...n){let r=[];e instanceof Tg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof bd)).length,p=c.filter((g=>g instanceof Mc)).length;if(d>1||d>0&&p>0)throw new de(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class Mc extends bg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Mc(e,n,r)}_apply(e){const n=this._parse(e);return RS(e._query,n),new xs(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=_d(e.firestore);return(function(c,d,p,g,y,T,b){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){PT(b,T);const R=[];for(const C of b)R.push(LT(g,c,C));S={arrayValue:{values:R}}}else S=LT(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||PT(b,T),S=$2(p,d,b,T==="in"||T==="not-in");return Ot.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pa(s,e,n){const r=e,l=Td("where",s);return Mc._create(l,r,n)}class bd extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new bd(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)RS(d,g),d=cp(d,g)})(e._query,n),new xs(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sd extends bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sd(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,d)})(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ul(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function Vc(s,e="asc"){const n=e,r=Td("orderBy",s);return Sd._create(r,n)}function LT(s,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new de(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(e)&&n.indexOf("/")!==-1)throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!ve.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ZE(s,new ve(r))}if(n instanceof ft)return ZE(s,n._key);throw new de(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function PT(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CS{convertValue(e,n="none"){switch(br(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Tr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Rr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[qh].arrayValue?.values?.map((r=>bt(r.doubleValue)));return new fi(n)}convertGeoPoint(e){return new di(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ld(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Er(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);$e(Y0(r),9688,{name:e});const l=new bl(r.get(1),r.get(3)),c=new ve(r.popFirst(5));return l.isEqual(n)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function IS(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gr extends xS{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Td("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",gr._jsonSchema={type:Mt("string",gr._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class oc extends gr{data(e={}){return super.data(e)}}class yr{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oc(this._firestore,this._userDataWriter,r.key,r,new ml(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:J2(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function kc(s){s=hn(s,ft);const e=hn(s.firestore,Ki);return z2(Dc(e),s._key).then((n=>jS(e,s,n)))}yr._jsonSchemaVersion="firestore/querySnapshot/1.0",yr._jsonSchema={type:Mt("string",yr._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Sg extends CS{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ft(this.firestore,null,n)}}function Sn(s){s=hn(s,xs);const e=hn(s.firestore,Ki),n=Dc(e),r=new Sg(e);return NS(s._query),B2(n,s._query).then((l=>new yr(e,r,s,l)))}function Ag(s,e,n){s=hn(s,ft);const r=hn(s.firestore,Ki),l=IS(s.converter,e);return Lc(r,[bS(_d(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Xn.none())])}function bn(s,e,n,...r){s=hn(s,ft);const l=hn(s.firestore,Ki),c=_d(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Oc?Y2(c,"updateDoc",s._key,e,n,r):Q2(c,"updateDoc",s._key,e),Lc(l,[d.toMutation(s._key,Xn.exists(!0))])}function wg(s){return Lc(hn(s.firestore,Ki),[new $p(s._key,Xn.none())])}function wr(s,e){const n=hn(s.firestore,Ki),r=ht(s),l=IS(s.converter,e);return Lc(n,[bS(_d(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Xn.exists(!1))]).then((()=>r))}function Tp(s,...e){s=Vt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kT(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kT(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof ft)d=hn(s.firestore,Ki),p=od(s._key.path),c={next:g=>{e[r]&&e[r](jS(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=hn(s,xs);d=hn(g.firestore,Ki),p=g._query;const y=new Sg(d);c={next:T=>{e[r]&&e[r](new yr(d,y,g,T))},error:e[r+1],complete:e[r+2]},NS(s._query)}return(function(y,T,b,S){const O=new pg(S),R=new dg(T,O,b);return y.asyncQueue.enqueueAndForget((async()=>cg(await $h(y),R))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>ug(await $h(y),R)))}})(Dc(d),p,l,c)}function Lc(s,e){return(function(r,l){const c=new ys;return r.asyncQueue.enqueueAndForget((async()=>R2(await U2(r),l,c))),c.promise})(Dc(s),e)}function jS(s,e,n){const r=n.docs.get(e._key),l=new Sg(s);return new gr(s,l,e._key,r,new ml(n.hasPendingWrites,n.fromCache),e.converter)}function dn(){return new gg("serverTimestamp")}function Z2(...s){return new yg("arrayUnion",s)}function Ad(s){return new vg("increment",s)}(function(e,n=!0){(function(l){kl=l})(Ml),_l(new ca("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Ki(new WC(r.getProvider("auth-internal")),new eI(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),mr(zE,BE,e),mr(zE,BE,"esm2020")})();const eD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:CS,Bytes:On,CollectionReference:vs,DocumentReference:ft,DocumentSnapshot:gr,FieldPath:Oc,FieldValue:va,Firestore:Ki,FirestoreError:de,GeoPoint:di,Query:xs,QueryCompositeFilterConstraint:bd,QueryConstraint:bg,QueryDocumentSnapshot:oc,QueryFieldFilterConstraint:Mc,QueryOrderByConstraint:Sd,QuerySnapshot:yr,SnapshotMetadata:ml,Timestamp:rt,VectorValue:fi,_AutoId:id,_ByteString:Kt,_DatabaseId:bl,_DocumentKey:ve,_EmptyAuthCredentialsProvider:r0,_FieldPath:Gt,_cast:hn,_logWarn:fa,_validateIsNotUsedTogether:l0,addDoc:wr,arrayUnion:Z2,collection:yt,connectFirestoreEmulator:vS,deleteDoc:wg,doc:ht,ensureFirestoreConfigured:Dc,executeWrite:Lc,getDoc:kc,getDocs:Sn,getFirestore:_S,increment:Ad,onSnapshot:Tp,orderBy:Vc,query:gi,serverTimestamp:dn,setDoc:Ag,updateDoc:bn,where:pa},Symbol.toStringTag,{value:"Module"}));var tD="firebase",nD="12.6.0";mr(tD,nD,"app");const iD={apiKey:"AIzaSyCFK0ROmclDB340RnTgAMGM6xiXgcMs7Vs",authDomain:"license-manager-b0e4e.firebaseapp.com",projectId:"license-manager-b0e4e",storageBucket:"license-manager-b0e4e.firebasestorage.app",messagingSenderId:"548643757194",appId:"1:548643757194:web:79fa0555acc0ccd9702173",measurementId:"G-7RWV4LEHP1"},DS=fb(iD),tc=YC(DS),Ie=_S(DS),OS=V.createContext();function ln(){return V.useContext(OS)}function sD({children:s}){const[e,n]=V.useState(null),[r,l]=V.useState(null),[c,d]=V.useState(!0);async function p(O,R,C){const U=await IR(tc,O,R),Y=U.user;await OR(Y,{displayName:C});const W=new Date;return W.setDate(W.getDate()+1),await Ag(ht(Ie,"users",Y.uid),{uid:Y.uid,email:O,displayName:C,role:"user",balance:1e4,createdAt:dn()}),U}function g(O,R){return jR(tc,O,R)}function y(){return LR(tc)}async function T(O){const R=ht(Ie,"users",O),C=await kc(R);return C.exists()?C.data():null}function b(){return r?.role==="admin"}V.useEffect(()=>kR(tc,async R=>{if(n(R),R){const C=await T(R.uid);l(C)}else l(null);d(!1)}),[]);const S={currentUser:e,userProfile:r,signup:p,login:g,logout:y,isAdmin:b,loading:c};return u.jsx(OS.Provider,{value:S,children:!c&&s})}const MS="/logo.png";function an(){const{currentUser:s,userProfile:e,logout:n,isAdmin:r}=ln(),l=jl(),[c,d]=V.useState(!1);async function p(){try{await n(),l("/login")}catch(T){console.error("Logout error:",T)}}function g(){d(!c)}function y(){d(!1)}return u.jsx("nav",{className:"navbar",children:u.jsxs("div",{className:"navbar-container",children:[u.jsxs(Re,{to:"/",className:"navbar-brand",onClick:y,children:[u.jsx("img",{src:MS,alt:"PHP Tool",className:"brand-logo"}),u.jsx("span",{className:"brand-text",children:"PHP Tool"})]}),u.jsxs("button",{className:"hamburger",onClick:g,children:[u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`})]}),u.jsx("div",{className:`navbar-menu ${c?"active":""}`,children:s?u.jsxs(u.Fragment,{children:[u.jsxs(Re,{to:"/dashboard",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Re,{to:"/guide",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Hng dn"})]}),u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Ti khon"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Re,{to:"/wallet",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Re,{to:"/my-licenses",className:"dropdown-item",onClick:y,children:" License ca ti"}),u.jsx(Re,{to:"/profile",className:"dropdown-item",onClick:y,children:" Lch s giao dch"})]})]}),r()&&u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Re,{to:"/admin/users",className:"dropdown-item",onClick:y,children:" Users"}),u.jsx(Re,{to:"/admin/licenses",className:"dropdown-item",onClick:y,children:" Keys"}),u.jsx(Re,{to:"/admin/orders",className:"dropdown-item",onClick:y,children:" n hng"}),u.jsx(Re,{to:"/admin/deposits",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Re,{to:"/admin/stats",className:"dropdown-item",onClick:y,children:" Thng k"}),u.jsx(Re,{to:"/admin/settings",className:"dropdown-item",onClick:y,children:" Ci t"})]})]}),u.jsxs("div",{className:"nav-user",children:[u.jsx("span",{className:"user-name",children:e?.displayName||s.email}),u.jsx("button",{onClick:p,className:"btn-logout",children:"ng xut"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Re,{to:"/login",className:"nav-link",onClick:y,children:"ng nhp"}),u.jsx(Re,{to:"/register",className:"btn-register",onClick:y,children:"ng k"})]})})]})})}function VS({title:s,description:e,keywords:n,image:r,url:l}){const c="PHP Tool",d="Tool t ng ng k v xc minh ti khon Facebook hng lot. H tr Hotmail, SMS, Gmail.";return V.useEffect(()=>{document.title=s?`${s} | ${c}`:`${c} - Tool Reg/Very Facebook`;const p=document.querySelector('meta[name="description"]');p&&p.setAttribute("content",e||d);const g=document.querySelector('meta[property="og:title"]'),y=document.querySelector('meta[property="og:description"]'),T=document.querySelector('meta[property="og:url"]'),b=document.querySelector('meta[property="og:image"]');g&&g.setAttribute("content",s?`${s} | ${c}`:c),y&&y.setAttribute("content",e||d),T&&l&&T.setAttribute("content",l),b&&r&&b.setAttribute("content",r);const S=document.querySelector('meta[property="twitter:title"]'),O=document.querySelector('meta[property="twitter:description"]');if(S&&S.setAttribute("content",s?`${s} | ${c}`:c),O&&O.setAttribute("content",e||d),n){let R=document.querySelector('meta[name="keywords"]');R&&R.setAttribute("content",n)}},[s,e,n,r,l]),null}const rD="/hero-visual.png",aD=[{id:"regfb",name:"Reg Facebook Tool",description:"Tool t ng ng k v verify ti khon Facebook hng lot",icon:"",features:["Reg & Verify t ng","H tr nhiu dch v mail/SMS","Bind HWID bo mt"],prices:{day:1e4,month:2e5,lifetime:6e5},status:"available",hot:!0},{id:"clonetk",name:"Clone TikTok Tool",description:"Cng c clone video TikTok, qun l nhiu ti khon",icon:"",features:["Clone video khng logo","Qun l multi accounts","Auto upload"],prices:{day:15e3,month:3e5,lifetime:8e5},status:"coming_soon"},{id:"seoyt",name:"YouTube SEO Tool",description:"Ti u SEO video YouTube, tng view v subscriber",icon:"",features:["Keyword research","Tag optimizer","Analytics dashboard"],prices:{day:2e4,month:4e5,lifetime:1e6},status:"coming_soon"}],lD=[{icon:"",color:"#e040fb",title:"Gi C Hp L",desc:"Tit kim chi ph khng ch t gi c, m cn t hiu sut lm vic cao m phn mm mang li"},{icon:"",color:"#ba68c8",title:"Cht Lng Phn Mm",desc:"Phn mm c xy dng vi tiu chun cht lng cao, m bo tnh n nh v kt qu ng tin cy"},{icon:"",color:"#9c27b0",title:"Cp Nht nh K",desc:"Lun cp nht vi cc tnh nng mi nht, m bo phn mm lun tng thch v hiu qu"},{icon:"",color:"#ab47bc",title:"Tc  V Hiu Sut Cao",desc:"Ti u ha hiu sut vi tc  x l nhanh chng, gip bn tit kim thi gian v tng nng sut"},{icon:"",color:"#ce93d8",title:"Giao Din D S Dng",desc:"Giao din phn mm d s dng v y  tnh nng, gip ngi dng d dng s dng v qun l"},{icon:"",color:"#e040fb",title:"i Ng H Tr",desc:"i ng h tr k thut chuyn nghip, sn sng gii p mi thc mc v h tr bn mi lc"}],Fm=[{name:"Minh T***",avatar:"",content:"n nh, d dng, gi c ngon. Dng tt cho cng vic ca mnh!",rating:5},{name:"Hong V***",avatar:"",content:"Tool ngon, gi r, h tr tt. Mnh rt hi lng vi dch v ca PHP Tool!",rating:5},{name:"Nam N***",avatar:"",content:"Dch v tt, gi c hp l. Mnh rt hi lng vi PHP Tool!",rating:5},{name:"Tun A***",avatar:"",content:"PHP Tool gip ti tit kim hng gi lm vic mi ngy. Qu tuyt!",rating:5},{name:"c H***",avatar:"",content:"Reg acc t ng cc nhanh, chy 100% khng li. Recommend!",rating:5},{name:"Long P***",avatar:"",content:"Support tr li nhanh, fix bug trong vi pht. Rt chuyn nghip!",rating:5},{name:"Quang M***",avatar:"",content:"Giao din p, d s dng. Tool chy mt khng git lag!",rating:5},{name:"Kin T***",avatar:"",content:" dng nhiu tool khc nhng PHP Tool l n nh nht!",rating:5}];function UT(){const{currentUser:s}=ln(),e=V.useRef(null),[n,r]=V.useState(0);V.useEffect(()=>{const d=setInterval(()=>{r(p=>(p+1)%Fm.length)},4e3);return()=>clearInterval(d)},[]);const l=d=>{d.preventDefault(),e.current?.scrollIntoView({behavior:"smooth",block:"start"})};function c(d){return new Intl.NumberFormat("vi-VN").format(d)}return u.jsxs("div",{className:"home-page",children:[u.jsx(VS,{title:"Trang ch",description:"PHP Tool - Cung cp Tool Reg/Very Facebook t ng hng lot. H tr Hotmail, SMS, Gmail. Giao din d s dng, gi r nht th trng.",keywords:"tool reg fb, tool very fb, reg facebook t ng, xc minh facebook, tool mmo, php tool"}),u.jsx(an,{}),u.jsxs("section",{className:"hero-section",children:[u.jsxs("div",{className:"hero-container",children:[u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:" Nn tng Tools MMO hng u"}),u.jsxs("h1",{className:"hero-title",children:[u.jsx("span",{className:"gradient-text",children:"PHP Tool"}),u.jsx("br",{}),"Gii Php MMO Chuyn Nghip"]}),u.jsx("p",{className:"hero-description",children:"Cung cp cc cng c t ng ha, phn mm MMO cht lng cao. H tr bn pht trin kinh doanh online hiu qu v bn vng."}),u.jsxs("div",{className:"hero-actions",children:[u.jsxs("a",{href:"#products",onClick:l,className:"btn-primary-lg",children:[u.jsx("span",{children:""})," Xem sn phm"]}),!s&&u.jsxs(Re,{to:"/register",className:"btn-secondary-lg",children:[u.jsx("span",{children:""})," ng k min ph"]})]}),u.jsxs("div",{className:"hero-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"500+"}),u.jsx("span",{className:"stat-label",children:"Khch hng"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"3+"}),u.jsx("span",{className:"stat-label",children:"Sn phm"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"24/7"}),u.jsx("span",{className:"stat-label",children:"H tr"})]})]})]}),u.jsx("div",{className:"hero-visual",children:u.jsx("img",{src:rD,alt:"PHP Tool",className:"hero-image"})})]}),u.jsxs("div",{className:"hero-decoration",children:[u.jsx("div",{className:"deco-circle deco-1"}),u.jsx("div",{className:"deco-circle deco-2"}),u.jsx("div",{className:"deco-circle deco-3"})]})]}),u.jsx("section",{className:"why-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"TI SAO NN CHN PHP TOOL"})}),u.jsx("div",{className:"why-grid",children:lD.map((d,p)=>u.jsxs("div",{className:"why-card",children:[u.jsx("div",{className:"why-number",children:p+1}),u.jsx("div",{className:"why-icon",style:{background:`${d.color}20`,color:d.color},children:d.icon}),u.jsx("h3",{children:d.title}),u.jsx("p",{children:d.desc})]},p))})]})}),u.jsx("section",{className:"products-section",id:"products",ref:e,children:u.jsxs("div",{className:"section-container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" SN PHM CA CHNG TI"}),u.jsx("p",{children:"Cc cng c MMO cht lng cao"})]}),u.jsx("div",{className:"products-grid",children:aD.map(d=>u.jsxs("div",{className:`product-card ${d.status}`,children:[d.hot&&u.jsx("div",{className:"hot-badge",children:" HOT"}),d.status==="coming_soon"&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"}),u.jsx("div",{className:"product-icon",children:d.icon}),u.jsx("h3",{className:"product-name",children:d.name}),u.jsx("p",{className:"product-desc",children:d.description}),u.jsx("ul",{className:"product-features",children:d.features.map((p,g)=>u.jsxs("li",{children:[" ",p]},g))}),u.jsxs("div",{className:"product-pricing",children:[u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 ngy"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.day),""]})]}),u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 thng"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.month),""]})]}),u.jsxs("div",{className:"price-item highlight",children:[u.jsx("span",{className:"price-label",children:"Vnh vin"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.lifetime),""]})]})]}),d.status==="available"?u.jsx(Re,{to:`/buy/${d.id}`,className:"btn-buy-product",children:"Mua ngay"}):u.jsx("button",{className:"btn-coming-soon",disabled:!0,children:"Sp ra mt"})]},d.id))})]})}),u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"FEEDBACK KHCH HNG"})}),u.jsx("div",{className:"testimonials-slider",style:{transform:`translateX(-${n*(100/4+1.5)}%)`},children:[...Fm,...Fm.slice(0,4)].map((d,p)=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"testimonial-avatar",children:d.avatar}),u.jsx("h4",{className:"testimonial-name",children:d.name}),u.jsxs("p",{className:"testimonial-content",children:['"',d.content,'"']}),u.jsx("div",{className:"testimonial-rating",children:"".repeat(d.rating)})]},p))})]})}),u.jsx("section",{className:"contact-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{children:" LIN H VI CHNG TI"}),u.jsx("p",{children:"C thc mc? Lin h ngay  c h tr!"})]}),u.jsx("div",{className:"contact-buttons",children:u.jsxs("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",className:"btn-telegram",children:[u.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"Telegram"]})})]})})}),u.jsx("section",{className:"cta-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:" ng k ngay - Nhn 1 ngy dng th MIN PH!"}),u.jsx("p",{children:"To ti khon  tri nghim cc cng c ca chng ti"}),s?u.jsx(Re,{to:"/dashboard",className:"btn-cta",children:"Vo Dashboard"}):u.jsx(Re,{to:"/register",className:"btn-cta",children:"ng k min ph"})]})})}),u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("img",{src:MS,alt:"PHP Tool",className:"footer-logo-img"}),u.jsx("span",{className:"footer-name",children:"PHP Tool"})]}),u.jsxs("div",{className:"footer-links",children:[u.jsx("a",{href:"#",children:"iu khon"}),u.jsx("a",{href:"#",children:"Chnh sch"}),u.jsx("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})]}),u.jsx("div",{className:"footer-copyright",children:" 2024 PHP Tool. All rights reserved."})]})})]})}function oD(s=5,e=6e4,n=3e5){const[r,l]=V.useState([]),[c,d]=V.useState(!1),[p,g]=V.useState(null),y=V.useCallback(()=>{const S=Date.now();if(p&&S<p)return{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil((p-S)/1e3)} giy.`};if(p&&S>=p&&(d(!1),g(null),l([])),r.filter(R=>S-R<e).length>=s){const R=S+n;return d(!0),g(R),{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil(n/1e3)} giy.`}}return{allowed:!0}},[r,p,s,e,n]),T=V.useCallback(()=>{l(S=>[...S,Date.now()])},[]),b=V.useCallback(()=>{const S=Date.now(),O=r.filter(R=>S-R<e);return Math.max(0,s-O.length)},[r,s,e]);return{checkRateLimit:y,recordAttempt:T,getRemainingAttempts:b,isBlocked:c}}function cD(){const[s,e]=V.useState(""),n=V.useCallback(()=>s.length>0,[s]),r=V.useCallback(()=>u.jsx("input",{type:"text",name:"website_url",value:s,onChange:l=>e(l.target.value),autoComplete:"off",tabIndex:-1,style:{position:"absolute",left:"-9999px",opacity:0,height:0,width:0,zIndex:-1},"aria-hidden":"true"}),[s]);return{isBot:n,HoneypotField:r,honeypotValue:s}}function xg(s={}){const{maxAttempts:e=5,windowMs:n=6e4,cooldownMs:r=3e5}=s,l=oD(e,n,r),c=cD();return{validateSubmission:V.useCallback(()=>{if(c.isBot())return console.warn("Bot detected via honeypot"),{valid:!1,error:"C li xy ra. Vui lng th li sau."};const p=l.checkRateLimit();return p.allowed?{valid:!0}:{valid:!1,error:p.message}},[c,l]),recordAttempt:l.recordAttempt,HoneypotField:c.HoneypotField,isBlocked:l.isBlocked,getRemainingAttempts:l.getRemainingAttempts}}function uD(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(!1),[T,b]=V.useState(!1),{login:S}=ln(),O=jl(),{validateSubmission:R,recordAttempt:C}=xg({maxAttempts:5,windowMs:6e4,cooldownMs:3e5});async function U(W){W.preventDefault();const ie=R();if(!ie.valid){c(ie.error);return}C();try{c(""),y(!0),await S(s,n),O("/dashboard")}catch(z){console.error(z),z.code==="auth/user-not-found"?c("Ti khon khng tn ti"):z.code==="auth/wrong-password"?c("Mt khu khng ng"):z.code==="auth/invalid-credential"?c("Email hoc mt khu khng ng"):c("ng nhp tht bi. Vui lng th li!")}y(!1)}async function Y(W){if(W.preventDefault(),!s)return c("Vui lng nhp email!");const ie=R();if(!ie.valid){c(ie.error);return}C();try{c(""),p(""),y(!0),await CR(tc,s),p("Nu email ny  ng k, bn s nhn c link t li mt khu trong hp th."),b(!1)}catch(z){console.error(z),z.code==="auth/user-not-found"||z.code==="auth/invalid-email"?c("Email ny cha ng k ti khon!"):z.code==="auth/too-many-requests"?c("Qu nhiu yu cu! Vui lng th li sau."):c("Gi email tht bi. Vui lng th li!")}y(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:T?"":""}),u.jsx("h1",{children:T?"Qun Mt Khu":"ng Nhp"}),u.jsx("p",{children:T?"Nhp email  nhn link t li mt khu":"Cho mng bn quay tr li!"})]}),l&&u.jsx("div",{className:"alert alert-error",children:l}),d&&u.jsx("div",{className:"alert alert-success",children:d}),T?u.jsxs("form",{onSubmit:Y,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"Gi Email t Li"}),u.jsx("button",{type:"button",className:"btn-text",onClick:()=>{b(!1),c("")},children:" Quay li ng nhp"})]}):u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:n,onChange:W=>r(W.target.value),placeholder:"",required:!0})]})]}),u.jsx("button",{type:"button",className:"btn-forgot",onClick:()=>{b(!0),c(""),p("")},children:"Qun mt khu?"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"ng Nhp"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:["Cha c ti khon?"," ",u.jsx(Re,{to:"/register",className:"auth-link",children:"ng k ngay"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}function hD(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(""),[T,b]=V.useState(!1),{signup:S}=ln(),O=jl(),{validateSubmission:R,recordAttempt:C}=xg({maxAttempts:3,windowMs:6e4,cooldownMs:6e5});async function U(Y){Y.preventDefault();const W=R();if(!W.valid){y(W.error);return}if(l!==d)return y("Mt khu xc nhn khng khp!");if(l.length<6)return y("Mt khu phi c t nht 6 k t!");C();try{y(""),b(!0),await S(n,l,s),O("/dashboard")}catch(ie){console.error(ie),ie.code==="auth/email-already-in-use"?y("Email ny  c s dng!"):ie.code==="auth/weak-password"?y("Mt khu qu yu!"):ie.code==="auth/invalid-email"?y("Email khng hp l!"):y("ng k tht bi. Vui lng th li!")}b(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:""}),u.jsx("h1",{children:"ng K"}),u.jsx("p",{children:"To ti khon v nhn 1 ngy dng th min ph!"})]}),g&&u.jsx("div",{className:"alert alert-error",children:g}),u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"displayName",children:"Tn hin th"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"text",id:"displayName",value:s,onChange:Y=>e(Y.target.value),placeholder:"Nguyen Van A",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:n,onChange:Y=>r(Y.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:l,onChange:Y=>c(Y.target.value),placeholder:"t nht 6 k t",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:Y=>p(Y.target.value),placeholder:"Nhp li mt khu",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:T,children:T?u.jsx("span",{className:"loading-spinner"}):"ng K"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[" c ti khon?"," ",u.jsx(Re,{to:"/login",className:"auth-link",children:"ng nhp"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}const dD=[{id:"regfb",name:"Reg Facebook Tool",icon:"",priceRange:"10k - 600k"},{id:"clonetk",name:"Clone TikTok Tool",icon:"",priceRange:"15k - 800k",comingSoon:!0},{id:"seoyt",name:"YouTube SEO Tool",icon:"",priceRange:"20k - 1tr",comingSoon:!0}];function fD(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState([]),[d,p]=V.useState(!0),[g,y]=V.useState(null);V.useEffect(()=>{async function R(){if(s){try{const U=gi(yt(Ie,"licenses"),pa("userId","==",s.uid));let W=(await Sn(U)).docs.map(ce=>({id:ce.id,...ce.data()}));W.sort((ce,I)=>{const x=ce.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),console.log("Dashboard licenses:",W),r(W);const ie=gi(yt(Ie,"transactions"),pa("userId","==",s.uid));let oe=(await Sn(ie)).docs.map(ce=>({id:ce.id,...ce.data()}));oe.sort((ce,I)=>{const x=ce.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),oe=oe.slice(0,5),console.log("Dashboard transactions:",oe),c(oe)}catch(U){console.error("Error fetching data:",U),alert("Li ti d liu: "+U.message)}p(!1)}}async function C(){try{const U=ht(Ie,"settings","software"),Y=await kc(U);Y.exists()&&y(Y.data())}catch(U){console.error("Error fetching software info:",U)}}R(),C()},[s]);function T(R){return new Intl.NumberFormat("vi-VN").format(R)}function b(R){return n.find(C=>C.productId===R&&C.status==="active")}function S(R){if(!R)return{text:"Cha mua",class:"status-none"};if(R.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(R.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(R.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const C=new Date,U=R.expiresAt?.toDate?.()||new Date(R.expiresAt);if(C>=U)return{text:"Ht hn",class:"status-expired"};const Y=U-C,W=Math.floor(Y/(1e3*60*60*24));return W<=3?{text:`Cn ${W} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}const O=e?.balance||0;return u.jsxs("div",{className:"dashboard-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"dashboard-container",children:[u.jsxs("div",{className:"dashboard-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsxs("h1",{children:["Xin cho, ",e?.displayName||"User","! "]}),u.jsx("p",{children:"Qun l license v ti khon ca bn"})]}),u.jsxs("div",{className:"balance-card",children:[u.jsx("div",{className:"balance-label",children:"S d ti khon"}),u.jsxs("div",{className:"balance-amount",children:[T(O),""]}),u.jsxs(Re,{to:"/wallet",className:"btn-deposit",children:[u.jsx("span",{children:""})," Np tin"]})]})]}),u.jsxs("div",{className:"download-guide-section",children:[g?.downloadUrl&&u.jsxs("a",{href:g.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"download-card-dash",children:[u.jsx("div",{className:"download-card-icon",children:""}),u.jsxs("div",{className:"download-card-content",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version ",g.version||"1.0.0"]})]}),u.jsx("span",{className:"download-arrow",children:""})]}),u.jsxs(Re,{to:"/guide",className:"guide-card-dash",children:[u.jsx("div",{className:"guide-card-icon",children:""}),u.jsxs("div",{className:"guide-card-content",children:[u.jsx("h3",{children:"Hng dn s dng"}),u.jsx("p",{children:"Xem ti liu chi tit"})]}),u.jsx("span",{className:"guide-arrow",children:""})]})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:n.filter(R=>R.status==="active").length}),u.jsx("div",{className:"stat-label",children:"License ang hot ng"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsxs("div",{className:"stat-value",children:[T(O),""]}),u.jsx("div",{className:"stat-label",children:"S d"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:l.length}),u.jsx("div",{className:"stat-label",children:"Giao dch gn y"})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Sn phm"}),u.jsx(Re,{to:"/buy",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"products-grid",children:dD.map(R=>{const C=b(R.id),U=S(C);return u.jsxs("div",{className:`product-card ${R.comingSoon?"coming-soon":""}`,children:[u.jsx("div",{className:"product-icon",children:R.icon}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{children:R.name}),C&&u.jsx("span",{className:`license-status ${U.class}`,children:U.text})]}),R.comingSoon?u.jsx("button",{className:"btn-coming",disabled:!0,children:"Sp ra mt"}):C?u.jsx(Re,{to:"/my-licenses",className:"btn-manage",children:"Qun l"}):u.jsx(Re,{to:`/buy/${R.id}`,className:"btn-buy",children:"Mua ngay"})]},R.id)})})]}),u.jsxs("section",{className:"section",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:" Thao tc nhanh"})}),u.jsxs("div",{className:"actions-grid",children:[u.jsxs(Re,{to:"/wallet",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Np tin"})]}),u.jsxs(Re,{to:"/my-licenses",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"License ca ti"})]}),u.jsxs(Re,{to:"/profile",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Lch s giao dch"})]}),u.jsxs(Re,{to:"/buy",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Mua license"})]})]})]}),l.length>0&&u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Giao dch gn y"}),u.jsx(Re,{to:"/profile",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"transactions-list",children:l.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:R.type==="deposit"?"":R.type==="license_purchase"?"":""}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",T(R.amount),""]})]},R.id))})]}),d&&u.jsx("div",{className:"loading-overlay",children:u.jsx("div",{className:"loading-spinner"})})]})]})}function mD(){const{currentUser:s}=ln(),[e,n]=V.useState(0),[r,l]=V.useState([]),[c,d]=V.useState(!0),[p,g]=V.useState(""),[y,T]=V.useState(!1),[b,S]=V.useState(null),[O,R]=V.useState(""),C={bankId:"MB",accountNo:"1444488888888",accountName:"PHAM HAI PHU",template:"compact2"};V.useEffect(()=>{if(!s)return;const z=Tp(ht(Ie,"users",s.uid),oe=>{oe.exists()&&n(oe.data().balance||0)});return()=>z()},[s]),V.useEffect(()=>{if(!s)return;const z=gi(yt(Ie,"deposits"),pa("userId","==",s.uid)),oe=Tp(z,ce=>{let I=ce.docs.map(x=>({id:x.id,...x.data()}));if(I.sort((x,N)=>{const k=x.createdAt?.toDate?.()||new Date(0);return(N.createdAt?.toDate?.()||new Date(0))-k}),b&&y){const x=I.find(N=>N.orderId===b.orderId);x&&x.status==="completed"&&(R(` Np tin thnh cng! +${new Intl.NumberFormat("vi-VN").format(x.actualAmount||x.amount)}`),T(!1),S(null),setTimeout(()=>R(""),5e3))}l(I),d(!1)});return()=>oe()},[s,b,y]);function U(z){return new Intl.NumberFormat("vi-VN").format(z)}function Y(){const z=Date.now().toString(36).toUpperCase(),oe=Math.random().toString(36).substring(2,6).toUpperCase();return`NAP${z}${oe}`}async function W(){const z=parseInt(p);if(!z||z<1e4){alert("S tin np ti thiu l 10,000");return}if(r.filter(ce=>ce.status==="pending").length>=3){alert("Bn  c 3 yu cu np tin ang ch x l. Vui lng i admin xc nhn trc khi to yu cu mi.");return}try{const ce=Y(),I={userId:s.uid,userEmail:s.email,amount:z,orderId:ce,status:"pending",createdAt:dn()};await wr(yt(Ie,"deposits"),I),S({...I,amount:z}),T(!0)}catch(ce){console.error("Error creating deposit:",ce),alert("C li xy ra. Vui lng th li!")}}function ie(){if(!b)return"";const{bankId:z,accountNo:oe,template:ce,accountName:I}=C;return`https://qr.sepay.vn/img?bank=${z}&acc=${oe}&template=${ce}&amount=${b.amount}&des=${b.orderId}&accountName=${encodeURIComponent(I)}`}return u.jsxs("div",{className:"wallet-page",children:[u.jsx(an,{}),O&&u.jsx("div",{className:"success-toast",children:O}),u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Np tin"})]}),u.jsx("div",{className:"balance-section",children:u.jsxs("div",{className:"balance-display",children:[u.jsx("span",{className:"balance-label",children:"S d hin ti"}),u.jsxs("span",{className:"balance-amount",children:[U(e),""]})]})}),y?u.jsxs("div",{className:"qr-section",children:[u.jsx("h2",{children:"Qut m QR  thanh ton"}),u.jsxs("div",{className:"qr-card",children:[u.jsx("img",{src:ie(),alt:"QR Code",className:"qr-image"}),u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ngn hng:"}),u.jsx("span",{className:"value",children:"MB Bank"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"S ti khon:"}),u.jsx("span",{className:"value",children:C.accountNo})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ch ti khon:"}),u.jsx("span",{className:"value",children:C.accountName})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value",children:[U(b?.amount||0),""]})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"Ni dung CK:"}),u.jsx("span",{className:"value code",children:b?.orderId})]})]}),u.jsxs("div",{className:"warning-box",children:[" Vui lng chuyn ",u.jsx("strong",{children:"ng s tin"})," v ",u.jsx("strong",{children:"ng ni dung"}),"  c cng tin t ng!"]})]}),u.jsx("button",{className:"btn-back",onClick:()=>{T(!1),S(null)},children:" Quay li"})]}):u.jsxs("div",{className:"deposit-form-section",children:[u.jsx("h2",{children:"Chn s tin np"}),u.jsx("div",{className:"amount-presets",children:[5e4,1e5,2e5,5e5,1e6].map(z=>u.jsxs("button",{className:`preset-btn ${p===z.toString()?"active":""}`,onClick:()=>g(z.toString()),children:[U(z),""]},z))}),u.jsxs("div",{className:"custom-amount",children:[u.jsx("label",{children:"Hoc nhp s tin khc:"}),u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"number",value:p,onChange:z=>g(z.target.value),placeholder:"Nhp s tin",min:"10000"}),u.jsx("span",{className:"currency",children:""})]})]}),u.jsx("button",{className:"btn-create-deposit",onClick:W,disabled:!p||parseInt(p)<1e4,children:"To lnh np tin"})]}),u.jsxs("div",{className:"history-section",children:[u.jsx("h2",{children:" Lch s np tin"}),c?u.jsx("div",{className:"loading",children:"ang ti..."}):r.length===0?u.jsx("p",{className:"empty-text",children:"Cha c lch s np tin"}):u.jsx("div",{className:"deposits-list",children:r.map(z=>u.jsxs("div",{className:"deposit-item",children:[u.jsxs("div",{className:"deposit-info",children:[u.jsx("div",{className:"deposit-id",children:z.orderId}),u.jsx("div",{className:"deposit-date",children:z.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"deposit-amount",children:["+",U(z.amount),""]}),u.jsx("div",{className:`deposit-status status-${z.status}`,children:z.status==="completed"?" Thnh cng":z.status==="rejected"?" T chi":" ang ch"})]},z.id))})]})]})]})}const pD="modulepreload",gD=function(s){return"/"+s},zT={},yD=function(e,n,r){let l=Promise.resolve();if(n&&n.length>0){let y=function(T){return Promise.all(T.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=y(n.map(T=>{if(T=gD(T),T in zT)return;zT[T]=!0;const b=T.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${S}`))return;const O=document.createElement("link");if(O.rel=b?"stylesheet":pD,b||(O.as="script"),O.crossOrigin="",O.href=T,g&&O.setAttribute("nonce",g),document.head.appendChild(O),b)return new Promise((R,C)=>{O.addEventListener("load",R),O.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})},Gm={regfb:{"1_month":{name:"1 Thng",price:2e5,days:30},"1_year":{name:"1 Nm",price:5e5,days:365}},clonetk:{"1_month":{name:"1 Thng",price:3e5,days:30},"1_year":{name:"1 Nm",price:7e5,days:365}},seoyt:{"1_month":{name:"1 Thng",price:4e5,days:30},"1_year":{name:"1 Nm",price:9e5,days:365}}};function vD(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState(null),[g,y]=V.useState({}),[T,b]=V.useState(null),[S,O]=V.useState(null),[R,C]=V.useState(null),[U,Y]=V.useState(null),[W,ie]=V.useState("1_month"),[z,oe]=V.useState(!1);V.useEffect(()=>{if(R){const ae=setTimeout(()=>C(null),5e3);return()=>clearTimeout(ae)}},[R]),V.useEffect(()=>{async function ae(){if(s){try{const q=gi(yt(Ie,"licenses"),pa("userId","==",s.uid));let ue=(await Sn(q)).docs.map(Ee=>({id:Ee.id,...Ee.data(),licenseKey:Ee.data().licenseKey||Ee.data().key}));ue.sort((Ee,Ae)=>{const L=Ee.createdAt?.toDate?.()||new Date(0);return(Ae.createdAt?.toDate?.()||new Date(0))-L}),console.log("MyLicenses fetched:",ue),r(ue)}catch(q){console.error("Error fetching licenses:",q),alert("Li ti licenses: "+q.message)}c(!1)}}async function ye(){try{const q=ht(Ie,"settings","software"),re=await kc(q);re.exists()&&O(re.data())}catch(q){console.error("Error fetching software info:",q)}}ae(),ye()},[s]);function ce(ae){return new Intl.NumberFormat("vi-VN").format(ae)}function I(ae){if(ae.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(ae.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(ae.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const ye=new Date,q=ae.expiresAt?.toDate?.()||new Date(ae.expiresAt);if(ye>=q)return{text:"Ht hn",class:"status-expired"};const re=q-ye,ue=Math.floor(re/(1e3*60*60*24));return ue<=3?{text:`Cn ${ue} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}function x(ae){return{regfb:"Reg Facebook Tool",clonetk:"Clone TikTok Tool",seoyt:"YouTube SEO Tool"}[ae]||ae}function N(ae){return{daily:"Theo ngy",monthly:"1 thng",yearly:"1 nm",lifetime:"Vnh vin"}[ae]||ae}function k(ae){navigator.clipboard.writeText(ae),alert(" copy!")}async function M(ae){b(ae);try{const q=n.find(ue=>ue.id===ae)?.hwid,re={hwid:null,hwidResetRequested:!1};if(q){const{arrayUnion:ue}=await yD(async()=>{const{arrayUnion:Ee}=await Promise.resolve().then(()=>eD);return{arrayUnion:Ee}},[]);re.hwidHistory=ue(q)}await bn(ht(Ie,"licenses",ae),re),r(ue=>ue.map(Ee=>Ee.id===ae?{...Ee,hwid:null,hwidResetRequested:!1,hwidHistory:[...Ee.hwidHistory||[],q].filter(Boolean)}:Ee)),C({type:"success",message:" reset HWID. Bn c th gn my mi."})}catch(ye){console.error("Error resetting HWID:",ye),C({type:"error",message:"Li reset HWID: "+ye.message})}b(null)}async function B(ae){const ye=g[ae]?.trim();if(!ye||ye.length<20){C({type:"error",message:"HWID khng hp l! Vui lng nhp ng HWID t tool."});return}b(ae);try{const q=gi(yt(Ie,"licenses"),pa("hwid","==",ye)),ue=(await Sn(q)).docs.find(Ae=>Ae.id!==ae);if(ue){const Ae=ue.data();C({type:"error",message:`HWID ny  c ng k bi ti khon khc (${Ae.userEmail||"unknown"})! Mi HWID ch c th kch hot 1 license.`}),b(null);return}const Ee=await Sn(yt(Ie,"licenses"));for(const Ae of Ee.docs)if((Ae.data().hwidHistory||[]).includes(ye)&&Ae.id!==ae){C({type:"error",message:"HWID ny  tng c s dng v b reset! Khng th gn li vo license khc."}),b(null);return}await bn(ht(Ie,"licenses",ae),{hwid:ye,status:"active",activatedAt:new Date}),r(Ae=>Ae.map(L=>L.id===ae?{...L,hwid:ye,status:"active"}:L)),y(Ae=>({...Ae,[ae]:""})),C({type:"success",message:"Kch hot license thnh cng! Vui lng khi ng li tool  s dng."})}catch(q){console.error("Error saving HWID:",q),C({type:"error",message:"Li kch hot: "+q.message})}b(null)}async function j(){if(!U||!s)return;const ae=Gm[U.productId];if(!ae){C({type:"error",message:"Khng tm thy gi gia hn cho sn phm ny!"});return}const ye=ae[W];if(!ye){C({type:"error",message:"Vui lng chn gi gia hn!"});return}const q=e?.balance||0;if(q<ye.price){C({type:"error",message:`S d khng ! Cn ${ce(ye.price)}, hin c ${ce(q)}`});return}oe(!0);try{let re;const ue=U.expiresAt?.toDate?.()||new Date(U.expiresAt);ue>new Date?(re=new Date(ue),re.setDate(re.getDate()+ye.days)):(re=new Date,re.setDate(re.getDate()+ye.days)),await bn(ht(Ie,"licenses",U.id),{expiresAt:re,status:"active",renewedAt:dn()}),await bn(ht(Ie,"users",s.uid),{balance:Ad(-ye.price)}),await wr(yt(Ie,"transactions"),{userId:s.uid,userEmail:s.email,type:"renewal",amount:-ye.price,description:`Gia hn ${x(U.productId)} - ${ye.name}`,licenseId:U.id,createdAt:dn()}),r(Ae=>Ae.map(L=>L.id===U.id?{...L,expiresAt:re,status:"active"}:L)),C({type:"success",message:`Gia hn thnh cng! License mi ht hn: ${re.toLocaleDateString("vi-VN")}`}),Y(null)}catch(re){console.error("Error renewing license:",re),C({type:"error",message:"Li gia hn: "+re.message})}oe(!1)}return u.jsxs("div",{className:"licenses-page",children:[u.jsx(an,{}),R&&u.jsxs("div",{className:`toast toast-${R.type}`,children:[u.jsx("span",{className:"toast-icon",children:R.type==="success"?"":""}),u.jsx("span",{className:"toast-message",children:R.message}),u.jsx("button",{className:"toast-close",onClick:()=>C(null),children:""})]}),u.jsxs("div",{className:"licenses-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" License ca ti"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Cha c license no"}),u.jsx("p",{children:"Mua license  bt u s dng cc cng c ca chng ti!"}),u.jsx(Re,{to:"/buy",className:"btn-buy",children:" Mua license ngay"})]}):u.jsxs(u.Fragment,{children:[S?.downloadUrl&&n.some(ae=>ae.status==="active")&&u.jsxs("div",{className:"download-section",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsxs("div",{className:"download-info",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version: ",u.jsx("strong",{children:S.version||"1.0.0"})]})]}),u.jsx("a",{href:S.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-download",children:" Ti xung"})]}),S.changelog&&u.jsxs("details",{className:"changelog",children:[u.jsx("summary",{children:" Changelog"}),u.jsx("pre",{children:S.changelog})]})]}),u.jsx("div",{className:"licenses-grid",children:n.map(ae=>{const ye=I(ae);return u.jsxs("div",{className:"license-card",children:[u.jsxs("div",{className:"license-header",children:[u.jsx("h3",{children:x(ae.productId)}),u.jsx("span",{className:`license-status ${ye.class}`,children:ye.text})]}),u.jsxs("div",{className:"license-body",children:[u.jsxs("div",{className:"license-key-section",children:[u.jsx("label",{children:"License Key:"}),u.jsxs("div",{className:"key-display",children:[u.jsx("code",{children:ae.licenseKey}),u.jsx("button",{className:"btn-copy",onClick:()=>k(ae.licenseKey),children:""})]})]}),u.jsxs("div",{className:"license-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:"value",children:N(ae.plan)})]}),ae.expiresAt&&ae.plan!=="daily"&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:ae.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),ae.hwid?u.jsxs("span",{className:"value hwid",title:ae.hwid,children:[ae.hwid.substring(0,20),"..."]}):u.jsx("span",{className:"value hwid-pending",children:"Cha kch hot"})]})]}),!ae.hwid&&ae.status!=="revoked"&&u.jsxs("div",{className:"hwid-activation-section",children:[u.jsx("p",{className:"hwid-instruction",children:" M tool  Copy HWID  Paste vo y  kch hot:"}),u.jsxs("div",{className:"hwid-input-group",children:[u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:g[ae.id]||"",onChange:q=>y(re=>({...re,[ae.id]:q.target.value})),className:"hwid-input"}),u.jsxs("button",{className:"btn-activate",onClick:()=>B(ae.id),disabled:T===ae.id,children:[T===ae.id?"":""," Kch hot"]})]})]}),ae.hwid&&ae.status==="active"&&u.jsxs("button",{className:"btn-reset-hwid",onClick:()=>M(ae.id),disabled:T===ae.id,children:[T===ae.id?"":""," i my"]}),ae.plan!=="lifetime"&&ae.plan!=="daily"&&ae.status!=="revoked"&&u.jsx("button",{className:"btn-renew",onClick:()=>{Y(ae),ie("1_month")},children:" Gia hn"})]}),u.jsx("div",{className:"license-footer",children:u.jsxs("span",{className:"created-date",children:["Mua ngy: ",ae.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})})]},ae.id)})})]})]}),U&&u.jsx("div",{className:"modal-overlay",onClick:()=>Y(null),children:u.jsxs("div",{className:"renew-modal",onClick:ae=>ae.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" Gia hn License"}),u.jsx("button",{className:"modal-close",onClick:()=>Y(null),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"renew-info",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",x(U.productId)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"License:"})," ",U.licenseKey]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ht hn:"})," ",U.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"renew-options",children:[u.jsx("h3",{children:"Chn gi gia hn:"}),Gm[U.productId]&&Object.entries(Gm[U.productId]).map(([ae,ye])=>u.jsxs("label",{className:`renew-option ${W===ae?"selected":""}`,children:[u.jsx("input",{type:"radio",name:"renewPlan",value:ae,checked:W===ae,onChange:()=>ie(ae)}),u.jsx("span",{className:"option-name",children:ye.name}),u.jsxs("span",{className:"option-price",children:[ce(ye.price),""]})]},ae))]}),u.jsxs("div",{className:"renew-balance",children:[u.jsx("span",{children:"S d hin ti:"}),u.jsxs("span",{className:"balance-amount",children:[ce(e?.balance||0),""]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>Y(null),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:j,disabled:z,children:z?" ang x l...":" Xc nhn gia hn"})]})]})})]})}function _D(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all");V.useEffect(()=>{async function R(){if(s){try{const C=gi(yt(Ie,"transactions"),pa("userId","==",s.uid));let Y=(await Sn(C)).docs.map(W=>({id:W.id,...W.data()}));Y.sort((W,ie)=>{const z=W.createdAt?.toDate?.()||new Date(0);return(ie.createdAt?.toDate?.()||new Date(0))-z}),console.log("Transactions fetched:",Y),r(Y)}catch(C){console.error("Error fetching transactions:",C),alert("Li ti giao dch: "+C.message)}c(!1)}}R()},[s]);function g(R){return new Intl.NumberFormat("vi-VN").format(R)}function y(){return d==="all"?n:n.filter(R=>R.type===d)}function T(R){switch(R){case"deposit":return"";case"license_purchase":return"";case"daily_deduct":return"";default:return""}}function b(R){switch(R){case"deposit":return"Np tin";case"license_purchase":return"Mua license";case"daily_deduct":return"Tr ngy";default:return R}}const S=e?.balance||0,O=y();return u.jsxs("div",{className:"profile-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"profile-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Thng tin ti khon"})]}),u.jsxs("div",{className:"user-info-card",children:[u.jsx("div",{className:"avatar",children:u.jsx("span",{children:e?.displayName?.[0]?.toUpperCase()||"?"})}),u.jsxs("div",{className:"user-details",children:[u.jsx("h2",{children:e?.displayName||"User"}),u.jsx("p",{className:"email",children:s?.email}),u.jsxs("p",{className:"member-since",children:["Thnh vin t: ",e?.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"balance-section",children:[u.jsx("div",{className:"balance-label",children:"S d"}),u.jsxs("div",{className:"balance-amount",children:[g(S),""]}),u.jsx(Re,{to:"/wallet",className:"btn-deposit",children:"Np tin"})]})]}),u.jsxs("div",{className:"transactions-section",children:[u.jsx("h2",{children:" Lch s giao dch"}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsx("button",{className:`tab ${d==="deposit"?"active":""}`,onClick:()=>p("deposit"),children:"Np tin"}),u.jsx("button",{className:`tab ${d==="license_purchase"?"active":""}`,onClick:()=>p("license_purchase"),children:"Mua license"}),u.jsx("button",{className:`tab ${d==="daily_deduct"?"active":""}`,onClick:()=>p("daily_deduct"),children:"Tr ngy"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):O.length===0?u.jsx("div",{className:"empty-text",children:"Cha c giao dch no"}):u.jsx("div",{className:"transactions-list",children:O.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:T(R.type)}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-type",children:b(R.type)}),u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",g(R.amount),""]})]},R.id))})]})]})]})}const Km={regfb:{name:"Reg Facebook Tool",icon:"",description:"Tool t ng ng k v verify ti khon Facebook hng lot",plans:{daily:{name:"Theo ngy",price:1e4,days:0,icon:"",description:"Tr 10k/ngy khi s dng"},monthly:{name:"1 Thng",price:2e5,days:30,icon:"",popular:!0},yearly:{name:"1 Nm",price:5e5,days:365,icon:""},lifetime:{name:"Vnh vin",price:6e5,days:-1,icon:""}}},clonetk:{name:"Clone TikTok Tool",icon:"",description:"Cng c clone video TikTok, qun l nhiu ti khon",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:15e3,days:0,icon:""},monthly:{name:"1 Thng",price:3e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:8e5,days:-1,icon:""}}},seoyt:{name:"YouTube SEO Tool",icon:"",description:"Ti u SEO video YouTube, tng view v subscriber",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:2e4,days:0,icon:""},monthly:{name:"1 Thng",price:4e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:1e6,days:-1,icon:""}}}};function BT(){const{currentUser:s,userProfile:e}=ln(),n=jl(),{productId:r}=Zw(),[l,c]=V.useState(r||"regfb"),[d,p]=V.useState("monthly"),[g,y]=V.useState(!1),[T,b]=V.useState(!1),[S,O]=V.useState(null),R=Km[l],C=R?.plans[d],U=e?.balance||0,{validateSubmission:Y,recordAttempt:W}=xg({maxAttempts:3,windowMs:36e5,cooldownMs:36e5});V.useEffect(()=>{r&&Km[r]&&c(r)},[r]);function ie(x){return new Intl.NumberFormat("vi-VN").format(x)}function z(){const x="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let k=0;k<4;k++){for(let M=0;M<4;M++)N+=x.charAt(Math.floor(Math.random()*x.length));k<3&&(N+="-")}return N}function oe(x){if(x<=0)return null;const N=new Date;return N.setDate(N.getDate()+x),N}async function ce(){if(!s){n("/login");return}if(R.comingSoon){alert("Sn phm ny sp ra mt!");return}if(U<C.price){alert("S d khng ! Vui lng np thm tin."),n("/wallet");return}const x=Y();if(!x.valid){alert(x.error);return}W(),y(!0);try{const N=z(),k=oe(C.days);await wr(yt(Ie,"licenses"),{userId:s.uid,userEmail:s.email,productId:l,licenseKey:N,plan:d,planName:C.name,price:C.price,status:"active",hwid:null,expiresAt:k,createdAt:dn()}),await bn(ht(Ie,"users",s.uid),{balance:Ad(-C.price)}),await wr(yt(Ie,"transactions"),{userId:s.uid,type:"license_purchase",amount:-C.price,productId:l,description:`Mua ${R.name} - ${C.name}`,createdAt:dn()}),O({product:R.name,plan:C.name,licenseKey:N,expiresAt:k}),b(!1)}catch(N){console.error("Error purchasing license:",N),alert("C li xy ra. Vui lng th li!")}y(!1)}function I(){S?.licenseKey&&(navigator.clipboard.writeText(S.licenseKey),alert(" copy license key!"))}return S?u.jsxs("div",{className:"buy-page",children:[u.jsx(an,{}),u.jsx("div",{className:"buy-container",children:u.jsxs("div",{className:"success-section",children:[u.jsx("div",{className:"success-icon",children:""}),u.jsx("h1",{children:"Mua License Thnh Cng!"}),u.jsxs("p",{children:["Cm n bn  mua ",S.product]}),u.jsxs("div",{className:"license-display",children:[u.jsx("label",{children:"License Key ca bn:"}),u.jsxs("div",{className:"license-key",children:[u.jsx("code",{children:S.licenseKey}),u.jsx("button",{onClick:I,className:"btn-copy",children:" Copy"})]})]}),u.jsxs("div",{className:"purchase-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:S.product})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:S.plan})]}),S.expiresAt&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Ht hn:"}),u.jsx("span",{children:S.expiresAt.toLocaleDateString("vi-VN")})]})]}),u.jsxs("div",{className:"success-actions",children:[u.jsx(Re,{to:"/my-licenses",className:"btn-primary",children:"Xem License ca ti"}),u.jsx(Re,{to:"/dashboard",className:"btn-secondary",children:"V Dashboard"})]})]})})]}):u.jsxs("div",{className:"buy-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"buy-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Mua License"})]}),u.jsxs("div",{className:"balance-bar",children:[u.jsxs("div",{className:"balance-info",children:[u.jsx("span",{children:"S d:"}),u.jsxs("span",{className:"balance-amount",children:[ie(U),""]})]}),u.jsx(Re,{to:"/wallet",className:"btn-topup",children:" Np thm"})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"1 Chn sn phm"}),u.jsx("div",{className:"products-select",children:Object.entries(Km).map(([x,N])=>u.jsxs("div",{className:`product-option ${l===x?"selected":""} ${N.comingSoon?"coming-soon":""}`,onClick:()=>!N.comingSoon&&c(x),children:[u.jsx("div",{className:"product-icon",children:N.icon}),u.jsx("div",{className:"product-name",children:N.name}),N.comingSoon&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"})]},x))})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"2 Chn gi"}),u.jsx("div",{className:"plans-grid",children:Object.entries(R.plans).map(([x,N])=>u.jsxs("div",{className:`plan-card ${d===x?"selected":""} ${N.popular?"popular":""}`,onClick:()=>p(x),children:[N.popular&&u.jsx("div",{className:"popular-badge",children:"Ph bin"}),u.jsx("div",{className:"plan-icon",children:N.icon}),u.jsx("h3",{children:N.name}),u.jsx("div",{className:"plan-price",children:u.jsxs("span",{className:"price",children:[ie(N.price),""]})}),N.description&&u.jsx("p",{className:"plan-desc",children:N.description}),u.jsxs("ul",{className:"plan-features",children:[u.jsx("li",{children:" Ton b tnh nng"}),u.jsx("li",{children:" H tr 24/7"}),u.jsx("li",{children:" Cp nht min ph"}),x==="lifetime"&&u.jsx("li",{children:" Khng gii hn thi gian"}),x==="daily"&&u.jsx("li",{children:" Ch tr tin khi s dng"})]}),u.jsx("div",{className:"plan-select",children:d===x?"  chn":"Chn gi ny"})]},x))})]}),u.jsxs("div",{className:"checkout-section",children:[u.jsxs("div",{className:"checkout-summary",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:R.name})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:C.name})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Tng thanh ton:"}),u.jsxs("span",{className:"total-price",children:[ie(C.price),""]})]}),U<C.price&&u.jsxs("div",{className:"insufficient-warning",children:[" S d khng . Cn np thm ",ie(C.price-U),""]})]}),u.jsx("button",{className:"btn-checkout",onClick:()=>b(!0),disabled:g||R.comingSoon||U<C.price,children:g?u.jsx("span",{className:"loading-spinner"}):U<C.price?"S d khng ":u.jsxs(u.Fragment,{children:[" Mua ngay - ",ie(C.price),""]})})]}),T&&u.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:u.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[u.jsx("h2",{children:"Xc nhn mua hng"}),u.jsxs("div",{className:"confirm-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",R.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",C.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",ie(C.price),""]}),u.jsxs("p",{children:[u.jsx("strong",{children:"S d sau khi mua:"})," ",ie(U-C.price),""]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>b(!1),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:ce,disabled:g,children:g?"ang x l...":"Xc nhn mua"})]})]})})]})]})}function ED(){return u.jsxs("div",{className:"guide-page",children:[u.jsx(VS,{title:"Hng dn s dng",description:"Hng dn chi tit cch s dng Tool Reg/Very Facebook. Cc bc ci t, kch hot license, cu hnh Option v Setting.",keywords:"hng dn tool reg fb, cch dng tool very fb, tutorial php tool, ci t tool facebook"}),u.jsx(an,{}),u.jsxs("div",{className:"guide-container",children:[u.jsxs("div",{className:"guide-header",children:[u.jsx("h1",{children:" Hng Dn S Dng"}),u.jsx("p",{children:"Tool Reg/Very FB by PHP-TOOL"})]}),u.jsxs("div",{className:"guide-toc",children:[u.jsx("h2",{children:" Mc lc"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#intro",children:"1. Gii thiu chung"})}),u.jsx("li",{children:u.jsx("a",{href:"#features",children:"2. Cc chc nng chnh"})}),u.jsx("li",{children:u.jsx("a",{href:"#requirements",children:"3. iu kin s dng tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#steps",children:"4. Cc bc chy tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#options",children:"5. Ci t Option"})}),u.jsx("li",{children:u.jsx("a",{href:"#settings",children:"6. Ci t Setting"})}),u.jsx("li",{children:u.jsx("a",{href:"#support",children:"7. Lin h h tr"})})]})]}),u.jsxs("div",{className:"guide-content",children:[u.jsxs("section",{id:"intro",className:"guide-section",children:[u.jsx("h2",{children:"1. Gii thiu chung"}),u.jsx("p",{children:"Tool automatic Facebook account register and verification by PHP-TOOL gip vic to ti khon hay xc minh FB hng lot ca mi ngi tr nn d dng v nhanh chng thun tin."}),u.jsx("p",{children:"Giao din d dng thao tc s dng. Nhiu chc nng cho mi ngi la chn v s dng theo nhu cu v mc ch."}),u.jsx("p",{children:"Gi thu tool th r nht so vi th trng v quan trng l s h tr mi ngi trong qu trnh s dng, lng nghe s gp   tool hon thin hn."})]}),u.jsxs("section",{id:"features",className:"guide-section",children:[u.jsx("h2",{children:"2. Cc chc nng chnh"}),u.jsxs("div",{className:"features-table",children:[u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" REG (To ti khon)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," novery, hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," novery, hotmail, sms, gmail, virtual email"]})]})]}),u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" VERY (Xc minh)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," hotmail, sms, gmail, virtual email"]})]})]})]})]}),u.jsxs("section",{id:"requirements",className:"guide-section",children:[u.jsx("h2",{children:"3. iu kin s dng tool"}),u.jsxs("div",{className:"requirements-list",children:[u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"c dng th 1 ngy cho ngi mi"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Cn thu tool thng (200k) hoc vnh vin (600k)  s dng"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Tool chy c trn Windows, khng th chy trn VPS"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:" chy c tool cn c smartphone root hoc LDPlayer"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Khng c cu hnh my ti thiu, nu chy LD my yu chy t Tab"})]})]})]}),u.jsxs("section",{id:"steps",className:"guide-section",children:[u.jsx("h2",{children:"4. Cc bc chy tool"}),u.jsxs("div",{className:"step-list",children:[u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Gii nn file"}),u.jsx("p",{children:'Sau khi ti file rar tool v, n vo "Extract All"  gii nn'})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Ci t APK (nu dng in thoi)"}),u.jsx("p",{children:"n vo folder APK  tin hnh ci tt c cc app cn thit. Nu bn chy LDPlayer th b qua bc ny."})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"M Tool"}),u.jsx("p",{children:"n vo file ui .exe  m tool"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"4"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Kch hot License"}),u.jsx("p",{children:"n sao chp m HWID, sau  vo website  kch hot license"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"5"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Load thit b"}),u.jsx("p",{children:"Sau khi vo tool, chuyn sang tab Device  load thit b mun chy. C th tick tng thit b, bi en click chut phi n chn, hoc chn tt c."})]})]})]})]}),u.jsxs("section",{id:"options",className:"guide-section",children:[u.jsx("h2",{children:"5. Ci t Option"}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Hotmail"}),u.jsxs("p",{children:["C 3 site: ",u.jsx("code",{children:"unlimitmail"}),", ",u.jsx("code",{children:"dongvanfb"}),", ",u.jsx("code",{children:"shopvia1s"})]}),u.jsx("p",{className:"note",children:"dongvanfb v unlimitmail l hotmail new, cn shopvia l hotmail trust"}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."}),u.jsxs("p",{className:"tip",children:[" ",u.jsx("strong",{children:"Mo:"})," C th thay i loi email mua bng cch sa ID trong file ",u.jsx("code",{children:"data/[site].txt"}),". VD: Sa ",u.jsx("code",{children:"data/dongvanfb.txt"})," nhp s ",u.jsx("code",{children:"2"})," s mua Outlook thay v Hotmail."]})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" SMS"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"ironsim"}),", ",u.jsx("code",{children:"funotp"}),", ",u.jsx("code",{children:"otptextnow"}),", ",u.jsx("code",{children:"viotp"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Gmail"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"shopmailmmo"}),", ",u.jsx("code",{children:"shopgmail999"}),", ",u.jsx("code",{children:"gmail66"}),", ",u.jsx("code",{children:"clonenha"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Virtual Email"}),u.jsxs("p",{children:["C 7 site: ",u.jsx("code",{children:"10p"}),", ",u.jsx("code",{children:"tm"}),", ",u.jsx("code",{children:"temp"}),", ",u.jsx("code",{children:"saki"}),", ",u.jsx("code",{children:"fake"}),", ",u.jsx("code",{children:"generator"}),", ",u.jsx("code",{children:"drop"})]})]})]}),u.jsxs("section",{id:"settings",className:"guide-section",children:[u.jsx("h2",{children:"6. Ci t Setting"}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Ci t chung"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Reg/Very:"})," Chn reg hoc very (chn very khng th chn novery  option)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"App:"})," Chn app Katana hoc Lite"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Sex:"})," Chn male, female hoc random"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Language:"})," Chn VN (c trong in thoi/LD cng phi  ting Vit)"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Name & Password"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Name:"})," C last v first  t custom, hoc vo folder data thay i"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Password:"}),"  random (ngu nhin) hoc t t mt khu ring"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Bait:"})," Mi s in thoi, c th b u s mong mun vo file prefix number"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Change IP"}),u.jsxs("p",{children:["C 4 la chn: ",u.jsx("strong",{children:"4G"}),", ",u.jsx("strong",{children:"Wifi"}),", ",u.jsx("strong",{children:"Proxy"}),", ",u.jsx("strong",{children:"VPN"})]}),u.jsx("p",{children:"Ring Proxy xoay: Vo app Super Proxy, n du cng  thm proxy khi mua. Bt phn t ng i IP, nhp cc thng s v n Start."}),u.jsxs("p",{children:["Proxy list: Nhp danh sch proxy vo ",u.jsx("code",{children:"data/proxy.txt"})," vi nh dng ",u.jsx("code",{children:"ip:port:user:pass"})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Setting Time"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Time action:"})," Thi gian hnh ng (mun chm/nhanh)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time wait otp:"})," Thi gian ch ly OTP"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time buy:"})," Thi gian ch mua ti nguyn"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" File Input/Output"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"File account:"})," Nhp tk|mk  chy very"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File live:"})," Ti khon reg/very live"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File novery:"})," Ti khon cha xc minh"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File die:"})," Ti khon die"]})]})]})]}),u.jsxs("section",{id:"support",className:"guide-section support-section",children:[u.jsx("h2",{children:"7. Lin h h tr"}),u.jsxs("p",{className:"support-note",children:["Nu bn gp bt k vn  no trong qu trnh s dng hoc c  tng ng gp,",u.jsx("br",{}),"ng ngn ngi lin h vi mnh nh! "]}),u.jsx("div",{className:"support-cards centered",children:u.jsxs("a",{href:"https://t.me/phu_dev",target:"_blank",rel:"noopener noreferrer",className:"support-card",children:[u.jsx("span",{className:"support-icon",children:""}),u.jsx("span",{children:"Telegram"})]})}),u.jsx("p",{className:"support-footer",children:"Chc mi ngi s dng tool vui v v hiu qu! "})]})]})]})]})}function TD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("");V.useEffect(()=>{g()},[]);async function g(){try{const S=gi(yt(Ie,"users"),Vc("createdAt","desc")),R=(await Sn(S)).docs.map(C=>({id:C.id,...C.data()}));r(R)}catch(S){console.error("Error fetching users:",S)}c(!1)}async function y(S,O){const R=O==="admin"?"user":"admin";try{await bn(ht(Ie,"users",S),{role:R}),r(n.map(C=>C.id===S?{...C,role:R}:C))}catch(C){console.error("Error updating role:",C)}}async function T(S){try{await wg(ht(Ie,"users",S)),r(n.filter(O=>O.id!==S))}catch(O){console.error("Error deleting user:",O)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const b=n.filter(S=>S.email?.toLowerCase().includes(d.toLowerCase())||S.displayName?.toLowerCase().includes(d.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Users"}),u.jsxs("p",{children:["Tng cng: ",n.length," users"]})]}),u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo email hoc tn...",value:d,onChange:S=>p(S.target.value)})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Tn"}),u.jsx("th",{children:"Vai tr"}),u.jsx("th",{children:"Balance"}),u.jsx("th",{children:"Ngy to"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:b.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"email-cell",children:S.email}),u.jsx("td",{children:S.displayName||"-"}),u.jsx("td",{children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("td",{children:[S.balance?.toLocaleString("vi-VN")||0,""]}),u.jsx("td",{children:S.createdAt?.toDate?S.createdAt.toDate().toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action btn-toggle",onClick:()=>y(S.id,S.role),title:S.role==="admin"?"H xung User":"Nng ln Admin",children:S.role==="admin"?"":""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>T(S.id),title:"Xa user",children:""})]})]},S.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:b.map(S=>u.jsxs("div",{className:`mobile-card role-${S.role}`,children:[u.jsx("div",{className:"mobile-card-header",children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:S.email})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Tn:"}),u.jsx("span",{className:"value",children:S.displayName||"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S d:"}),u.jsxs("span",{className:"value amount",children:[S.balance?.toLocaleString("vi-VN")||0,""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:S.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:S.role==="admin"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>y(S.id,S.role),children:S.role==="admin"?" H QUYN":" NNG ADMIN"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>T(S.id),children:" XA"})]})]},S.id))})]})]})]})}function bD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let r="";for(let l=0;l<4;l++)r+=s.charAt(Math.floor(Math.random()*s.length));e.push(r)}return e.join("-")}function SD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState({}),[d,p]=V.useState(!0),[g,y]=V.useState(!1),[T,b]=V.useState(""),[S,O]=V.useState({plan:"1_month",userId:"",userEmail:"",hwid:""});V.useEffect(()=>{R()},[]);async function R(){try{const z=await Sn(yt(Ie,"users")),oe={};z.docs.forEach(N=>{oe[N.id]=N.data()}),c(oe);const ce=gi(yt(Ie,"licenses"),Vc("createdAt","desc")),x=(await Sn(ce)).docs.map(N=>({id:N.id,...N.data()}));r(x)}catch(z){console.error("Error fetching data:",z)}p(!1)}async function C(){try{const z=S.plan,oe=z==="1_day"?1:z==="1_month"?30:-1,ce=oe>0?new Date(Date.now()+oe*24*60*60*1e3):null,I=S.hwid&&S.hwid.trim()!=="",x=I||S.userId,N={licenseKey:bD(),productId:"regfb",plan:z,status:x?"active":"pending",userId:S.userId||null,hwid:I?S.hwid.trim():null,hwidHistory:[],createdAt:dn(),activatedAt:x?dn():null,expiresAt:ce},k=await wr(yt(Ie,"licenses"),N);r([{id:k.id,...N,createdAt:new Date},...n]),y(!1),O({plan:"1_month",userId:"",userEmail:"",hwid:""})}catch(z){console.error("Error creating license:",z)}}async function U(z,oe){const ce=oe==="active"?"revoked":"active";try{await bn(ht(Ie,"licenses",z),{status:ce}),r(n.map(I=>I.id===z?{...I,status:ce}:I))}catch(I){console.error("Error updating status:",I)}}async function Y(z,oe){try{const I=n.find(x=>x.id===z).hwidHistory||[];oe&&I.push(oe),await bn(ht(Ie,"licenses",z),{hwid:null,hwidHistory:I}),r(n.map(x=>x.id===z?{...x,hwid:null,hwidHistory:I}:x))}catch(ce){console.error("Error resetting HWID:",ce)}}async function W(z){try{await wg(ht(Ie,"licenses",z)),r(n.filter(oe=>oe.id!==z))}catch(oe){console.error("Error deleting license:",oe)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const ie=n.filter(z=>(z.licenseKey||z.key||"").toLowerCase().includes(T.toLowerCase())||l[z.userId]?.email?.toLowerCase().includes(T.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Licenses"}),u.jsxs("p",{children:["Tng cng: ",n.length," licenses"]})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo key hoc email...",value:T,onChange:z=>b(z.target.value)})]}),u.jsx("button",{className:"btn-create",onClick:()=>y(!0),children:" To License"})]})]}),d?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Key"}),u.jsx("th",{children:"Gi"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"}),u.jsx("th",{children:"Ht hn"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:ie.map(z=>u.jsxs("tr",{children:[u.jsxs("td",{className:"key-cell",children:[u.jsx("code",{children:z.licenseKey||z.key}),u.jsx("button",{className:"btn-copy-small",onClick:()=>navigator.clipboard.writeText(z.licenseKey||z.key),children:""})]}),u.jsx("td",{children:u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&" Active",z.status==="pending"&&" Pending",z.status==="expired"&&" Expired",z.status==="revoked"&&" Revoked"]})}),u.jsx("td",{children:z.userId?l[z.userId]?.email||z.userId.substring(0,8)+"...":u.jsx("span",{className:"no-user",children:"Cha gn"})}),u.jsx("td",{children:z.hwid?u.jsxs("span",{className:"hwid-value",title:z.hwid,children:[z.hwid.substring(0,10),"..."]}):u.jsx("span",{className:"no-hwid",children:"-"})}),u.jsx("td",{children:z.plan==="lifetime"?"":z.expiresAt?.toDate?z.expiresAt.toDate().toLocaleDateString("vi-VN"):z.expiresAt?new Date(z.expiresAt).toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action",onClick:()=>U(z.id,z.status),title:z.status==="active"?"Thu hi":"Kch hot",children:z.status==="active"?"":""}),z.hwid&&u.jsx("button",{className:"btn-action",onClick:()=>Y(z.id,z.hwid),title:"Reset HWID",children:""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>W(z.id),title:"Xa",children:""})]})]},z.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:ie.map(z=>u.jsxs("div",{className:`mobile-card status-${z.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("code",{className:"license-key-mobile",children:z.licenseKey||z.key}),u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&"",z.status==="pending"&&"",z.status==="expired"&&"",z.status==="revoked"&&""]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"User:"}),u.jsx("span",{className:"value",children:z.userId?l[z.userId]?.email||z.userId.substring(0,12)+"...":"Cha gn"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),u.jsx("span",{className:"value",children:z.hwid?z.hwid.substring(0,12)+"...":"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:z.plan==="lifetime"?" Vnh vin":z.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:z.status==="active"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>U(z.id,z.status),children:z.status==="active"?" THU HI":" KCH HOT"}),z.hwid&&u.jsx("button",{className:"btn-secondary-mobile",onClick:()=>Y(z.id,z.hwid),children:" RESET"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>W(z.id),children:""})]})]},z.id))})]})]}),g&&u.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:u.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" To License Mi"}),u.jsx("button",{className:"btn-close",onClick:()=>y(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gi License"}),u.jsxs("select",{value:S.plan,onChange:z=>O({...S,plan:z.target.value}),children:[u.jsx("option",{value:"1_day",children:"1 Ngy - 10,000"}),u.jsx("option",{value:"1_month",children:"1 Thng - 200,000"}),u.jsx("option",{value:"lifetime",children:"Vnh vin - 600,000"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gn cho User (ty chn)"}),u.jsxs("select",{value:S.userId,onChange:z=>O({...S,userId:z.target.value}),children:[u.jsx("option",{value:"",children:"-- Khng gn --"}),Object.entries(l).map(([z,oe])=>u.jsx("option",{value:z,children:oe.email},z))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"HWID my tnh (copy t tool)"}),u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:S.hwid,onChange:z=>O({...S,hwid:z.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontFamily:"monospace",fontSize:"0.85rem"}}),u.jsx("small",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.75rem"},children:"User m tool  Copy HWID  Paste vo y"})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>y(!1),children:"Hy"}),u.jsx("button",{className:"btn-submit",onClick:C,children:"To License"})]})]})})]})}function AD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let r="";for(let l=0;l<4;l++)r+=s.charAt(Math.floor(Math.random()*s.length));e.push(r)}return e.join("-")}function wD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all");V.useEffect(()=>{g()},[]);async function g(){try{const R=gi(yt(Ie,"orders"),Vc("createdAt","desc")),U=(await Sn(R)).docs.map(Y=>({id:Y.id,...Y.data()}));r(U)}catch(R){console.error("Error fetching orders:",R)}c(!1)}async function y(R){try{await bn(ht(Ie,"orders",R.id),{status:"paid",paidAt:dn()});const C=R.plan,U=C==="1_day"?1:C==="1_month"?30:-1,Y=U>0?new Date(Date.now()+U*24*60*60*1e3):null;await wr(yt(Ie,"licenses"),{licenseKey:AD(),productId:"regfb",plan:C,status:"active",userId:R.userId,hwid:null,hwidHistory:[],createdAt:dn(),activatedAt:dn(),expiresAt:Y,orderId:R.orderId}),r(n.map(W=>W.id===R.id?{...W,status:"paid",paidAt:new Date}:W))}catch(C){console.error("Error confirming payment:",C)}}async function T(R){try{await bn(ht(Ie,"orders",R),{status:"cancelled"}),r(n.map(C=>C.id===R?{...C,status:"cancelled"}:C))}catch(C){console.error("Error cancelling order:",C)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const b=d==="all"?n:n.filter(R=>R.status===d),S=n.filter(R=>R.status==="pending").length;function O(R){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l n hng"}),u.jsxs("p",{children:["Tng cng: ",n.length," n",S>0&&u.jsxs("span",{className:"pending-alert",children:["  ",S," n ch x l"]})]})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsxs("button",{className:`tab ${d==="pending"?"active":""}`,onClick:()=>p("pending"),children:[" Ch x l (",S,")"]}),u.jsx("button",{className:`tab ${d==="paid"?"active":""}`,onClick:()=>p("paid"),children:"  thanh ton"}),u.jsx("button",{className:`tab ${d==="cancelled"?"active":""}`,onClick:()=>p("cancelled"),children:"  hy"})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):b.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Khng c n hng no"})]}):u.jsx("div",{className:"orders-grid",children:b.map(R=>u.jsxs("div",{className:`order-card status-${R.status}`,children:[u.jsxs("div",{className:"order-header",children:[u.jsxs("span",{className:"order-id",children:["#",R.orderId]}),u.jsxs("span",{className:`order-status status-${R.status}`,children:[R.status==="pending"&&" Ch thanh ton",R.status==="paid"&&"  thanh ton",R.status==="cancelled"&&"  hy"]})]}),u.jsxs("div",{className:"order-body",children:[u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:R.userEmail})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:`plan-badge plan-${R.plan}`,children:R.planName||R.plan})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsx("span",{className:"value amount",children:O(R.amount)})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:R.createdAt?.toDate?R.createdAt.toDate().toLocaleString("vi-VN"):"-"})]})]}),R.status==="pending"&&u.jsxs("div",{className:"order-actions",children:[u.jsx("button",{className:"btn-confirm",onClick:()=>y(R),children:" Xc nhn  thanh ton"}),u.jsx("button",{className:"btn-cancel-order",onClick:()=>T(R.id),children:" Hy"})]})]},R.id))})]})]})}function xD(){const{isAdmin:s}=ln(),[e,n]=V.useState([]),[r,l]=V.useState(!0),[c,d]=V.useState("all"),[p,g]=V.useState(null);V.useEffect(()=>{y()},[]);async function y(){l(!0);try{const C=gi(yt(Ie,"deposits"),Vc("createdAt","desc")),Y=(await Sn(C)).docs.map(W=>({id:W.id,...W.data()}));console.log("Fetched deposits:",Y),n(Y)}catch(C){console.error("Error fetching deposits:",C)}l(!1)}function T(){return c==="all"?e:e.filter(C=>C.status===c)}async function b(C){console.log("Confirm clicked for deposit:",C),g(C.id);try{console.log("Updating deposit:",C.id),await bn(ht(Ie,"deposits",C.id),{status:"completed",completedAt:dn()}),console.log("Deposit updated"),console.log("Updating user balance:",C.userId),await bn(ht(Ie,"users",C.userId),{balance:Ad(C.amount)}),console.log("User balance updated"),await wr(yt(Ie,"transactions"),{userId:C.userId,type:"deposit",amount:C.amount,description:`Np tin - M GD: ${C.orderId}`,createdAt:dn()}),console.log("Transaction created"),y()}catch(U){console.error("Error confirming deposit:",U)}g(null)}async function S(C){console.log("Reject clicked for deposit:",C),g(C.id);try{await bn(ht(Ie,"deposits",C.id),{status:"rejected",rejectedAt:dn()}),y()}catch(U){console.error("Error rejecting deposit:",U)}g(null)}function O(C){return new Intl.NumberFormat("vi-VN").format(C)}if(!s())return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx("p",{children:"Bn cn quyn Admin  xem trang ny."}),u.jsx(Re,{to:"/dashboard",children:"V Dashboard"})]})})]});const R=T();return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:" Qun l np tin"}),u.jsx("button",{className:"btn-refresh",onClick:y,children:" Lm mi"})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsxs("button",{className:`tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:["Tt c (",e.length,")"]}),u.jsxs("button",{className:`tab ${c==="pending"?"active":""}`,onClick:()=>d("pending"),children:["Ch x l (",e.filter(C=>C.status==="pending").length,")"]}),u.jsxs("button",{className:`tab ${c==="completed"?"active":""}`,onClick:()=>d("completed"),children:[" np (",e.filter(C=>C.status==="completed").length,")"]})]}),r?u.jsx("div",{className:"loading",children:"ang ti..."}):R.length===0?u.jsx("div",{className:"empty",children:"Khng c yu cu np tin no"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"table-container desktop-only",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M GD"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"S tin"}),u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:R.map(C=>u.jsxs("tr",{children:[u.jsx("td",{className:"order-id",children:C.orderId}),u.jsx("td",{children:C.userEmail}),u.jsxs("td",{className:"amount",children:[O(C.amount),""]}),u.jsx("td",{className:"date",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch x l",C.status==="completed"&&"  np",C.status==="rejected"&&" T chi"]})}),u.jsxs("td",{className:"actions",children:[C.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-confirm",onClick:()=>b(C),disabled:p===C.id,children:p===C.id?"...":" Xc nhn"}),u.jsx("button",{className:"btn-reject",onClick:()=>S(C),disabled:p===C.id,children:" T chi"})]}),C.status!=="pending"&&u.jsx("span",{className:"processed",children:" x l"})]})]},C.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:R.map(C=>u.jsxs("div",{className:`mobile-card status-${C.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("span",{className:"mobile-card-id",children:C.orderId}),u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch",C.status==="completed"&&" Done",C.status==="rejected"&&" Reject"]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:C.userEmail})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value amount",children:[O(C.amount),""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Thi gian:"}),u.jsx("span",{className:"value",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]})]}),C.status==="pending"&&u.jsxs("div",{className:"mobile-card-actions",children:[u.jsxs("button",{className:"btn-confirm-mobile",onClick:()=>b(C),disabled:p===C.id,children:[p===C.id?"":""," XC NHN"]}),u.jsx("button",{className:"btn-reject-mobile",onClick:()=>S(C),disabled:p===C.id,children:" T CHI"})]})]},C.id))})]})]})]})}function ND(){const[s,e]=V.useState({today:0,thisMonth:0,total:0,uniqueToday:0,uniqueMonth:0,uniqueTotal:0,revenueToday:0,revenueMonth:0,revenueTotal:0,ordersToday:0,ordersMonth:0,ordersTotal:0}),[n,r]=V.useState(!0),[l,c]=V.useState([]);V.useEffect(()=>{p()},[]);function d(g){return new Intl.NumberFormat("vi-VN").format(g)}async function p(){r(!0);try{const g=new Date,y=g.getFullYear(),T=String(g.getMonth()+1).padStart(2,"0"),b=String(g.getDate()).padStart(2,"0"),S=`${y}-${T}-${b}`,O=`${y}-${T}`,R=yt(Ie,"usage_logs"),C=await Sn(R);let U=0,Y=0,W=0;const ie=new Set,z=new Set,oe=new Set,ce=[];C.docs.forEach(ye=>{const q=ye.data();W++,oe.add(q.hwid),q.date===S&&(U++,ie.add(q.hwid)),q.month===O&&(Y++,z.add(q.hwid)),ce.push({id:ye.id,...q})}),ce.sort((ye,q)=>{const re=ye.timestamp?.toDate?.()||new Date(ye.timestamp||0);return(q.timestamp?.toDate?.()||new Date(q.timestamp||0))-re});const I=yt(Ie,"transactions"),x=await Sn(I);let N=0,k=0,M=0,B=0,j=0,ae=0;x.docs.forEach(ye=>{const q=ye.data();if(q.type==="license_purchase"&&q.amount<0){const re=Math.abs(q.amount),ue=q.createdAt?.toDate?.();if(ue){const Ee=ue.toISOString().split("T")[0],Ae=Ee.substring(0,7);M+=re,ae++,Ee===S&&(N+=re,B++),Ae===O&&(k+=re,j++)}else M+=re,ae++}}),e({today:U,thisMonth:Y,total:W,uniqueToday:ie.size,uniqueMonth:z.size,uniqueTotal:oe.size,revenueToday:N,revenueMonth:k,revenueTotal:M,ordersToday:B,ordersMonth:j,ordersTotal:ae}),c(ce.slice(0,20))}catch(g){console.error("Error fetching stats:",g)}r(!1)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx(Re,{to:"/admin/users",className:"back-link",children:" Admin"}),u.jsx("h1",{children:" Thng k"}),u.jsx("button",{className:"btn-refresh",onClick:p,children:" Refresh"})]}),n?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem"},children:" Doanh thu"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueToday),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersToday," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueMonth),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersMonth," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueTotal),""]}),u.jsx("div",{className:"stat-label",children:"Tng doanh thu"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersTotal," n hng"]})]})]})]}),u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem",marginTop:"2rem"},children:" Lt s dng"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.today}),u.jsx("div",{className:"stat-label",children:"Lt dng hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueToday," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.thisMonth}),u.jsx("div",{className:"stat-label",children:"Lt dng thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueMonth," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.total}),u.jsx("div",{className:"stat-label",children:"Tng lt dng"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueTotal," ngi dng"]})]})]})]}),u.jsxs("div",{className:"section-card",style:{marginTop:"2rem"},children:[u.jsx("h2",{children:" Lch s s dng gn y"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"})]})}),u.jsx("tbody",{children:l.map(g=>u.jsxs("tr",{children:[u.jsx("td",{children:g.timestamp?.toDate?.().toLocaleString("vi-VN")||new Date(g.timestamp).toLocaleString("vi-VN")}),u.jsx("td",{children:g.userName||"Unknown"}),u.jsxs("td",{className:"hwid-cell",children:[g.hwid?.substring(0,16),"..."]})]},g.id))})]})})]})]})]})]})}function RD(){const{isAdmin:s}=ln(),[e,n]=V.useState({downloadUrl:"",version:"",changelog:"",updatedAt:null}),[r,l]=V.useState(!0),[c,d]=V.useState(!1);V.useEffect(()=>{p()},[]);async function p(){try{const y=ht(Ie,"settings","software"),T=await kc(y);T.exists()&&n(T.data())}catch(y){console.error("Error fetching settings:",y)}l(!1)}async function g(){d(!0);try{await Ag(ht(Ie,"settings","software"),{...e,updatedAt:new Date})}catch(y){console.error("Error saving settings:",y)}d(!1)}return s()?u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsx("div",{className:"admin-header",children:u.jsx("h1",{children:" Ci t phn mm"})}),r?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsx("div",{className:"settings-form",children:u.jsxs("div",{className:"settings-card",children:[u.jsx("h2",{children:" Link ti phn mm"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Version hin ti"}),u.jsx("input",{type:"text",placeholder:"VD: 1.0.0",value:e.version,onChange:y=>n({...e,version:y.target.value})}),u.jsx("small",{children:"Tool s check version ny  bo cp nht"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Link ti (Google Drive, MediaFire...)"}),u.jsx("input",{type:"text",placeholder:"https://drive.google.com/...",value:e.downloadUrl,onChange:y=>n({...e,downloadUrl:y.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Changelog (ty chn)"}),u.jsx("textarea",{placeholder:`- Tnh nng mi...
- Sa li...`,value:e.changelog||"",onChange:y=>n({...e,changelog:y.target.value}),rows:4})]}),e.updatedAt&&u.jsxs("p",{className:"last-updated",children:["Cp nht ln cui: ",new Date(e.updatedAt.seconds?e.updatedAt.seconds*1e3:e.updatedAt).toLocaleString("vi-VN")]}),u.jsx("button",{className:"btn-save",onClick:g,disabled:c,children:c?" ang lu...":" Lu ci t"})]})})]})]}):u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx(Re,{to:"/dashboard",children:"V Dashboard"})]})})]})}function Yn({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?s:u.jsx(Dl,{to:"/login"})}function HT({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?u.jsx(Dl,{to:"/dashboard"}):s}function CD(){return u.jsxs(mx,{children:[u.jsx(Ut,{path:"/",element:u.jsx(UT,{})}),u.jsx(Ut,{path:"/products",element:u.jsx(UT,{})}),u.jsx(Ut,{path:"/login",element:u.jsx(HT,{children:u.jsx(uD,{})})}),u.jsx(Ut,{path:"/register",element:u.jsx(HT,{children:u.jsx(hD,{})})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(Yn,{children:u.jsx(fD,{})})}),u.jsx(Ut,{path:"/wallet",element:u.jsx(Yn,{children:u.jsx(mD,{})})}),u.jsx(Ut,{path:"/my-licenses",element:u.jsx(Yn,{children:u.jsx(vD,{})})}),u.jsx(Ut,{path:"/guide",element:u.jsx(ED,{})}),u.jsx(Ut,{path:"/profile",element:u.jsx(Yn,{children:u.jsx(_D,{})})}),u.jsx(Ut,{path:"/buy",element:u.jsx(Yn,{children:u.jsx(BT,{})})}),u.jsx(Ut,{path:"/buy/:productId",element:u.jsx(Yn,{children:u.jsx(BT,{})})}),u.jsx(Ut,{path:"/admin/users",element:u.jsx(Yn,{children:u.jsx(TD,{})})}),u.jsx(Ut,{path:"/admin/licenses",element:u.jsx(Yn,{children:u.jsx(SD,{})})}),u.jsx(Ut,{path:"/admin/orders",element:u.jsx(Yn,{children:u.jsx(wD,{})})}),u.jsx(Ut,{path:"/admin/deposits",element:u.jsx(Yn,{children:u.jsx(xD,{})})}),u.jsx(Ut,{path:"/admin/stats",element:u.jsx(Yn,{children:u.jsx(ND,{})})}),u.jsx(Ut,{path:"/admin/settings",element:u.jsx(Yn,{children:u.jsx(RD,{})})}),u.jsx(Ut,{path:"*",element:u.jsx(Dl,{to:"/"})})]})}function ID(){return u.jsx(Lx,{children:u.jsx(sD,{children:u.jsx(CD,{})})})}Tw.createRoot(document.getElementById("root")).render(u.jsx(V.StrictMode,{children:u.jsx(ID,{})}));

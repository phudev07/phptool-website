(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var Am={exports:{}},Qo={};var Q_;function dw(){if(Q_)return Qo;Q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Qo.Fragment=e,Qo.jsx=n,Qo.jsxs=n,Qo}var Y_;function fw(){return Y_||(Y_=1,Am.exports=dw()),Am.exports}var u=fw(),wm={exports:{}},Ne={};var $_;function mw(){if($_)return Ne;$_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function O(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,U={};function Y(M,J,he){this.props=M,this.context=J,this.refs=U,this.updater=he||R}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=Y.prototype;function ae(M,J,he){this.props=M,this.context=J,this.refs=U,this.updater=he||R}var z=ae.prototype=new W;z.constructor=ae,C(z,Y.prototype),z.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(M,J,he){var fe=he.ref;return{$$typeof:s,type:M,key:J,ref:fe!==void 0?fe:null,props:he}}function L(M,J){return N(M.type,J,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function B(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(he){return J[he]})}var j=/\/+/g;function Ye(M,J){return typeof M=="object"&&M!==null&&M.key!=null?B(""+M.key):J.toString(36)}function te(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ue,ue):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function q(M,J,he,fe,Ae){var De=typeof M;(De==="undefined"||De==="boolean")&&(M=null);var He=!1;if(M===null)He=!0;else switch(De){case"bigint":case"string":case"number":He=!0;break;case"object":switch(M.$$typeof){case s:case e:He=!0;break;case T:return He=M._init,q(He(M._payload),J,he,fe,Ae)}}if(He)return Ae=Ae(M),He=fe===""?"."+Ye(M,0):fe,oe(Ae)?(he="",He!=null&&(he=He.replace(j,"$&/")+"/"),q(Ae,J,he,"",function(Ia){return Ia})):Ae!=null&&(V(Ae)&&(Ae=L(Ae,he+(Ae.key==null||M&&M.key===Ae.key?"":(""+Ae.key).replace(j,"$&/")+"/")+He)),J.push(Ae)),1;He=0;var kt=fe===""?".":fe+":";if(oe(M))for(var ct=0;ct<M.length;ct++)fe=M[ct],De=kt+Ye(fe,ct),He+=q(fe,J,he,De,Ae);else if(ct=O(M),typeof ct=="function")for(M=ct.call(M),ct=0;!(fe=M.next()).done;)fe=fe.value,De=kt+Ye(fe,ct++),He+=q(fe,J,he,De,Ae);else if(De==="object"){if(typeof M.then=="function")return q(te(M),J,he,fe,Ae);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return He}function se(M,J,he){if(M==null)return M;var fe=[],Ae=0;return q(M,fe,"","",function(De){return J.call(he,De,Ae++)}),fe}function le(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(he){(M._status===0||M._status===-1)&&(M._status=1,M._result=he)},function(he){(M._status===0||M._status===-1)&&(M._status=2,M._result=he)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var ye=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ee={map:se,forEach:function(M,J,he){se(M,function(){J.apply(this,arguments)},he)},count:function(M){var J=0;return se(M,function(){J++}),J},toArray:function(M){return se(M,function(J){return J})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Ne.Activity=b,Ne.Children=Ee,Ne.Component=Y,Ne.Fragment=n,Ne.Profiler=l,Ne.PureComponent=ae,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Ne.cache=function(M){return function(){return M.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(M,J,he){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var fe=C({},M.props),Ae=M.key;if(J!=null)for(De in J.key!==void 0&&(Ae=""+J.key),J)!x.call(J,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&J.ref===void 0||(fe[De]=J[De]);var De=arguments.length-2;if(De===1)fe.children=he;else if(1<De){for(var He=Array(De),kt=0;kt<De;kt++)He[kt]=arguments[kt+2];fe.children=He}return N(M.type,Ae,fe)},Ne.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Ne.createElement=function(M,J,he){var fe,Ae={},De=null;if(J!=null)for(fe in J.key!==void 0&&(De=""+J.key),J)x.call(J,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=J[fe]);var He=arguments.length-2;if(He===1)Ae.children=he;else if(1<He){for(var kt=Array(He),ct=0;ct<He;ct++)kt[ct]=arguments[ct+2];Ae.children=kt}if(M&&M.defaultProps)for(fe in He=M.defaultProps,He)Ae[fe]===void 0&&(Ae[fe]=He[fe]);return N(M,De,Ae)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(M){return{$$typeof:p,render:M}},Ne.isValidElement=V,Ne.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:le}},Ne.memo=function(M,J){return{$$typeof:y,type:M,compare:J===void 0?null:J}},Ne.startTransition=function(M){var J=I.T,he={};I.T=he;try{var fe=M(),Ae=I.S;Ae!==null&&Ae(he,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ue,ye)}catch(De){ye(De)}finally{J!==null&&he.types!==null&&(J.types=he.types),I.T=J}},Ne.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Ne.use=function(M){return I.H.use(M)},Ne.useActionState=function(M,J,he){return I.H.useActionState(M,J,he)},Ne.useCallback=function(M,J){return I.H.useCallback(M,J)},Ne.useContext=function(M){return I.H.useContext(M)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(M,J){return I.H.useDeferredValue(M,J)},Ne.useEffect=function(M,J){return I.H.useEffect(M,J)},Ne.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Ne.useId=function(){return I.H.useId()},Ne.useImperativeHandle=function(M,J,he){return I.H.useImperativeHandle(M,J,he)},Ne.useInsertionEffect=function(M,J){return I.H.useInsertionEffect(M,J)},Ne.useLayoutEffect=function(M,J){return I.H.useLayoutEffect(M,J)},Ne.useMemo=function(M,J){return I.H.useMemo(M,J)},Ne.useOptimistic=function(M,J){return I.H.useOptimistic(M,J)},Ne.useReducer=function(M,J,he){return I.H.useReducer(M,J,he)},Ne.useRef=function(M){return I.H.useRef(M)},Ne.useState=function(M){return I.H.useState(M)},Ne.useSyncExternalStore=function(M,J,he){return I.H.useSyncExternalStore(M,J,he)},Ne.useTransition=function(){return I.H.useTransition()},Ne.version="19.2.1",Ne}var X_;function bp(){return X_||(X_=1,wm.exports=mw()),wm.exports}var k=bp(),xm={exports:{}},Yo={},Nm={exports:{}},Rm={};var W_;function pw(){return W_||(W_=1,(function(s){function e(q,se){var le=q.length;q.push(se);e:for(;0<le;){var ye=le-1>>>1,Ee=q[ye];if(0<l(Ee,se))q[ye]=se,q[le]=Ee,le=ye;else break e}}function n(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var se=q[0],le=q.pop();if(le!==se){q[0]=le;e:for(var ye=0,Ee=q.length,M=Ee>>>1;ye<M;){var J=2*(ye+1)-1,he=q[J],fe=J+1,Ae=q[fe];if(0>l(he,le))fe<Ee&&0>l(Ae,he)?(q[ye]=Ae,q[fe]=le,ye=fe):(q[ye]=he,q[J]=le,ye=J);else if(fe<Ee&&0>l(Ae,le))q[ye]=Ae,q[fe]=le,ye=fe;else break e}}return se}function l(q,se){var le=q.sortIndex-se.sortIndex;return le!==0?le:q.id-se.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,S=3,O=!1,R=!1,C=!1,U=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function z(q){for(var se=n(y);se!==null;){if(se.callback===null)a(y);else if(se.startTime<=q)a(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function oe(q){if(C=!1,z(q),!R)if(n(g)!==null)R=!0,ue||(ue=!0,B());else{var se=n(y);se!==null&&te(oe,se.startTime-q)}}var ue=!1,I=-1,x=5,N=-1;function L(){return U?!0:!(s.unstable_now()-N<x)}function V(){if(U=!1,ue){var q=s.unstable_now();N=q;var se=!0;try{e:{R=!1,C&&(C=!1,W(I),I=-1),O=!0;var le=S;try{t:{for(z(q),b=n(g);b!==null&&!(b.expirationTime>q&&L());){var ye=b.callback;if(typeof ye=="function"){b.callback=null,S=b.priorityLevel;var Ee=ye(b.expirationTime<=q);if(q=s.unstable_now(),typeof Ee=="function"){b.callback=Ee,z(q),se=!0;break t}b===n(g)&&a(g),z(q)}else a(g);b=n(g)}if(b!==null)se=!0;else{var M=n(y);M!==null&&te(oe,M.startTime-q),se=!1}}break e}finally{b=null,S=le,O=!1}se=void 0}}finally{se?B():ue=!1}}}var B;if(typeof ae=="function")B=function(){ae(V)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Ye=j.port2;j.port1.onmessage=V,B=function(){Ye.postMessage(null)}}else B=function(){Y(V,0)};function te(q,se){I=Y(function(){q(s.unstable_now())},se)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(q){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var le=S;S=se;try{return q()}finally{S=le}},s.unstable_requestPaint=function(){U=!0},s.unstable_runWithPriority=function(q,se){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var le=S;S=q;try{return se()}finally{S=le}},s.unstable_scheduleCallback=function(q,se,le){var ye=s.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,q){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=le+Ee,q={id:T++,callback:se,priorityLevel:q,startTime:le,expirationTime:Ee,sortIndex:-1},le>ye?(q.sortIndex=le,e(y,q),n(g)===null&&q===n(y)&&(C?(W(I),I=-1):C=!0,te(oe,le-ye))):(q.sortIndex=Ee,e(g,q),R||O||(R=!0,ue||(ue=!0,B()))),q},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(q){var se=S;return function(){var le=S;S=se;try{return q.apply(this,arguments)}finally{S=le}}}})(Rm)),Rm}var J_;function gw(){return J_||(J_=1,Nm.exports=pw()),Nm.exports}var Cm={exports:{}},en={};var Z_;function yw(){if(Z_)return en;Z_=1;var s=bp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},en.flushSync=function(g){var y=d.T,T=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=y,a.p=T,a.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:O}):T==="script"&&a.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);a.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},en.requestFormReset=function(g){a.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var eE;function vw(){if(eE)return Cm.exports;eE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Cm.exports=yw(),Cm.exports}var tE;function _w(){if(tE)return Yo;tE=1;var s=gw(),e=bp(),n=vw();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)i+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,r=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(r=i.return),t=i.return;while(t)}return i.tag===3?r:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(a(188));return i!==t?null:t}for(var r=t,o=i;;){var f=r.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===r)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(a(188))}if(r.return!==o.return)r=f,o=m;else{for(var _=!1,A=f.child;A;){if(A===r){_=!0,r=f,o=m;break}if(A===o){_=!0,o=f,r=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===r){_=!0,r=m,o=f;break}if(A===o){_=!0,o=m,r=f;break}A=A.sibling}if(!_)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var j=Symbol.for("react.client.reference");function Ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===j?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case R:return"Portal";case ae:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:Ye(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return Ye(t(i))}catch{}}return null}var te=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],Ee=-1;function M(t){return{current:t}}function J(t){0>Ee||(t.current=ye[Ee],ye[Ee]=null,Ee--)}function he(t,i){Ee++,ye[Ee]=t.current,t.current=i}var fe=M(null),Ae=M(null),De=M(null),He=M(null);function kt(t,i){switch(he(De,i),he(Ae,t),he(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?g_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=g_(i),t=y_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(fe),he(fe,t)}function ct(){J(fe),J(Ae),J(De)}function Ia(t){t.memoizedState!==null&&he(He,t);var i=fe.current,r=y_(i,t.type);i!==r&&(he(Ae,t),he(fe,r))}function _r(t){Ae.current===t&&(J(fe),J(Ae)),He.current===t&&(J(He),qo._currentValue=le)}var Er,Tr;function vi(t){if(Er===void 0)try{throw Error()}catch(r){var i=r.stack.trim().match(/\n( *(at )?)/);Er=i&&i[1]||"",Tr=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Er+t+Tr}var Hl=!1;function ja(t,i){if(!t||Hl)return"";Hl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Q=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){Q=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){Q=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var D=_.split(`
`),K=A.split(`
`);for(f=o=0;o<D.length&&!D[o].includes("DetermineComponentFrameRoot");)o++;for(;f<K.length&&!K[f].includes("DetermineComponentFrameRoot");)f++;if(o===D.length||f===K.length)for(o=D.length-1,f=K.length-1;1<=o&&0<=f&&D[o]!==K[f];)f--;for(;1<=o&&0<=f;o--,f--)if(D[o]!==K[f]){if(o!==1||f!==1)do if(o--,f--,0>f||D[o]!==K[f]){var Z=`
`+D[o].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=o&&0<=f);break}}}finally{Hl=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?vi(r):""}function ql(t,i){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return t.child!==i&&i!==null?vi("Suspense Fallback"):vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return ja(t.type,!1);case 11:return ja(t.type.render,!1);case 1:return ja(t.type,!0);case 31:return vi("Activity");default:return""}}function Fl(t){try{var i="",r=null;do i+=ql(t,r),r=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var St=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,Rs=s.unstable_cancelCallback,wd=s.unstable_shouldYield,Uc=s.unstable_requestPaint,un=s.unstable_now,Da=s.unstable_getCurrentPriorityLevel,Gl=s.unstable_ImmediatePriority,Kl=s.unstable_UserBlockingPriority,Cs=s.unstable_NormalPriority,xd=s.unstable_LowPriority,zc=s.unstable_IdlePriority,Bc=s.log,Hc=s.unstable_setDisableYieldValue,Zn=null,Qt=null;function Vn(t){if(typeof Bc=="function"&&Hc(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(Zn,t)}catch{}}var vt=Math.clz32?Math.clz32:Fc,qc=Math.log,br=Math.LN2;function Fc(t){return t>>>=0,t===0?32:31-(qc(t)/br|0)|0}var _i=256,Oa=262144,At=4194304;function Ei(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ti(t,i,r){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?f=Ei(o):(_&=A,_!==0?f=Ei(_):r||(r=A&~t,r!==0&&(f=Ei(r))))):(A=o&~m,A!==0?f=Ei(A):_!==0?f=Ei(_):r||(r=o&~t,r!==0&&(f=Ei(r)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,r=i&-i,m>=r||m===32&&(r&4194048)!==0)?i:f}function ei(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Nd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var t=At;return At<<=1,(At&62914560)===0&&(At=4194304),t}function bi(t){for(var i=[],r=0;31>r;r++)i.push(t);return i}function Ma(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Rd(t,i,r,o,f,m){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var A=t.entanglements,D=t.expirationTimes,K=t.hiddenUpdates;for(r=_&~r;0<r;){var Z=31-vt(r),ie=1<<Z;A[Z]=0,D[Z]=-1;var Q=K[Z];if(Q!==null)for(K[Z]=null,Z=0;Z<Q.length;Z++){var X=Q[Z];X!==null&&(X.lane&=-536870913)}r&=~ie}o!==0&&Va(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function Va(t,i,r){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-vt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|r&261930}function Ql(t,i){var r=t.entangledLanes|=i;for(t=t.entanglements;r;){var o=31-vt(r),f=1<<o;f&i|t[o]&i&&(t[o]|=i),r&=~f}}function Yl(t,i){var r=i&-i;return r=(r&42)!==0?1:ka(r),(r&(t.suspendedLanes|i))!==0?0:r}function ka(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Kc(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:z_(t.type))}function ti(t,i){var r=se.p;try{return se.p=t,i()}finally{se.p=r}}var ni=Math.random().toString(36).slice(2),wt="__reactFiber$"+ni,Bt="__reactProps$"+ni,Si="__reactContainer$"+ni,Sr="__reactEvents$"+ni,Cd="__reactListeners$"+ni,Qc="__reactHandles$"+ni,Yc="__reactResources$"+ni,Ai="__reactMarker$"+ni;function Ar(t){delete t[wt],delete t[Bt],delete t[Sr],delete t[Cd],delete t[Qc]}function wi(t){var i=t[wt];if(i)return i;for(var r=t.parentNode;r;){if(i=r[Si]||r[wt]){if(r=i.alternate,i.child!==null||r!==null&&r.child!==null)for(t=A_(t);t!==null;){if(r=t[wt])return r;t=A_(t)}return i}t=r,r=t.parentNode}return null}function kn(t){if(t=t[wt]||t[Si]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function An(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function xi(t){var i=t[Yc];return i||(i=t[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function xt(t){t[Ai]=!0}var $l=new Set,Xl={};function Ni(t,i){Ri(t,i),Ri(t+"Capture",i)}function Ri(t,i){for(Xl[t]=i,t=0;t<i.length;t++)$l.add(i[t])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jl={},Zl={};function $c(t){return St.call(Zl,t)?!0:St.call(Jl,t)?!1:Wl.test(t)?Zl[t]=!0:(Jl[t]=!0,!1)}function wr(t,i,r){if($c(i))if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+r)}}function wn(t,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+r)}}function Nt(t,i,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(i,r,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Is(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function eo(t,i,r){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){r=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Is(t)?"checked":"value";t._valueTracker=eo(t,i,""+t[i])}}function La(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var r=i.getValue(),o="";return t&&(o=Is(t)?t.checked?"true":"false":t.value),t=o,t!==r?(i.setValue(t),!0):!1}function Ci(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Pa=/[\n"\\]/g;function mn(t){return t.replace(Pa,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function xr(t,i,r,o,f,m,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?to(t,_,Ht(i)):r!=null?to(t,_,Ht(r)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ht(A):t.removeAttribute("name")}function Xc(t,i,r,o,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xe(t);return}r=r!=null?""+Ht(r):"",i=i!=null?""+Ht(i):r,A||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function to(t,i,r){i==="number"&&Ci(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function js(t,i,r,o){if(t=t.options,i){i={};for(var f=0;f<r.length;f++)i["$"+r[f]]=!0;for(r=0;r<t.length;r++)f=i.hasOwnProperty("$"+t[r].value),t[r].selected!==f&&(t[r].selected=f),f&&o&&(t[r].defaultSelected=!0)}else{for(r=""+Ht(r),i=null,f=0;f<t.length;f++){if(t[f].value===r){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Wc(t,i,r){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),r==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=r!=null?""+Ht(r):""}function Ds(t,i,r,o){if(i==null){if(o!=null){if(r!=null)throw Error(a(92));if(te(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),i=r}r=Ht(i),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o),Xe(t)}function pn(t,i){if(i){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=i;return}}t.textContent=i}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(t,i,r){var o=i.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,r):typeof r!="number"||r===0||Jc.has(i)?i==="float"?t.cssFloat=r:t[i]=(""+r).trim():t[i]=r+"px"}function io(t,i,r){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&r[f]!==o&&no(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&no(t,m,i[m])}function Nr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Rr(t){return Os.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ii(){}var so=null;function Ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ms=null,Ii=null;function Ua(t){var i=kn(t);if(i&&(t=i.stateNode)){var r=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(xr(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),i=r.name,r.type==="radio"&&i!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+mn(""+i)+'"][type="radio"]'),i=0;i<r.length;i++){var o=r[i];if(o!==t&&o.form===t.form){var f=o[Bt]||null;if(!f)throw Error(a(90));xr(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<r.length;i++)o=r[i],o.form===t.form&&La(o)}break e;case"textarea":Wc(t,r.value,r.defaultValue);break e;case"select":i=r.value,i!=null&&js(t,!!r.multiple,i,!1)}}}var Cr=!1;function Vs(t,i,r){if(Cr)return t(i,r);Cr=!0;try{var o=t(i);return o}finally{if(Cr=!1,(Ms!==null||Ii!==null)&&(Ku(),Ms&&(i=Ms,t=Ii,Ii=Ms=null,Ua(i),t)))for(i=0;i<t.length;i++)Ua(t[i])}}function si(t,i){var r=t.stateNode;if(r===null)return null;var o=r[Bt]||null;if(o===null)return null;r=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,i,typeof r));return r}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),za=!1;if(Pn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){za=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{za=!1}var ji=null,ao=null,Ba=null;function ro(){if(Ba)return Ba;var t,i=ao,r=i.length,o,f="value"in ji?ji.value:ji.textContent,m=f.length;for(t=0;t<r&&i[t]===f[t];t++);var _=r-t;for(o=1;o<=_&&i[r-o]===f[m-o];o++);return Ba=f.slice(t,1<o?1-o:void 0)}function Ha(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ai(){return!1}function Yt(t){function i(r,o,f,m,_){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(r=t[A],this[A]=r?r(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?$i:ai,this.isPropagationStopped=ai,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),i}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Di=Yt(Xi),ks=b({},Xi,{view:0,detail:0}),lo=Yt(ks),Ls,Ir,Oi,jr=b({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oi&&(Oi&&t.type==="mousemove"?(Ls=t.screenX-Oi.screenX,Ir=t.screenY-Oi.screenY):Ir=Ls=0,Oi=t),Ls)},movementY:function(t){return"movementY"in t?t.movementY:Ir}}),oo=Yt(jr),qa=b({},jr,{dataTransfer:0}),eu=Yt(qa),tu=b({},ks,{relatedTarget:0}),Fa=Yt(tu),co=b({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=Yt(co),Dr=b({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),iu=Yt(Dr),su=b({},Xi,{data:0}),Mi=Yt(su),au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=lu[t])?!!i[t]:!1}function Ps(){return ou}var hn=b({},ks,{key:function(t){if(t.key){var i=au[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ha(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ru[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ps,charCode:function(t){return t.type==="keypress"?Ha(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ha(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=Yt(hn),uu=b({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Yt(uu),h=b({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ps}),v=Yt(h),E=b({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Yt(E),F=b({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Yt(F),ce=b({},Xi,{newState:0,oldState:0}),Ie=Yt(ce),_t=[9,13,27,32],Ke=Pn&&"CompositionEvent"in window,ut=null;Pn&&"documentMode"in document&&(ut=document.documentMode);var Un=Pn&&"TextEvent"in window&&!ut,Vi=Pn&&(!Ke||ut&&8<ut&&11>=ut),ri=" ",li=!1;function Ga(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Or(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mr=!1;function kS(t,i){switch(t){case"compositionend":return Or(i);case"keypress":return i.which!==32?null:(li=!0,ri);case"textInput":return t=i.data,t===ri&&li?null:t;default:return null}}function LS(t,i){if(Mr)return t==="compositionend"||!Ke&&Ga(t,i)?(t=ro(),Ba=ao=ji=null,Mr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Vi&&i.locale!=="ko"?null:i.data;default:return null}}var PS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!PS[t.type]:i==="textarea"}function Rg(t,i,r,o){Ms?Ii?Ii.push(o):Ii=[o]:Ms=o,i=Zu(i,"onChange"),0<i.length&&(r=new Di("onChange","change",null,r,o),t.push({event:r,listeners:i}))}var uo=null,ho=null;function US(t){u_(t,0)}function hu(t){var i=An(t);if(La(i))return t}function Cg(t,i){if(t==="change")return i}var Ig=!1;if(Pn){var Id;if(Pn){var jd="oninput"in document;if(!jd){var jg=document.createElement("div");jg.setAttribute("oninput","return;"),jd=typeof jg.oninput=="function"}Id=jd}else Id=!1;Ig=Id&&(!document.documentMode||9<document.documentMode)}function Dg(){uo&&(uo.detachEvent("onpropertychange",Og),ho=uo=null)}function Og(t){if(t.propertyName==="value"&&hu(ho)){var i=[];Rg(i,ho,t,Ln(t)),Vs(US,i)}}function zS(t,i,r){t==="focusin"?(Dg(),uo=i,ho=r,uo.attachEvent("onpropertychange",Og)):t==="focusout"&&Dg()}function BS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(ho)}function HS(t,i){if(t==="click")return hu(i)}function qS(t,i){if(t==="input"||t==="change")return hu(i)}function FS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:FS;function fo(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var r=Object.keys(t),o=Object.keys(i);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!St.call(i,f)||!xn(t[f],i[f]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vg(t,i){var r=Mg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=i&&o>=i)return{node:r,offset:i-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mg(r)}}function kg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?kg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Lg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ci(t.document);i instanceof t.HTMLIFrameElement;){try{var r=typeof i.contentWindow.location.href=="string"}catch{r=!1}if(r)t=i.contentWindow;else break;i=Ci(t.document)}return i}function Dd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var GS=Pn&&"documentMode"in document&&11>=document.documentMode,Vr=null,Od=null,mo=null,Md=!1;function Pg(t,i,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Md||Vr==null||Vr!==Ci(o)||(o=Vr,"selectionStart"in o&&Dd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),mo&&fo(mo,o)||(mo=o,o=Zu(Od,"onSelect"),0<o.length&&(i=new Di("onSelect","select",null,i,r),t.push({event:i,listeners:o}),i.target=Vr)))}function Ka(t,i){var r={};return r[t.toLowerCase()]=i.toLowerCase(),r["Webkit"+t]="webkit"+i,r["Moz"+t]="moz"+i,r}var kr={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},Vd={},Ug={};Pn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);function Qa(t){if(Vd[t])return Vd[t];if(!kr[t])return t;var i=kr[t],r;for(r in i)if(i.hasOwnProperty(r)&&r in Ug)return Vd[t]=i[r];return t}var zg=Qa("animationend"),Bg=Qa("animationiteration"),Hg=Qa("animationstart"),KS=Qa("transitionrun"),QS=Qa("transitionstart"),YS=Qa("transitioncancel"),qg=Qa("transitionend"),Fg=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function oi(t,i){Fg.set(t,i),Ni(i,[t])}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},zn=[],Lr=0,Ld=0;function fu(){for(var t=Lr,i=Ld=Lr=0;i<t;){var r=zn[i];zn[i++]=null;var o=zn[i];zn[i++]=null;var f=zn[i];zn[i++]=null;var m=zn[i];if(zn[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&Gg(r,f,m)}}function mu(t,i,r,o){zn[Lr++]=t,zn[Lr++]=i,zn[Lr++]=r,zn[Lr++]=o,Ld|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Pd(t,i,r,o){return mu(t,i,r,o),pu(t)}function Ya(t,i){return mu(t,null,null,i),pu(t)}function Gg(t,i,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var f=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-vt(r),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=r|536870912),m):null}function pu(t){if(50<ko)throw ko=0,Yf=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pr={};function $S(t,i,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(t,i,r,o){return new $S(t,i,r,o)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var r=t.alternate;return r===null?(r=Nn(t.tag,i,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=i,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,i=t.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Kg(t,i){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,i=r.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function gu(t,i,r,o,f,m){var _=0;if(o=t,typeof t=="function")Ud(t)&&(_=1);else if(typeof t=="string")_=ew(t,r,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=Nn(31,r,i,f),t.elementType=N,t.lanes=m,t;case C:return $a(r.children,f,m,i);case U:_=8,f|=24;break;case Y:return t=Nn(12,r,i,f|2),t.elementType=Y,t.lanes=m,t;case oe:return t=Nn(13,r,i,f),t.elementType=oe,t.lanes=m,t;case ue:return t=Nn(19,r,i,f),t.elementType=ue,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ae:_=10;break e;case W:_=9;break e;case z:_=11;break e;case I:_=14;break e;case x:_=16,o=null;break e}_=29,r=Error(a(130,t===null?"null":typeof t,"")),o=null}return i=Nn(_,r,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function $a(t,i,r,o){return t=Nn(7,t,o,i),t.lanes=r,t}function zd(t,i,r){return t=Nn(6,t,null,i),t.lanes=r,t}function Qg(t){var i=Nn(18,null,null,0);return i.stateNode=t,i}function Bd(t,i,r){return i=Nn(4,t.children!==null?t.children:[],t.key,i),i.lanes=r,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Yg=new WeakMap;function Bn(t,i){if(typeof t=="object"&&t!==null){var r=Yg.get(t);return r!==void 0?r:(i={value:t,source:i,stack:Fl(i)},Yg.set(t,i),i)}return{value:t,source:i,stack:Fl(i)}}var Ur=[],zr=0,yu=null,po=0,Hn=[],qn=0,Us=null,ki=1,Li="";function Zi(t,i){Ur[zr++]=po,Ur[zr++]=yu,yu=t,po=i}function $g(t,i,r){Hn[qn++]=ki,Hn[qn++]=Li,Hn[qn++]=Us,Us=t;var o=ki;t=Li;var f=32-vt(o)-1;o&=~(1<<f),r+=1;var m=32-vt(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,ki=1<<32-vt(i)+f|r<<f|o,Li=m+t}else ki=1<<m|r<<f|o,Li=t}function Hd(t){t.return!==null&&(Zi(t,1),$g(t,1,0))}function qd(t){for(;t===yu;)yu=Ur[--zr],Ur[zr]=null,po=Ur[--zr],Ur[zr]=null;for(;t===Us;)Us=Hn[--qn],Hn[qn]=null,Li=Hn[--qn],Hn[qn]=null,ki=Hn[--qn],Hn[qn]=null}function Xg(t,i){Hn[qn++]=ki,Hn[qn++]=Li,Hn[qn++]=Us,ki=i.id,Li=i.overflow,Us=t}var $t=null,lt=null,Be=!1,zs=null,Fn=!1,Fd=Error(a(519));function Bs(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw go(Bn(i,t)),Fd}function Wg(t){var i=t.stateNode,r=t.type,o=t.memoizedProps;switch(i[wt]=t,i[Bt]=o,r){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(r=0;r<Po.length;r++)Ve(Po[r],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Xc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Ds(i,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||i.textContent===""+r||o.suppressHydrationWarning===!0||m_(i.textContent,r)?(o.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),o.onScroll!=null&&Ve("scroll",i),o.onScrollEnd!=null&&Ve("scrollend",i),o.onClick!=null&&(i.onclick=ii),i=!0):i=!1,i||Bs(t,!0)}function Jg(t){for($t=t.return;$t;)switch($t.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:$t=$t.return}}function Br(t){if(t!==$t)return!1;if(!Be)return Jg(t),Be=!0,!1;var i=t.tag,r;if((r=i!==3&&i!==27)&&((r=i===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||cm(t.type,t.memoizedProps)),r=!r),r&&lt&&Bs(t),Jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=S_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=S_(t)}else i===27?(i=lt,ta(t.type)?(t=mm,mm=null,lt=t):lt=i):lt=$t?Kn(t.stateNode.nextSibling):null;return!0}function Xa(){lt=$t=null,Be=!1}function Gd(){var t=zs;return t!==null&&(_n===null?_n=t:_n.push.apply(_n,t),zs=null),t}function go(t){zs===null?zs=[t]:zs.push(t)}var Kd=M(null),Wa=null,es=null;function Hs(t,i,r){he(Kd,i._currentValue),i._currentValue=r}function ts(t){t._currentValue=Kd.current,J(Kd)}function Qd(t,i,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===r)break;t=t.return}}function Yd(t,i,r,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var D=0;D<i.length;D++)if(A.context===i[D]){m.lanes|=r,A=m.alternate,A!==null&&(A.lanes|=r),Qd(m.return,r,t),o||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=r,m=_.alternate,m!==null&&(m.lanes|=r),Qd(_,r,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Hr(t,i,r,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var A=f.type;xn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===He.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(qo):t=[qo])}f=f.return}t!==null&&Yd(i,t,r,o),i.flags|=262144}function vu(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ja(t){Wa=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Zg(Wa,t)}function _u(t,i){return Wa===null&&Ja(t),Zg(t,i)}function Zg(t,i){var r=i._currentValue;if(i={context:i,memoizedValue:r,next:null},es===null){if(t===null)throw Error(a(308));es=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else es=es.next=i;return r}var XS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(r){return r()})}},WS=s.unstable_scheduleCallback,JS=s.unstable_NormalPriority,Rt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $d(){return{controller:new XS,data:new Map,refCount:0}}function yo(t){t.refCount--,t.refCount===0&&WS(JS,function(){t.controller.abort()})}var vo=null,Xd=0,qr=0,Fr=null;function ZS(t,i){if(vo===null){var r=vo=[];Xd=0,qr=em(),Fr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Xd++,i.then(ey,ey),i}function ey(){if(--Xd===0&&vo!==null){Fr!==null&&(Fr.status="fulfilled");var t=vo;vo=null,qr=0,Fr=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eA(t,i){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<r.length;f++)(0,r[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var ty=q.S;q.S=function(t,i){Pv=un(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&ZS(t,i),ty!==null&&ty(t,i)};var Za=M(null);function Wd(){var t=Za.current;return t!==null?t:it.pooledCache}function Eu(t,i){i===null?he(Za,Za.current):he(Za,i.pool)}function ny(){var t=Wd();return t===null?null:{parent:Rt._currentValue,pool:t}}var Gr=Error(a(460)),Jd=Error(a(474)),Tu=Error(a(542)),bu={then:function(){}};function iy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sy(t,i,r){switch(r=t[r],r===void 0?t.push(i):r!==i&&(i.then(ii,ii),i=r),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t;default:if(typeof i.status=="string")i.then(ii,ii);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ry(t),t}throw tr=i,Gr}}function er(t){try{var i=t._init;return i(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(tr=r,Gr):r}}var tr=null;function ay(){if(tr===null)throw Error(a(459));var t=tr;return tr=null,t}function ry(t){if(t===Gr||t===Tu)throw Error(a(483))}var Kr=null,_o=0;function Su(t){var i=_o;return _o+=1,Kr===null&&(Kr=[]),sy(Kr,t,i)}function Eo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Au(t,i){throw i.$$typeof===S?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){function i(H,P){if(t){var G=H.deletions;G===null?(H.deletions=[P],H.flags|=16):G.push(P)}}function r(H,P){if(!t)return null;for(;P!==null;)i(H,P),P=P.sibling;return null}function o(H){for(var P=new Map;H!==null;)H.key!==null?P.set(H.key,H):P.set(H.index,H),H=H.sibling;return P}function f(H,P){return H=Ji(H,P),H.index=0,H.sibling=null,H}function m(H,P,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<P?(H.flags|=67108866,P):G):(H.flags|=67108866,P)):(H.flags|=1048576,P)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,P,G,ee){return P===null||P.tag!==6?(P=zd(G,H.mode,ee),P.return=H,P):(P=f(P,G),P.return=H,P)}function D(H,P,G,ee){var _e=G.type;return _e===C?Z(H,P,G.props.children,ee,G.key):P!==null&&(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&er(_e)===P.type)?(P=f(P,G.props),Eo(P,G),P.return=H,P):(P=gu(G.type,G.key,G.props,null,H.mode,ee),Eo(P,G),P.return=H,P)}function K(H,P,G,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==G.containerInfo||P.stateNode.implementation!==G.implementation?(P=Bd(G,H.mode,ee),P.return=H,P):(P=f(P,G.children||[]),P.return=H,P)}function Z(H,P,G,ee,_e){return P===null||P.tag!==7?(P=$a(G,H.mode,ee,_e),P.return=H,P):(P=f(P,G),P.return=H,P)}function ie(H,P,G){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=zd(""+P,H.mode,G),P.return=H,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return G=gu(P.type,P.key,P.props,null,H.mode,G),Eo(G,P),G.return=H,G;case R:return P=Bd(P,H.mode,G),P.return=H,P;case x:return P=er(P),ie(H,P,G)}if(te(P)||B(P))return P=$a(P,H.mode,G,null),P.return=H,P;if(typeof P.then=="function")return ie(H,Su(P),G);if(P.$$typeof===ae)return ie(H,_u(H,P),G);Au(H,P)}return null}function Q(H,P,G,ee){var _e=P!==null?P.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return _e!==null?null:A(H,P,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case O:return G.key===_e?D(H,P,G,ee):null;case R:return G.key===_e?K(H,P,G,ee):null;case x:return G=er(G),Q(H,P,G,ee)}if(te(G)||B(G))return _e!==null?null:Z(H,P,G,ee,null);if(typeof G.then=="function")return Q(H,P,Su(G),ee);if(G.$$typeof===ae)return Q(H,P,_u(H,G),ee);Au(H,G)}return null}function X(H,P,G,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return H=H.get(G)||null,A(P,H,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case O:return H=H.get(ee.key===null?G:ee.key)||null,D(P,H,ee,_e);case R:return H=H.get(ee.key===null?G:ee.key)||null,K(P,H,ee,_e);case x:return ee=er(ee),X(H,P,G,ee,_e)}if(te(ee)||B(ee))return H=H.get(G)||null,Z(P,H,ee,_e,null);if(typeof ee.then=="function")return X(H,P,G,Su(ee),_e);if(ee.$$typeof===ae)return X(H,P,G,_u(P,ee),_e);Au(P,ee)}return null}function pe(H,P,G,ee){for(var _e=null,Fe=null,ge=P,Oe=P=0,Le=null;ge!==null&&Oe<G.length;Oe++){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Ge=Q(H,ge,G[Oe],ee);if(Ge===null){ge===null&&(ge=Le);break}t&&ge&&Ge.alternate===null&&i(H,ge),P=m(Ge,P,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ge=Le}if(Oe===G.length)return r(H,ge),Be&&Zi(H,Oe),_e;if(ge===null){for(;Oe<G.length;Oe++)ge=ie(H,G[Oe],ee),ge!==null&&(P=m(ge,P,Oe),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return Be&&Zi(H,Oe),_e}for(ge=o(ge);Oe<G.length;Oe++)Le=X(ge,H,Oe,G[Oe],ee),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?Oe:Le.key),P=m(Le,P,Oe),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&ge.forEach(function(ra){return i(H,ra)}),Be&&Zi(H,Oe),_e}function Te(H,P,G,ee){if(G==null)throw Error(a(151));for(var _e=null,Fe=null,ge=P,Oe=P=0,Le=null,Ge=G.next();ge!==null&&!Ge.done;Oe++,Ge=G.next()){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var ra=Q(H,ge,Ge.value,ee);if(ra===null){ge===null&&(ge=Le);break}t&&ge&&ra.alternate===null&&i(H,ge),P=m(ra,P,Oe),Fe===null?_e=ra:Fe.sibling=ra,Fe=ra,ge=Le}if(Ge.done)return r(H,ge),Be&&Zi(H,Oe),_e;if(ge===null){for(;!Ge.done;Oe++,Ge=G.next())Ge=ie(H,Ge.value,ee),Ge!==null&&(P=m(Ge,P,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Zi(H,Oe),_e}for(ge=o(ge);!Ge.done;Oe++,Ge=G.next())Ge=X(ge,H,Oe,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?Oe:Ge.key),P=m(Ge,P,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(hw){return i(H,hw)}),Be&&Zi(H,Oe),_e}function nt(H,P,G,ee){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case O:e:{for(var _e=G.key;P!==null;){if(P.key===_e){if(_e=G.type,_e===C){if(P.tag===7){r(H,P.sibling),ee=f(P,G.props.children),ee.return=H,H=ee;break e}}else if(P.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===x&&er(_e)===P.type){r(H,P.sibling),ee=f(P,G.props),Eo(ee,G),ee.return=H,H=ee;break e}r(H,P);break}else i(H,P);P=P.sibling}G.type===C?(ee=$a(G.props.children,H.mode,ee,G.key),ee.return=H,H=ee):(ee=gu(G.type,G.key,G.props,null,H.mode,ee),Eo(ee,G),ee.return=H,H=ee)}return _(H);case R:e:{for(_e=G.key;P!==null;){if(P.key===_e)if(P.tag===4&&P.stateNode.containerInfo===G.containerInfo&&P.stateNode.implementation===G.implementation){r(H,P.sibling),ee=f(P,G.children||[]),ee.return=H,H=ee;break e}else{r(H,P);break}else i(H,P);P=P.sibling}ee=Bd(G,H.mode,ee),ee.return=H,H=ee}return _(H);case x:return G=er(G),nt(H,P,G,ee)}if(te(G))return pe(H,P,G,ee);if(B(G)){if(_e=B(G),typeof _e!="function")throw Error(a(150));return G=_e.call(G),Te(H,P,G,ee)}if(typeof G.then=="function")return nt(H,P,Su(G),ee);if(G.$$typeof===ae)return nt(H,P,_u(H,G),ee);Au(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,P!==null&&P.tag===6?(r(H,P.sibling),ee=f(P,G),ee.return=H,H=ee):(r(H,P),ee=zd(G,H.mode,ee),ee.return=H,H=ee),_(H)):r(H,P)}return function(H,P,G,ee){try{_o=0;var _e=nt(H,P,G,ee);return Kr=null,_e}catch(ge){if(ge===Gr||ge===Tu)throw ge;var Fe=Nn(29,ge,null,H.mode);return Fe.lanes=ee,Fe.return=H,Fe}finally{}}}var nr=ly(!0),oy=ly(!1),qs=!1;function Zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gs(t,i,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Qe&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=pu(t),Gg(t,null,r),i}return mu(t,o,i,r),pu(t)}function To(t,i,r){if(i=i.updateQueue,i!==null&&(i=i.shared,(r&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ql(t,r)}}function tf(t,i){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,r=r.next}while(r!==null);m===null?f=m=i:m=m.next=i}else f=m=i;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=i:t.next=i,r.lastBaseUpdate=i}var nf=!1;function bo(){if(nf){var t=Fr;if(t!==null)throw t}}function So(t,i,r,o){nf=!1;var f=t.updateQueue;qs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var D=A,K=D.next;D.next=null,_===null?m=K:_.next=K,_=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==_&&(A===null?Z.firstBaseUpdate=K:A.next=K,Z.lastBaseUpdate=D))}if(m!==null){var ie=f.baseState;_=0,Z=K=D=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(ke&Q)===Q:(o&Q)===Q){Q!==0&&Q===qr&&(nf=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Te=A;Q=i;var nt=r;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ie=pe.call(nt,ie,Q);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,Q=typeof pe=="function"?pe.call(nt,ie,Q):pe,Q==null)break e;ie=b({},ie,Q);break e;case 2:qs=!0}}Q=A.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(K=Z=X,D=ie):Z=Z.next=X,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=Z,m===null&&(f.shared.lanes=0),Xs|=_,t.lanes=_,t.memoizedState=ie}}function cy(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function uy(t,i){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cy(r[t],i)}var Qr=M(null),wu=M(0);function hy(t,i){t=us,he(wu,t),he(Qr,i),us=t|i.baseLanes}function sf(){he(wu,us),he(Qr,Qr.current)}function af(){us=wu.current,J(Qr),J(wu)}var Rn=M(null),Gn=null;function Ks(t){var i=t.alternate;he(Et,Et.current&1),he(Rn,t),Gn===null&&(i===null||Qr.current!==null||i.memoizedState!==null)&&(Gn=t)}function rf(t){he(Et,Et.current),he(Rn,t),Gn===null&&(Gn=t)}function dy(t){t.tag===22?(he(Et,Et.current),he(Rn,t),Gn===null&&(Gn=t)):Qs()}function Qs(){he(Et,Et.current),he(Rn,Rn.current)}function Cn(t){J(Rn),Gn===t&&(Gn=null),J(Et)}var Et=M(0);function xu(t){for(var i=t;i!==null;){if(i.tag===13){var r=i.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||dm(r)||fm(r)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ns=0,je=null,et=null,Ct=null,Nu=!1,Yr=!1,ir=!1,Ru=0,Ao=0,$r=null,tA=0;function gt(){throw Error(a(321))}function lf(t,i){if(i===null)return!1;for(var r=0;r<i.length&&r<t.length;r++)if(!xn(t[r],i[r]))return!1;return!0}function of(t,i,r,o,f,m){return ns=m,je=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?$y:Sf,ir=!1,m=r(o,f),ir=!1,Yr&&(m=my(i,r,o,f)),fy(t),m}function fy(t){q.H=No;var i=et!==null&&et.next!==null;if(ns=0,Ct=et=je=null,Nu=!1,Ao=0,$r=null,i)throw Error(a(300));t===null||It||(t=t.dependencies,t!==null&&vu(t)&&(It=!0))}function my(t,i,r,o){je=t;var f=0;do{if(Yr&&($r=null),Ao=0,Yr=!1,25<=f)throw Error(a(301));if(f+=1,Ct=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}q.H=Xy,m=i(r,o)}while(Yr);return m}function nA(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?wo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(je.flags|=1024),i}function cf(){var t=Ru!==0;return Ru=0,t}function uf(t,i,r){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~r}function hf(t){if(Nu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Nu=!1}ns=0,Ct=et=je=null,Yr=!1,Ao=Ru=0,$r=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?je.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Tt(){if(et===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?je.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw je.alternate===null?Error(a(467)):Error(a(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?je.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function wo(t){var i=Ao;return Ao+=1,$r===null&&($r=[]),t=sy($r,t,i),i=je,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?$y:Sf),t}function Iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return wo(t);if(t.$$typeof===ae)return Xt(t)}throw Error(a(438,String(t)))}function df(t){var i=null,r=je.updateQueue;if(r!==null&&(i=r.memoCache),i==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),r===null&&(r=Cu(),je.updateQueue=r),r.memoCache=i,r=i.data[i.index],r===void 0)for(r=i.data[i.index]=Array(t),o=0;o<t;o++)r[o]=L;return i.index++,r}function is(t,i){return typeof i=="function"?i(t):i}function ju(t){var i=Tt();return ff(i,et,t)}function ff(t,i,r){var o=t.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var A=_=null,D=null,K=i,Z=!1;do{var ie=K.lane&-536870913;if(ie!==K.lane?(ke&ie)===ie:(ns&ie)===ie){var Q=K.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),ie===qr&&(Z=!0);else if((ns&Q)===Q){K=K.next,Q===qr&&(Z=!0);continue}else ie={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=ie,_=m):D=D.next=ie,je.lanes|=Q,Xs|=Q;ie=K.action,ir&&r(m,ie),m=K.hasEagerState?K.eagerState:r(m,ie)}else Q={lane:ie,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},D===null?(A=D=Q,_=m):D=D.next=Q,je.lanes|=ie,Xs|=ie;K=K.next}while(K!==null&&K!==i);if(D===null?_=m:D.next=A,!xn(m,t.memoizedState)&&(It=!0,Z&&(r=Fr,r!==null)))throw r;t.memoizedState=m,t.baseState=_,t.baseQueue=D,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function mf(t){var i=Tt(),r=i.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var o=r.dispatch,f=r.pending,m=i.memoizedState;if(f!==null){r.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);xn(m,i.memoizedState)||(It=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),r.lastRenderedState=m}return[m,o]}function py(t,i,r){var o=je,f=Tt(),m=Be;if(m){if(r===void 0)throw Error(a(407));r=r()}else r=i();var _=!xn((et||f).memoizedState,r);if(_&&(f.memoizedState=r,It=!0),f=f.queue,yf(vy.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Xr(9,{destroy:void 0},yy.bind(null,o,f,r,i),null),it===null)throw Error(a(349));m||(ns&127)!==0||gy(o,i,r)}return r}function gy(t,i,r){t.flags|=16384,t={getSnapshot:i,value:r},i=je.updateQueue,i===null?(i=Cu(),je.updateQueue=i,i.stores=[t]):(r=i.stores,r===null?i.stores=[t]:r.push(t))}function yy(t,i,r,o){i.value=r,i.getSnapshot=o,_y(i)&&Ey(t)}function vy(t,i,r){return r(function(){_y(i)&&Ey(t)})}function _y(t){var i=t.getSnapshot;t=t.value;try{var r=i();return!xn(t,r)}catch{return!0}}function Ey(t){var i=Ya(t,2);i!==null&&En(i,t,2)}function pf(t){var i=dn();if(typeof t=="function"){var r=t;if(t=r(),ir){Vn(!0);try{r()}finally{Vn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},i}function Ty(t,i,r,o){return t.baseState=r,ff(t,et,typeof o=="function"?o:is)}function iA(t,i,r,o,f){if(Mu(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};q.T!==null?r(!0):m.isTransition=!1,o(m),r=i.pending,r===null?(m.next=i.pending=m,by(i,m)):(m.next=r.next,i.pending=r.next=m)}}function by(t,i){var r=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=q.T,_={};q.T=_;try{var A=r(f,o),D=q.S;D!==null&&D(_,A),Sy(t,i,A)}catch(K){gf(t,i,K)}finally{m!==null&&_.types!==null&&(m.types=_.types),q.T=m}}else try{m=r(f,o),Sy(t,i,m)}catch(K){gf(t,i,K)}}function Sy(t,i,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){Ay(t,i,o)},function(o){return gf(t,i,o)}):Ay(t,i,r)}function Ay(t,i,r){i.status="fulfilled",i.value=r,wy(i),t.state=r,i=t.pending,i!==null&&(r=i.next,r===i?t.pending=null:(r=r.next,i.next=r,by(t,r)))}function gf(t,i,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=r,wy(i),i=i.next;while(i!==o)}t.action=null}function wy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function xy(t,i){return i}function Ny(t,i){if(Be){var r=it.formState;if(r!==null){e:{var o=je;if(Be){if(lt){t:{for(var f=lt,m=Fn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){lt=Kn(f.nextSibling),o=f.data==="F!";break e}}Bs(o)}o=!1}o&&(i=r[0])}}return r=dn(),r.memoizedState=r.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xy,lastRenderedState:i},r.queue=o,r=Ky.bind(null,je,o),o.dispatch=r,o=pf(!1),m=bf.bind(null,je,!1,o.queue),o=dn(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,r=iA.bind(null,je,f,m,r),f.dispatch=r,o.memoizedState=t,[i,r,!1]}function Ry(t){var i=Tt();return Cy(i,et,t)}function Cy(t,i,r){if(i=ff(t,i,xy)[0],t=ju(is)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=wo(i)}catch(_){throw _===Gr?Tu:_}else o=i;i=Tt();var f=i.queue,m=f.dispatch;return r!==i.memoizedState&&(je.flags|=2048,Xr(9,{destroy:void 0},sA.bind(null,f,r),null)),[o,m,t]}function sA(t,i){t.action=i}function Iy(t){var i=Tt(),r=et;if(r!==null)return Cy(i,r,t);Tt(),i=i.memoizedState,r=Tt();var o=r.queue.dispatch;return r.memoizedState=t,[i,o,!1]}function Xr(t,i,r,o){return t={tag:t,create:r,deps:o,inst:i,next:null},i=je.updateQueue,i===null&&(i=Cu(),je.updateQueue=i),r=i.lastEffect,r===null?i.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,i.lastEffect=t),t}function jy(){return Tt().memoizedState}function Du(t,i,r,o){var f=dn();je.flags|=t,f.memoizedState=Xr(1|i,{destroy:void 0},r,o===void 0?null:o)}function Ou(t,i,r,o){var f=Tt();o=o===void 0?null:o;var m=f.memoizedState.inst;et!==null&&o!==null&&lf(o,et.memoizedState.deps)?f.memoizedState=Xr(i,m,r,o):(je.flags|=t,f.memoizedState=Xr(1|i,m,r,o))}function Dy(t,i){Du(8390656,8,t,i)}function yf(t,i){Ou(2048,8,t,i)}function aA(t){je.flags|=4;var i=je.updateQueue;if(i===null)i=Cu(),je.updateQueue=i,i.events=[t];else{var r=i.events;r===null?i.events=[t]:r.push(t)}}function Oy(t){var i=Tt().memoizedState;return aA({ref:i,nextImpl:t}),function(){if((Qe&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function My(t,i){return Ou(4,2,t,i)}function Vy(t,i){return Ou(4,4,t,i)}function ky(t,i){if(typeof i=="function"){t=t();var r=i(t);return function(){typeof r=="function"?r():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ly(t,i,r){r=r!=null?r.concat([t]):null,Ou(4,4,ky.bind(null,i,t),r)}function vf(){}function Py(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;return i!==null&&lf(i,o[1])?o[0]:(r.memoizedState=[t,i],t)}function Uy(t,i){var r=Tt();i=i===void 0?null:i;var o=r.memoizedState;if(i!==null&&lf(i,o[1]))return o[0];if(o=t(),ir){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[o,i],o}function _f(t,i,r){return r===void 0||(ns&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=r,t=zv(),je.lanes|=t,Xs|=t,r)}function zy(t,i,r,o){return xn(r,i)?r:Qr.current!==null?(t=_f(t,r,o),xn(t,i)||(It=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=r):(t=zv(),je.lanes|=t,Xs|=t,i)}function By(t,i,r,o,f){var m=se.p;se.p=m!==0&&8>m?m:8;var _=q.T,A={};q.T=A,bf(t,!1,i,r);try{var D=f(),K=q.S;if(K!==null&&K(A,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=eA(D,o);xo(t,i,Z,Dn(t))}else xo(t,i,o,Dn(t))}catch(ie){xo(t,i,{then:function(){},status:"rejected",reason:ie},Dn())}finally{se.p=m,_!==null&&A.types!==null&&(_.types=A.types),q.T=_}}function rA(){}function Ef(t,i,r,o){if(t.tag!==5)throw Error(a(476));var f=Hy(t).queue;By(t,f,i,le,r===null?rA:function(){return qy(t),r(o)})}function Hy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:le},next:null};var r={};return i.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:r},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function qy(t){var i=Hy(t);i.next===null&&(i=t.alternate.memoizedState),xo(t,i.next.queue,{},Dn())}function Tf(){return Xt(qo)}function Fy(){return Tt().memoizedState}function Gy(){return Tt().memoizedState}function lA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var r=Dn();t=Fs(r);var o=Gs(i,t,r);o!==null&&(En(o,i,r),To(o,i,r)),i={cache:$d()},t.payload=i;return}i=i.return}}function oA(t,i,r){var o=Dn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Mu(t)?Qy(i,r):(r=Pd(t,i,r,o),r!==null&&(En(r,t,o),Yy(r,i,o)))}function Ky(t,i,r){var o=Dn();xo(t,i,r,o)}function xo(t,i,r,o){var f={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))Qy(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,A=m(_,r);if(f.hasEagerState=!0,f.eagerState=A,xn(A,_))return mu(t,i,f,0),it===null&&fu(),!1}catch{}finally{}if(r=Pd(t,i,f,o),r!==null)return En(r,t,o),Yy(r,i,o),!0}return!1}function bf(t,i,r,o){if(o={lane:2,revertLane:em(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(i)throw Error(a(479))}else i=Pd(t,r,o,2),i!==null&&En(i,t,2)}function Mu(t){var i=t.alternate;return t===je||i!==null&&i===je}function Qy(t,i){Yr=Nu=!0;var r=t.pending;r===null?i.next=i:(i.next=r.next,r.next=i),t.pending=i}function Yy(t,i,r){if((r&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,r|=o,i.lanes=r,Ql(t,r)}}var No={readContext:Xt,use:Iu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};No.useEffectEvent=gt;var $y={readContext:Xt,use:Iu,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Dy,useImperativeHandle:function(t,i,r){r=r!=null?r.concat([t]):null,Du(4194308,4,ky.bind(null,i,t),r)},useLayoutEffect:function(t,i){return Du(4194308,4,t,i)},useInsertionEffect:function(t,i){Du(4,2,t,i)},useMemo:function(t,i){var r=dn();i=i===void 0?null:i;var o=t();if(ir){Vn(!0);try{t()}finally{Vn(!1)}}return r.memoizedState=[o,i],o},useReducer:function(t,i,r){var o=dn();if(r!==void 0){var f=r(i);if(ir){Vn(!0);try{r(i)}finally{Vn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=oA.bind(null,je,t),[o.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=pf(t);var i=t.queue,r=Ky.bind(null,je,i);return i.dispatch=r,[t.memoizedState,r]},useDebugValue:vf,useDeferredValue:function(t,i){var r=dn();return _f(r,t,i)},useTransition:function(){var t=pf(!1);return t=By.bind(null,je,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,r){var o=je,f=dn();if(Be){if(r===void 0)throw Error(a(407));r=r()}else{if(r=i(),it===null)throw Error(a(349));(ke&127)!==0||gy(o,i,r)}f.memoizedState=r;var m={value:r,getSnapshot:i};return f.queue=m,Dy(vy.bind(null,o,m,t),[t]),o.flags|=2048,Xr(9,{destroy:void 0},yy.bind(null,o,m,r,i),null),r},useId:function(){var t=dn(),i=it.identifierPrefix;if(Be){var r=Li,o=ki;r=(o&~(1<<32-vt(o)-1)).toString(32)+r,i="_"+i+"R_"+r,r=Ru++,0<r&&(i+="H"+r.toString(32)),i+="_"}else r=tA++,i="_"+i+"r_"+r.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Tf,useFormState:Ny,useActionState:Ny,useOptimistic:function(t){var i=dn();i.memoizedState=i.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=r,i=bf.bind(null,je,!0,r),r.dispatch=i,[t,i]},useMemoCache:df,useCacheRefresh:function(){return dn().memoizedState=lA.bind(null,je)},useEffectEvent:function(t){var i=dn(),r={impl:t};return i.memoizedState=r,function(){if((Qe&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Sf={readContext:Xt,use:Iu,useCallback:Py,useContext:Xt,useEffect:yf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:ju,useRef:jy,useState:function(){return ju(is)},useDebugValue:vf,useDeferredValue:function(t,i){var r=Tt();return zy(r,et.memoizedState,t,i)},useTransition:function(){var t=ju(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:wo(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Tf,useFormState:Ry,useActionState:Ry,useOptimistic:function(t,i){var r=Tt();return Ty(r,et,t,i)},useMemoCache:df,useCacheRefresh:Gy};Sf.useEffectEvent=Oy;var Xy={readContext:Xt,use:Iu,useCallback:Py,useContext:Xt,useEffect:yf,useImperativeHandle:Ly,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:Uy,useReducer:mf,useRef:jy,useState:function(){return mf(is)},useDebugValue:vf,useDeferredValue:function(t,i){var r=Tt();return et===null?_f(r,t,i):zy(r,et.memoizedState,t,i)},useTransition:function(){var t=mf(is)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:wo(t),i]},useSyncExternalStore:py,useId:Fy,useHostTransitionStatus:Tf,useFormState:Iy,useActionState:Iy,useOptimistic:function(t,i){var r=Tt();return et!==null?Ty(r,et,t,i):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:df,useCacheRefresh:Gy};Xy.useEffectEvent=Oy;function Af(t,i,r,o){i=t.memoizedState,r=r(o,i),r=r==null?i:b({},i,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wf={enqueueSetState:function(t,i,r){t=t._reactInternals;var o=Dn(),f=Fs(o);f.payload=i,r!=null&&(f.callback=r),i=Gs(t,f,o),i!==null&&(En(i,t,o),To(i,t,o))},enqueueReplaceState:function(t,i,r){t=t._reactInternals;var o=Dn(),f=Fs(o);f.tag=1,f.payload=i,r!=null&&(f.callback=r),i=Gs(t,f,o),i!==null&&(En(i,t,o),To(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var r=Dn(),o=Fs(r);o.tag=2,i!=null&&(o.callback=i),i=Gs(t,o,r),i!==null&&(En(i,t,r),To(i,t,r))}};function Wy(t,i,r,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!fo(r,o)||!fo(f,m):!0}function Jy(t,i,r,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(r,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(r,o),i.state!==t&&wf.enqueueReplaceState(i,i.state,null)}function sr(t,i){var r=i;if("ref"in i){r={};for(var o in i)o!=="ref"&&(r[o]=i[o])}if(t=t.defaultProps){r===i&&(r=b({},r));for(var f in t)r[f]===void 0&&(r[f]=t[f])}return r}function Zy(t){du(t)}function ev(t){console.error(t)}function tv(t){du(t)}function Vu(t,i){try{var r=t.onUncaughtError;r(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function nv(t,i,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function xf(t,i,r){return r=Fs(r),r.tag=3,r.payload={element:null},r.callback=function(){Vu(t,i)},r}function iv(t){return t=Fs(t),t.tag=3,t}function sv(t,i,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){nv(i,r,o)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){nv(i,r,o),typeof f!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function cA(t,i,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=r.alternate,i!==null&&Hr(i,r,f,!0),r=Rn.current,r!==null){switch(r.tag){case 31:case 13:return Gn===null?Qu():r.alternate===null&&yt===0&&(yt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===bu?r.flags|=16384:(i=r.updateQueue,i===null?r.updateQueue=new Set([o]):i.add(o),Wf(t,o,f)),!1;case 22:return r.flags|=65536,o===bu?r.flags|=16384:(i=r.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=i):(r=i.retryQueue,r===null?i.retryQueue=new Set([o]):r.add(o)),Wf(t,o,f)),!1}throw Error(a(435,r.tag))}return Wf(t,o,f),Qu(),!1}if(Be)return i=Rn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Fd&&(t=Error(a(422),{cause:o}),go(Bn(t,r)))):(o!==Fd&&(i=Error(a(423),{cause:o}),go(Bn(i,r))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Bn(o,r),f=xf(t.stateNode,o,f),tf(t,f),yt!==4&&(yt=2)),!1;var m=Error(a(520),{cause:o});if(m=Bn(m,r),Vo===null?Vo=[m]:Vo.push(m),yt!==4&&(yt=2),i===null)return!0;o=Bn(o,r),r=i;do{switch(r.tag){case 3:return r.flags|=65536,t=f&-f,r.lanes|=t,t=xf(r.stateNode,o,t),tf(r,t),!1;case 1:if(i=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ws===null||!Ws.has(m))))return r.flags|=65536,f&=-f,r.lanes|=f,f=iv(f),sv(f,t,r,o),tf(r,f),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),It=!1;function Wt(t,i,r,o){i.child=t===null?oy(i,null,r,o):nr(i,t.child,r,o)}function av(t,i,r,o,f){r=r.render;var m=i.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Ja(i),o=of(t,i,r,_,m,f),A=cf(),t!==null&&!It?(uf(t,i,f),ss(t,i,f)):(Be&&A&&Hd(i),i.flags|=1,Wt(t,i,o,f),i.child)}function rv(t,i,r,o,f){if(t===null){var m=r.type;return typeof m=="function"&&!Ud(m)&&m.defaultProps===void 0&&r.compare===null?(i.tag=15,i.type=m,lv(t,i,m,o,f)):(t=gu(r.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!Vf(t,f)){var _=m.memoizedProps;if(r=r.compare,r=r!==null?r:fo,r(_,o)&&t.ref===i.ref)return ss(t,i,f)}return i.flags|=1,t=Ji(m,o),t.ref=i.ref,t.return=i,i.child=t}function lv(t,i,r,o,f){if(t!==null){var m=t.memoizedProps;if(fo(m,o)&&t.ref===i.ref)if(It=!1,i.pendingProps=o=m,Vf(t,f))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,ss(t,i,f)}return Rf(t,i,r,o,f)}function ov(t,i,r,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return cv(t,i,m,r,o)}if((r&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eu(i,m!==null?m.cachePool:null),m!==null?hy(i,m):sf(),dy(i);else return o=i.lanes=536870912,cv(t,i,m!==null?m.baseLanes|r:r,r,o)}else m!==null?(Eu(i,m.cachePool),hy(i,m),Qs(),i.memoizedState=null):(t!==null&&Eu(i,null),sf(),Qs());return Wt(t,i,f,r),i.child}function Ro(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function cv(t,i,r,o,f){var m=Wd();return m=m===null?null:{parent:Rt._currentValue,pool:m},i.memoizedState={baseLanes:r,cachePool:m},t!==null&&Eu(i,null),sf(),dy(i),t!==null&&Hr(t,i,o,!0),i.childLanes=f,null}function ku(t,i){return i=Pu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function uv(t,i,r){return nr(i,t.child,null,r),t=ku(i,i.pendingProps),t.flags|=2,Cn(i),i.memoizedState=null,t}function uA(t,i,r){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(o.mode==="hidden")return t=ku(i,o),i.lanes=536870912,Ro(null,t);if(rf(i),(t=lt)?(t=b_(t,Fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Qg(t),r.return=i,i.child=r,$t=i,lt=null)):t=null,t===null)throw Bs(i);return i.lanes=536870912,null}return ku(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(rf(i),f)if(i.flags&256)i.flags&=-257,i=uv(t,i,r);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(It||Hr(t,i,r,!1),f=(r&t.childLanes)!==0,It||f){if(o=it,o!==null&&(_=Yl(o,r),_!==0&&_!==m.retryLane))throw m.retryLane=_,Ya(t,_),En(o,t,_),Nf;Qu(),i=uv(t,i,r)}else t=m.treeContext,lt=Kn(_.nextSibling),$t=i,Be=!0,zs=null,Fn=!1,t!==null&&Xg(i,t),i=ku(i,o),i.flags|=4096;return i}return t=Ji(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Lu(t,i){var r=i.ref;if(r===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(i.flags|=4194816)}}function Rf(t,i,r,o,f){return Ja(i),r=of(t,i,r,o,void 0,f),o=cf(),t!==null&&!It?(uf(t,i,f),ss(t,i,f)):(Be&&o&&Hd(i),i.flags|=1,Wt(t,i,r,f),i.child)}function hv(t,i,r,o,f,m){return Ja(i),i.updateQueue=null,r=my(i,o,r,f),fy(t),o=cf(),t!==null&&!It?(uf(t,i,m),ss(t,i,m)):(Be&&o&&Hd(i),i.flags|=1,Wt(t,i,r,m),i.child)}function dv(t,i,r,o,f){if(Ja(i),i.stateNode===null){var m=Pr,_=r.contextType;typeof _=="object"&&_!==null&&(m=Xt(_)),m=new r(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=wf,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Zd(i),_=r.contextType,m.context=typeof _=="object"&&_!==null?Xt(_):Pr,m.state=i.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Af(i,r,_,o),m.state=i.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&wf.enqueueReplaceState(m,m.state,null),So(i,o,m,f),bo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var A=i.memoizedProps,D=sr(r,A);m.props=D;var K=m.context,Z=r.contextType;_=Pr,typeof Z=="object"&&Z!==null&&(_=Xt(Z));var ie=r.getDerivedStateFromProps;Z=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||K!==_)&&Jy(i,m,o,_),qs=!1;var Q=i.memoizedState;m.state=Q,So(i,o,m,f),bo(),K=i.memoizedState,A||Q!==K||qs?(typeof ie=="function"&&(Af(i,r,ie,o),K=i.memoizedState),(D=qs||Wy(i,r,D,o,Q,K,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=K),m.props=o,m.state=K,m.context=_,o=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,ef(t,i),_=i.memoizedProps,Z=sr(r,_),m.props=Z,ie=i.pendingProps,Q=m.context,K=r.contextType,D=Pr,typeof K=="object"&&K!==null&&(D=Xt(K)),A=r.getDerivedStateFromProps,(K=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ie||Q!==D)&&Jy(i,m,o,D),qs=!1,Q=i.memoizedState,m.state=Q,So(i,o,m,f),bo();var X=i.memoizedState;_!==ie||Q!==X||qs||t!==null&&t.dependencies!==null&&vu(t.dependencies)?(typeof A=="function"&&(Af(i,r,A,o),X=i.memoizedState),(Z=qs||Wy(i,r,Z,o,Q,X,D)||t!==null&&t.dependencies!==null&&vu(t.dependencies))?(K||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),m.props=o,m.state=X,m.context=D,o=Z):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Lu(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=nr(i,t.child,null,f),i.child=nr(i,null,r,f)):Wt(t,i,r,f),i.memoizedState=m.state,t=i.child):t=ss(t,i,f),t}function fv(t,i,r,o){return Xa(),i.flags|=256,Wt(t,i,r,o),i.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(t){return{baseLanes:t,cachePool:ny()}}function jf(t,i,r){return t=t!==null?t.childLanes&~r:0,i&&(t|=jn),t}function mv(t,i,r){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Et.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(f?Ks(i):Qs(),(t=lt)?(t=b_(t,Fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Us!==null?{id:ki,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},r=Qg(t),r.return=i,i.child=r,$t=i,lt=null)):t=null,t===null)throw Bs(i);return fm(t)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Qs(),f=i.mode,A=Pu({mode:"hidden",children:A},f),o=$a(o,f,r,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=If(r),o.childLanes=jf(t,_,r),i.memoizedState=Cf,Ro(null,o)):(Ks(i),Df(i,A))}var D=t.memoizedState;if(D!==null&&(A=D.dehydrated,A!==null)){if(m)i.flags&256?(Ks(i),i.flags&=-257,i=Of(t,i,r)):i.memoizedState!==null?(Qs(),i.child=t.child,i.flags|=128,i=null):(Qs(),A=o.fallback,f=i.mode,o=Pu({mode:"visible",children:o.children},f),A=$a(A,f,r,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,nr(i,t.child,null,r),o=i.child,o.memoizedState=If(r),o.childLanes=jf(t,_,r),i.memoizedState=Cf,i=Ro(null,o));else if(Ks(i),fm(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var K=_.dgst;_=K,o=Error(a(419)),o.stack="",o.digest=_,go({value:o,source:null,stack:null}),i=Of(t,i,r)}else if(It||Hr(t,i,r,!1),_=(r&t.childLanes)!==0,It||_){if(_=it,_!==null&&(o=Yl(_,r),o!==0&&o!==D.retryLane))throw D.retryLane=o,Ya(t,o),En(_,t,o),Nf;dm(A)||Qu(),i=Of(t,i,r)}else dm(A)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,lt=Kn(A.nextSibling),$t=i,Be=!0,zs=null,Fn=!1,t!==null&&Xg(i,t),i=Df(i,o.children),i.flags|=4096);return i}return f?(Qs(),A=o.fallback,f=i.mode,D=t.child,K=D.sibling,o=Ji(D,{mode:"hidden",children:o.children}),o.subtreeFlags=D.subtreeFlags&65011712,K!==null?A=Ji(K,A):(A=$a(A,f,r,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,Ro(null,o),o=i.child,A=t.child.memoizedState,A===null?A=If(r):(f=A.cachePool,f!==null?(D=Rt._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=ny(),A={baseLanes:A.baseLanes|r,cachePool:f}),o.memoizedState=A,o.childLanes=jf(t,_,r),i.memoizedState=Cf,Ro(t.child,o)):(Ks(i),r=t.child,t=r.sibling,r=Ji(r,{mode:"visible",children:o.children}),r.return=i,r.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=r,i.memoizedState=null,r)}function Df(t,i){return i=Pu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Pu(t,i){return t=Nn(22,t,null,i),t.lanes=0,t}function Of(t,i,r){return nr(i,t.child,null,r),t=Df(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function pv(t,i,r){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Qd(t.return,i,r)}function Mf(t,i,r,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=r,_.tailMode=f,_.treeForkCount=m)}function gv(t,i,r){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=Et.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,he(Et,_),Wt(t,i,o,r),o=Be?po:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,r,i);else if(t.tag===19)pv(t,r,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(r=i.child,f=null;r!==null;)t=r.alternate,t!==null&&xu(t)===null&&(f=r),r=r.sibling;r=f,r===null?(f=i.child,i.child=null):(f=r.sibling,r.sibling=null),Mf(i,!1,f,r,m,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&xu(t)===null){i.child=f;break}t=f.sibling,f.sibling=r,r=f,f=t}Mf(i,!0,r,null,m,o);break;case"together":Mf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function ss(t,i,r){if(t!==null&&(i.dependencies=t.dependencies),Xs|=i.lanes,(r&i.childLanes)===0)if(t!==null){if(Hr(t,i,r,!1),(r&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,r=Ji(t,t.pendingProps),i.child=r,r.return=i;t.sibling!==null;)t=t.sibling,r=r.sibling=Ji(t,t.pendingProps),r.return=i;r.sibling=null}return i.child}function Vf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vu(t)))}function hA(t,i,r){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Hs(i,Rt,t.memoizedState.cache),Xa();break;case 27:case 5:Ia(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Hs(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ks(i),i.flags|=128,null):(r&i.child.childLanes)!==0?mv(t,i,r):(Ks(i),t=ss(t,i,r),t!==null?t.sibling:null);Ks(i);break;case 19:var f=(t.flags&128)!==0;if(o=(r&i.childLanes)!==0,o||(Hr(t,i,r,!1),o=(r&i.childLanes)!==0),f){if(o)return gv(t,i,r);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Et,Et.current),o)break;return null;case 22:return i.lanes=0,ov(t,i,r,i.pendingProps);case 24:Hs(i,Rt,t.memoizedState.cache)}return ss(t,i,r)}function yv(t,i,r){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!Vf(t,r)&&(i.flags&128)===0)return It=!1,hA(t,i,r);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&$g(i,po,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=er(i.elementType),i.type=t,typeof t=="function")Ud(t)?(o=sr(t,o),i.tag=1,i=dv(null,i,t,o,r)):(i.tag=0,i=Rf(null,i,t,o,r));else{if(t!=null){var f=t.$$typeof;if(f===z){i.tag=11,i=av(null,i,t,o,r);break e}else if(f===I){i.tag=14,i=rv(null,i,t,o,r);break e}}throw i=Ye(t)||t,Error(a(306,i,""))}}return i;case 0:return Rf(t,i,i.type,i.pendingProps,r);case 1:return o=i.type,f=sr(o,i.pendingProps),dv(t,i,o,f,r);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(a(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,ef(t,i),So(i,o,null,r);var _=i.memoizedState;if(o=_.cache,Hs(i,Rt,o),o!==m.cache&&Yd(i,[Rt],r,!0),bo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=fv(t,i,o,r);break e}else if(o!==f){f=Bn(Error(a(424)),i),go(f),i=fv(t,i,o,r);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Kn(t.firstChild),$t=i,Be=!0,zs=null,Fn=!0,r=oy(i,null,o,r),i.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Xa(),o===f){i=ss(t,i,r);break e}Wt(t,i,o,r)}i=i.child}return i;case 26:return Lu(t,i),t===null?(r=R_(i.type,null,i.pendingProps,null))?i.memoizedState=r:Be||(r=i.type,t=i.pendingProps,o=eh(De.current).createElement(r),o[wt]=i,o[Bt]=t,Jt(o,r,t),xt(o),i.stateNode=o):i.memoizedState=R_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ia(i),t===null&&Be&&(o=i.stateNode=w_(i.type,i.pendingProps,De.current),$t=i,Fn=!0,f=lt,ta(i.type)?(mm=f,lt=Kn(o.firstChild)):lt=f),Wt(t,i,i.pendingProps.children,r),Lu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((f=o=lt)&&(o=BA(o,i.type,i.pendingProps,Fn),o!==null?(i.stateNode=o,$t=i,lt=Kn(o.firstChild),Fn=!1,f=!0):f=!1),f||Bs(i)),Ia(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,cm(f,m)?o=null:_!==null&&cm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=of(t,i,nA,null,null,r),qo._currentValue=f),Lu(t,i),Wt(t,i,o,r),i.child;case 6:return t===null&&Be&&((t=r=lt)&&(r=HA(r,i.pendingProps,Fn),r!==null?(i.stateNode=r,$t=i,lt=null,t=!0):t=!1),t||Bs(i)),null;case 13:return mv(t,i,r);case 4:return kt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=nr(i,null,o,r):Wt(t,i,o,r),i.child;case 11:return av(t,i,i.type,i.pendingProps,r);case 7:return Wt(t,i,i.pendingProps,r),i.child;case 8:return Wt(t,i,i.pendingProps.children,r),i.child;case 12:return Wt(t,i,i.pendingProps.children,r),i.child;case 10:return o=i.pendingProps,Hs(i,i.type,o.value),Wt(t,i,o.children,r),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Ja(i),f=Xt(f),o=o(f),i.flags|=1,Wt(t,i,o,r),i.child;case 14:return rv(t,i,i.type,i.pendingProps,r);case 15:return lv(t,i,i.type,i.pendingProps,r);case 19:return gv(t,i,r);case 31:return uA(t,i,r);case 22:return ov(t,i,r,i.pendingProps);case 24:return Ja(i),o=Xt(Rt),t===null?(f=Wd(),f===null&&(f=it,m=$d(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=r),f=m),i.memoizedState={parent:o,cache:f},Zd(i),Hs(i,Rt,f)):((t.lanes&r)!==0&&(ef(t,i),So(i,null,null,r),bo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Hs(i,Rt,o)):(o=m.cache,Hs(i,Rt,o),o!==f.cache&&Yd(i,[Rt],r,!0))),Wt(t,i,i.pendingProps.children,r),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function as(t){t.flags|=4}function kf(t,i,r,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Fv())t.flags|=8192;else throw tr=bu,Jd}else t.flags&=-16777217}function vv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!O_(i))if(Fv())t.flags|=8192;else throw tr=bu,Jd}function Uu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Gc():536870912,t.lanes|=i,el|=i)}function Co(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(i)for(var f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=r,i}function dA(t,i,r){var o=i.pendingProps;switch(qd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return r=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),ts(Rt),ct(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Br(i)?as(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Gd())),ot(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(as(i),m!==null?(ot(i),vv(i,m)):(ot(i),kf(i,f,null,o,r))):m?m!==t.memoizedState?(as(i),ot(i),vv(i,m)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&as(i),ot(i),kf(i,f,t,o,r)),null;case 27:if(_r(i),r=De.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return ot(i),null}t=fe.current,Br(i)?Wg(i):(t=w_(f,o,r),i.stateNode=t,as(i))}return ot(i),null;case 5:if(_r(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(!o){if(i.stateNode===null)throw Error(a(166));return ot(i),null}if(m=fe.current,Br(i))Wg(i);else{var _=eh(De.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[wt]=i,m[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Jt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&as(i)}}return ot(i),kf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,r),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&as(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(a(166));if(t=De.current,Br(i)){if(t=i.stateNode,r=i.memoizedProps,o=null,f=$t,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[wt]=i,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||m_(t.nodeValue,r)),t||Bs(i,!0)}else t=eh(t).createTextNode(o),t[wt]=i,i.stateNode=t}return ot(i),null;case 31:if(r=i.memoizedState,t===null||t.memoizedState!==null){if(o=Br(i),r!==null){if(t===null){if(!o)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[wt]=i}else Xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else r=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return i.flags&256?(Cn(i),i):(Cn(i),null);if((i.flags&128)!==0)throw Error(a(558))}return ot(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Br(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[wt]=i}else Xa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),f=!1}else f=Gd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Cn(i),i):(Cn(i),null)}return Cn(i),(i.flags&128)!==0?(i.lanes=r,i):(r=o!==null,t=t!==null&&t.memoizedState!==null,r&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),r!==t&&r&&(i.child.flags|=8192),Uu(i,i.updateQueue),ot(i),null);case 4:return ct(),t===null&&sm(i.stateNode.containerInfo),ot(i),null;case 10:return ts(i.type),ot(i),null;case 19:if(J(Et),o=i.memoizedState,o===null)return ot(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)Co(o,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=xu(t),m!==null){for(i.flags|=128,Co(o,!1),t=m.updateQueue,i.updateQueue=t,Uu(i,t),i.subtreeFlags=0,t=r,r=i.child;r!==null;)Kg(r,t),r=r.sibling;return he(Et,Et.current&1|2),Be&&Zi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&un()>Fu&&(i.flags|=128,f=!0,Co(o,!1),i.lanes=4194304)}else{if(!f)if(t=xu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,Uu(i,t),Co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!Be)return ot(i),null}else 2*un()-o.renderingStartTime>Fu&&r!==536870912&&(i.flags|=128,f=!0,Co(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=un(),t.sibling=null,r=Et.current,he(Et,f?r&1|2:r&1),Be&&Zi(i,o.treeForkCount),t):(ot(i),null);case 22:case 23:return Cn(i),af(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(r&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),r=i.updateQueue,r!==null&&Uu(i,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048),t!==null&&J(Za),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),ts(Rt),ot(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function fA(t,i){switch(qd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ts(Rt),ct(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _r(i),null;case 31:if(i.memoizedState!==null){if(Cn(i),i.alternate===null)throw Error(a(340));Xa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Cn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Xa()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(Et),null;case 4:return ct(),null;case 10:return ts(i.type),null;case 22:case 23:return Cn(i),af(),t!==null&&J(Za),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ts(Rt),null;case 25:return null;default:return null}}function _v(t,i){switch(qd(i),i.tag){case 3:ts(Rt),ct();break;case 26:case 27:case 5:_r(i);break;case 4:ct();break;case 31:i.memoizedState!==null&&Cn(i);break;case 13:Cn(i);break;case 19:J(Et);break;case 10:ts(i.type);break;case 22:case 23:Cn(i),af(),t!==null&&J(Za);break;case 24:ts(Rt)}}function Io(t,i){try{var r=i.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&t)===t){o=void 0;var m=r.create,_=r.inst;o=m(),_.destroy=o}r=r.next}while(r!==f)}}catch(A){Je(i,i.return,A)}}function Ys(t,i,r){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var D=r,K=A;try{K()}catch(Z){Je(f,D,Z)}}}o=o.next}while(o!==m)}}catch(Z){Je(i,i.return,Z)}}function Ev(t){var i=t.updateQueue;if(i!==null){var r=t.stateNode;try{uy(i,r)}catch(o){Je(t,t.return,o)}}}function Tv(t,i,r){r.props=sr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){Je(t,i,o)}}function jo(t,i){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(f){Je(t,i,f)}}function Pi(t,i){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Je(t,i,f)}else r.current=null}function bv(t){var i=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Je(t,t.return,f)}}function Lf(t,i,r){try{var o=t.stateNode;VA(o,t.type,r,i),o[Bt]=i}catch(f){Je(t,t.return,f)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ta(t.type)||t.tag===4}function Pf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ta(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,i):(i=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,i.appendChild(t),r=r._reactRootContainer,r!=null||i.onclick!==null||(i.onclick=ii));else if(o!==4&&(o===27&&ta(t.type)&&(r=t.stateNode,i=null),t=t.child,t!==null))for(Uf(t,i,r),t=t.sibling;t!==null;)Uf(t,i,r),t=t.sibling}function zu(t,i,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?r.insertBefore(t,i):r.appendChild(t);else if(o!==4&&(o===27&&ta(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(zu(t,i,r),t=t.sibling;t!==null;)zu(t,i,r),t=t.sibling}function Av(t){var i=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,o,r),i[wt]=t,i[Bt]=r}catch(m){Je(t,t.return,m)}}var rs=!1,jt=!1,zf=!1,wv=typeof WeakSet=="function"?WeakSet:Set,qt=null;function mA(t,i){if(t=t.containerInfo,lm=lh,t=Lg(t),Dd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var _=0,A=-1,D=-1,K=0,Z=0,ie=t,Q=null;t:for(;;){for(var X;ie!==r||f!==0&&ie.nodeType!==3||(A=_+f),ie!==m||o!==0&&ie.nodeType!==3||(D=_+o),ie.nodeType===3&&(_+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Q=ie,ie=X;for(;;){if(ie===t)break t;if(Q===r&&++K===f&&(A=_),Q===m&&++Z===o&&(D=_),(X=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=X}r=A===-1||D===-1?null:{start:A,end:D}}else r=null}r=r||{start:0,end:0}}else r=null;for(om={focusedElem:t,selectionRange:r},lh=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)f=t[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=i,f=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var pe=sr(r.type,f);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Te){Je(r,r.return,Te)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,r=t.nodeType,r===9)hm(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function xv(t,i,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:os(t,r),o&4&&Io(5,r);break;case 1:if(os(t,r),o&4)if(t=r.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(r,r.return,_)}else{var f=sr(r.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(r,r.return,_)}}o&64&&Ev(r),o&512&&jo(r,r.return);break;case 3:if(os(t,r),o&64&&(t=r.updateQueue,t!==null)){if(i=null,r.child!==null)switch(r.child.tag){case 27:case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}try{uy(t,i)}catch(_){Je(r,r.return,_)}}break;case 27:i===null&&o&4&&Av(r);case 26:case 5:os(t,r),i===null&&o&4&&bv(r),o&512&&jo(r,r.return);break;case 12:os(t,r);break;case 31:os(t,r),o&4&&Cv(t,r);break;case 13:os(t,r),o&4&&Iv(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=SA.bind(null,r),qA(t,r))));break;case 22:if(o=r.memoizedState!==null||rs,!o){i=i!==null&&i.memoizedState!==null||jt,f=rs;var m=jt;rs=o,(jt=i)&&!m?cs(t,r,(r.subtreeFlags&8772)!==0):os(t,r),rs=f,jt=m}break;case 30:break;default:os(t,r)}}function Nv(t){var i=t.alternate;i!==null&&(t.alternate=null,Nv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ar(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,gn=!1;function ls(t,i,r){for(r=r.child;r!==null;)Rv(t,i,r),r=r.sibling}function Rv(t,i,r){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Zn,r)}catch{}switch(r.tag){case 26:jt||Pi(r,i),ls(t,i,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||Pi(r,i);var o=ht,f=gn;ta(r.type)&&(ht=r.stateNode,gn=!1),ls(t,i,r),zo(r.stateNode),ht=o,gn=f;break;case 5:jt||Pi(r,i);case 6:if(o=ht,f=gn,ht=null,ls(t,i,r),ht=o,gn=f,ht!==null)if(gn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(r.stateNode)}catch(m){Je(r,i,m)}else try{ht.removeChild(r.stateNode)}catch(m){Je(r,i,m)}break;case 18:ht!==null&&(gn?(t=ht,E_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),ol(t)):E_(ht,r.stateNode));break;case 4:o=ht,f=gn,ht=r.stateNode.containerInfo,gn=!0,ls(t,i,r),ht=o,gn=f;break;case 0:case 11:case 14:case 15:Ys(2,r,i),jt||Ys(4,r,i),ls(t,i,r);break;case 1:jt||(Pi(r,i),o=r.stateNode,typeof o.componentWillUnmount=="function"&&Tv(r,i,o)),ls(t,i,r);break;case 21:ls(t,i,r);break;case 22:jt=(o=jt)||r.memoizedState!==null,ls(t,i,r),jt=o;break;default:ls(t,i,r)}}function Cv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ol(t)}catch(r){Je(i,i.return,r)}}}function Iv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ol(t)}catch(r){Je(i,i.return,r)}}function pA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new wv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new wv),i;default:throw Error(a(435,t.tag))}}function Bu(t,i){var r=pA(t);i.forEach(function(o){if(!r.has(o)){r.add(o);var f=AA.bind(null,t,o);o.then(f,f)}})}function yn(t,i){var r=i.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],m=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(ta(A.type)){ht=A.stateNode,gn=!1;break e}break;case 5:ht=A.stateNode,gn=!1;break e;case 3:case 4:ht=A.stateNode.containerInfo,gn=!0;break e}A=A.return}if(ht===null)throw Error(a(160));Rv(m,_,f),ht=null,gn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jv(i,t),i=i.sibling}var ci=null;function jv(t,i){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(i,t),vn(t),o&4&&(Ys(3,t,t.return),Io(3,t),Ys(5,t,t.return));break;case 1:yn(i,t),vn(t),o&512&&(jt||r===null||Pi(r,r.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=ci;if(yn(i,t),vn(t),o&512&&(jt||r===null||Pi(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ai]||m[wt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Jt(m,o,r),m[wt]=t,xt(m),o=m;break e;case"link":var _=j_("link","href",f).get(o+(r.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(o),Jt(m,o,r),f.head.appendChild(m);break;case"meta":if(_=j_("meta","content",f).get(o+(r.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(A,1);break t}}m=f.createElement(o),Jt(m,o,r),f.head.appendChild(m);break;default:throw Error(a(468,o))}m[wt]=t,xt(m),o=m}t.stateNode=o}else D_(f,t.type,t.stateNode);else t.stateNode=I_(f,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?D_(f,t.type,t.stateNode):I_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Lf(t,t.memoizedProps,r.memoizedProps)}break;case 27:yn(i,t),vn(t),o&512&&(jt||r===null||Pi(r,r.return)),r!==null&&o&4&&Lf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(yn(i,t),vn(t),o&512&&(jt||r===null||Pi(r,r.return)),t.flags&32){f=t.stateNode;try{pn(f,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Lf(t,f,r!==null?r.memoizedProps:f)),o&1024&&(zf=!0);break;case 6:if(yn(i,t),vn(t),o&4){if(t.stateNode===null)throw Error(a(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if(ih=null,f=ci,ci=th(i.containerInfo),yn(i,t),ci=f,vn(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{ol(i.containerInfo)}catch(pe){Je(t,t.return,pe)}zf&&(zf=!1,Dv(t));break;case 4:o=ci,ci=th(t.stateNode.containerInfo),yn(i,t),vn(t),ci=o;break;case 12:yn(i,t),vn(t);break;case 31:yn(i,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bu(t,o)));break;case 13:yn(i,t),vn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(qu=un()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bu(t,o)));break;case 22:f=t.memoizedState!==null;var D=r!==null&&r.memoizedState!==null,K=rs,Z=jt;if(rs=K||f,jt=Z||D,yn(i,t),jt=Z,rs=K,vn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(r===null||D||rs||jt||ar(t)),r=null,i=t;;){if(i.tag===5||i.tag===26){if(r===null){D=r=i;try{if(m=D.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=D.stateNode;var ie=D.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===6){if(r===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(pe){Je(D,D.return,pe)}}}else if(i.tag===18){if(r===null){D=i;try{var X=D.stateNode;f?T_(X,!0):T_(D.stateNode,!1)}catch(pe){Je(D,D.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;r===i&&(r=null),i=i.return}r===i&&(r=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Bu(t,r))));break;case 19:yn(i,t),vn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Bu(t,o)));break;case 30:break;case 21:break;default:yn(i,t),vn(t)}}function vn(t){var i=t.flags;if(i&2){try{for(var r,o=t.return;o!==null;){if(Sv(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var f=r.stateNode,m=Pf(t);zu(t,m,f);break;case 5:var _=r.stateNode;r.flags&32&&(pn(_,""),r.flags&=-33);var A=Pf(t);zu(t,A,_);break;case 3:case 4:var D=r.stateNode.containerInfo,K=Pf(t);Uf(t,K,D);break;default:throw Error(a(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Dv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Dv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function os(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(t,i.alternate,i),i=i.sibling}function ar(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ys(4,i,i.return),ar(i);break;case 1:Pi(i,i.return);var r=i.stateNode;typeof r.componentWillUnmount=="function"&&Tv(i,i.return,r),ar(i);break;case 27:zo(i.stateNode);case 26:case 5:Pi(i,i.return),ar(i);break;case 22:i.memoizedState===null&&ar(i);break;case 30:ar(i);break;default:ar(i)}t=t.sibling}}function cs(t,i,r){for(r=r&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:cs(f,m,r),Io(4,m);break;case 1:if(cs(f,m,r),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(K){Je(o,o.return,K)}if(o=m,f=o.updateQueue,f!==null){var A=o.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)cy(D[f],A)}catch(K){Je(o,o.return,K)}}r&&_&64&&Ev(m),jo(m,m.return);break;case 27:Av(m);case 26:case 5:cs(f,m,r),r&&o===null&&_&4&&bv(m),jo(m,m.return);break;case 12:cs(f,m,r);break;case 31:cs(f,m,r),r&&_&4&&Cv(f,m);break;case 13:cs(f,m,r),r&&_&4&&Iv(f,m);break;case 22:m.memoizedState===null&&cs(f,m,r),jo(m,m.return);break;case 30:break;default:cs(f,m,r)}i=i.sibling}}function Bf(t,i){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&yo(r))}function Hf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t))}function ui(t,i,r,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Ov(t,i,r,o),i=i.sibling}function Ov(t,i,r,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,r,o),f&2048&&Io(9,i);break;case 1:ui(t,i,r,o);break;case 3:ui(t,i,r,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&yo(t)));break;case 12:if(f&2048){ui(t,i,r,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Je(i,i.return,D)}}else ui(t,i,r,o);break;case 31:ui(t,i,r,o);break;case 13:ui(t,i,r,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?ui(t,i,r,o):Do(t,i):m._visibility&2?ui(t,i,r,o):(m._visibility|=2,Wr(t,i,r,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&Bf(_,i);break;case 24:ui(t,i,r,o),f&2048&&Hf(i.alternate,i);break;default:ui(t,i,r,o)}}function Wr(t,i,r,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,A=r,D=o,K=_.flags;switch(_.tag){case 0:case 11:case 15:Wr(m,_,A,D,f),Io(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Wr(m,_,A,D,f):Do(m,_):(Z._visibility|=2,Wr(m,_,A,D,f)),f&&K&2048&&Bf(_.alternate,_);break;case 24:Wr(m,_,A,D,f),f&&K&2048&&Hf(_.alternate,_);break;default:Wr(m,_,A,D,f)}i=i.sibling}}function Do(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var r=t,o=i,f=o.flags;switch(o.tag){case 22:Do(r,o),f&2048&&Bf(o.alternate,o);break;case 24:Do(r,o),f&2048&&Hf(o.alternate,o);break;default:Do(r,o)}i=i.sibling}}var Oo=8192;function Jr(t,i,r){if(t.subtreeFlags&Oo)for(t=t.child;t!==null;)Mv(t,i,r),t=t.sibling}function Mv(t,i,r){switch(t.tag){case 26:Jr(t,i,r),t.flags&Oo&&t.memoizedState!==null&&tw(r,ci,t.memoizedState,t.memoizedProps);break;case 5:Jr(t,i,r);break;case 3:case 4:var o=ci;ci=th(t.stateNode.containerInfo),Jr(t,i,r),ci=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Oo,Oo=16777216,Jr(t,i,r),Oo=o):Jr(t,i,r));break;default:Jr(t,i,r)}}function Vv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Mo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];qt=o,Lv(o,t)}Vv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&Ys(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Hu(t)):Mo(t);break;default:Mo(t)}}function Hu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var r=0;r<i.length;r++){var o=i[r];qt=o,Lv(o,t)}Vv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ys(8,i,i.return),Hu(i);break;case 22:r=i.stateNode,r._visibility&2&&(r._visibility&=-3,Hu(i));break;default:Hu(i)}t=t.sibling}}function Lv(t,i){for(;qt!==null;){var r=qt;switch(r.tag){case 0:case 11:case 15:Ys(8,r,i);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:yo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,qt=o;else e:for(r=t;qt!==null;){o=qt;var f=o.sibling,m=o.return;if(Nv(o),o===r){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var gA={getCacheForType:function(t){var i=Xt(Rt),r=i.data.get(t);return r===void 0&&(r=t(),i.data.set(t,r)),r},cacheSignal:function(){return Xt(Rt).controller.signal}},yA=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Me=null,ke=0,We=0,In=null,$s=!1,Zr=!1,qf=!1,us=0,yt=0,Xs=0,rr=0,Ff=0,jn=0,el=0,Vo=null,_n=null,Gf=!1,qu=0,Pv=0,Fu=1/0,Gu=null,Ws=null,Pt=0,Js=null,tl=null,hs=0,Kf=0,Qf=null,Uv=null,ko=0,Yf=null;function Dn(){return(Qe&2)!==0&&ke!==0?ke&-ke:q.T!==null?em():Kc()}function zv(){if(jn===0)if((ke&536870912)===0||Be){var t=Oa;Oa<<=1,(Oa&3932160)===0&&(Oa=262144),jn=t}else jn=536870912;return t=Rn.current,t!==null&&(t.flags|=32),jn}function En(t,i,r){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(nl(t,0),Zs(t,ke,jn,!1)),Ma(t,r),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(rr|=r),yt===4&&Zs(t,ke,jn,!1)),Ui(t))}function Bv(t,i,r){if((Qe&6)!==0)throw Error(a(327));var o=!r&&(i&127)===0&&(i&t.expiredLanes)===0||ei(t,i),f=o?EA(t,i):Xf(t,i,!0),m=o;do{if(f===0){Zr&&!o&&Zs(t,i,0,!1);break}else{if(r=t.current.alternate,m&&!vA(r)){f=Xf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Vo;var D=A.current.memoizedState.isDehydrated;if(D&&(nl(A,_).flags|=256),_=Xf(A,_,!1),_!==2){if(qf&&!D){A.errorRecoveryDisabledLanes|=m,rr|=m,f=4;break e}m=_n,_n=f,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){nl(t,0),Zs(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Zs(o,i,jn,!$s);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(f=qu+300-un(),10<f)){if(Zs(o,i,jn,!$s),Ti(o,0,!0)!==0)break e;hs=i,o.timeoutHandle=v_(Hv.bind(null,o,r,_n,Gu,Gf,i,jn,rr,el,$s,m,"Throttled",-0,0),f);break e}Hv(o,r,_n,Gu,Gf,i,jn,rr,el,$s,m,null,-0,0)}}break}while(!0);Ui(t)}function Hv(t,i,r,o,f,m,_,A,D,K,Z,ie,Q,X){if(t.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},Mv(i,m,ie);var pe=(m&62914560)===m?qu-un():(m&4194048)===m?Pv-un():0;if(pe=nw(ie,pe),pe!==null){hs=m,t.cancelPendingCommit=pe(Xv.bind(null,t,i,m,r,o,f,_,A,D,Z,ie,null,Q,X)),Zs(t,m,_,!K);return}}Xv(t,i,m,r,o,f,_,A,D)}function vA(t){for(var i=t;;){var r=i.tag;if((r===0||r===11||r===15)&&i.flags&16384&&(r=i.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],m=f.getSnapshot;f=f.value;try{if(!xn(m(),f))return!1}catch{return!1}}if(r=i.child,i.subtreeFlags&16384&&r!==null)r.return=i,i=r;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Zs(t,i,r,o){i&=~Ff,i&=~rr,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-vt(f),_=1<<m;o[m]=-1,f&=~_}r!==0&&Va(t,r,i)}function Ku(){return(Qe&6)===0?(Lo(0),!1):!0}function $f(){if(Me!==null){if(We===0)var t=Me.return;else t=Me,es=Wa=null,hf(t),Kr=null,_o=0,t=Me;for(;t!==null;)_v(t.alternate,t),t=t.return;Me=null}}function nl(t,i){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,PA(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),hs=0,$f(),it=t,Me=r=Ji(t.current,null),ke=i,We=0,In=null,$s=!1,Zr=ei(t,i),qf=!1,el=jn=Ff=rr=Xs=yt=0,_n=Vo=null,Gf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-vt(o),m=1<<f;i|=t[f],o&=~m}return us=i,fu(),r}function qv(t,i){je=null,q.H=No,i===Gr||i===Tu?(i=ay(),We=3):i===Jd?(i=ay(),We=4):We=i===Nf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Me===null&&(yt=1,Vu(t,Bn(i,t.current)))}function Fv(){var t=Rn.current;return t===null?!0:(ke&4194048)===ke?Gn===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Gn:!1}function Gv(){var t=q.H;return q.H=No,t===null?No:t}function Kv(){var t=q.A;return q.A=gA,t}function Qu(){yt=4,$s||(ke&4194048)!==ke&&Rn.current!==null||(Zr=!0),(Xs&134217727)===0&&(rr&134217727)===0||it===null||Zs(it,ke,jn,!1)}function Xf(t,i,r){var o=Qe;Qe|=2;var f=Gv(),m=Kv();(it!==t||ke!==i)&&(Gu=null,nl(t,i)),i=!1;var _=yt;e:do try{if(We!==0&&Me!==null){var A=Me,D=In;switch(We){case 8:$f(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(i=!0);var K=We;if(We=0,In=null,il(t,A,D,K),r&&Zr){_=0;break e}break;default:K=We,We=0,In=null,il(t,A,D,K)}}_A(),_=yt;break}catch(Z){qv(t,Z)}while(!0);return i&&t.shellSuspendCounter++,es=Wa=null,Qe=o,q.H=f,q.A=m,Me===null&&(it=null,ke=0,fu()),_}function _A(){for(;Me!==null;)Qv(Me)}function EA(t,i){var r=Qe;Qe|=2;var o=Gv(),f=Kv();it!==t||ke!==i?(Gu=null,Fu=un()+500,nl(t,i)):Zr=ei(t,i);e:do try{if(We!==0&&Me!==null){i=Me;var m=In;t:switch(We){case 1:We=0,In=null,il(t,i,m,1);break;case 2:case 9:if(iy(m)){We=0,In=null,Yv(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),Ui(t)},m.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:iy(m)?(We=0,In=null,Yv(i)):(We=0,In=null,il(t,i,m,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var A=Me;if(_?O_(_):A.stateNode.complete){We=0,In=null;var D=A.sibling;if(D!==null)Me=D;else{var K=A.return;K!==null?(Me=K,Yu(K)):Me=null}break t}}We=0,In=null,il(t,i,m,5);break;case 6:We=0,In=null,il(t,i,m,6);break;case 8:$f(),yt=6;break e;default:throw Error(a(462))}}TA();break}catch(Z){qv(t,Z)}while(!0);return es=Wa=null,q.H=o,q.A=f,Qe=r,Me!==null?0:(it=null,ke=0,fu(),yt)}function TA(){for(;Me!==null&&!wd();)Qv(Me)}function Qv(t){var i=yv(t.alternate,t,us);t.memoizedProps=t.pendingProps,i===null?Yu(t):Me=i}function Yv(t){var i=t,r=i.alternate;switch(i.tag){case 15:case 0:i=hv(r,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=hv(r,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:hf(i);default:_v(r,i),i=Me=Kg(i,us),i=yv(r,i,us)}t.memoizedProps=t.pendingProps,i===null?Yu(t):Me=i}function il(t,i,r,o){es=Wa=null,hf(i),Kr=null,_o=0;var f=i.return;try{if(cA(t,f,i,r,ke)){yt=1,Vu(t,Bn(r,t.current)),Me=null;return}}catch(m){if(f!==null)throw Me=f,m;yt=1,Vu(t,Bn(r,t.current)),Me=null;return}i.flags&32768?(Be||o===1?t=!0:Zr||(ke&536870912)!==0?t=!1:($s=t=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),$v(i,t)):Yu(i)}function Yu(t){var i=t;do{if((i.flags&32768)!==0){$v(i,$s);return}t=i.return;var r=dA(i.alternate,i,us);if(r!==null){Me=r;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);yt===0&&(yt=5)}function $v(t,i){do{var r=fA(t.alternate,t);if(r!==null){r.flags&=32767,Me=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=r}while(t!==null);yt=6,Me=null}function Xv(t,i,r,o,f,m,_,A,D){t.cancelPendingCommit=null;do $u();while(Pt!==0);if((Qe&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=Ld,Rd(t,r,m,_,A,D),t===it&&(Me=it=null,ke=0),tl=i,Js=t,hs=r,Kf=m,Qf=f,Uv=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wA(Cs,function(){return t_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=se.p,se.p=2,_=Qe,Qe|=4;try{mA(t,i,r)}finally{Qe=_,se.p=f,q.T=o}}Pt=1,Wv(),Jv(),Zv()}}function Wv(){if(Pt===1){Pt=0;var t=Js,i=tl,r=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||r){r=q.T,q.T=null;var o=se.p;se.p=2;var f=Qe;Qe|=4;try{jv(i,t);var m=om,_=Lg(t.containerInfo),A=m.focusedElem,D=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&kg(A.ownerDocument.documentElement,A)){if(D!==null&&Dd(A)){var K=D.start,Z=D.end;if(Z===void 0&&(Z=K),"selectionStart"in A)A.selectionStart=K,A.selectionEnd=Math.min(Z,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pe=A.textContent.length,Te=Math.min(D.start,pe),nt=D.end===void 0?Te:Math.min(D.end,pe);!X.extend&&Te>nt&&(_=nt,nt=Te,Te=_);var H=Vg(A,Te),P=Vg(A,nt);if(H&&P&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==P.node||X.focusOffset!==P.offset)){var G=ie.createRange();G.setStart(H.node,H.offset),X.removeAllRanges(),Te>nt?(X.addRange(G),X.extend(P.node,P.offset)):(G.setEnd(P.node,P.offset),X.addRange(G))}}}}for(ie=[],X=A;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var ee=ie[A];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}lh=!!lm,om=lm=null}finally{Qe=f,se.p=o,q.T=r}}t.current=i,Pt=2}}function Jv(){if(Pt===2){Pt=0;var t=Js,i=tl,r=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||r){r=q.T,q.T=null;var o=se.p;se.p=2;var f=Qe;Qe|=4;try{xv(t,i.alternate,i)}finally{Qe=f,se.p=o,q.T=r}}Pt=3}}function Zv(){if(Pt===4||Pt===3){Pt=0,Uc();var t=Js,i=tl,r=hs,o=Uv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,tl=Js=null,e_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ws=null),Yi(r),i=i.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Zn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,f=se.p,se.p=2,q.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var A=o[_];m(A.value,{componentStack:A.stack})}}finally{q.T=i,se.p=f}}(hs&3)!==0&&$u(),Ui(t),f=t.pendingLanes,(r&261930)!==0&&(f&42)!==0?t===Yf?ko++:(ko=0,Yf=t):ko=0,Lo(0)}}function e_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,yo(i)))}function $u(){return Wv(),Jv(),Zv(),t_()}function t_(){if(Pt!==5)return!1;var t=Js,i=Kf;Kf=0;var r=Yi(hs),o=q.T,f=se.p;try{se.p=32>r?32:r,q.T=null,r=Qf,Qf=null;var m=Js,_=hs;if(Pt=0,tl=Js=null,hs=0,(Qe&6)!==0)throw Error(a(331));var A=Qe;if(Qe|=4,kv(m.current),Ov(m,m.current,_,r),Qe=A,Lo(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Zn,m)}catch{}return!0}finally{se.p=f,q.T=o,e_(t,i)}}function n_(t,i,r){i=Bn(r,i),i=xf(t.stateNode,i,2),t=Gs(t,i,2),t!==null&&(Ma(t,2),Ui(t))}function Je(t,i,r){if(t.tag===3)n_(t,t,r);else for(;i!==null;){if(i.tag===3){n_(i,t,r);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ws===null||!Ws.has(o))){t=Bn(r,t),r=iv(2),o=Gs(i,r,2),o!==null&&(sv(r,o,i,t),Ma(o,2),Ui(o));break}}i=i.return}}function Wf(t,i,r){var o=t.pingCache;if(o===null){o=t.pingCache=new yA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(r)||(qf=!0,f.add(r),t=bA.bind(null,t,i,r),i.then(t,t))}function bA(t,i,r){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,it===t&&(ke&r)===r&&(yt===4||yt===3&&(ke&62914560)===ke&&300>un()-qu?(Qe&2)===0&&nl(t,0):Ff|=r,el===ke&&(el=0)),Ui(t)}function i_(t,i){i===0&&(i=Gc()),t=Ya(t,i),t!==null&&(Ma(t,i),Ui(t))}function SA(t){var i=t.memoizedState,r=0;i!==null&&(r=i.retryLane),i_(t,r)}function AA(t,i){var r=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(i),i_(t,r)}function wA(t,i){return Lt(t,i)}var Xu=null,sl=null,Jf=!1,Wu=!1,Zf=!1,ea=0;function Ui(t){t!==sl&&t.next===null&&(sl===null?Xu=sl=t:sl=sl.next=t),Wu=!0,Jf||(Jf=!0,NA())}function Lo(t,i){if(!Zf&&Wu){Zf=!0;do for(var r=!1,o=Xu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-vt(42|t)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,l_(o,m))}else m=ke,m=Ti(o,o===it?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||ei(o,m)||(r=!0,l_(o,m));o=o.next}while(r);Zf=!1}}function xA(){s_()}function s_(){Wu=Jf=!1;var t=0;ea!==0&&LA()&&(t=ea);for(var i=un(),r=null,o=Xu;o!==null;){var f=o.next,m=a_(o,i);m===0?(o.next=null,r===null?Xu=f:r.next=f,f===null&&(sl=r)):(r=o,(t!==0||(m&3)!==0)&&(Wu=!0)),o=f}Pt!==0&&Pt!==5||Lo(t),ea!==0&&(ea=0)}function a_(t,i){for(var r=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-vt(m),A=1<<_,D=f[_];D===-1?((A&r)===0||(A&o)!==0)&&(f[_]=Nd(A,i)):D<=i&&(t.expiredLanes|=A),m&=~A}if(i=it,r=ke,r=Ti(t,t===i?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Rs(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ei(t,r)){if(i=r&-r,i===t.callbackPriority)return i;switch(o!==null&&Rs(o),Yi(r)){case 2:case 8:r=Kl;break;case 32:r=Cs;break;case 268435456:r=zc;break;default:r=Cs}return o=r_.bind(null,t),r=Lt(r,o),t.callbackPriority=i,t.callbackNode=r,i}return o!==null&&o!==null&&Rs(o),t.callbackPriority=2,t.callbackNode=null,2}function r_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if($u()&&t.callbackNode!==r)return null;var o=ke;return o=Ti(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Bv(t,o,i),a_(t,un()),t.callbackNode!=null&&t.callbackNode===r?r_.bind(null,t):null)}function l_(t,i){if($u())return null;Bv(t,i,!0)}function NA(){UA(function(){(Qe&6)!==0?Lt(Gl,xA):s_()})}function em(){if(ea===0){var t=qr;t===0&&(t=_i,_i<<=1,(_i&261888)===0&&(_i=256)),ea=t}return ea}function o_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Rr(""+t)}function c_(t,i){var r=i.ownerDocument.createElement("input");return r.name=i.name,r.value=i.value,t.id&&r.setAttribute("form",t.id),i.parentNode.insertBefore(r,i),t=new FormData(t),r.parentNode.removeChild(r),t}function RA(t,i,r,o,f){if(i==="submit"&&r&&r.stateNode===f){var m=o_((f[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?o_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var A=new Di("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ea!==0){var D=_?c_(f,_):new FormData(f);Ef(r,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(A.preventDefault(),D=_?c_(f,_):new FormData(f),Ef(r,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var tm=0;tm<kd.length;tm++){var nm=kd[tm],CA=nm.toLowerCase(),IA=nm[0].toUpperCase()+nm.slice(1);oi(CA,"on"+IA)}oi(zg,"onAnimationEnd"),oi(Bg,"onAnimationIteration"),oi(Hg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(KS,"onTransitionRun"),oi(QS,"onTransitionStart"),oi(YS,"onTransitionCancel"),oi(qg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Po));function u_(t,i){i=(i&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var A=o[_],D=A.instance,K=A.currentTarget;if(A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(Z){du(Z)}f.currentTarget=null,m=D}else for(_=0;_<o.length;_++){if(A=o[_],D=A.instance,K=A.currentTarget,A=A.listener,D!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=K;try{m(f)}catch(Z){du(Z)}f.currentTarget=null,m=D}}}}function Ve(t,i){var r=i[Sr];r===void 0&&(r=i[Sr]=new Set);var o=t+"__bubble";r.has(o)||(h_(i,t,2,!1),r.add(o))}function im(t,i,r){var o=0;i&&(o|=4),h_(r,t,o,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function sm(t){if(!t[Ju]){t[Ju]=!0,$l.forEach(function(r){r!=="selectionchange"&&(jA.has(r)||im(r,!1,t),im(r,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,im("selectionchange",!1,i))}}function h_(t,i,r,o){switch(z_(i)){case 2:var f=aw;break;case 8:f=rw;break;default:f=_m}r=f.bind(null,i,r,t),f=void 0,!za||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,r,{capture:!0,passive:f}):t.addEventListener(i,r,!0):f!==void 0?t.addEventListener(i,r,{passive:f}):t.addEventListener(i,r,!1)}function am(t,i,r,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=o.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=wi(A),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){o=m=_;continue e}A=A.parentNode}}o=o.return}Vs(function(){var K=m,Z=Ln(r),ie=[];e:{var Q=Fg.get(t);if(Q!==void 0){var X=Di,pe=t;switch(t){case"keypress":if(Ha(r)===0)break e;case"keydown":case"keyup":X=cu;break;case"focusin":pe="focus",X=Fa;break;case"focusout":pe="blur",X=Fa;break;case"beforeblur":case"afterblur":X=Fa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case zg:case Bg:case Hg:X=nu;break;case qg:X=w;break;case"scroll":case"scrollend":X=lo;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=iu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wi;break;case"toggle":case"beforetoggle":X=Ie}var Te=(i&4)!==0,nt=!Te&&(t==="scroll"||t==="scrollend"),H=Te?Q!==null?Q+"Capture":null:Q;Te=[];for(var P=K,G;P!==null;){var ee=P;if(G=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||G===null||H===null||(ee=si(P,H),ee!=null&&Te.push(Uo(P,ee,G))),nt)break;P=P.return}0<Te.length&&(Q=new X(Q,pe,null,r,Z),ie.push({event:Q,listeners:Te}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&r!==so&&(pe=r.relatedTarget||r.fromElement)&&(wi(pe)||pe[Si]))break e;if((X||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=r.relatedTarget||r.toElement,X=K,pe=pe?wi(pe):null,pe!==null&&(nt=c(pe),Te=pe.tag,pe!==nt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(X=null,pe=K),X!==pe)){if(Te=oo,ee="onMouseLeave",H="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(Te=Wi,ee="onPointerLeave",H="onPointerEnter",P="pointer"),nt=X==null?Q:An(X),G=pe==null?Q:An(pe),Q=new Te(ee,P+"leave",X,r,Z),Q.target=nt,Q.relatedTarget=G,ee=null,wi(Z)===K&&(Te=new Te(H,P+"enter",pe,r,Z),Te.target=G,Te.relatedTarget=nt,ee=Te),nt=ee,X&&pe)t:{for(Te=DA,H=X,P=pe,G=0,ee=H;ee;ee=Te(ee))G++;ee=0;for(var _e=P;_e;_e=Te(_e))ee++;for(;0<G-ee;)H=Te(H),G--;for(;0<ee-G;)P=Te(P),ee--;for(;G--;){if(H===P||P!==null&&H===P.alternate){Te=H;break t}H=Te(H),P=Te(P)}Te=null}else Te=null;X!==null&&d_(ie,Q,X,Te,!1),pe!==null&&nt!==null&&d_(ie,nt,pe,Te,!0)}}e:{if(Q=K?An(K):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Fe=Cg;else if(Ng(Q))if(Ig)Fe=qS;else{Fe=BS;var ge=zS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?K&&Nr(K.elementType)&&(Fe=Cg):Fe=HS;if(Fe&&(Fe=Fe(t,K))){Rg(ie,Fe,r,Z);break e}ge&&ge(t,Q,K),t==="focusout"&&K&&Q.type==="number"&&K.memoizedProps.value!=null&&to(Q,"number",Q.value)}switch(ge=K?An(K):window,t){case"focusin":(Ng(ge)||ge.contentEditable==="true")&&(Vr=ge,Od=K,mo=null);break;case"focusout":mo=Od=Vr=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,Pg(ie,r,Z);break;case"selectionchange":if(GS)break;case"keydown":case"keyup":Pg(ie,r,Z)}var Oe;if(Ke)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Mr?Ga(t,r)&&(Le="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Le="onCompositionStart");Le&&(Vi&&r.locale!=="ko"&&(Mr||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Mr&&(Oe=ro()):(ji=Z,ao="value"in ji?ji.value:ji.textContent,Mr=!0)),ge=Zu(K,Le),0<ge.length&&(Le=new Mi(Le,t,null,r,Z),ie.push({event:Le,listeners:ge}),Oe?Le.data=Oe:(Oe=Or(r),Oe!==null&&(Le.data=Oe)))),(Oe=Un?kS(t,r):LS(t,r))&&(Le=Zu(K,"onBeforeInput"),0<Le.length&&(ge=new Mi("onBeforeInput","beforeinput",null,r,Z),ie.push({event:ge,listeners:Le}),ge.data=Oe)),RA(ie,t,K,r,Z)}u_(ie,i)})}function Uo(t,i,r){return{instance:t,listener:i,currentTarget:r}}function Zu(t,i){for(var r=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=si(t,r),f!=null&&o.unshift(Uo(t,f,m)),f=si(t,i),f!=null&&o.push(Uo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function DA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function d_(t,i,r,o,f){for(var m=i._reactName,_=[];r!==null&&r!==o;){var A=r,D=A.alternate,K=A.stateNode;if(A=A.tag,D!==null&&D===o)break;A!==5&&A!==26&&A!==27||K===null||(D=K,f?(K=si(r,m),K!=null&&_.unshift(Uo(r,K,D))):f||(K=si(r,m),K!=null&&_.push(Uo(r,K,D)))),r=r.return}_.length!==0&&t.push({event:i,listeners:_})}var OA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function f_(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(MA,"")}function m_(t,i){return i=f_(i),f_(t)===i}function tt(t,i,r,o,f,m){switch(r){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(t,""+o);break;case"className":wn(t,"class",o);break;case"tabIndex":wn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":wn(t,r,o);break;case"style":io(t,o,m);break;case"data":if(i!=="object"){wn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Rr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Rr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=ii);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Rr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),wr(t,"popover",o);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wr(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Zc.get(r)||r,wr(t,r,o))}}function rm(t,i,r,o,f,m){switch(r){case"style":io(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof o=="string"?pn(t,o):(typeof o=="number"||typeof o=="bigint")&&pn(t,""+o);break;case"onScroll":o!=null&&Ve("scroll",t);break;case"onScrollEnd":o!=null&&Ve("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xl.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),i=r.slice(2,f?r.length-7:void 0),m=t[Bt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(i,o,f);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):wr(t,r,o)}}}function Jt(t,i,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var o=!1,f=!1,m;for(m in r)if(r.hasOwnProperty(m)){var _=r[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,m,_,r,null)}}f&&tt(t,i,"srcSet",r.srcSet,r,null),o&&tt(t,i,"src",r.src,r,null);return;case"input":Ve("invalid",t);var A=m=_=f=null,D=null,K=null;for(o in r)if(r.hasOwnProperty(o)){var Z=r[o];if(Z!=null)switch(o){case"name":f=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":K=Z;break;case"value":m=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:tt(t,i,o,Z,r,null)}}Xc(t,m,A,D,K,_,f,!1);return;case"select":Ve("invalid",t),o=_=m=null;for(f in r)if(r.hasOwnProperty(f)&&(A=r[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:tt(t,i,f,A,r,null)}i=m,r=_,t.multiple=!!o,i!=null?js(t,!!o,i,!1):r!=null&&js(t,!!o,r,!0);return;case"textarea":Ve("invalid",t),m=f=o=null;for(_ in r)if(r.hasOwnProperty(_)&&(A=r[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(a(91));break;default:tt(t,i,_,A,r,null)}Ds(t,o,f,m);return;case"option":for(D in r)if(r.hasOwnProperty(D)&&(o=r[D],o!=null))switch(D){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,D,o,r,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(o=0;o<Po.length;o++)Ve(Po[o],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in r)if(r.hasOwnProperty(K)&&(o=r[K],o!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:tt(t,i,K,o,r,null)}return;default:if(Nr(i)){for(Z in r)r.hasOwnProperty(Z)&&(o=r[Z],o!==void 0&&rm(t,i,Z,o,r,void 0));return}}for(A in r)r.hasOwnProperty(A)&&(o=r[A],o!=null&&tt(t,i,A,o,r,null))}function VA(t,i,r,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,D=null,K=null,Z=null;for(X in r){var ie=r[X];if(r.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=ie;default:o.hasOwnProperty(X)||tt(t,i,X,null,o,ie)}}for(var Q in o){var X=o[Q];if(ie=r[Q],o.hasOwnProperty(Q)&&(X!=null||ie!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":K=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(a(137,i));break;default:X!==ie&&tt(t,i,Q,X,o,ie)}}xr(t,_,A,D,K,Z,m,f);return;case"select":X=_=A=Q=null;for(m in r)if(D=r[m],r.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":X=D;default:o.hasOwnProperty(m)||tt(t,i,m,null,o,D)}for(f in o)if(m=o[f],D=r[f],o.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==D&&tt(t,i,f,m,o,D)}i=A,r=_,o=X,Q!=null?js(t,!!r,Q,!1):!!o!=!!r&&(i!=null?js(t,!!r,i,!0):js(t,!!r,r?[]:"",!1));return;case"textarea":X=Q=null;for(A in r)if(f=r[A],r.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,o,f)}for(_ in o)if(f=o[_],m=r[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==m&&tt(t,i,_,f,o,m)}Wc(t,Q,X);return;case"option":for(var pe in r)if(Q=r[pe],r.hasOwnProperty(pe)&&Q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:tt(t,i,pe,null,o,Q)}for(D in o)if(Q=o[D],X=r[D],o.hasOwnProperty(D)&&Q!==X&&(Q!=null||X!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(t,i,D,Q,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in r)Q=r[Te],r.hasOwnProperty(Te)&&Q!=null&&!o.hasOwnProperty(Te)&&tt(t,i,Te,null,o,Q);for(K in o)if(Q=o[K],X=r[K],o.hasOwnProperty(K)&&Q!==X&&(Q!=null||X!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,i));break;default:tt(t,i,K,Q,o,X)}return;default:if(Nr(i)){for(var nt in r)Q=r[nt],r.hasOwnProperty(nt)&&Q!==void 0&&!o.hasOwnProperty(nt)&&rm(t,i,nt,void 0,o,Q);for(Z in o)Q=o[Z],X=r[Z],!o.hasOwnProperty(Z)||Q===X||Q===void 0&&X===void 0||rm(t,i,Z,Q,o,X);return}}for(var H in r)Q=r[H],r.hasOwnProperty(H)&&Q!=null&&!o.hasOwnProperty(H)&&tt(t,i,H,null,o,Q);for(ie in o)Q=o[ie],X=r[ie],!o.hasOwnProperty(ie)||Q===X||Q==null&&X==null||tt(t,i,ie,Q,o,X)}function p_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var f=r[o],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&p_(_)){for(_=0,A=f.responseEnd,o+=1;o<r.length;o++){var D=r[o],K=D.startTime;if(K>A)break;var Z=D.transferSize,ie=D.initiatorType;Z&&p_(ie)&&(D=D.responseEnd,_+=Z*(D<A?1:(A-K)/(D-K)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var lm=null,om=null;function eh(t){return t.nodeType===9?t:t.ownerDocument}function g_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function cm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var um=null;function LA(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(t){return __.resolve(null).then(t).catch(zA)}:v_;function zA(t){setTimeout(function(){throw t})}function ta(t){return t==="head"}function E_(t,i){var r=i,o=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(o===0){t.removeChild(f),ol(i);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")zo(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,zo(r);for(var m=r.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ai]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}else r==="body"&&zo(t.ownerDocument.body);r=f}while(r);ol(i)}function T_(t,i){var r=t;t=0;do{var o=r.nextSibling;if(r.nodeType===1?i?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(i?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=o}while(r)}function hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var r=i;switch(i=i.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":hm(r),Ar(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function BA(t,i,r,o){for(;t.nodeType===1;){var f=r;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ai])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function HA(t,i,r){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Kn(t.nextSibling),t===null))return null;return t}function b_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Kn(t.nextSibling),t===null))return null;return t}function dm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function qA(t,i){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||r.readyState!=="loading")i();else{var o=function(){i(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var mm=null;function S_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(i===0)return Kn(t.nextSibling);i--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||i++}t=t.nextSibling}return null}function A_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(i===0)return t;i--}else r!=="/$"&&r!=="/&"||i++}t=t.previousSibling}return null}function w_(t,i,r){switch(i=eh(r),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function zo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ar(t)}var Qn=new Map,x_=new Set;function th(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=se.d;se.d={f:FA,r:GA,D:KA,C:QA,L:YA,m:$A,X:WA,S:XA,M:JA};function FA(){var t=ds.f(),i=Ku();return t||i}function GA(t){var i=kn(t);i!==null&&i.tag===5&&i.type==="form"?qy(i):ds.r(t)}var al=typeof document>"u"?null:document;function N_(t,i,r){var o=al;if(o&&typeof i=="string"&&i){var f=mn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),x_.has(f)||(x_.add(f),t={rel:t,crossOrigin:r,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Jt(i,"link",t),xt(i),o.head.appendChild(i)))}}function KA(t){ds.D(t),N_("dns-prefetch",t,null)}function QA(t,i){ds.C(t,i),N_("preconnect",t,i)}function YA(t,i,r){ds.L(t,i,r);var o=al;if(o&&t&&i){var f='link[rel="preload"][as="'+mn(i)+'"]';i==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+mn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+mn(r.imageSizes)+'"]')):f+='[href="'+mn(t)+'"]';var m=f;switch(i){case"style":m=rl(t);break;case"script":m=ll(t)}Qn.has(m)||(t=b({rel:"preload",href:i==="image"&&r&&r.imageSrcSet?void 0:t,as:i},r),Qn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(Bo(m))||i==="script"&&o.querySelector(Ho(m))||(i=o.createElement("link"),Jt(i,"link",t),xt(i),o.head.appendChild(i)))}}function $A(t,i){ds.m(t,i);var r=al;if(r&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+mn(o)+'"][href="'+mn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ll(t)}if(!Qn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Qn.set(m,t),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Ho(m)))return}o=r.createElement("link"),Jt(o,"link",t),xt(o),r.head.appendChild(o)}}}function XA(t,i,r){ds.S(t,i,r);var o=al;if(o&&t){var f=xi(o).hoistableStyles,m=rl(t);i=i||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(Bo(m)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},r),(r=Qn.get(m))&&pm(t,r);var D=_=o.createElement("link");xt(D),Jt(D,"link",t),D._p=new Promise(function(K,Z){D.onload=K,D.onerror=Z}),D.addEventListener("load",function(){A.loading|=1}),D.addEventListener("error",function(){A.loading|=2}),A.loading|=4,nh(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function WA(t,i){ds.X(t,i);var r=al;if(r&&t){var o=xi(r).hoistableScripts,f=ll(t),m=o.get(f);m||(m=r.querySelector(Ho(f)),m||(t=b({src:t,async:!0},i),(i=Qn.get(f))&&gm(t,i),m=r.createElement("script"),xt(m),Jt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function JA(t,i){ds.M(t,i);var r=al;if(r&&t){var o=xi(r).hoistableScripts,f=ll(t),m=o.get(f);m||(m=r.querySelector(Ho(f)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Qn.get(f))&&gm(t,i),m=r.createElement("script"),xt(m),Jt(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function R_(t,i,r,o){var f=(f=De.current)?th(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(i=rl(r.href),r=xi(f).hoistableStyles,o=r.get(i),o||(o={type:"style",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=rl(r.href);var m=xi(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Bo(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(t,r),m||ZA(f,t,r,_.state))),i&&o===null)throw Error(a(528,""));return _}if(i&&o!==null)throw Error(a(529,""));return null;case"script":return i=r.async,r=r.src,typeof r=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ll(r),r=xi(f).hoistableScripts,o=r.get(i),o||(o={type:"script",instance:null,count:0,state:null},r.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function rl(t){return'href="'+mn(t)+'"'}function Bo(t){return'link[rel="stylesheet"]['+t+"]"}function C_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function ZA(t,i,r,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Jt(i,"link",r),xt(i),t.head.appendChild(i))}function ll(t){return'[src="'+mn(t)+'"]'}function Ho(t){return"script[async]"+t}function I_(t,i,r){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+mn(r.href)+'"]');if(o)return i.instance=o,xt(o),o;var f=b({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),xt(o),Jt(o,"style",f),nh(o,r.precedence,t),i.instance=o;case"stylesheet":f=rl(r.href);var m=t.querySelector(Bo(f));if(m)return i.state.loading|=4,i.instance=m,xt(m),m;o=C_(r),(f=Qn.get(f))&&pm(o,f),m=(t.ownerDocument||t).createElement("link"),xt(m);var _=m;return _._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",o),i.state.loading|=4,nh(m,r.precedence,t),i.instance=m;case"script":return m=ll(r.src),(f=t.querySelector(Ho(m)))?(i.instance=f,xt(f),f):(o=r,(f=Qn.get(m))&&(o=b({},r),gm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),xt(f),Jt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,nh(o,r.precedence,t));return i.instance}function nh(t,i,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=r.nodeType===9?r.head:r,i.insertBefore(t,i.firstChild))}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ih=null;function j_(t,i,r){if(ih===null){var o=new Map,f=ih=new Map;f.set(r,o)}else f=ih,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),f=0;f<r.length;f++){var m=r[f];if(!(m[Ai]||m[wt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var A=o.get(_);A?A.push(m):o.set(_,[m])}}return o}function D_(t,i,r){t=t.ownerDocument||t,t.head.insertBefore(r,i==="title"?t.querySelector("head > title"):null)}function ew(t,i,r){if(r===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function O_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tw(t,i,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=rl(o.href),m=i.querySelector(Bo(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=sh.bind(t),i.then(t,t)),r.state.loading|=4,r.instance=m,xt(m);return}m=i.ownerDocument||i,o=C_(o),(f=Qn.get(f))&&pm(o,f),m=m.createElement("link"),xt(m);var _=m;_._p=new Promise(function(A,D){_.onload=A,_.onerror=D}),Jt(m,"link",o),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,i),(i=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=sh.bind(t),i.addEventListener("load",r),i.addEventListener("error",r))}}var ym=0;function nw(t,i){return t.stylesheets&&t.count===0&&rh(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var o=setTimeout(function(){if(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&ym===0&&(ym=62500*kA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&rh(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>ym?50:800)+i);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function sh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)rh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ah=null;function rh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ah=new Map,i.forEach(iw,t),ah=null,sh.call(t))}function iw(t,i){if(!(i.state.loading&4)){var r=ah.get(t);if(r)var o=r.get(null);else{r=new Map,ah.set(t,r);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),o=_)}o&&r.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=r.get(_)||o,m===o&&r.set(null,f),r.set(_,f),this.count++,o=sh.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var qo={$$typeof:ae,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function sw(t,i,r,o,f,m,_,A,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function M_(t,i,r,o,f,m,_,A,D,K,Z,ie){return t=new sw(t,i,r,_,D,K,Z,ie,A),i=1,m===!0&&(i|=24),m=Nn(3,null,null,i),t.current=m,m.stateNode=t,i=$d(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:i},Zd(m),t}function V_(t){return t?(t=Pr,t):Pr}function k_(t,i,r,o,f,m){f=V_(f),o.context===null?o.context=f:o.pendingContext=f,o=Fs(i),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Gs(t,o,i),r!==null&&(En(r,t,i),To(r,t,i))}function L_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<i?r:i}}function vm(t,i){L_(t,i),(t=t.alternate)&&L_(t,i)}function P_(t){if(t.tag===13||t.tag===31){var i=Ya(t,67108864);i!==null&&En(i,t,67108864),vm(t,67108864)}}function U_(t){if(t.tag===13||t.tag===31){var i=Dn();i=ka(i);var r=Ya(t,i);r!==null&&En(r,t,i),vm(t,i)}}var lh=!0;function aw(t,i,r,o){var f=q.T;q.T=null;var m=se.p;try{se.p=2,_m(t,i,r,o)}finally{se.p=m,q.T=f}}function rw(t,i,r,o){var f=q.T;q.T=null;var m=se.p;try{se.p=8,_m(t,i,r,o)}finally{se.p=m,q.T=f}}function _m(t,i,r,o){if(lh){var f=Em(o);if(f===null)am(t,i,o,oh,r),B_(t,o);else if(ow(f,t,i,r,o))o.stopPropagation();else if(B_(t,o),i&4&&-1<lw.indexOf(t)){for(;f!==null;){var m=kn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ei(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var D=1<<31-vt(_);A.entanglements[1]|=D,_&=~D}Ui(m),(Qe&6)===0&&(Fu=un()+500,Lo(0))}}break;case 31:case 13:A=Ya(m,2),A!==null&&En(A,m,2),Ku(),vm(m,2)}if(m=Em(o),m===null&&am(t,i,o,oh,r),m===f)break;f=m}f!==null&&o.stopPropagation()}else am(t,i,o,null,r)}}function Em(t){return t=Ln(t),Tm(t)}var oh=null;function Tm(t){if(oh=null,t=wi(t),t!==null){var i=c(t);if(i===null)t=null;else{var r=i.tag;if(r===13){if(t=d(i),t!==null)return t;t=null}else if(r===31){if(t=p(i),t!==null)return t;t=null}else if(r===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return oh=t,null}function z_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Da()){case Gl:return 2;case Kl:return 8;case Cs:case xd:return 32;case zc:return 268435456;default:return 32}default:return 32}}var bm=!1,na=null,ia=null,sa=null,Fo=new Map,Go=new Map,aa=[],lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(t,i){switch(t){case"focusin":case"focusout":na=null;break;case"dragenter":case"dragleave":ia=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":Fo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Go.delete(i.pointerId)}}function Ko(t,i,r,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=kn(i),i!==null&&P_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function ow(t,i,r,o,f){switch(i){case"focusin":return na=Ko(na,t,i,r,o,f),!0;case"dragenter":return ia=Ko(ia,t,i,r,o,f),!0;case"mouseover":return sa=Ko(sa,t,i,r,o,f),!0;case"pointerover":var m=f.pointerId;return Fo.set(m,Ko(Fo.get(m)||null,t,i,r,o,f)),!0;case"gotpointercapture":return m=f.pointerId,Go.set(m,Ko(Go.get(m)||null,t,i,r,o,f)),!0}return!1}function H_(t){var i=wi(t.target);if(i!==null){var r=c(i);if(r!==null){if(i=r.tag,i===13){if(i=d(r),i!==null){t.blockedOn=i,ti(t.priority,function(){U_(r)});return}}else if(i===31){if(i=p(r),i!==null){t.blockedOn=i,ti(t.priority,function(){U_(r)});return}}else if(i===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ch(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var r=Em(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);so=o,r.target.dispatchEvent(o),so=null}else return i=kn(r),i!==null&&P_(i),t.blockedOn=r,!1;i.shift()}return!0}function q_(t,i,r){ch(t)&&r.delete(i)}function cw(){bm=!1,na!==null&&ch(na)&&(na=null),ia!==null&&ch(ia)&&(ia=null),sa!==null&&ch(sa)&&(sa=null),Fo.forEach(q_),Go.forEach(q_)}function uh(t,i){t.blockedOn===i&&(t.blockedOn=null,bm||(bm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,cw)))}var hh=null;function F_(t){hh!==t&&(hh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){hh===t&&(hh=null);for(var i=0;i<t.length;i+=3){var r=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(Tm(o||r)===null)continue;break}var m=kn(r);m!==null&&(t.splice(i,3),i-=3,Ef(m,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function ol(t){function i(D){return uh(D,t)}na!==null&&uh(na,t),ia!==null&&uh(ia,t),sa!==null&&uh(sa,t),Fo.forEach(i),Go.forEach(i);for(var r=0;r<aa.length;r++){var o=aa[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<aa.length&&(r=aa[0],r.blockedOn===null);)H_(r),r.blockedOn===null&&aa.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],m=r[o+1],_=f[Bt]||null;if(typeof m=="function")_||F_(r);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Bt]||null)A=_.formAction;else if(Tm(f)!==null)continue}else A=_.action;typeof A=="function"?r[o+1]=A:(r.splice(o,3),o-=3),F_(r)}}}function G_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Sm(t){this._internalRoot=t}dh.prototype.render=Sm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var r=i.current,o=Dn();k_(r,o,t,i,null,null)},dh.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;k_(t.current,2,null,t,null,null),Ku(),i[Si]=null}};function dh(t){this._internalRoot=t}dh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Kc();t={blockedOn:null,target:t,priority:i};for(var r=0;r<aa.length&&i!==0&&i<aa[r].priority;r++);aa.splice(r,0,t),r===0&&H_(t)}};var K_=e.version;if(K_!=="19.2.1")throw Error(a(527,K_,"19.2.1"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var uw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Zn=fh.inject(uw),Qt=fh}catch{}}return Yo.createRoot=function(t,i){if(!l(t))throw Error(a(299));var r=!1,o="",f=Zy,m=ev,_=tv;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=M_(t,1,!1,null,null,r,o,null,f,m,_,G_),t[Si]=i.current,sm(t),new Sm(i)},Yo.hydrateRoot=function(t,i,r){if(!l(t))throw Error(a(299));var o=!1,f="",m=Zy,_=ev,A=tv,D=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.formState!==void 0&&(D=r.formState)),i=M_(t,1,!0,i,r??null,o,f,D,m,_,A,G_),i.context=V_(null),r=i.current,o=Dn(),o=ka(o),f=Fs(o),f.callback=null,Gs(r,f,o),r=o,i.current.lanes=r,Ma(i,r),Ui(i),t[Si]=i.current,sm(t),new dh(i)},Yo.version="19.2.1",Yo}var nE;function Ew(){if(nE)return xm.exports;nE=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),xm.exports=_w(),xm.exports}var Tw=Ew();var iE="popstate";function bw(s={}){function e(a,l){let{pathname:c,search:d,hash:p}=a.location;return Qm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){return typeof l=="string"?l:cc(l)}return Aw(e,n,null,s)}function dt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Wn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sw(){return Math.random().toString(36).substring(2,10)}function sE(s,e){return{usr:s.state,key:s.key,idx:e}}function Qm(s,e,n=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Rl(e):e,state:n,key:e&&e.key||a||Sw()}}function cc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Rl(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function Aw(s,e,n,a={}){let{window:l=document.defaultView,v5Compat:c=!1}=a,d=l.history,p="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let U=T(),Y=U==null?null:U-y;y=U,g&&g({action:p,location:C.location,delta:Y})}function S(U,Y){p="PUSH";let W=Qm(C.location,U,Y);y=T()+1;let ae=sE(W,y),z=C.createHref(W);try{d.pushState(ae,"",z)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;l.location.assign(z)}c&&g&&g({action:p,location:C.location,delta:1})}function O(U,Y){p="REPLACE";let W=Qm(C.location,U,Y);y=T();let ae=sE(W,y),z=C.createHref(W);d.replaceState(ae,"",z),c&&g&&g({action:p,location:C.location,delta:0})}function R(U){return ww(U)}let C={get action(){return p},get location(){return s(l,d)},listen(U){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(iE,b),g=U,()=>{l.removeEventListener(iE,b),g=null}},createHref(U){return e(l,U)},createURL:R,encodeLocation(U){let Y=R(U);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:O,go(U){return d.go(U)}};return C}function ww(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:cc(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function qT(s,e,n="/"){return xw(s,e,n,!1)}function xw(s,e,n,a){let l=typeof e=="string"?Rl(e):e,c=_s(l.pathname||"/",n);if(c==null)return null;let d=FT(s);Nw(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=Pw(c);p=kw(d[g],y,a)}return p}function FT(s,e=[],n=[],a="",l=!1){let c=(d,p,g=l,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(a)&&g)return;dt(T.relativePath.startsWith(a),`Absolute route path "${T.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(a.length)}let b=ps([a,T.relativePath]),S=n.concat(T);d.children&&d.children.length>0&&(dt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),FT(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:Mw(b,d.index),routesMeta:S})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of GT(d.path))c(d,p,!0,g)}),e}function GT(s){let e=s.split("/");if(e.length===0)return[];let[n,...a]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(a.length===0)return l?[c,""]:[c];let d=GT(a.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Nw(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Vw(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var Rw=/^:[\w-]+$/,Cw=3,Iw=2,jw=1,Dw=10,Ow=-2,aE=s=>s==="*";function Mw(s,e){let n=s.split("/"),a=n.length;return n.some(aE)&&(a+=Ow),e&&(a+=Iw),n.filter(l=>!aE(l)).reduce((l,c)=>l+(Rw.test(c)?Cw:c===""?jw:Dw),a)}function Vw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,l)=>a===e[l])?s[s.length-1]-e[e.length-1]:0}function kw(s,e,n=!1){let{routesMeta:a}=s,l={},c="/",d=[];for(let p=0;p<a.length;++p){let g=a[p],y=p===a.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),S=g.route;if(!b&&y&&n&&!a[a.length-1].route.index&&(b=Dh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ps([c,b.pathname]),pathnameBase:qw(ps([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ps([c,b.pathnameBase]))}return d}function Dh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,a]=Lw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:a.reduce((y,{paramName:T,isOptional:b},S)=>{if(T==="*"){let R=p[S]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const O=p[S];return b&&!O?y[T]=void 0:y[T]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Lw(s,e=!1,n=!0){Wn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(a.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(a.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),a]}function Pw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function _s(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=s.charAt(n);return a&&a!=="/"?null:s.slice(n)||"/"}var Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zw=s=>Uw.test(s);function Bw(s,e="/"){let{pathname:n,search:a="",hash:l=""}=typeof s=="string"?Rl(s):s,c;if(n)if(zw(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),Wn(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=rE(n.substring(1),"/"):c=rE(n,e)}else c=e;return{pathname:c,search:Fw(a),hash:Gw(l)}}function rE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Im(s,e,n,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Hw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sp(s){let e=Hw(s);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ap(s,e,n,a=!1){let l;typeof s=="string"?l=Rl(s):(l={...s},dt(!l.pathname||!l.pathname.includes("?"),Im("?","pathname","search",l)),dt(!l.pathname||!l.pathname.includes("#"),Im("#","pathname","hash",l)),dt(!l.search||!l.search.includes("#"),Im("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!a&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=Bw(l,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ps=s=>s.join("/").replace(/\/\/+/g,"/"),qw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Fw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Gw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Kw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function Qw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var Yw=["GET",...KT];new Set(Yw);var Cl=k.createContext(null);Cl.displayName="DataRouter";var Jh=k.createContext(null);Jh.displayName="DataRouterState";k.createContext(!1);var QT=k.createContext({isTransitioning:!1});QT.displayName="ViewTransition";var $w=k.createContext(new Map);$w.displayName="Fetchers";var Xw=k.createContext(null);Xw.displayName="Await";var Jn=k.createContext(null);Jn.displayName="Navigation";var Ec=k.createContext(null);Ec.displayName="Location";var yi=k.createContext({outlet:null,matches:[],isDataRoute:!1});yi.displayName="Route";var wp=k.createContext(null);wp.displayName="RouteError";function Ww(s,{relative:e}={}){dt(Il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=k.useContext(Jn),{hash:l,pathname:c,search:d}=Tc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ps([n,c])),a.createHref({pathname:p,search:d,hash:l})}function Il(){return k.useContext(Ec)!=null}function xa(){return dt(Il(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Ec).location}var YT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(s){k.useContext(Jn).static||k.useLayoutEffect(s)}function jl(){let{isDataRoute:s}=k.useContext(yi);return s?hx():Jw()}function Jw(){dt(Il(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Cl),{basename:e,navigator:n}=k.useContext(Jn),{matches:a}=k.useContext(yi),{pathname:l}=xa(),c=JSON.stringify(Sp(a)),d=k.useRef(!1);return $T(()=>{d.current=!0}),k.useCallback((g,y={})=>{if(Wn(d.current,YT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=Ap(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ps([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,l,s])}k.createContext(null);function Zw(){let{matches:s}=k.useContext(yi),e=s[s.length-1];return e?e.params:{}}function Tc(s,{relative:e}={}){let{matches:n}=k.useContext(yi),{pathname:a}=xa(),l=JSON.stringify(Sp(n));return k.useMemo(()=>Ap(s,JSON.parse(l),a,e==="path"),[s,l,a,e])}function ex(s,e){return XT(s,e)}function XT(s,e,n,a,l){dt(Il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=k.useContext(Jn),{matches:d}=k.useContext(yi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let W=b&&b.path||"";WT(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=xa(),O;if(e){let W=typeof e=="string"?Rl(e):e;dt(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),O=W}else O=S;let R=O.pathname||"/",C=R;if(T!=="/"){let W=T.replace(/^\//,"").split("/");C="/"+R.replace(/^\//,"").split("/").slice(W.length).join("/")}let U=qT(s,{pathname:C});Wn(b||U!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Wn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=ax(U&&U.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ps([T,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:ps([T,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),d,n,a,l);return e&&Y?k.createElement(Ec.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function tx(){let s=ux(),e=Kw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:c},"ErrorBoundary")," or"," ",k.createElement("code",{style:c},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:l},n):null,d)}var nx=k.createElement(tx,null),ix=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?k.createElement(yi.Provider,{value:this.props.routeContext},k.createElement(wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function sx({routeContext:s,match:e,children:n}){let a=k.useContext(Cl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(yi.Provider,{value:s},n)}function ax(s,e=[],n=null,a=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);dt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:S,errors:O}=n,R=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||R){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&a?(T,b)=>{a(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Qw(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,S)=>{let O,R=!1,C=null,U=null;n&&(O=d&&b.route.id?d[b.route.id]:void 0,C=b.route.errorElement||nx,p&&(g<0&&S===0?(WT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,U=null):g===S&&(R=!0,U=b.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),W=()=>{let ae;return O?ae=C:R?ae=U:b.route.Component?ae=k.createElement(b.route.Component,null):b.route.element?ae=b.route.element:ae=T,k.createElement(sx,{match:b,routeContext:{outlet:T,matches:Y,isDataRoute:n!=null},children:ae})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?k.createElement(ix,{location:n.location,revalidation:n.revalidation,component:C,error:O,children:W(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):W()},null)}function xp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rx(s){let e=k.useContext(Cl);return dt(e,xp(s)),e}function lx(s){let e=k.useContext(Jh);return dt(e,xp(s)),e}function ox(s){let e=k.useContext(yi);return dt(e,xp(s)),e}function Np(s){let e=ox(s),n=e.matches[e.matches.length-1];return dt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function cx(){return Np("useRouteId")}function ux(){let s=k.useContext(wp),e=lx("useRouteError"),n=Np("useRouteError");return s!==void 0?s:e.errors?.[n]}function hx(){let{router:s}=rx("useNavigate"),e=Np("useNavigate"),n=k.useRef(!1);return $T(()=>{n.current=!0}),k.useCallback(async(l,c={})=>{Wn(n.current,YT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var lE={};function WT(s,e,n){!e&&!lE[s]&&(lE[s]=!0,Wn(!1,n))}k.memo(dx);function dx({routes:s,future:e,state:n,unstable_onError:a}){return XT(s,void 0,n,a,e)}function Dl({to:s,replace:e,state:n,relative:a}){dt(Il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=k.useContext(Jn);Wn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=k.useContext(yi),{pathname:d}=xa(),p=jl(),g=Ap(s,Sp(c),d,a==="path"),y=JSON.stringify(g);return k.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:a})},[p,y,a,e,n]),null}function Ut(s){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fx({basename:s="/",children:e=null,location:n,navigationType:a="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){dt(!Il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Rl(n));let{pathname:y="/",search:T="",hash:b="",state:S=null,key:O="default"}=n,R=k.useMemo(()=>{let C=_s(y,p);return C==null?null:{location:{pathname:C,search:T,hash:b,state:S,key:O},navigationType:a}},[p,y,T,b,S,O,a]);return Wn(R!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:k.createElement(Jn.Provider,{value:g},k.createElement(Ec.Provider,{children:e,value:R}))}function mx({children:s,location:e}){return ex(Ym(s),e)}function Ym(s,e=[]){let n=[];return k.Children.forEach(s,(a,l)=>{if(!k.isValidElement(a))return;let c=[...e,l];if(a.type===k.Fragment){n.push.apply(n,Ym(a.props.children,c));return}dt(a.type===Ut,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let d={id:a.props.id||c.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(d.children=Ym(a.props.children,c)),n.push(d)}),n}var Th="get",bh="application/x-www-form-urlencoded";function Zh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function px(s){return Zh(s)&&s.tagName.toLowerCase()==="button"}function gx(s){return Zh(s)&&s.tagName.toLowerCase()==="form"}function yx(s){return Zh(s)&&s.tagName.toLowerCase()==="input"}function vx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function _x(s,e){return s.button===0&&(!e||e==="_self")&&!vx(s)}var mh=null;function Ex(){if(mh===null)try{new FormData(document.createElement("form"),0),mh=!1}catch{mh=!0}return mh}var Tx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function jm(s){return s!=null&&!Tx.has(s)?(Wn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):s}function bx(s,e){let n,a,l,c,d;if(gx(s)){let p=s.getAttribute("action");a=p?_s(p,e):null,n=s.getAttribute("method")||Th,l=jm(s.getAttribute("enctype"))||bh,c=new FormData(s)}else if(px(s)||yx(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(a=g?_s(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||Th,l=jm(s.getAttribute("formenctype"))||jm(p.getAttribute("enctype"))||bh,c=new FormData(p,s),!Ex()){let{name:y,type:T,value:b}=s;if(T==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Zh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Th,a=null,l=bh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:a,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Sx(s,e,n){let a=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return a.pathname==="/"?a.pathname=`_root.${n}`:e&&_s(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function Ax(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function xx(s,e,n){let a=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await Ax(c,n);return d.links?d.links():[]}return[]}));return Ix(a.flat(1).filter(wx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function oE(s,e,n,a,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let T=a.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Nx(s,e,{includeHydrateFallback:n}={}){return Rx(s.map(a=>{let l=e.routes[a.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Rx(s){return[...new Set(s)]}function Cx(s){let e={},n=Object.keys(s).sort();for(let a of n)e[a]=s[a];return e}function Ix(s,e){let n=new Set;return new Set(e),s.reduce((a,l)=>{let c=JSON.stringify(Cx(l));return n.has(c)||(n.add(c),a.push({key:c,link:l})),a},[])}function JT(){let s=k.useContext(Cl);return Rp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function jx(){let s=k.useContext(Jh);return Rp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Cp=k.createContext(void 0);Cp.displayName="FrameworkContext";function ZT(){let s=k.useContext(Cp);return Rp(s,"You must render this element inside a <HydratedRouter> element"),s}function Dx(s,e){let n=k.useContext(Cp),[a,l]=k.useState(!1),[c,d]=k.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,S=k.useRef(null);k.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=Y=>{Y.forEach(W=>{d(W.isIntersecting)})},U=new IntersectionObserver(C,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[s]),k.useEffect(()=>{if(a){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[a]);let O=()=>{l(!0)},R=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:$o(p,O),onBlur:$o(g,R),onMouseEnter:$o(y,O),onMouseLeave:$o(T,R),onTouchStart:$o(b,O)}]:[!1,S,{}]}function $o(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function Ox({page:s,...e}){let{router:n}=JT(),a=k.useMemo(()=>qT(n.routes,s,n.basename),[n.routes,s,n.basename]);return a?k.createElement(Vx,{page:s,matches:a,...e}):null}function Mx(s){let{manifest:e,routeModules:n}=ZT(),[a,l]=k.useState([]);return k.useEffect(()=>{let c=!1;return xx(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),a}function Vx({page:s,matches:e,...n}){let a=xa(),{manifest:l,routeModules:c}=ZT(),{basename:d}=JT(),{loaderData:p,matches:g}=jx(),y=k.useMemo(()=>oE(s,e,g,l,a,"data"),[s,e,g,l,a]),T=k.useMemo(()=>oE(s,e,g,l,a,"assets"),[s,e,g,l,a]),b=k.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let R=new Set,C=!1;if(e.forEach(Y=>{let W=l.routes[Y.route.id];!W||!W.hasLoader||(!y.some(ae=>ae.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:R.add(Y.route.id))}),R.size===0)return[];let U=Sx(s,d,"data");return C&&R.size>0&&U.searchParams.set("_routes",e.filter(Y=>R.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[U.pathname+U.search]},[d,p,a,l,y,e,s,c]),S=k.useMemo(()=>Nx(T,l),[T,l]),O=Mx(T);return k.createElement(k.Fragment,null,b.map(R=>k.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),S.map(R=>k.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),O.map(({key:R,link:C})=>k.createElement("link",{key:R,nonce:n.nonce,...C})))}function kx(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eb&&(window.__reactRouterVersion="7.10.1")}catch{}function Lx({basename:s,children:e,unstable_useTransitions:n,window:a}){let l=k.useRef();l.current==null&&(l.current=bw({window:a,v5Compat:!0}));let c=l.current,[d,p]=k.useState({action:c.action,location:c.location}),g=k.useCallback(y=>{n===!1?p(y):k.startTransition(()=>p(y))},[n]);return k.useLayoutEffect(()=>c.listen(g),[c,g]),k.createElement(fx,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Re=k.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:b,...S},O){let{basename:R,unstable_useTransitions:C}=k.useContext(Jn),U=typeof y=="string"&&tb.test(y),Y,W=!1;if(typeof y=="string"&&U&&(Y=y,eb))try{let L=new URL(window.location.href),V=y.startsWith("//")?new URL(L.protocol+y):new URL(y),B=_s(V.pathname,R);V.origin===L.origin&&B!=null?y=B+V.search+V.hash:W=!0}catch{Wn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=Ww(y,{relative:l}),[z,oe,ue]=Dx(a,S),I=Bx(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:b,unstable_useTransitions:C});function x(L){e&&e(L),L.defaultPrevented||I(L)}let N=k.createElement("a",{...S,...ue,href:Y||ae,onClick:W||c?e:x,ref:kx(O,oe),target:g,"data-discover":!U&&n==="render"?"true":void 0});return z&&!U?k.createElement(k.Fragment,null,N,k.createElement(Ox,{page:ae})):N});Re.displayName="Link";var Px=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},T){let b=Tc(d,{relative:y.relative}),S=xa(),O=k.useContext(Jh),{navigator:R,basename:C}=k.useContext(Jn),U=O!=null&&Kx(b)&&p===!0,Y=R.encodeLocation?R.encodeLocation(b).pathname:b.pathname,W=S.pathname,ae=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(W=W.toLowerCase(),ae=ae?ae.toLowerCase():null,Y=Y.toLowerCase()),ae&&C&&(ae=_s(ae,C)||ae);const z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let oe=W===Y||!l&&W.startsWith(Y)&&W.charAt(z)==="/",ue=ae!=null&&(ae===Y||!l&&ae.startsWith(Y)&&ae.charAt(Y.length)==="/"),I={isActive:oe,isPending:ue,isTransitioning:U},x=oe?e:void 0,N;typeof a=="function"?N=a(I):N=[a,oe?"active":null,ue?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(I):c;return k.createElement(Re,{...y,"aria-current":x,className:N,ref:T,style:L,to:d,viewTransition:p},typeof g=="function"?g(I):g)});Px.displayName="NavLink";var Ux=k.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:l,state:c,method:d=Th,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...S},O)=>{let{unstable_useTransitions:R}=k.useContext(Jn),C=Fx(),U=Gx(p,{relative:y}),Y=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&tb.test(p),ae=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let oe=z.nativeEvent.submitter,ue=oe?.getAttribute("formmethod")||d,I=()=>C(oe||z.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:b});R&&n!==!1?k.startTransition(()=>I()):I()};return k.createElement("form",{ref:O,method:Y,action:U,onSubmit:a?g:ae,...S,"data-discover":!W&&s==="render"?"true":void 0})});Ux.displayName="Form";function zx(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(s){let e=k.useContext(Cl);return dt(e,zx(s)),e}function Bx(s,{target:e,replace:n,state:a,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=jl(),y=xa(),T=Tc(s,{relative:c});return k.useCallback(b=>{if(_x(b,e)){b.preventDefault();let S=n!==void 0?n:cc(y)===cc(T),O=()=>g(s,{replace:S,state:a,preventScrollReset:l,relative:c,viewTransition:d});p?k.startTransition(()=>O()):O()}},[y,g,T,n,a,e,s,l,c,d,p])}var Hx=0,qx=()=>`__${String(++Hx)}__`;function Fx(){let{router:s}=nb("useSubmit"),{basename:e}=k.useContext(Jn),n=cx(),a=s.fetch,l=s.navigate;return k.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:T,body:b}=bx(c,e);if(d.navigate===!1){let S=d.fetcherKey||qx();await a(S,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,l,e,n])}function Gx(s,{relative:e}={}){let{basename:n}=k.useContext(Jn),a=k.useContext(yi);dt(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),c={...Tc(s||".",{relative:e})},d=xa();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ps([n,c.pathname])),cc(c)}function Kx(s,{relative:e}={}){let n=k.useContext(QT);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=nb("useViewTransitionState"),l=Tc(s,{relative:e});if(!n.isTransitioning)return!1;let c=_s(n.currentLocation.pathname,a)||n.currentLocation.pathname,d=_s(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Dh(l.pathname,d)!=null||Dh(l.pathname,c)!=null}const Qx=()=>{};var cE={};const ib=function(s){const e=[];let n=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Yx=function(s){const e=[];let n=0,a=0;for(;n<s.length;){const l=s[n++];if(l<128)e[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},sb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,O=y&63;g||(O=64,d||(S=64)),a.push(n[T],n[b],n[S],n[O])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(ib(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Yx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new $x;const S=c<<2|p>>4;if(a.push(S),y!==64){const O=p<<4&240|y>>2;if(a.push(O),b!==64){const R=y<<6&192|b;a.push(R)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class $x extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xx=function(s){const e=ib(s);return sb.encodeByteArray(e,!0)},Oh=function(s){return Xx(s).replace(/\./g,"")},ab=function(s){try{return sb.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Wx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Jx=()=>Wx().__FIREBASE_DEFAULTS__,Zx=()=>{if(typeof process>"u"||typeof cE>"u")return;const s=cE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},eN=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ab(s[1]);return e&&JSON.parse(e)},ed=()=>{try{return Qx()||Jx()||Zx()||eN()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},rb=s=>ed()?.emulatorHosts?.[s],tN=s=>{const e=rb(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},lb=()=>ed()?.config,ob=s=>ed()?.[`_${s}`];class nN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ol(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cb(s){return(await fetch(s,{credentials:"include"})).ok}function iN(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Oh(JSON.stringify(n)),Oh(JSON.stringify(d)),""].join(".")}const nc={};function sN(){const s={prod:[],emulator:[]};for(const e of Object.keys(nc))nc[e]?s.emulator.push(e):s.prod.push(e);return s}function aN(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let uE=!1;function ub(s,e){if(typeof window>"u"||typeof document>"u"||!Ol(window.location.host)||nc[s]===e||nc[s]||uE)return;nc[s]=e;function n(S){return`__firebase__banner__${S}`}const a="__firebase__banner",c=sN().prod.length>0;function d(){const S=document.getElementById(a);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,O){S.setAttribute("width","24"),S.setAttribute("id",O),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{uE=!0,d()},S}function T(S,O){S.setAttribute("id",O),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=aN(a),O=n("text"),R=document.getElementById(O)||document.createElement("span"),C=n("learnmore"),U=document.getElementById(C)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ae=S.element;p(ae),T(U,C);const z=y();g(W,Y),ae.append(W,R,U,z),document.body.appendChild(ae)}c?(R.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function lN(){const s=ed()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function uN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hN(){const s=ln();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dN(){return!lN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fN(){try{return typeof indexedDB=="object"}catch{return!1}}function mN(){return new Promise((s,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const pN="FirebaseError";class ws extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=pN,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bc.prototype.create)}}class bc{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?gN(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ws(l,p,a)}}function gN(s,e){return s.replace(yN,(n,a)=>{const l=e[a];return l!=null?String(l):`<${a}?>`})}const yN=/\{\$([^}]+)}/g;function vN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function _a(s,e){if(s===e)return!0;const n=Object.keys(s),a=Object.keys(e);for(const l of n){if(!a.includes(l))return!1;const c=s[l],d=e[l];if(hE(c)&&hE(d)){if(!_a(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!n.includes(l))return!1;return!0}function hE(s){return s!==null&&typeof s=="object"}function Sc(s){const e=[];for(const[n,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Xo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[l,c]=a.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Wo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function _N(s,e){const n=new EN(s,e);return n.subscribe.bind(n)}class EN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let l;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");TN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:a},l.next===void 0&&(l.next=Dm),l.error===void 0&&(l.error=Dm),l.complete===void 0&&(l.complete=Dm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Dm(){}function Vt(s){return s&&s._delegate?s._delegate:s}class cr{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const lr="[DEFAULT]";class bN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new nN;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),a=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AN(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(e,n){const a=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(a)??new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const l of a)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:SN(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SN(s){return s===lr?void 0:s}function AN(s){return s.instantiationMode==="EAGER"}class wN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Pe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pe||(Pe={}));const xN={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},NN=Pe.INFO,RN={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},CN=(s,e,...n)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),l=RN[e];if(l)console[l](`[${a}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=NN,this._logHandler=CN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const IN=(s,e)=>e.some(n=>s instanceof n);let dE,fE;function jN(){return dE||(dE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DN(){return fE||(fE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,$m=new WeakMap,db=new WeakMap,Om=new WeakMap,jp=new WeakMap;function ON(s){const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(fa(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&hb.set(n,s)}).catch(()=>{}),jp.set(e,s),e}function MN(s){if($m.has(s))return;const e=new Promise((n,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});$m.set(s,e)}let Xm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return $m.get(s);if(e==="objectStoreNames")return s.objectStoreNames||db.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fa(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function VN(s){Xm=s(Xm)}function kN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=s.call(Mm(this),e,...n);return db.set(a,e.sort?e.sort():[e]),fa(a)}:DN().includes(s)?function(...e){return s.apply(Mm(this),e),fa(hb.get(this))}:function(...e){return fa(s.apply(Mm(this),e))}}function LN(s){return typeof s=="function"?kN(s):(s instanceof IDBTransaction&&MN(s),IN(s,jN())?new Proxy(s,Xm):s)}function fa(s){if(s instanceof IDBRequest)return ON(s);if(Om.has(s))return Om.get(s);const e=LN(s);return e!==s&&(Om.set(s,e),jp.set(e,s)),e}const Mm=s=>jp.get(s);function PN(s,e,{blocked:n,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=fa(d);return a&&d.addEventListener("upgradeneeded",g=>{a(fa(d.result),g.oldVersion,g.newVersion,fa(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const UN=["get","getKey","getAll","getAllKeys","count"],zN=["put","add","delete","clear"],Vm=new Map;function mE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,l=zN.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(l||UN.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Vm.set(e,c),c}VN(s=>({...s,get:(e,n,a)=>mE(e,n)||s.get(e,n,a),has:(e,n)=>!!mE(e,n)||s.has(e,n)}));class BN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(HN(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function HN(s){return s.getComponent()?.type==="VERSION"}const Wm="@firebase/app",pE="0.14.6";const Es=new Ip("@firebase/app"),qN="@firebase/app-compat",FN="@firebase/analytics-compat",GN="@firebase/analytics",KN="@firebase/app-check-compat",QN="@firebase/app-check",YN="@firebase/auth",$N="@firebase/auth-compat",XN="@firebase/database",WN="@firebase/data-connect",JN="@firebase/database-compat",ZN="@firebase/functions",e1="@firebase/functions-compat",t1="@firebase/installations",n1="@firebase/installations-compat",i1="@firebase/messaging",s1="@firebase/messaging-compat",a1="@firebase/performance",r1="@firebase/performance-compat",l1="@firebase/remote-config",o1="@firebase/remote-config-compat",c1="@firebase/storage",u1="@firebase/storage-compat",h1="@firebase/firestore",d1="@firebase/ai",f1="@firebase/firestore-compat",m1="firebase",p1="12.6.0";const Jm="[DEFAULT]",g1={[Wm]:"fire-core",[qN]:"fire-core-compat",[GN]:"fire-analytics",[FN]:"fire-analytics-compat",[QN]:"fire-app-check",[KN]:"fire-app-check-compat",[YN]:"fire-auth",[$N]:"fire-auth-compat",[XN]:"fire-rtdb",[WN]:"fire-data-connect",[JN]:"fire-rtdb-compat",[ZN]:"fire-fn",[e1]:"fire-fn-compat",[t1]:"fire-iid",[n1]:"fire-iid-compat",[i1]:"fire-fcm",[s1]:"fire-fcm-compat",[a1]:"fire-perf",[r1]:"fire-perf-compat",[l1]:"fire-rc",[o1]:"fire-rc-compat",[c1]:"fire-gcs",[u1]:"fire-gcs-compat",[h1]:"fire-fst",[f1]:"fire-fst-compat",[d1]:"fire-vertex","fire-js":"fire-js",[m1]:"fire-js-all"};const Mh=new Map,y1=new Map,Zm=new Map;function gE(s,e){try{s.container.addComponent(e)}catch(n){Es.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function _l(s){const e=s.name;if(Zm.has(e))return Es.debug(`There were multiple attempts to register component ${e}.`),!1;Zm.set(e,s);for(const n of Mh.values())gE(n,s);for(const n of y1.values())gE(n,s);return!0}function Dp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function $n(s){return s==null?!1:s.settings!==void 0}const v1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ma=new bc("app","Firebase",v1);class _1{constructor(e,n,a){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}const Ml=p1;function fb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const a={name:Jm,automaticDataCollectionEnabled:!0,...e},l=a.name;if(typeof l!="string"||!l)throw ma.create("bad-app-name",{appName:String(l)});if(n||(n=lb()),!n)throw ma.create("no-options");const c=Mh.get(l);if(c){if(_a(n,c.options)&&_a(a,c.config))return c;throw ma.create("duplicate-app",{appName:l})}const d=new wN(l);for(const g of Zm.values())d.addComponent(g);const p=new _1(n,a,d);return Mh.set(l,p),p}function mb(s=Jm){const e=Mh.get(s);if(!e&&s===Jm&&lb())return fb();if(!e)throw ma.create("no-app",{appName:s});return e}function pa(s,e,n){let a=g1[s]??s;n&&(a+=`-${n}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Es.warn(d.join(" "));return}_l(new cr(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const E1="firebase-heartbeat-database",T1=1,uc="firebase-heartbeat-store";let km=null;function pb(){return km||(km=PN(E1,T1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(uc)}catch(n){console.warn(n)}}}}).catch(s=>{throw ma.create("idb-open",{originalErrorMessage:s.message})})),km}async function b1(s){try{const n=(await pb()).transaction(uc),a=await n.objectStore(uc).get(gb(s));return await n.done,a}catch(e){if(e instanceof ws)Es.warn(e.message);else{const n=ma.create("idb-get",{originalErrorMessage:e?.message});Es.warn(n.message)}}}async function yE(s,e){try{const a=(await pb()).transaction(uc,"readwrite");await a.objectStore(uc).put(e,gb(s)),await a.done}catch(n){if(n instanceof ws)Es.warn(n.message);else{const a=ma.create("idb-set",{originalErrorMessage:n?.message});Es.warn(a.message)}}}function gb(s){return`${s.name}!${s.options.appId}`}const S1=1024,A1=30;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new N1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=vE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:n}),this._heartbeatsCache.heartbeats.length>A1){const l=R1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vE(),{heartbeatsToSend:n,unsentEntries:a}=x1(this._heartbeatsCache.heartbeats),l=Oh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return Es.warn(e),""}}}function vE(){return new Date().toISOString().substring(0,10)}function x1(s,e=S1){const n=[];let a=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),_E(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),_E(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class N1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fN()?mN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const a=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function _E(s){return Oh(JSON.stringify({version:2,heartbeats:s})).length}function R1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let a=1;a<s.length;a++)s[a].date<n&&(n=s[a].date,e=a);return e}function C1(s){_l(new cr("platform-logger",e=>new BN(e),"PRIVATE")),_l(new cr("heartbeat",e=>new w1(e),"PRIVATE")),pa(Wm,pE,s),pa(Wm,pE,"esm2020"),pa("fire-js","")}C1("");function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const I1=yb,vb=new bc("auth","Firebase",yb());const Vh=new Ip("@firebase/auth");function j1(s,...e){Vh.logLevel<=Pe.WARN&&Vh.warn(`Auth (${Ml}): ${s}`,...e)}function Sh(s,...e){Vh.logLevel<=Pe.ERROR&&Vh.error(`Auth (${Ml}): ${s}`,...e)}function mi(s,...e){throw Op(s,...e)}function Bi(s,...e){return Op(s,...e)}function _b(s,e,n){const a={...I1(),[e]:n};return new bc("auth","Firebase",a).create(e,{appName:s.name})}function gs(s){return _b(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(s,...e){if(typeof s!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(n,...a)}return vb.create(s,...e)}function be(s,e,...n){if(!s)throw Op(e,...n)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Sh(e),new Error(e)}function Ts(s,e){s||fs(e)}function ep(){return typeof self<"u"&&self.location?.href||""}function D1(){return EE()==="http:"||EE()==="https:"}function EE(){return typeof self<"u"&&self.location?.protocol||null}function O1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D1()||cN()||"connection"in navigator)?navigator.onLine:!0}function M1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ac{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ts(n>e,"Short delay should be less than long delay!"),this.isMobile=rN()||uN()}get(){return O1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Mp(s,e){Ts(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Eb{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const k1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],L1=new Ac(3e4,6e4);function xs(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Qi(s,e,n,a,l={}){return Tb(s,l,async()=>{let c={},d={};a&&(e==="GET"?d=a:c={body:JSON.stringify(a)});const p=Sc({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return oN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(y.credentials="include"),Eb.fetch()(await bb(s,s.config.apiHost,n,p),y)})}async function Tb(s,e,n){s._canInitEmulator=!1;const a={...V1,...e};try{const l=new U1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw ph(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ph(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw ph(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw ph(s,"user-disabled",d);const T=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _b(s,T,y);mi(s,T)}}catch(l){if(l instanceof ws)throw l;mi(s,"network-request-failed",{message:String(l)})}}async function wc(s,e,n,a,l={}){const c=await Qi(s,e,n,a,l);return"mfaPendingCredential"in c&&mi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function bb(s,e,n,a){const l=`${e}${n}?${a}`,c=s,d=c.config.emulator?Mp(s.config,l):`${s.config.apiScheme}://${l}`;return k1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function P1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class U1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),L1.get())})}}function ph(s,e,n){const a={appName:s.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const l=Bi(s,e,a);return l.customData._tokenResponse=n,l}function TE(s){return s!==void 0&&s.enterprise!==void 0}class z1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B1(s,e){return Qi(s,"GET","/v2/recaptchaConfig",xs(s,e))}async function H1(s,e){return Qi(s,"POST","/v1/accounts:delete",e)}async function kh(s,e){return Qi(s,"POST","/v1/accounts:lookup",e)}function ic(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function q1(s,e=!1){const n=Vt(s),a=await n.getIdToken(e),l=Vp(a);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:ic(Lm(l.auth_time)),issuedAtTime:ic(Lm(l.iat)),expirationTime:ic(Lm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Lm(s){return Number(s)*1e3}function Vp(s){const[e,n,a]=s.split(".");if(e===void 0||n===void 0||a===void 0)return Sh("JWT malformed, contained fewer than 3 sections"),null;try{const l=ab(n);return l?JSON.parse(l):(Sh("Failed to decode base64 JWT payload"),null)}catch(l){return Sh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function bE(s){const e=Vp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function El(s,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ws&&F1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function F1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class G1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ic(this.lastLoginAt),this.creationTime=ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lh(s){const e=s.auth,n=await s.getIdToken(),a=await El(s,kh(e,{idToken:n}));be(a?.users.length,e,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Sb(l.providerUserInfo):[],d=Q1(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function K1(s){const e=Vt(s);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Q1(s,e){return[...s.filter(a=>!e.some(l=>l.providerId===a.providerId)),...e]}function Sb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Y1(s,e){const n=await Tb(s,{},async()=>{const a=Sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await bb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:a};return s.emulatorConfig&&Ol(s.emulatorConfig.host)&&(g.credentials="include"),Eb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $1(s,e){return Qi(s,"POST","/v2/accounts:revokeToken",xs(s,e))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:l,expiresIn:c}=await Y1(e,n);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:l,expirationTime:c}=n,d=new pl;return a&&(be(typeof a=="string","internal-error",{appName:e}),d.refreshToken=a),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return fs("not implemented")}}function la(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new G1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new tp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await El(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return q1(this,e)}reload(){return K1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(gs(this.auth));const e=await this.getIdToken();return await El(this,H1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const a=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:O,providerData:R,stsTokenManager:C}=n;be(b&&C,e,"internal-error");const U=pl.fromJSON(this.name,C);be(typeof b=="string",e,"internal-error"),la(a,e.name),la(l,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof O=="boolean",e,"internal-error"),la(c,e.name),la(d,e.name),la(p,e.name),la(g,e.name),la(y,e.name),la(T,e.name);const Y=new hi({uid:b,auth:e,email:l,emailVerified:S,displayName:a,isAnonymous:O,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:U,createdAt:y,lastLoginAt:T});return R&&Array.isArray(R)&&(Y.providerData=R.map(W=>({...W}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,a=!1){const l=new pl;l.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:a});return await Lh(c),c}static async _fromGetAccountInfoResponse(e,n,a){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Sb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new pl;p.updateFromIdToken(a);const g=new hi({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new tp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const SE=new Map;function ms(s){Ts(s instanceof Function,"Expected a class definition");let e=SE.get(s);return e?(Ts(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,SE.set(s,e),e)}class Ab{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Ab.type="NONE";const AE=Ab;function Ah(s,e,n){return`firebase:${s}:${e}:${n}`}class gl{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Ah(this.userKey,l.apiKey,c),this.fullPersistenceKey=Ah("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new gl(ms(AE),e,a);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ms(AE);const d=Ah(a,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const S=await kh(e,{idToken:T}).catch(()=>{});if(!S)break;b=await hi._fromGetAccountInfoResponse(e,S,T)}else b=hi._fromJSON(e,T);y!==c&&(p=b),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new gl(c,e,a):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new gl(c,e,a))}}function wE(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Rb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ib(e))return"Blackberry";if(jb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Nb(e))&&!e.includes("edge/"))return"Chrome";if(Cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(n);if(a?.length===2)return a[1]}return"Other"}function wb(s=ln()){return/firefox\//i.test(s)}function xb(s=ln()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Nb(s=ln()){return/crios\//i.test(s)}function Rb(s=ln()){return/iemobile/i.test(s)}function Cb(s=ln()){return/android/i.test(s)}function Ib(s=ln()){return/blackberry/i.test(s)}function jb(s=ln()){return/webos/i.test(s)}function kp(s=ln()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function X1(s=ln()){return kp(s)&&!!window.navigator?.standalone}function W1(){return hN()&&document.documentMode===10}function Db(s=ln()){return kp(s)||Cb(s)||jb(s)||Ib(s)||/windows phone/i.test(s)||Rb(s)}function Ob(s,e=[]){let n;switch(s){case"Browser":n=wE(ln());break;case"Worker":n=`${wE(ln())}-${s}`;break;default:n=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ml}/${a}`}class J1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});a.onAbort=n,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Z1(s,e={}){return Qi(s,"GET","/v2/passwordPolicy",xs(s,e))}const eR=6;class tR{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??eR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let l=0;l<e.length;l++)a=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class nR{constructor(e,n,a,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xE(this),this.idTokenSubscription=new xE(this),this.beforeStateQueue=new J1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),a=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=M1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($n(this.app))return Promise.reject(gs(this));const n=e?Vt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(gs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $n(this.app)?Promise.reject(gs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Z1(this),n=new tR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bc("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await $1(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ms(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&j1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Na(s){return Vt(s)}class xE{constructor(e){this.auth=e,this.observer=null,this.addObserver=_N(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let td={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iR(s){td=s}function Mb(s){return td.loadJS(s)}function sR(){return td.recaptchaEnterpriseScript}function aR(){return td.gapiScript}function rR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class lR{constructor(){this.enterprise=new oR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class oR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cR="recaptcha-enterprise",Vb="NO_RECAPTCHA";class uR{constructor(e){this.type=cR,this.auth=Na(e)}async verify(e="verify",n=!1){async function a(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{B1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new z1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;TE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Vb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{a(this.auth).then(p=>{if(!n&&TE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sR();g.length!==0&&(g+=p),Mb(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function NE(s,e,n,a=!1,l=!1){const c=new uR(s);let d;if(l)d=Vb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return a?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Ph(s,e,n,a,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await NE(s,e,n,n==="getOobCode");return a(s,c)}else return a(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await NE(s,e,n,n==="getOobCode");return a(s,d)}else return Promise.reject(c)})}function hR(s,e){const n=Dp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(_a(c,e??{}))return l;mi(l,"already-initialized")}return n.initialize({options:e})}function dR(s,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(ms);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e?.popupRedirectResolver)}function fR(s,e,n){const a=Na(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const l=!1,c=kb(e),{host:d,port:p}=mR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(_a(y,a.config.emulator)&&_a(T,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=T,a.settings.appVerificationDisabledForTesting=!0,Ol(d)?(cb(`${c}//${d}${g}`),ub("Auth",!0)):pR()}function kb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function mR(s){const e=kb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:RE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:RE(d)}}}function RE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function pR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function gR(s,e){return Qi(s,"POST","/v1/accounts:signUp",e)}async function yR(s,e){return wc(s,"POST","/v1/accounts:signInWithPassword",xs(s,e))}async function vR(s,e){return Qi(s,"POST","/v1/accounts:sendOobCode",xs(s,e))}async function _R(s,e){return vR(s,e)}async function ER(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",xs(s,e))}async function TR(s,e){return wc(s,"POST","/v1/accounts:signInWithEmailLink",xs(s,e))}class hc extends Lp{constructor(e,n,a,l=null){super("password",a),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new hc(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new hc(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,n,"signInWithPassword",yR);case"emailLink":return ER(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ph(e,a,"signUpPassword",gR);case"emailLink":return TR(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function yl(s,e){return wc(s,"POST","/v1/accounts:signInWithIdp",xs(s,e))}const bR="http://localhost";class ur extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ur(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:l,...c}=n;if(!a||!l)return null;const d=new ur(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,yl(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:bR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sc(n)}return e}}function SR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function AR(s){const e=Xo(Wo(s)).link,n=e?Xo(Wo(e)).deep_link_id:null,a=Xo(Wo(s)).deep_link_id;return(a?Xo(Wo(a)).link:null)||a||n||e||s}class Pp{constructor(e){const n=Xo(Wo(e)),a=n.apiKey??null,l=n.oobCode??null,c=SR(n.mode??null);be(a&&l&&c,"argument-error"),this.apiKey=a,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=AR(e);try{return new Pp(n)}catch{return null}}}class Vl{constructor(){this.providerId=Vl.PROVIDER_ID}static credential(e,n){return hc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=Pp.parseLink(n);return be(a,"argument-error"),hc._fromEmailAndCode(e,a.code,a.tenantId)}}Vl.PROVIDER_ID="password";Vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Lb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class xc extends Lb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oa extends xc{constructor(){super("facebook.com")}static credential(e){return ur._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oa.credentialFromTaggedObject(e)}static credentialFromError(e){return oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oa.credential(e.oauthAccessToken)}catch{return null}}}oa.FACEBOOK_SIGN_IN_METHOD="facebook.com";oa.PROVIDER_ID="facebook.com";class ca extends xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ur._fromParams({providerId:ca.PROVIDER_ID,signInMethod:ca.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ca.credentialFromTaggedObject(e)}static credentialFromError(e){return ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return ca.credential(n,a)}catch{return null}}}ca.GOOGLE_SIGN_IN_METHOD="google.com";ca.PROVIDER_ID="google.com";class ua extends xc{constructor(){super("github.com")}static credential(e){return ur._fromParams({providerId:ua.PROVIDER_ID,signInMethod:ua.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ua.credentialFromTaggedObject(e)}static credentialFromError(e){return ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ua.credential(e.oauthAccessToken)}catch{return null}}}ua.GITHUB_SIGN_IN_METHOD="github.com";ua.PROVIDER_ID="github.com";class ha extends xc{constructor(){super("twitter.com")}static credential(e,n){return ur._fromParams({providerId:ha.PROVIDER_ID,signInMethod:ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ha.credentialFromTaggedObject(e)}static credentialFromError(e){return ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ha.credential(n,a)}catch{return null}}}ha.TWITTER_SIGN_IN_METHOD="twitter.com";ha.PROVIDER_ID="twitter.com";async function wR(s,e){return wc(s,"POST","/v1/accounts:signUp",xs(s,e))}class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,l=!1){const c=await hi._fromIdTokenResponse(e,a,l),d=CE(a);return new hr({user:c,providerId:d,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const l=CE(a);return new hr({user:e,providerId:l,_tokenResponse:a,operationType:n})}}function CE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Uh extends ws{constructor(e,n,a,l){super(n.code,n.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,l){return new Uh(e,n,a,l)}}function Pb(s,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(s,c,e,a):c})}async function xR(s,e,n=!1){const a=await El(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return hr._forOperation(s,"link",a)}async function NR(s,e,n=!1){const{auth:a}=s;if($n(a.app))return Promise.reject(gs(a));const l="reauthenticate";try{const c=await El(s,Pb(a,l,e,s),n);be(c.idToken,a,"internal-error");const d=Vp(c.idToken);be(d,a,"internal-error");const{sub:p}=d;return be(s.uid===p,a,"user-mismatch"),hr._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&mi(a,"user-mismatch"),c}}async function Ub(s,e,n=!1){if($n(s.app))return Promise.reject(gs(s));const a="signIn",l=await Pb(s,a,e),c=await hr._fromIdTokenResponse(s,a,l);return n||await s._updateCurrentUser(c.user),c}async function RR(s,e){return Ub(Na(s),e)}async function zb(s){const e=Na(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CR(s,e,n){const a=Na(s);await Ph(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_R)}async function IR(s,e,n){if($n(s.app))return Promise.reject(gs(s));const a=Na(s),d=await Ph(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&zb(s),g}),p=await hr._fromIdTokenResponse(a,"signIn",d);return await a._updateCurrentUser(p.user),p}function jR(s,e,n){return $n(s.app)?Promise.reject(gs(s)):RR(Vt(s),Vl.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&zb(s),a})}async function DR(s,e){return Qi(s,"POST","/v1/accounts:update",e)}async function OR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const a=Vt(s),c={idToken:await a.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await El(a,DR(a.auth,c));a.displayName=d.displayName||null,a.photoURL=d.photoUrl||null;const p=a.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=a.displayName,p.photoURL=a.photoURL),await a._updateTokensIfNecessary(d)}function MR(s,e,n,a){return Vt(s).onIdTokenChanged(e,n,a)}function VR(s,e,n){return Vt(s).beforeAuthStateChanged(e,n)}function kR(s,e,n,a){return Vt(s).onAuthStateChanged(e,n,a)}function LR(s){return Vt(s).signOut()}const zh="__sak";class Bb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(zh,"1"),this.storage.removeItem(zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PR=1e3,UR=10;class Hb extends Bb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Db(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),l=this.localCache[n];a!==l&&e(n,l,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!n&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);W1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,UR):l()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hb.type="LOCAL";const zR=Hb;class qb extends Bb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qb.type="SESSION";const Fb=qb;function BR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const a=new nd(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await BR(p);n.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];function Up(s="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return s+n}class HR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Up("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function qR(s){Hi().location.href=s}function Gb(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function FR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GR(){return navigator?.serviceWorker?.controller||null}function KR(){return Gb()?self:null}const Kb="firebaseLocalStorageDb",QR=1,Bh="firebaseLocalStorage",Qb="fbase_key";class Nc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function id(s,e){return s.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function YR(){const s=indexedDB.deleteDatabase(Kb);return new Nc(s).toPromise()}function np(){const s=indexedDB.open(Kb,QR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Bh,{keyPath:Qb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Bh)?e(a):(a.close(),await YR(),e(await np()))})})}async function IE(s,e,n){const a=id(s,!0).put({[Qb]:e,value:n});return new Nc(a).toPromise()}async function $R(s,e){const n=id(s,!1).get(e),a=await new Nc(n).toPromise();return a===void 0?null:a.value}function jE(s,e){const n=id(s,!0).delete(e);return new Nc(n).toPromise()}const XR=800,WR=3;class Yb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>WR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(KR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FR(),!this.activeServiceWorker)return;this.sender=new HR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await IE(e,zh,"1"),await jE(e,zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>IE(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>$R(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>jE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=id(l,!1).getAll();return new Nc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const l of Array.from(a))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Yb.type="LOCAL";const JR=Yb;new Ac(3e4,6e4);function ZR(s,e){return e?ms(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class zp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eC(s){return Ub(s.auth,new zp(s),s.bypassAuthState)}function tC(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),NR(n,new zp(s),s.bypassAuthState)}async function nC(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),xR(n,new zp(s),s.bypassAuthState)}class $b{constructor(e,n,a,l,c=!1){this.auth=e,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return tC;default:mi(this.auth,"internal-error")}}resolve(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iC=new Ac(2e3,1e4);class fl extends $b{constructor(e,n,a,l,c){super(e,n,l,c),this.provider=a,this.authWindow=null,this.pollId=null,fl.currentPopupAction&&fl.currentPopupAction.cancel(),fl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iC.get())};e()}}fl.currentPopupAction=null;const sC="pendingRedirect",wh=new Map;class aC extends $b{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=wh.get(this.auth._key());if(!e){try{const a=await rC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}wh.set(this.auth._key(),e)}return this.bypassAuthState||wh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rC(s,e){const n=cC(e),a=oC(s);if(!await a._isAvailable())return!1;const l=await a._get(n)==="true";return await a._remove(n),l}function lC(s,e){wh.set(s._key(),e)}function oC(s){return ms(s._redirectPersistence)}function cC(s){return Ah(sC,s.config.apiKey,s.name)}async function uC(s,e,n=!1){if($n(s.app))return Promise.reject(gs(s));const a=Na(s),l=ZR(a,e),d=await new aC(a,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,e)),d}const hC=600*1e3;class dC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Xb(e)){const a=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Bi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Xb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function fC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xb(s);default:return!1}}async function mC(s,e={}){return Qi(s,"GET","/v1/projects",e)}const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await mC(s);for(const n of e)try{if(vC(n))return}catch{}mi(s,"unauthorized-domain")}function vC(s){const e=ep(),{protocol:n,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===a}if(!gC.test(n))return!1;if(pC.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const _C=new Ac(3e4,6e4);function OE(){const s=Hi().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function EC(s){return new Promise((e,n)=>{function a(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(Bi(s,"network-request-failed"))},timeout:_C.get()})}if(Hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const l=rR("iframefcb");return Hi()[l]=()=>{gapi.load?a():n(Bi(s,"network-request-failed"))},Mb(`${aR()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw xh=null,e})}let xh=null;function TC(s){return xh=xh||EC(s),xh}const bC=new Ac(5e3,15e3),SC="__/auth/iframe",AC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function NC(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Mp(e,AC):`https://${s.config.authDomain}/${SC}`,a={apiKey:e.apiKey,appName:s.name,v:Ml},l=xC.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${n}?${Sc(a).slice(1)}`}async function RC(s){const e=await TC(s),n=Hi().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:NC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(s,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},bC.get());function g(){Hi().clearTimeout(p),l(a)}a.ping(g).then(g,()=>{c(d)})}))}const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,jC=600,DC="_blank",OC="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MC(s,e,n,a=IC,l=jC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const g={...CC,width:a.toString(),height:l.toString(),top:c,left:d},y=ln().toLowerCase();n&&(p=Nb(y)?DC:n),wb(y)&&(e=e||OC,g.scrollbars="yes");const T=Object.entries(g).reduce((S,[O,R])=>`${S}${O}=${R},`,"");if(X1(y)&&p!=="_self")return VC(e||"",p),new ME(null);const b=window.open(e||"",p,T);be(b,s,"popup-blocked");try{b.focus()}catch{}return new ME(b)}function VC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const kC="__/auth/handler",LC="emulator/auth/handler",PC=encodeURIComponent("fac");async function VE(s,e,n,a,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:a,v:Ml,eventId:l};if(e instanceof Lb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",vN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof xc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${PC}=${encodeURIComponent(g)}`:"";return`${UC(s)}?${Sc(p).slice(1)}${y}`}function UC({config:s}){return s.emulator?Mp(s,LC):`https://${s.authDomain}/${kC}`}const Pm="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fb,this._completeRedirectFn=uC,this._overrideRedirectResult=lC}async _openPopup(e,n,a,l){Ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await VE(e,n,a,ep(),l);return MC(e,c,Up())}async _openRedirect(e,n,a,l){await this._originValidation(e);const c=await VE(e,n,a,ep(),l);return qR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Ts(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await RC(e),a=new dC(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Pm,{type:Pm},l=>{const c=l?.[0]?.[Pm];c!==void 0&&n(!!c),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Db()||xb()||kp()}}const BC=zC;var kE="@firebase/auth",LE="1.11.1";class HC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(s){_l(new cr("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(s)},y=new nR(a,l,c,g);return dR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),_l(new cr("auth-internal",e=>{const n=Na(e.getProvider("auth").getImmediate());return(a=>new HC(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pa(kE,LE,qC(s)),pa(kE,LE,"esm2020")}const GC=300,KC=ob("authIdTokenMaxAge")||GC;let PE=null;const QC=s=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>KC)return;const l=n?.token;PE!==l&&(PE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YC(s=mb()){const e=Dp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=hR(s,{popupRedirectResolver:BC,persistence:[JR,zR,Fb]}),a=ob("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=QC(c.toString());VR(n,d,()=>d(n.currentUser)),MR(n,p=>d(p))}}const l=rb("auth");return l&&fR(n,`http://${l}`),n}function $C(){return document.getElementsByTagName("head")?.[0]??document}iR({loadJS(s){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=l=>{const c=Bi("internal-error");c.customData=l,n(c)},a.type="text/javascript",a.charset="UTF-8",$C().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ga,Wb;(function(){var s;function e(I,x){function N(){}N.prototype=x.prototype,I.F=x.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(L,V,B){for(var j=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)j[Ye-2]=arguments[Ye];return x.prototype[V].apply(L,j)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,x,N){N||(N=0);const L=Array(16);if(typeof x=="string")for(var V=0;V<16;++V)L[V]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(V=0;V<16;++V)L[V]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=I.g[0],N=I.g[1],V=I.g[2];let B=I.g[3],j;j=x+(B^N&(V^B))+L[0]+3614090360&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(V^x&(N^V))+L[1]+3905402710&4294967295,B=x+(j<<12&4294967295|j>>>20),j=V+(N^B&(x^N))+L[2]+606105819&4294967295,V=B+(j<<17&4294967295|j>>>15),j=N+(x^V&(B^x))+L[3]+3250441966&4294967295,N=V+(j<<22&4294967295|j>>>10),j=x+(B^N&(V^B))+L[4]+4118548399&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(V^x&(N^V))+L[5]+1200080426&4294967295,B=x+(j<<12&4294967295|j>>>20),j=V+(N^B&(x^N))+L[6]+2821735955&4294967295,V=B+(j<<17&4294967295|j>>>15),j=N+(x^V&(B^x))+L[7]+4249261313&4294967295,N=V+(j<<22&4294967295|j>>>10),j=x+(B^N&(V^B))+L[8]+1770035416&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(V^x&(N^V))+L[9]+2336552879&4294967295,B=x+(j<<12&4294967295|j>>>20),j=V+(N^B&(x^N))+L[10]+4294925233&4294967295,V=B+(j<<17&4294967295|j>>>15),j=N+(x^V&(B^x))+L[11]+2304563134&4294967295,N=V+(j<<22&4294967295|j>>>10),j=x+(B^N&(V^B))+L[12]+1804603682&4294967295,x=N+(j<<7&4294967295|j>>>25),j=B+(V^x&(N^V))+L[13]+4254626195&4294967295,B=x+(j<<12&4294967295|j>>>20),j=V+(N^B&(x^N))+L[14]+2792965006&4294967295,V=B+(j<<17&4294967295|j>>>15),j=N+(x^V&(B^x))+L[15]+1236535329&4294967295,N=V+(j<<22&4294967295|j>>>10),j=x+(V^B&(N^V))+L[1]+4129170786&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^V&(x^N))+L[6]+3225465664&4294967295,B=x+(j<<9&4294967295|j>>>23),j=V+(x^N&(B^x))+L[11]+643717713&4294967295,V=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(V^B))+L[0]+3921069994&4294967295,N=V+(j<<20&4294967295|j>>>12),j=x+(V^B&(N^V))+L[5]+3593408605&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^V&(x^N))+L[10]+38016083&4294967295,B=x+(j<<9&4294967295|j>>>23),j=V+(x^N&(B^x))+L[15]+3634488961&4294967295,V=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(V^B))+L[4]+3889429448&4294967295,N=V+(j<<20&4294967295|j>>>12),j=x+(V^B&(N^V))+L[9]+568446438&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^V&(x^N))+L[14]+3275163606&4294967295,B=x+(j<<9&4294967295|j>>>23),j=V+(x^N&(B^x))+L[3]+4107603335&4294967295,V=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(V^B))+L[8]+1163531501&4294967295,N=V+(j<<20&4294967295|j>>>12),j=x+(V^B&(N^V))+L[13]+2850285829&4294967295,x=N+(j<<5&4294967295|j>>>27),j=B+(N^V&(x^N))+L[2]+4243563512&4294967295,B=x+(j<<9&4294967295|j>>>23),j=V+(x^N&(B^x))+L[7]+1735328473&4294967295,V=B+(j<<14&4294967295|j>>>18),j=N+(B^x&(V^B))+L[12]+2368359562&4294967295,N=V+(j<<20&4294967295|j>>>12),j=x+(N^V^B)+L[5]+4294588738&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^V)+L[8]+2272392833&4294967295,B=x+(j<<11&4294967295|j>>>21),j=V+(B^x^N)+L[11]+1839030562&4294967295,V=B+(j<<16&4294967295|j>>>16),j=N+(V^B^x)+L[14]+4259657740&4294967295,N=V+(j<<23&4294967295|j>>>9),j=x+(N^V^B)+L[1]+2763975236&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^V)+L[4]+1272893353&4294967295,B=x+(j<<11&4294967295|j>>>21),j=V+(B^x^N)+L[7]+4139469664&4294967295,V=B+(j<<16&4294967295|j>>>16),j=N+(V^B^x)+L[10]+3200236656&4294967295,N=V+(j<<23&4294967295|j>>>9),j=x+(N^V^B)+L[13]+681279174&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^V)+L[0]+3936430074&4294967295,B=x+(j<<11&4294967295|j>>>21),j=V+(B^x^N)+L[3]+3572445317&4294967295,V=B+(j<<16&4294967295|j>>>16),j=N+(V^B^x)+L[6]+76029189&4294967295,N=V+(j<<23&4294967295|j>>>9),j=x+(N^V^B)+L[9]+3654602809&4294967295,x=N+(j<<4&4294967295|j>>>28),j=B+(x^N^V)+L[12]+3873151461&4294967295,B=x+(j<<11&4294967295|j>>>21),j=V+(B^x^N)+L[15]+530742520&4294967295,V=B+(j<<16&4294967295|j>>>16),j=N+(V^B^x)+L[2]+3299628645&4294967295,N=V+(j<<23&4294967295|j>>>9),j=x+(V^(N|~B))+L[0]+4096336452&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~V))+L[7]+1126891415&4294967295,B=x+(j<<10&4294967295|j>>>22),j=V+(x^(B|~N))+L[14]+2878612391&4294967295,V=B+(j<<15&4294967295|j>>>17),j=N+(B^(V|~x))+L[5]+4237533241&4294967295,N=V+(j<<21&4294967295|j>>>11),j=x+(V^(N|~B))+L[12]+1700485571&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~V))+L[3]+2399980690&4294967295,B=x+(j<<10&4294967295|j>>>22),j=V+(x^(B|~N))+L[10]+4293915773&4294967295,V=B+(j<<15&4294967295|j>>>17),j=N+(B^(V|~x))+L[1]+2240044497&4294967295,N=V+(j<<21&4294967295|j>>>11),j=x+(V^(N|~B))+L[8]+1873313359&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~V))+L[15]+4264355552&4294967295,B=x+(j<<10&4294967295|j>>>22),j=V+(x^(B|~N))+L[6]+2734768916&4294967295,V=B+(j<<15&4294967295|j>>>17),j=N+(B^(V|~x))+L[13]+1309151649&4294967295,N=V+(j<<21&4294967295|j>>>11),j=x+(V^(N|~B))+L[4]+4149444226&4294967295,x=N+(j<<6&4294967295|j>>>26),j=B+(N^(x|~V))+L[11]+3174756917&4294967295,B=x+(j<<10&4294967295|j>>>22),j=V+(x^(B|~N))+L[2]+718787259&4294967295,V=B+(j<<15&4294967295|j>>>17),j=N+(B^(V|~x))+L[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(V+(j<<21&4294967295|j>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+B&4294967295}a.prototype.v=function(I,x){x===void 0&&(x=I.length);const N=x-this.blockSize,L=this.C;let V=this.h,B=0;for(;B<x;){if(V==0)for(;B<=N;)l(this,I,B),B+=this.blockSize;if(typeof I=="string"){for(;B<x;)if(L[V++]=I.charCodeAt(B++),V==this.blockSize){l(this,L),V=0;break}}else for(;B<x;)if(L[V++]=I[B++],V==this.blockSize){l(this,L),V=0;break}}this.h=V,this.o+=x},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)I[x++]=this.g[N]>>>L&255;return I};function c(I,x){var N=p;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=x(I)}function d(I,x){this.h=x;const N=[];let L=!0;for(let V=I.length-1;V>=0;V--){const B=I[V]|0;L&&B==x||(N[V]=B,L=!1)}this.g=N}var p={};function g(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return U(y(-I));const x=[];let N=1;for(let L=0;I>=N;L++)x[L]=I/N|0,N*=4294967296;return new d(x,0)}function T(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return U(T(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let L=b;for(let B=0;B<I.length;B+=8){var V=Math.min(8,I.length-B);const j=parseInt(I.substring(B,B+V),x);V<8?(V=y(Math.pow(x,V)),L=L.j(V).add(y(j))):(L=L.j(N),L=L.add(y(j)))}return L}var b=g(0),S=g(1),O=g(16777216);s=d.prototype,s.m=function(){if(C(this))return-U(this).m();let I=0,x=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);I+=(L>=0?L:4294967296+L)*x,x*=4294967296}return I},s.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(C(this))return"-"+U(this).toString(I);const x=y(Math.pow(I,6));var N=this;let L="";for(;;){const V=z(N,x).g;N=Y(N,V.j(x));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=V,R(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},s.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function C(I){return I.h==-1}s.l=function(I){return I=Y(this,I),C(I)?-1:R(I)?0:1};function U(I){const x=I.g.length,N=[];for(let L=0;L<x;L++)N[L]=~I.g[L];return new d(N,~I.h).add(S)}s.abs=function(){return C(this)?U(this):this},s.add=function(I){const x=Math.max(this.g.length,I.g.length),N=[];let L=0;for(let V=0;V<=x;V++){let B=L+(this.i(V)&65535)+(I.i(V)&65535),j=(B>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);L=j>>>16,B&=65535,j&=65535,N[V]=j<<16|B}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(I,x){return I.add(U(x))}s.j=function(I){if(R(this)||R(I))return b;if(C(this))return C(I)?U(this).j(U(I)):U(U(this).j(I));if(C(I))return U(this.j(U(I)));if(this.l(O)<0&&I.l(O)<0)return y(this.m()*I.m());const x=this.g.length+I.g.length,N=[];for(var L=0;L<2*x;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let V=0;V<I.g.length;V++){const B=this.i(L)>>>16,j=this.i(L)&65535,Ye=I.i(V)>>>16,te=I.i(V)&65535;N[2*L+2*V]+=j*te,W(N,2*L+2*V),N[2*L+2*V+1]+=B*te,W(N,2*L+2*V+1),N[2*L+2*V+1]+=j*Ye,W(N,2*L+2*V+1),N[2*L+2*V+2]+=B*Ye,W(N,2*L+2*V+2)}for(I=0;I<x;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=x;I<2*x;I++)N[I]=0;return new d(N,0)};function W(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ae(I,x){this.g=I,this.h=x}function z(I,x){if(R(x))throw Error("division by zero");if(R(I))return new ae(b,b);if(C(I))return x=z(U(I),x),new ae(U(x.g),U(x.h));if(C(x))return x=z(I,U(x)),new ae(U(x.g),x.h);if(I.g.length>30){if(C(I)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var N=S,L=x;L.l(I)<=0;)N=oe(N),L=oe(L);var V=ue(N,1),B=ue(L,1);for(L=ue(L,2),N=ue(N,2);!R(L);){var j=B.add(L);j.l(I)<=0&&(V=V.add(N),B=j),L=ue(L,1),N=ue(N,1)}return x=Y(I,V.j(x)),new ae(V,x)}for(V=b;I.l(x)>=0;){for(N=Math.max(1,Math.floor(I.m()/x.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=y(N),j=B.j(x);C(j)||j.l(I)>0;)N-=L,B=y(N),j=B.j(x);R(B)&&(B=S),V=V.add(B),I=Y(I,j)}return new ae(V,I)}s.B=function(I){return z(this,I).h},s.and=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)&I.i(L);return new d(N,this.h&I.h)},s.or=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)|I.i(L);return new d(N,this.h|I.h)},s.xor=function(I){const x=Math.max(this.g.length,I.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)^I.i(L);return new d(N,this.h^I.h)};function oe(I){const x=I.g.length+1,N=[];for(let L=0;L<x;L++)N[L]=I.i(L)<<1|I.i(L-1)>>>31;return new d(N,I.h)}function ue(I,x){const N=x>>5;x%=32;const L=I.g.length-N,V=[];for(let B=0;B<L;B++)V[B]=x>0?I.i(B+N)>>>x|I.i(B+N+1)<<32-x:I.i(B+N);return new d(V,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Wb=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ga=d}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var gh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jb,Jo,Zb,Nh,ip,e0,t0,n0;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof gh=="object"&&gh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var a=n(this);function l(h,v){if(v)e:{var E=a;h=h.split(".");for(var w=0;w<h.length-1;w++){var F=h[w];if(!(F in E))break e;E=E[F]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,F,$){for(var ce=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)ce[Ie-2]=arguments[Ie];return v.prototype[F].apply(w,ce)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function O(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function R(h,v){for(let w=1;w<arguments.length;w++){const F=arguments[w];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=h.length||0;const $=F.length||0;h.length=E+$;for(let ce=0;ce<$;ce++)h[E+ce]=F[ce]}else h.push(F)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function U(h){d.setTimeout(()=>{throw h},0)}function Y(){var h=I;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,E){const w=ae.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ae=new C(()=>new z,h=>h.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,I=new W,x=()=>{const h=Promise.resolve(void 0);oe=()=>{h.then(N)}};function N(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){U(E)}var v=ae;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}ue=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function j(h){return/^[\s\xa0]*$/.test(h)}function Ye(h,v){V.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(Ye,V),Ye.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Ye.Z.h.call(this)},Ye.prototype.h=function(){Ye.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),q=0;function se(h,v,E,w,F){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=F,this.key=++q,this.da=this.fa=!1}function le(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ye(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Ee(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function M(h){const v={};for(const E in h)v[E]=h[E];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(h,v){let E,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(E in w)h[E]=w[E];for(let $=0;$<J.length;$++)E=J[$],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,E,w,F){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const ce=De(h,v,w,F);return ce>-1?(v=h[ce],E||(v.fa=!1)):(v=new se(v,this.src,$,!!w,F),v.fa=E,h.push(v)),v};function Ae(h,v){const E=v.type;if(E in h.g){var w=h.g[E],F=Array.prototype.indexOf.call(w,v,void 0),$;($=F>=0)&&Array.prototype.splice.call(w,F,1),$&&(le(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function De(h,v,E,w){for(let F=0;F<h.length;++F){const $=h[F];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==w)return F}return-1}var He="closure_lm_"+(Math.random()*1e6|0),kt={};function ct(h,v,E,w,F){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ct(h,v[$],E,w,F);return null}return E=Fl(E),h&&h[te]?h.J(v,E,p(w)?!!w.capture:!1,F):Ia(h,v,E,!1,w,F)}function Ia(h,v,E,w,F,$){if(!v)throw Error("Invalid event type");const ce=p(F)?!!F.capture:!!F;let Ie=ja(h);if(Ie||(h[He]=Ie=new fe(h)),E=Ie.add(v,E,w,ce,$),E.proxy)return E;if(w=_r(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)B||(F=ce),F===void 0&&(F=!1),h.addEventListener(v.toString(),w,F);else if(h.attachEvent)h.attachEvent(vi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _r(){function h(E){return v.call(h.src,h.listener,E)}const v=Hl;return h}function Er(h,v,E,w,F){if(Array.isArray(v))for(var $=0;$<v.length;$++)Er(h,v[$],E,w,F);else w=p(w)?!!w.capture:!!w,E=Fl(E),h&&h[te]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=De(v,E,w,F),E>-1&&(le(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=ja(h))&&(v=h.g[v.toString()],h=-1,v&&(h=De(v,E,w,F)),(E=h>-1?v[h]:null)&&Tr(E))}function Tr(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[te])Ae(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(vi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=ja(v))?(Ae(E,h),E.h==0&&(E.src=null,v[He]=null)):le(h)}}}function vi(h){return h in kt?kt[h]:kt[h]="on"+h}function Hl(h,v){if(h.da)h=!0;else{v=new Ye(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&Tr(h),h=E.call(w,v)}return h}function ja(h){return h=h[He],h instanceof fe?h:null}var ql="__closure_events_fn_"+(Math.random()*1e9>>>0);function Fl(h){return typeof h=="function"?h:(h[ql]||(h[ql]=function(v){return h.handleEvent(v)}),h[ql])}function St(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}b(St,L),St.prototype[te]=!0,St.prototype.removeEventListener=function(h,v,E,w){Er(this,h,v,E,w)};function Lt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new V(v,h);else if(v instanceof V)v.target=v.target||h;else{var F=v;v=new V(w,h),he(v,F)}F=!0;let $,ce;if(E)for(ce=E.length-1;ce>=0;ce--)$=v.g=E[ce],F=Rs($,w,!0,v)&&F;if($=v.g=h,F=Rs($,w,!0,v)&&F,F=Rs($,w,!1,v)&&F,E)for(ce=0;ce<E.length;ce++)$=v.g=E[ce],F=Rs($,w,!1,v)&&F}St.prototype.N=function(){if(St.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)le(E[w]);delete h.g[v],h.h--}}this.G=null},St.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},St.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function Rs(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let F=!0;for(let $=0;$<v.length;++$){const ce=v[$];if(ce&&!ce.da&&ce.capture==E){const Ie=ce.listener,_t=ce.ha||ce.src;ce.fa&&Ae(h.i,ce),F=Ie.call(_t,w)!==!1&&F}}return F&&!w.defaultPrevented}function wd(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function Uc(h){h.g=wd(()=>{h.g=null,h.i&&(h.i=!1,Uc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class un extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Uc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Da(h){L.call(this),this.h=h,this.g={}}b(Da,L);var Gl=[];function Kl(h){ye(h.g,function(v,E){this.g.hasOwnProperty(E)&&Tr(v)},h),h.g={}}Da.prototype.N=function(){Da.Z.N.call(this),Kl(this)},Da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=d.JSON.stringify,xd=d.JSON.parse,zc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Bc(){}function Hc(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){V.call(this,"d")}b(Qt,V);function Vn(){V.call(this,"c")}b(Vn,V);var vt={},qc=null;function br(){return qc=qc||new St}vt.Ia="serverreachability";function Fc(h){V.call(this,vt.Ia,h)}b(Fc,V);function _i(h){const v=br();Lt(v,new Fc(v))}vt.STAT_EVENT="statevent";function Oa(h,v){V.call(this,vt.STAT_EVENT,h),this.stat=v}b(Oa,V);function At(h){const v=br();Lt(v,new Oa(v,h))}vt.Ja="timingevent";function Ei(h,v){V.call(this,vt.Ja,h),this.size=v}b(Ei,V);function Ti(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function ei(){this.g=!0}ei.prototype.ua=function(){this.g=!1};function Nd(h,v,E,w,F,$){h.info(function(){if(h.g)if($){var ce="",Ie=$.split("&");for(let Ke=0;Ke<Ie.length;Ke++){var _t=Ie[Ke].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Un=ut.split("_");ce=Un.length>=2&&Un[1]=="type"?ce+(ut+"="+_t+"&"):ce+(ut+"=redacted&")}}}else ce=null;else ce=$;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+v+`
`+E+`
`+ce})}function Gc(h,v,E,w,F,$,ce){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+v+`
`+E+`
`+$+" "+ce})}function bi(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Rd(h,E)+(w?" "+w:"")})}function Ma(h,v){h.info(function(){return"TIMEOUT: "+v})}ei.prototype.info=function(){};function Rd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ce=1;ce<w.length;ce++)w[ce]=""}}}}return Cs($)}catch{return v}}var Va={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ql={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Yl;function ka(){}b(ka,Bc),ka.prototype.g=function(){return new XMLHttpRequest},Yl=new ka;function Yi(h){return encodeURIComponent(String(h))}function Kc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function ti(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Da(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var wt={},Bt={};function Si(h,v,E){h.M=1,h.A=La(Nt(v)),h.u=E,h.R=!0,Sr(h,null)}function Sr(h,v){h.F=Date.now(),Ai(h),h.B=Nt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Nr(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ni,h.g=lu(h.j,E?v:null,!h.u),h.P>0&&(h.O=new un(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(Gl[0]=F.toString()),F=Gl);for(let $=0;$<F.length;$++){const ce=ct(E,F[$],w||v.handleEvent,!1,v.h||v);if(!ce)break;v.g[ce.key]=ce}v=h.J?M(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),_i(),Nd(h.i,h.v,h.B,h.l,h.S,h.u)}ti.prototype.ba=function(h){h=h.target;const v=this.O;v&&ai(h)==3?v.j():this.Y(h)},ti.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=ai(this.g),_t=this.g.ya(),Ke=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||Ie!=4||_t==7||(_t==8||Ke<=0?_i(3):_i(2)),wi(this);var v=this.g.ca();this.X=v;var E=Cd(this);if(this.o=v==200,Gc(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(w)){var $=w;break t}}$=null}if(h=$)bi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xi(this,h);else{this.o=!1,this.m=3,At(12),An(this),kn(this);break e}}if(this.R){h=!0;let ut;for(;!this.K&&this.C<E.length;)if(ut=Yc(this,E),ut==Bt){Ie==4&&(this.m=4,At(14),h=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,At(15),bi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bi(this.i,this.l,ut,null),xi(this,ut);if(Qc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,At(16),h=!1),this.o=this.o&&h,!h)bi(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),co(ce),ce.P=!0,At(11))}}else bi(this.i,this.l,E,null),xi(this,E);Ie==4&&An(this),this.o&&!this.K&&(Ie==4?iu(this.j,this):(this.o=!1,Ai(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,At(12)):(this.m=0,At(13)),An(this),kn(this)}}}catch{}finally{}};function Cd(h){if(!Qc(h))return h.g.la();const v=Yt(h.g);if(v==="")return"";let E="";const w=v.length,F=ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return An(h),kn(h),"";h.h.i=new d.TextDecoder}for(let $=0;$<w;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(F&&$==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Qc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Yc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Bt:(E=Number(v.substring(E,w)),isNaN(E)?wt:(w+=1,w+E>v.length?Bt:(v=v.slice(w,w+E),h.C=w+E,v)))}ti.prototype.cancel=function(){this.K=!0,An(this)};function Ai(h){h.T=Date.now()+h.H,Ar(h,h.H)}function Ar(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Ti(y(h.aa,h),v)}function wi(h){h.D&&(d.clearTimeout(h.D),h.D=null)}ti.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ma(this.i,this.B),this.M!=2&&(_i(),At(17)),An(this),this.m=2,kn(this)):Ar(this,this.T-h)};function kn(h){h.j.I==0||h.K||iu(h.j,h)}function An(h){wi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Kl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function xi(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||Ri(E.h,h))){if(!h.L&&Ri(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Dr(E),Ls(E);else break e;Fa(E),At(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ti(y(E.Va,E),6e3));Ni(E.h)<=1&&E.ta&&(E.ta=void 0)}else Mi(E,11)}else if((h.L||E.g==h)&&Dr(E),!j(v))for(F=E.Ba.g.parse(v),v=0;v<F.length;v++){let Ke=F[v];const ut=Ke[0];if(!(ut<=E.K))if(E.K=ut,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Un=Ke[3];Un!=null&&(E.ka=Un,E.j.info("VER="+E.ka));const Vi=Ke[4];Vi!=null&&(E.za=Vi,E.j.info("SVER="+E.za));const ri=Ke[5];ri!=null&&typeof ri=="number"&&ri>0&&(w=1.5*ri,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const li=h.g;if(li){const Ga=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var $=w.h;$.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Wl($,$.h),$.h=null))}if(w.G){const Or=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;Or&&(w.wa=Or,Xe(w.J,w.G,Or))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ce=h;if(w.na=ru(w,w.L?w.ba:null,w.W),ce.L){Jl(w.h,ce);var Ie=ce,_t=w.O;_t&&(Ie.H=_t),Ie.D&&(wi(Ie),Ai(Ie)),w.g=ce}else tu(w);E.i.length>0&&Oi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Mi(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Mi(E,7):lo(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}_i(4)}catch{}}var xt=class{constructor(h,v){this.g=h,this.map=v}};function $l(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Xl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ni(h){return h.h?1:h.g?h.g.size:0}function Ri(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Wl(h,v){h.g?h.g.add(v):h.h=v}function Jl(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}$l.prototype.cancel=function(){if(this.i=Zl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Zl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return O(h.i)}var $c=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wr(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let F,$=null;w>=0?(F=h[E].substring(0,w),$=h[E].substring(w+1)):F=h[E],v(F,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function wn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof wn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Is(this,h.u),this.h=h.h,eo(this,Zc(h.i)),this.m=h.m):h&&(v=String(h).match($c))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=Ci(v[2]||""),this.g=Ci(v[3]||"",!0),Is(this,v[4]),this.h=Ci(v[5]||"",!0),eo(this,v[6]||"",!0),this.m=Ci(v[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}wn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Pa(v,xr,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Pa(v,xr,!0),"@"),h.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Pa(E,E.charAt(0)=="/"?to:Xc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Pa(E,Wc)),h.join("")},wn.prototype.resolve=function(h){const v=Nt(this);let E=!!h.j;E?Ht(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Is(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=v.h.lastIndexOf("/");F!=-1&&(w=v.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const $=[];for(let ce=0;ce<F.length;){const Ie=F[ce++];Ie=="."?w&&ce==F.length&&$.push(""):Ie==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&ce==F.length&&$.push("")):($.push(Ie),w=!0)}w=$.join("/")}else w=F}return E?v.h=w:E=h.i.toString()!=="",E?eo(v,Zc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function Nt(h){return new wn(h)}function Ht(h,v,E){h.j=E?Ci(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Is(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function eo(h,v,E){v instanceof Ds?(h.i=v,Rr(h.i,h.l)):(E||(v=Pa(v,js)),h.i=new Ds(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function La(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Ci(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Pa(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,mn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function mn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xr=/[#\/\?@]/g,Xc=/[#\?:]/g,to=/[#\?]/g,js=/[#\?@]/g,Wc=/#/g;function Ds(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&wr(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=Ds.prototype,s.add=function(h,v){pn(this),this.i=null,h=Os(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Jc(h,v){pn(h),v=Os(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function no(h,v){return pn(h),v=Os(h,v),h.g.has(v)}s.forEach=function(h,v){pn(this),this.g.forEach(function(E,w){E.forEach(function(F){h.call(v,F,w,this)},this)},this)};function io(h,v){pn(h);let E=[];if(typeof v=="string")no(h,v)&&(E=E.concat(h.g.get(Os(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}s.set=function(h,v){return pn(this),this.i=null,h=Os(this,h),no(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=io(this,h),h.length>0?String(h[0]):v):v};function Nr(h,v,E){Jc(h,v),E.length>0&&(h.i=null,h.g.set(Os(h,v),O(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const F=Yi(E);E=io(this,E);for(let $=0;$<E.length;$++){let ce=F;E[$]!==""&&(ce+="="+Yi(E[$])),h.push(ce)}}return this.i=h.join("&")};function Zc(h){const v=new Ds;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Os(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Rr(h,v){v&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(E,w){const F=w.toLowerCase();w!=F&&(Jc(this,w),Nr(this,F,E))},h)),h.j=v}function ii(h,v){const E=new ei;if(d.Image){const w=new Image;w.onload=T(Ln,E,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Ln,E,"TestLoadImage: error",!1,v,w),w.onabort=T(Ln,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Ln,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function so(h,v){const E=new ei,w=new AbortController,F=setTimeout(()=>{w.abort(),Ln(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(F),$.ok?Ln(E,"TestPingServer: ok",!0,v):Ln(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(F),Ln(E,"TestPingServer: error",!1,v)})}function Ln(h,v,E,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(E)}catch{}}function Ms(){this.g=new zc}function Ii(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ii,Bc),Ii.prototype.g=function(){return new Ua(this.i,this.h)};function Ua(h,v){St.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ua,St),s=Ua.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,si(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vs(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Cr(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Cr(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Vs(this):si(this),this.readyState==3&&Cr(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Vs(this))},s.Na=function(h){this.g&&(this.response=h,Vs(this))},s.ga=function(){this.g&&Vs(this)};function Vs(h){h.readyState=4,h.l=null,h.j=null,h.B=null,si(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ua.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Pn(h){let v="";return ye(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function za(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Pn(E),typeof h=="string"?E!=null&&Yi(E):Xe(h,v,E))}function Ze(h){St.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,St);var ji=/^https?$/i,ao=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Yl.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Ba(this,$);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)E.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(ao,v,void 0)>=0)||w||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ce]of E)this.g.setRequestHeader($,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Ba(this,$)}};function Ba(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,ro(h),$i(h)}function ro(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),$i(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Ha(this):this.Xa())},s.Xa=function(){Ha(this)};function Ha(h){if(h.h&&typeof c<"u"){if(h.v&&ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ai(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=$===0){let ce=String(h.D).match($c)[1]||null;!ce&&d.self&&d.self.location&&(ce=d.self.location.protocol.slice(0,-1)),w=!ji.test(ce?ce.toLowerCase():"")}E=w}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var F=ai(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",ro(h)}}finally{$i(h)}}}}function $i(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ai(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ai(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),xd(v)}};function Yt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(h){const v={};h=(h.g&&ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(j(h[w]))continue;var E=Kc(h[w]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[F]||[];v[F]=$,$.push(E)}Ee(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Di(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function ks(h){this.za=0,this.i=[],this.j=new ei,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Di("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Di("baseRetryDelayMs",5e3,h),this.Za=Di("retryDelaySeedMs",1e4,h),this.Ta=Di("forwardChannelMaxRetries",2,h),this.va=Di("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new $l(h&&h.concurrentRequestLimit),this.Ba=new Ms,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=ks.prototype,s.ka=8,s.I=1,s.connect=function(h,v,E,w){At(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=ru(this,null,this.W),Oi(this)};function lo(h){if(Ir(h),h.I==3){var v=h.V++,E=Nt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),qa(h,E),v=new ti(h,h.j,v),v.M=2,v.A=La(Nt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=lu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ai(v)}au(h)}function Ls(h){h.g&&(co(h),h.g.cancel(),h.g=null)}function Ir(h){Ls(h),h.v&&(d.clearTimeout(h.v),h.v=null),Dr(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Oi(h){if(!Xl(h.h)&&!h.m){h.m=!0;var v=h.Ea;oe||x(),ue||(oe(),ue=!0),I.add(v,h),h.D=0}}function jr(h,v){return Ni(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Ti(y(h.Ea,h,v),su(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new ti(this,this.j,h);let $=this.o;if(this.U&&($?($=M($),he($,this.U)):$=this.U),this.u!==null||this.R||(F.J=$,$=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=eu(this,F,v),E=Nt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),qa(this,E),$&&(this.R?v="headers="+Yi(Pn($))+"&"+v:this.u&&za(E,this.u,$)),Wl(this.h,F),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),F.U=!0,Si(F,E,null)):Si(F,E,v),this.I=2}}else this.I==3&&(h?oo(this,h):this.i.length==0||Xl(this.h)||oo(this))};function oo(h,v){var E;v?E=v.l:E=h.V++;const w=Nt(h.J);Xe(w,"SID",h.M),Xe(w,"RID",E),Xe(w,"AID",h.K),qa(h,w),h.u&&h.o&&za(w,h.u,h.o),E=new ti(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=eu(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Wl(h.h,E),Si(E,w,v)}function qa(h,v){h.H&&ye(h.H,function(E,w){Xe(v,w,E)}),h.l&&ye({},function(E,w){Xe(v,w,E)})}function eu(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var F=h.i;let Ie=-1;for(;;){const _t=["count="+E];Ie==-1?E>0?(Ie=F[0].g,_t.push("ofs="+Ie)):Ie=0:_t.push("ofs="+Ie);let Ke=!0;for(let ut=0;ut<E;ut++){var $=F[ut].g;const Un=F[ut].map;if($-=Ie,$<0)Ie=Math.max(0,F[ut].g-100),Ke=!1;else try{$="req"+$+"_"||"";try{var ce=Un instanceof Map?Un:Object.entries(Un);for(const[Vi,ri]of ce){let li=ri;p(ri)&&(li=Cs(ri)),_t.push($+Vi+"="+encodeURIComponent(li))}}catch(Vi){throw _t.push($+"type="+encodeURIComponent("_badmap")),Vi}}catch{w&&w(Un)}}if(Ke){ce=_t.join("&");break e}}ce=void 0}return h=h.i.splice(0,E),v.G=h,ce}function tu(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;oe||x(),ue||(oe(),ue=!0),I.add(v,h),h.A=0}}function Fa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Ti(y(h.Da,h),su(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Ti(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,At(10),Ls(this),nu(this))};function co(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function nu(h){h.g=new ti(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=Nt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),qa(h,v),h.u&&h.o&&za(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=La(Nt(v)),E.u=null,E.R=!0,Sr(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Ls(this),Fa(this),At(19))};function Dr(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function iu(h,v){var E=null;if(h.g==v){Dr(h),co(h),h.g=null;var w=2}else if(Ri(h.h,v))E=v.G,Jl(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var F=h.D;w=br(),Lt(w,new Ei(w,E)),Oi(h)}else tu(h);else if(F=v.m,F==3||F==0&&v.X>0||!(w==1&&jr(h,v)||w==2&&Fa(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),F){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function su(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const F=!w;w=new wn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(w,"https"),La(w),F?ii(w.toString(),E):so(w.toString(),E)}else At(2);h.I=0,h.l&&h.l.pa(v),au(h),Ir(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function au(h){if(h.I=0,h.ja=[],h.l){const v=Zl(h.h);(v.length!=0||h.i.length!=0)&&(R(h.ja,v),R(h.ja,h.i),h.h.i.length=0,O(h.i),h.i.length=0),h.l.oa()}}function ru(h,v,E){var w=E instanceof wn?Nt(E):new wn(E);if(w.g!="")v&&(w.g=v+"."+w.g),Is(w,w.u);else{var F=d.location;w=F.protocol,v=v?v+"."+F.hostname:F.hostname,F=+F.port;const $=new wn(null);w&&Ht($,w),v&&($.g=v),F&&Is($,F),E&&($.h=E),w=$}return E=h.G,v=h.wa,E&&v&&Xe(w,E,v),Xe(w,"VER",h.ka),qa(h,w),w}function lu(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Ii({ab:E})):new Ze(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}s=ou.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ps(){}Ps.prototype.g=function(h,v){return new hn(h,v)};function hn(h,v){St.call(this),this.g=new ks(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!j(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!j(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Wi(this)}b(hn,St),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){lo(this.g)},hn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Cs(h),h=E);v.i.push(new xt(v.Ya++,h)),v.I==3&&Oi(v)},hn.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,hn.Z.N.call(this)};function cu(h){Qt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(cu,Qt);function uu(){Vn.call(this),this.status=1}b(uu,Vn);function Wi(h){this.g=h}b(Wi,ou),Wi.prototype.ra=function(){Lt(this.g,"a")},Wi.prototype.qa=function(h){Lt(this.g,new cu(h))},Wi.prototype.pa=function(h){Lt(this.g,new uu)},Wi.prototype.oa=function(){Lt(this.g,"b")},Ps.prototype.createWebChannel=Ps.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,n0=function(){return new Ps},t0=function(){return br()},e0=vt,ip={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Va.NO_ERROR=0,Va.TIMEOUT=8,Va.HTTP_ERROR=6,Nh=Va,Ql.COMPLETE="complete",Zb=Ql,Hc.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",St.prototype.listen=St.prototype.J,Jo=Hc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Jb=Ze}).apply(typeof gh<"u"?gh:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",BE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let kl="12.3.0";const dr=new Ip("@firebase/firestore");function cl(){return dr.logLevel}function me(s,...e){if(dr.logLevel<=Pe.DEBUG){const n=e.map(Bp);dr.debug(`Firestore (${kl}): ${s}`,...n)}}function bs(s,...e){if(dr.logLevel<=Pe.ERROR){const n=e.map(Bp);dr.error(`Firestore (${kl}): ${s}`,...n)}}function fr(s,...e){if(dr.logLevel<=Pe.WARN){const n=e.map(Bp);dr.warn(`Firestore (${kl}): ${s}`,...n)}}function Bp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,i0(s,a,n)}function i0(s,e,n){let a=`FIRESTORE (${kl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch{a+=" CONTEXT: "+n}throw bs(a),new Error(a)}function $e(s,e,n,a){let l="Unexpected state";typeof n=="string"?l=n:a=n,s||i0(e,l,a)}function Ce(s,e){return s}const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ys{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class s0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class XC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class WC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let a=this.i;const l=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let c=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ys,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ys)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($e(typeof a.accessToken=="string",31837,{l:a}),new s0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class JC{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ZC{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new JC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class HE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const a=c=>{c.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>a(c)))};const l=c=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new HE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new HE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function tI(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<s;a++)n[a]=Math.floor(256*Math.random());return n}class sd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=tI(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<n&&(a+=e.charAt(l[c]%62))}return a}}function Ue(s,e){return s<e?-1:s>e?1:0}function sp(s,e){const n=Math.min(s.length,e.length);for(let a=0;a<n;a++){const l=s.charAt(a),c=e.charAt(a);if(l!==c)return Um(l)===Um(c)?Ue(l,c):Um(l)?1:-1}return Ue(s.length,e.length)}const nI=55296,iI=57343;function Um(s){const e=s.charCodeAt(0);return e>=nI&&e<=iI}function Tl(s,e,n){return s.length===e.length&&s.every(((a,l)=>n(a,e[l])))}const qE="__name__";class zi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return zi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let l=0;l<a;l++){const c=zi.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return Ue(e.length,n.length)}static compareSegments(e,n){const a=zi.isNumericId(e),l=zi.isNumericId(n);return a&&!l?-1:!a&&l?1:a&&l?zi.extractNumericId(e).compare(zi.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ga.fromString(e.substring(4,e.length-2))}}class at extends zi{construct(e,n,a){return new at(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((l=>l.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const sI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends zi{construct(e,n,a){return new Gt(e,n,a)}static isValidIdentifier(e){return sI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Gt([qE])}static fromServerFormat(e){const n=[];let a="",l=0;const c=()=>{if(a.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}class ve{constructor(e){this.path=e}static fromPath(e){return new ve(at.fromString(e))}static fromName(e){return new ve(at.fromString(e).popFirst(5))}static empty(){return new ve(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new at(e.slice()))}}function r0(s,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function l0(s,e,n,a){if(e===!0&&a===!0)throw new de(ne.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function FE(s){if(!ve.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function GE(s){if(ve.isDocumentKey(s))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function o0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function ad(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function fn(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(s);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function Rc(s,e){if(!o0(s))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const l=e[a].typeString,c="value"in e[a]?{value:e[a].value}:void 0;if(!(a in s)){n=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){n=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${a}' field to equal '${c.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}const KE=-62135596800,QE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*QE);return new rt(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KE)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/QE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Rc(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-KE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Mt("string",rt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new rt(0,0))}static max(){return new xe(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const dc=-1;function aI(s,e){const n=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=xe.fromTimestamp(a===1e9?new rt(n+1,0):new rt(n,a));return new Ea(l,ve.empty(),e)}function rI(s){return new Ea(s.readTime,s.key,dc)}class Ea{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Ea(xe.min(),ve.empty(),dc)}static max(){return new Ea(xe.max(),ve.empty(),dc)}}function lI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(s.documentKey,e.documentKey),n!==0?n:Ue(s.largestBatchId,e.largestBatchId))}const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(s){if(s.code!==ne.FAILED_PRECONDITION||s.message!==oI)throw s;me("LocalStore","Unexpectedly lost primary lease")}class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(a,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):re.reject(n)}static resolve(e){return new re(((n,a)=>{n(e)}))}static reject(e){return new re(((n,a)=>{a(e)}))}static waitFor(e){return new re(((n,a)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>a(g)))})),d=!0,c===l&&n()}))}static or(e){let n=re.resolve(!1);for(const a of e)n=n.next((l=>l?re.resolve(l):a()));return n}static forEach(e,n){const a=[];return e.forEach(((l,c)=>{a.push(n.call(this,l,c))})),this.waitFor(a)}static mapArray(e,n){return new re(((a,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&a(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new re(((a,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):a()};c()}))}}function uI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(s){return s.name==="IndexedDbTransactionError"}class rd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rd.ce=-1;const Hp=-1;function ld(s){return s==null}function Hh(s){return s===0&&1/s==-1/0}function hI(s){return typeof s=="number"&&Number.isInteger(s)&&!Hh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const c0="";function dI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=YE(e)),e=fI(s.get(n),e);return YE(e)}function fI(s,e){let n=e;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case c0:n+="";break;default:n+=c}}return n}function YE(s){return s+c0+""}function $E(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Ra(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function u0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class pt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(e,a.key);if(l===0)return n+a.left.size;l<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yh(this.root,e,this.comparator,!1)}getReverseIterator(){return new yh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yh(this.root,e,this.comparator,!0)}}class yh{constructor(e,n,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?a(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,a,l,c){this.key=e,this.value=n,this.color=a??Zt.RED,this.left=l??Zt.EMPTY,this.right=c??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,l,c){return new Zt(e??this.key,n??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let l=this;const c=a(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,a),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Zt.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,l,c){return this}insert(e,n,a){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Mn([])}unionWith(e){let n=new zt(Gt.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new h0("Invalid base64 string: "+c):c}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let l=0;l<n.length;l++)a[l]=n.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const mI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(s){if($e(!!s,39018),typeof s=="string"){let e=0;const n=mI.exec(s);if($e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:bt(s.seconds),nanos:bt(s.nanos)}}function bt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function ba(s){return typeof s=="string"?Kt.fromBase64String(s):Kt.fromUint8Array(s)}const d0="server_timestamp",f0="__type__",m0="__previous_value__",p0="__local_write_time__";function qp(s){return(s?.mapValue?.fields||{})[f0]?.stringValue===d0}function od(s){const e=s.mapValue.fields[m0];return qp(e)?od(e):e}function fc(s){const e=Ta(s.mapValue.fields[p0].timestampValue);return new rt(e.seconds,e.nanos)}class pI{constructor(e,n,a,l,c,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const qh="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||qh}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===qh}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}const g0="__type__",gI="__max__",vh={mapValue:{}},y0="__vector__",Fh="value";function Sa(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?qp(s)?4:vI(s)?9007199254740991:yI(s)?10:11:Se(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const n=Sa(s);if(n!==Sa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return fc(s).isEqual(fc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ta(l.timestampValue),p=Ta(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return ba(l.bytesValue).isEqual(ba(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return bt(l.geoPointValue.latitude)===bt(c.geoPointValue.latitude)&&bt(l.geoPointValue.longitude)===bt(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return bt(l.integerValue)===bt(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=bt(l.doubleValue),p=bt(c.doubleValue);return d===p?Hh(d)===Hh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return Tl(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if($E(d)!==$E(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Gi(d[g],p[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function mc(s,e){return(s.values||[]).find((n=>Gi(n,e)))!==void 0}function Sl(s,e){if(s===e)return 0;const n=Sa(s),a=Sa(e);if(n!==a)return Ue(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=bt(c.integerValue||c.doubleValue),g=bt(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return WE(s.timestampValue,e.timestampValue);case 4:return WE(fc(s),fc(e));case 5:return sp(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=ba(c),g=ba(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ue(p[y],g[y]);if(T!==0)return T}return Ue(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=Ue(bt(c.latitude),bt(d.latitude));return p!==0?p:Ue(bt(c.longitude),bt(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return JE(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Fh]?.arrayValue,T=g[Fh]?.arrayValue,b=Ue(y?.values?.length||0,T?.values?.length||0);return b!==0?b:JE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===vh.mapValue&&d===vh.mapValue)return 0;if(c===vh.mapValue)return 1;if(d===vh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const S=sp(g[b],T[b]);if(S!==0)return S;const O=Sl(p[g[b]],y[T[b]]);if(O!==0)return O}return Ue(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function WE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ue(s,e);const n=Ta(s),a=Ta(e),l=Ue(n.seconds,a.seconds);return l!==0?l:Ue(n.nanos,a.nanos)}function JE(s,e){const n=s.values||[],a=e.values||[];for(let l=0;l<n.length&&l<a.length;++l){const c=Sl(n[l],a[l]);if(c)return c}return Ue(n.length,a.length)}function Al(s){return ap(s)}function ap(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const a=Ta(n);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return ba(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ve.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let a="[",l=!0;for(const c of n.values||[])l?l=!1:a+=",",a+=ap(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(n){const a=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${ap(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Rh(s){switch(Sa(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=od(s);return e?16+Rh(e):16;case 5:return 2*s.stringValue.length;case 6:return ba(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Rh(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return Ra(a.fields,((c,d)=>{l+=c.length+Rh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function ZE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function rp(s){return!!s&&"integerValue"in s}function Fp(s){return!!s&&"arrayValue"in s}function eT(s){return!!s&&"nullValue"in s}function tT(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Ch(s){return!!s&&"mapValue"in s}function yI(s){return(s?.mapValue?.fields||{})[g0]?.stringValue===y0}function sc(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ra(s.mapValue.fields,((n,a)=>e.mapValue.fields[n]=sc(a))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sc(s.arrayValue.values[n]);return e}return{...s}}function vI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===gI}class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sc(n)}setAll(e){let n=Gt.emptyPath(),a={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,a,l),a={},l=[],n=p.popLast()}d?a[p.lastSegment()]=sc(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,a,l)}delete(e){const n=this.field(e.popLast());Ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let l=n.mapValue.fields[e.get(a)];Ch(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,a){Ra(n,((l,c)=>e[l]=c));for(const l of a)delete e[l]}clone(){return new bn(sc(this.value))}}function v0(s){const e=[];return Ra(s.fields,((n,a)=>{const l=new Gt([n]);if(Ch(a)){const c=v0(a.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new Mn(e)}class sn{constructor(e,n,a,l,c,d,p){this.key=e,this.documentType=n,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,xe.min(),xe.min(),xe.min(),bn.empty(),0)}static newFoundDocument(e,n,a,l){return new sn(e,1,n,xe.min(),a,l,0)}static newNoDocument(e,n){return new sn(e,2,n,xe.min(),xe.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,xe.min(),xe.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gh{constructor(e,n){this.position=e,this.inclusive=n}}function nT(s,e,n){let a=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?a=ve.comparator(ve.fromName(d.referenceValue),n.key):a=Sl(d,n.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function iT(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Gi(s.position[n],e.position[n]))return!1;return!0}class pc{constructor(e,n="asc"){this.field=e,this.dir=n}}function _I(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class _0{}class Ot extends _0{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new TI(e,n,a):n==="array-contains"?new AI(e,a):n==="in"?new wI(e,a):n==="not-in"?new xI(e,a):n==="array-contains-any"?new NI(e,a):new Ot(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new bI(e,a):new SI(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sl(n,this.value)):n!==null&&Sa(this.value)===Sa(n)&&this.matchesComparison(Sl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends _0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pi(e,n)}matches(e){return E0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function E0(s){return s.op==="and"}function T0(s){return EI(s)&&E0(s)}function EI(s){for(const e of s.filters)if(e instanceof pi)return!1;return!0}function lp(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Al(s.value);if(T0(s))return s.filters.map((e=>lp(e))).join(",");{const e=s.filters.map((n=>lp(n))).join(",");return`${s.op}(${e})`}}function b0(s,e){return s instanceof Ot?(function(a,l){return l instanceof Ot&&a.op===l.op&&a.field.isEqual(l.field)&&Gi(a.value,l.value)})(s,e):s instanceof pi?(function(a,l){return l instanceof pi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&b0(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function S0(s){return s instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${Al(n.value)}`})(s):s instanceof pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(S0).join(" ,")+"}"})(s):"Filter"}class TI extends Ot{constructor(e,n,a){super(e,n,a),this.key=ve.fromName(a.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class bI extends Ot{constructor(e,n){super(e,"in",n),this.keys=A0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SI extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=A0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function A0(s,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class AI extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&mc(n.arrayValue,this.value)}}class wI extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class xI extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mc(this.value.arrayValue,n)}}class NI extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>mc(this.value.arrayValue,a)))}}class RI{constructor(e,n=null,a=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function sT(s,e=null,n=[],a=[],l=null,c=null,d=null){return new RI(s,e,n,a,l,c,d)}function Gp(s){const e=Ce(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>lp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Al(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Al(a))).join(",")),e.Te=n}return e.Te}function Kp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!_I(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!b0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!iT(s.startAt,e.startAt)&&iT(s.endAt,e.endAt)}function op(s){return ve.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Ul{constructor(e,n=null,a=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function CI(s,e,n,a,l,c,d,p){return new Ul(s,e,n,a,l,c,d,p)}function cd(s){return new Ul(s)}function aT(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function w0(s){return s.collectionGroup!==null}function ac(s){const e=Ce(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Gt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new pc(c,a))})),n.has(Gt.keyField().canonicalString())||e.Ie.push(new pc(Gt.keyField(),a))}return e.Ie}function qi(s){const e=Ce(s);return e.Ee||(e.Ee=II(e,ac(s))),e.Ee}function II(s,e){if(s.limitType==="F")return sT(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new pc(l.field,c)}));const n=s.endAt?new Gh(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Gh(s.startAt.position,s.startAt.inclusive):null;return sT(s.path,s.collectionGroup,e,s.filters,s.limit,n,a)}}function cp(s,e){const n=s.filters.concat([e]);return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function up(s,e,n){return new Ul(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function ud(s,e){return Kp(qi(s),qi(e))&&s.limitType===e.limitType}function x0(s){return`${Gp(qi(s))}|lt:${s.limitType}`}function ul(s){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((l=>S0(l))).join(", ")}]`),ld(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((l=>Al(l))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((l=>Al(l))).join(",")),`Target(${a})`})(qi(s))}; limitType=${s.limitType})`}function hd(s,e){return e.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ve.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,e)&&(function(a,l){for(const c of ac(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(a,l){return!(a.startAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y<=0:y<0})(a.startAt,ac(a),l)||a.endAt&&!(function(d,p,g){const y=nT(d,p,g);return d.inclusive?y>=0:y>0})(a.endAt,ac(a),l))})(s,e)}function jI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function N0(s){return(e,n)=>{let a=!1;for(const l of ac(s)){const c=DI(l,e,n);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function DI(s,e,n){const a=s.field.isKeyField()?ve.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?Sl(g,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:s.dir})}}class gr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),l=this.inner[a];if(l===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return a.length===1?delete this.inner[n]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,((n,a)=>{for(const[l,c]of a)e(l,c)}))}isEmpty(){return u0(this.inner)}size(){return this.innerSize}}const OI=new pt(ve.comparator);function Ss(){return OI}const R0=new pt(ve.comparator);function Zo(...s){let e=R0;for(const n of s)e=e.insert(n.key,n);return e}function C0(s){let e=R0;return s.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function or(){return rc()}function I0(){return rc()}function rc(){return new gr((s=>s.toString()),((s,e)=>s.isEqual(e)))}const MI=new pt(ve.comparator),VI=new zt(ve.comparator);function ze(...s){let e=VI;for(const n of s)e=e.add(n);return e}const kI=new zt(Ue);function LI(){return kI}function Qp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hh(e)?"-0":e}}function j0(s){return{integerValue:""+s}}function D0(s,e){return hI(e)?j0(e):Qp(s,e)}class dd{constructor(){this._=void 0}}function PI(s,e,n){return s instanceof gc?(function(l,c){const d={fields:{[f0]:{stringValue:d0},[p0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qp(c)&&(c=od(c)),c&&(d.fields[m0]=c),{mapValue:d}})(n,e):s instanceof wl?M0(s,e):s instanceof yc?V0(s,e):(function(l,c){const d=O0(l,c),p=rT(d)+rT(l.Ae);return rp(d)&&rp(l.Ae)?j0(p):Qp(l.serializer,p)})(s,e)}function UI(s,e,n){return s instanceof wl?M0(s,e):s instanceof yc?V0(s,e):n}function O0(s,e){return s instanceof vc?(function(a){return rp(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(e)?e:{integerValue:0}:null}class gc extends dd{}class wl extends dd{constructor(e){super(),this.elements=e}}function M0(s,e){const n=k0(e);for(const a of s.elements)n.some((l=>Gi(l,a)))||n.push(a);return{arrayValue:{values:n}}}class yc extends dd{constructor(e){super(),this.elements=e}}function V0(s,e){let n=k0(e);for(const a of s.elements)n=n.filter((l=>!Gi(l,a)));return{arrayValue:{values:n}}}class vc extends dd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function rT(s){return bt(s.integerValue||s.doubleValue)}function k0(s){return Fp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Yp{constructor(e,n){this.field=e,this.transform=n}}function zI(s,e){return s.field.isEqual(e.field)&&(function(a,l){return a instanceof wl&&l instanceof wl||a instanceof yc&&l instanceof yc?Tl(a.elements,l.elements,Gi):a instanceof vc&&l instanceof vc?Gi(a.Ae,l.Ae):a instanceof gc&&l instanceof gc})(s.transform,e.transform)}class BI{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ih(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class fd{}function L0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new $p(s.key,Xn.none()):new Cc(s.key,s.data,Xn.none());{const n=s.data,a=bn.empty();let l=new zt(Gt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Ca(s.key,a,new Mn(l.toArray()),Xn.none())}}function HI(s,e,n){s instanceof Cc?(function(l,c,d){const p=l.value.clone(),g=oT(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ca?(function(l,c,d){if(!Ih(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=oT(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(P0(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function lc(s,e,n,a){return s instanceof Cc?(function(c,d,p,g){if(!Ih(c.precondition,d))return p;const y=c.value.clone(),T=cT(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,a):s instanceof Ca?(function(c,d,p,g){if(!Ih(c.precondition,d))return p;const y=cT(c.fieldTransforms,g,d),T=d.data;return T.setAll(P0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,a):(function(c,d,p){return Ih(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function qI(s,e){let n=null;for(const a of s.fieldTransforms){const l=e.data.field(a.field),c=O0(a.transform,l||null);c!=null&&(n===null&&(n=bn.empty()),n.set(a.field,c))}return n||null}function lT(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Tl(a,l,((c,d)=>zI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Cc extends fd{constructor(e,n,a,l=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ca extends fd{constructor(e,n,a,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function P0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=s.data.field(n);e.set(n,a)}})),e}function oT(s,e,n){const a=new Map;$e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);a.set(c.field,UI(d,p,n[l]))}return a}function cT(s,e,n){const a=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);a.set(l.field,PI(c,d,e))}return a}class $p extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FI extends fd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class GI{constructor(e,n,a,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&HI(c,e,a[l])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=lc(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=lc(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=I0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=L0(d,p);g!==null&&a.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(xe.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,((n,a)=>lT(n,a)))&&Tl(this.baseMutations,e.baseMutations,((n,a)=>lT(n,a)))}}class Xp{constructor(e,n,a,l){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=l}static from(e,n,a){$e(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let l=(function(){return MI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Xp(e,n,a,l)}}class KI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QI{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function YI(s){switch(s){case ne.OK:return Se(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function U0(s){if(s===void 0)return bs("GRPC error has no .code"),ne.UNKNOWN;switch(s){case Dt.OK:return ne.OK;case Dt.CANCELLED:return ne.CANCELLED;case Dt.UNKNOWN:return ne.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return ne.INTERNAL;case Dt.UNAVAILABLE:return ne.UNAVAILABLE;case Dt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Dt.NOT_FOUND:return ne.NOT_FOUND;case Dt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Dt.ABORTED:return ne.ABORTED;case Dt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Dt.DATA_LOSS:return ne.DATA_LOSS;default:return Se(39323,{code:s})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function $I(){return new TextEncoder}const XI=new ga([4294967295,4294967295],0);function uT(s){const e=$I().encode(s),n=new Wb;return n.update(e),new Uint8Array(n.digest())}function hT(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new ga([n,a],0),new ga([l,c],0)]}class Wp{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new ec(`Invalid padding: ${n}`);if(a<0)throw new ec(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ga.fromNumber(this.ge)}ye(e,n,a){let l=e.add(n.multiply(ga.fromNumber(a)));return l.compare(XI)===1&&(l=new ga([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uT(e),[a,l]=hT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(e,n,a){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Wp(c,l,n);return a.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=uT(e),[a,l]=hT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class md{constructor(e,n,a,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const l=new Map;return l.set(e,Ic.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new md(xe.min(),l,new pt(Ue),Ss(),ze())}}class Ic{constructor(e,n,a,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ic(a,n,ze(),ze(),ze())}}class jh{constructor(e,n,a,l){this.be=e,this.removedTargetIds=n,this.key=a,this.De=l}}class z0{constructor(e,n){this.targetId=e,this.Ce=n}}class B0{constructor(e,n,a=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=l}}class dT{constructor(){this.ve=0,this.Fe=fT(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),a=ze();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:a=a.add(l);break;default:Se(38017,{changeType:c})}})),new Ic(this.Me,this.xe,e,n,a)}qe(){this.Oe=!1,this.Fe=fT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class WI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new pt(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(e.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.We(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,a=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(op(c))if(a===0){const d=new ve(c.path);this.et(n,d,sn.newNoDocument(d,xe.min()))}else $e(a===1,20013,{expectedCount:a});else{const d=this._t(n);if(d!==a){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=ba(a).toUint8Array()}catch(g){if(g instanceof h0)return fr("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Wp(d,l,c)}catch(g){return fr(g instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&op(p.target)){const g=new ve(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let a=ze();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new md(e,n,this.Ye,this.je,a);return this.je=Ss(),this.Je=_h(),this.He=_h(),this.Ye=new pt(Ue),l}Xe(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,a),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new dT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _h(){return new pt(ve.comparator)}function fT(){return new pt(ve.comparator)}const JI={asc:"ASCENDING",desc:"DESCENDING"},ZI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ej={and:"AND",or:"OR"};class tj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(s,e){return s.useProto3Json||ld(e)?e:{value:e}}function Kh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function H0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function nj(s,e){return Kh(s,e.toTimestamp())}function Fi(s){return $e(!!s,49232),xe.fromTimestamp((function(n){const a=Ta(n);return new rt(a.seconds,a.nanos)})(s))}function Jp(s,e){return dp(s,e).canonicalString()}function dp(s,e){const n=(function(l){return new at(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function q0(s){const e=at.fromString(s);return $e(Y0(e),10190,{key:e.toString()}),e}function fp(s,e){return Jp(s.databaseId,e.path)}function zm(s,e){const n=q0(e);if(n.get(1)!==s.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ve(G0(n))}function F0(s,e){return Jp(s.databaseId,e)}function ij(s){const e=q0(s);return e.length===4?at.emptyPath():G0(e)}function mp(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function G0(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function mT(s,e,n){return{name:fp(s,e),fields:n.value.mapValue.fields}}function sj(s,e){let n;if("targetChange"in e){e.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ne.UNKNOWN:U0(y.code);return new de(T,y.message||"")})(d);n=new B0(a,l,c,p||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const l=zm(s,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):xe.min(),p=new bn({mapValue:{fields:a.document.fields}}),g=sn.newFoundDocument(l,c,d,p),y=a.targetIds||[],T=a.removedTargetIds||[];n=new jh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const l=zm(s,a.document),c=a.readTime?Fi(a.readTime):xe.min(),d=sn.newNoDocument(l,c),p=a.removedTargetIds||[];n=new jh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const l=zm(s,a.document),c=a.removedTargetIds||[];n=new jh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const a=e.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new QI(l,c),p=a.targetId;n=new z0(p,d)}}return n}function aj(s,e){let n;if(e instanceof Cc)n={update:mT(s,e.key,e.value)};else if(e instanceof $p)n={delete:fp(s,e.key)};else if(e instanceof Ca)n={update:mT(s,e.key,e.data),updateMask:mj(e.fieldMask)};else{if(!(e instanceof FI))return Se(16599,{Vt:e.type});n={verify:fp(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof wl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof yc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof vc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:nj(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function rj(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Fi(l.updateTime):Fi(c);return d.isEqual(xe.min())&&(d=Fi(c)),new BI(d,l.transformResults||[])})(n,e)))):[]}function lj(s,e){return{documents:[F0(s,e.path)]}}function oj(s,e){const n={structuredQuery:{}},a=e.path;let l;e.collectionGroup!==null?(l=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=F0(s,l);const c=(function(y){if(y.length!==0)return Q0(pi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:hl(S.field),direction:hj(S.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=hp(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function cj(s){let e=ij(s.parent);const n=s.structuredQuery,a=n.from?n.from.length:0;let l=null;if(a>0){$e(a===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const S=K0(b);return S instanceof pi&&T0(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((S=>(function(R){return new pc(dl(R.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let S;return S=typeof b=="object"?b.value:b,ld(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,O=b.values||[];return new Gh(O,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,O=b.values||[];return new Gh(O,S)})(n.endAt)),CI(e,l,d,c,p,"F",g,y)}function uj(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function K0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=dl(n.unaryFilter.field);return Ot.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=dl(n.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=dl(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=dl(n.unaryFilter.field);return Ot.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ot.create(dl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return pi.create(n.compositeFilter.filters.map((a=>K0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function hj(s){return JI[s]}function dj(s){return ZI[s]}function fj(s){return ej[s]}function hl(s){return{fieldPath:s.canonicalString()}}function dl(s){return Gt.fromServerFormat(s.fieldPath)}function Q0(s){return s instanceof Ot?(function(n){if(n.op==="=="){if(tT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NAN"}};if(eT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NAN"}};if(eT(n.value))return{unaryFilter:{field:hl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hl(n.field),op:dj(n.op),value:n.value}}})(s):s instanceof pi?(function(n){const a=n.getFilters().map((l=>Q0(l)));return a.length===1?a[0]:{compositeFilter:{op:fj(n.op),filters:a}}})(s):Se(54877,{filter:s})}function mj(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Y0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class da{constructor(e,n,a,l,c=xe.min(),d=xe.min(),p=Kt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class pj{constructor(e){this.yt=e}}function gj(s){const e=cj({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?up(e,e.limit,"L"):e}class yj{constructor(){this.Cn=new vj}addToCollectionParentIndex(e,n){return this.Cn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ea.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ea.min())}updateCollectionGroup(e,n,a){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class vj{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n]||new zt(at.comparator),c=!l.has(a);return this.index[n]=l.add(a),c}has(e){const n=e.lastSegment(),a=e.popLast(),l=this.index[n];return l&&l.has(a)}getEntries(e){return(this.index[e]||new zt(at.comparator)).toArray()}}const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$0=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn($0,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class xl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xl(0)}static cr(){return new xl(-1)}}const gT="LruGarbageCollector",_j=1048576;function yT([s,e],[n,a]){const l=Ue(s,n);return l===0?Ue(e,a):l}class Ej{constructor(e){this.Ir=e,this.buffer=new zt(yT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();yT(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Tj{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(gT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?me(gT,"Ignoring IndexedDB error during garbage collection: ",n):await Ll(n)}await this.Vr(3e5)}))}}class bj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return re.resolve(rd.ce);const a=new Ej(n);return this.mr.forEachTarget(e,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.mr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(pT)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let a,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(e,a,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,a)))).next((b=>(y=Date.now(),cl()<=Pe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Sj(s,e){return new bj(s,e)}class Aj{constructor(){this.changes=new gr((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?re.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class xj{constructor(e,n,a,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=l}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(a=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(a!==null&&lc(a.mutation,l,Mn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,ze()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=ze()){const l=or();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,a).next((c=>{let d=Zo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const a=or();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,ze())))}populateOverlays(e,n,a){const l=[];return a.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,a,l){let c=Ss();const d=rc(),p=(function(){return rc()})();return n.forEach(((g,y)=>{const T=a.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ca)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),lc(T.mutation,y,T.mutation.getFieldMask(),rt.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new wj(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const a=rc();let l=new pt(((d,p)=>d-p)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=a.get(g)||Mn.empty();T=p.applyToLocalView(y,T),a.set(g,T);const b=(l.get(p.batchId)||ze()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=I0();T.forEach((S=>{if(!c.has(S)){const O=L0(n.get(S),a.get(S));O!==null&&b.set(S,O),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return re.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,l){return(function(d){return ve.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,l):this.getDocumentsMatchingCollectionQuery(e,n,a,l)}getNextDocuments(e,n,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,l-c.size):re.resolve(or());let p=dc,g=c;return d.next((y=>re.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?re.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{g=g.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((T=>({batchId:p,changes:C0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((a=>{let l=Zo();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,l){const c=n.collectionGroup;let d=Zo();return this.indexManager.getCollectionParents(e,c).next((p=>re.forEach(p,(g=>{const y=(function(b,S){return new Ul(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,a,l).next((T=>{T.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))}));let p=Zo();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&lc(T.mutation,y,Mn.empty(),rt.now()),hd(n,y)&&(p=p.insert(g,y))})),p}))}}class Nj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return re.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Fi(l.createTime)}})(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:gj(l.bundledQuery),readTime:Fi(l.readTime)}})(n)),re.resolve()}}class Rj{constructor(){this.overlays=new pt(ve.comparator),this.qr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const a=or();return re.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((l,c)=>{this.St(e,n,c)})),re.resolve()}removeOverlaysForBatchId(e,n,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),re.resolve()}getOverlaysForCollection(e,n,a){const l=or(),c=n.length+1,d=new ve(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>a&&l.set(g.getKey(),g)}return re.resolve(l)}getOverlaysForCollectionGroup(e,n,a,l){let c=new pt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let T=c.get(y.largestBatchId);T===null&&(T=or(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=or(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return re.resolve(p)}St(e,n,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new KI(n,a));let c=this.qr.get(n);c===void 0&&(c=ze(),this.qr.set(n,c)),this.qr.set(n,c.add(a.key))}}class Cj{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}class Zp{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const a=new Ft(e,n);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((a=>this.removeReference(a,n)))}jr(e){const n=new ve(new at([])),a=new Ft(n,e),l=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new at([])),a=new Ft(n,e),l=new Ft(n,e+1);let c=ze();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ft(e,0),a=this.Qr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}class Ij{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new GI(c,n,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return re.resolve(d)}lookupMutationBatch(e,n){return re.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,l=this.ei(a),c=l<0?0:l;return re.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Hp:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),re.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new zt(Ue);return n.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),re.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,l=a.length+1;let c=a;ve.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new ve(c),0);let p=new zt(Ue);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),re.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((a=>{const l=this.Xr(a);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return re.forEach(n.mutations,(l=>{const c=new Ft(l.key,n.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=a}))}ir(e){}containsKey(e,n){const a=new Ft(n,0),l=this.Zr.firstAfterOrEqual(a);return re.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class jj{constructor(e){this.ri=e,this.docs=(function(){return new pt(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return re.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=Ss();return n.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),re.resolve(a)}getDocumentsMatchingQuery(e,n,a,l){let c=Ss();const d=n.path,p=new ve(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||lI(rI(T),a)<=0||(l.has(T.key)||hd(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return re.resolve(c)}getAllFromCollectionGroup(e,n,a,l){Se(9500)}ii(e,n){return re.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new Dj(this)}getSize(e){return re.resolve(this.size)}}class Dj extends Aj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(a)})),re.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Oj{constructor(e){this.persistence=e,this.si=new gr((n=>Gp(n)),Kp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.oi=0,this._i=new Zp,this.targetCount=0,this.ai=xl.ur()}forEachTarget(e,n){return this.si.forEach(((a,l)=>n(l))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.oi&&(this.oi=n),re.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.Pr(n),re.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),re.waitFor(c).next((()=>l))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const a=this.si.get(n)||null;return re.resolve(a)}addMatchingKeys(e,n,a){return this._i.Wr(n,a),re.resolve()}removeMatchingKeys(e,n,a){this._i.zr(n,a);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),re.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),re.resolve()}getMatchingKeysForTargetId(e,n){const a=this._i.Hr(n);return re.resolve(a)}containsKey(e,n){return re.resolve(this._i.containsKey(n))}}class X0{constructor(e,n){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new Cj,this.referenceDelegate=e(this),this.Pi=new Oj(this),this.indexManager=new yj,this.remoteDocumentCache=(function(l){return new jj(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new pj(n),this.Ii=new Nj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Rj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.ui[e.toKey()];return a||(a=new Ij(n,this.referenceDelegate),this.ui[e.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,a){me("MemoryPersistence","Starting transaction:",e);const l=new Mj(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return re.or(Object.values(this.ui).map((a=>()=>a.containsKey(e,n))))}}class Mj extends cI{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Ri=new Zp,this.Vi=null}static mi(e){return new eg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.fi.delete(a.toString()),re.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.fi.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),re.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(a=>{const l=ve.fromPath(a);return this.gi(e,l).next((c=>{c||n.removeEntry(l,xe.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((a=>{a?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return re.or([()=>re.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new gr((a=>dI(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Sj(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((l=>a+l))))}wr(e){let n=0;return this.pr(e,(a=>{n++})).next((()=>n))}pr(e,n){return re.forEach(this.pi,((a,l)=>this.br(e,a,l).next((c=>c?re.resolve():n(l)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(a++,c.removeEntry(d,xe.min()))})))).next((()=>c.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,n,a){return this.pi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),re.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Rh(e.data.value)),n}br(e,n,a){return re.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return re.resolve(l!==void 0&&l>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tg{constructor(e,n,a,l){this.targetId=e,this.fromCache=n,this.Es=a,this.ds=l}static As(e,n){let a=ze(),l=ze();for(const c of n.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tg(e,n.fromCache,a,l)}}class Vj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class kj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return dN()?8:uI(ln())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Vj;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,a,l){return a.documentReadCount<this.fs?(cl()<=Pe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ul(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(cl()<=Pe.DEBUG&&me("QueryEngine","Query:",ul(n),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(cl()<=Pe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ul(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qi(n))):re.resolve())}ys(e,n){if(aT(n))return re.resolve(null);let a=qi(n);return this.indexManager.getIndexType(e,a).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=up(n,null,"F"),a=qi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((c=>{const d=ze(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,a).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,up(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,a,l){return aT(n)||l.isEqual(xe.min())?re.resolve(null):this.ps.getDocuments(e,a).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,a,l)?re.resolve(null):(cl()<=Pe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ul(n)),this.vs(e,d,n,aI(l,dc)).next((p=>p)))}))}Ds(e,n){let a=new zt(N0(e));return n.forEach(((l,c)=>{hd(e,c)&&(a=a.add(c))})),a}Cs(e,n,a,l){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,a){return cl()<=Pe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ul(n)),this.ps.getDocumentsMatchingQuery(e,n,Ea.min(),a)}vs(e,n,a,l){return this.ps.getDocumentsMatchingQuery(e,a,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ng="LocalStore",Lj=3e8;class Pj{constructor(e,n,a,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new pt(Ue),this.xs=new gr((c=>Gp(c)),Kp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(a)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Uj(s,e,n,a){return new Pj(s,e,n,a)}async function W0(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return n.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let g=ze();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(a,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function zj(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,S=b.keys();let O=re.resolve();return S.forEach((R=>{O=O.next((()=>T.getEntry(g,R))).next((C=>{const U=y.docVersions.get(R);$e(U!==null,48541),C.version.compareTo(U)<0&&(b.applyToRemoteDocument(C,y),C.isValidDocument()&&(C.setReadTime(y.commitVersion),T.addEntry(C)))}))})),O.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,a,e,c).next((()=>c.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(a,l)))}))}function J0(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Bj(s,e){const n=Ce(s),a=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const S=l.get(b);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let O=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Kt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,a)),l=l.insert(b,O),(function(C,U,Y){return C.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Lj?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,O,T)&&p.push(n.Pi.updateTargetData(c,O))}));let g=Ss(),y=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Hj(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!a.isEqual(xe.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(T)}return re.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function Hj(s,e,n){let a=ze(),l=ze();return n.forEach((c=>a=a.add(c))),e.getEntries(s,a).next((c=>{let d=Ss();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(xe.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):me(ng,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function qj(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=Hp),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function Fj(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return n.Pi.getTargetData(a,e).next((c=>c?(l=c,re.resolve(l)):n.Pi.allocateTargetId(a).next((d=>(l=new da(e,d,"TargetPurposeListen",a.currentSequenceNumber),n.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=n.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(a.targetId,a),n.xs.set(e,a.targetId)),a}))}async function pp(s,e,n){const a=Ce(s),l=a.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Pl(d))throw d;me(ng,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ms=a.Ms.remove(e),a.xs.delete(l.target)}function vT(s,e,n){const a=Ce(s);let l=xe.min(),c=ze();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=Ce(g),S=b.xs.get(T);return S!==void 0?re.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,T)})(a,d,qi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,e,n?l:xe.min(),n?c:ze()))).next((p=>(Gj(a,jI(e),p),{documents:p,Qs:c})))))}function Gj(s,e,n){let a=s.Os.get(e)||xe.min();n.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(e,a)}class _T{constructor(){this.activeTargetIds=LI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kj{constructor(){this.Mo=new _T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,a){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _T,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qj{Oo(e){}shutdown(){}}const ET="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(ET,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Eh=null;function gp(){return Eh===null?Eh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Eh++,"0x"+Eh.toString(16)}const Bm="RestConnection",Yj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $j{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===qh?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(e,n,a,l,c){const d=gp(),p=this.zo(e,n.toUriEncodedString());me(Bm,`Sending RPC '${e}' ${d}:`,p,a);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Ol(y);return this.Jo(e,p,g,a,T).then((b=>(me(Bm,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw fr(Bm,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(e,n,a,l,c,d){return this.Go(e,n,a,l,c)}jo(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),a&&a.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const a=Yj[e];return`${this.Uo}/v1/${n}:${a}`}terminate(){}}class Xj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Wj extends $j{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,a,l,c){const d=gp();return new Promise(((p,g)=>{const y=new Jb;y.setWithCredentials(!0),y.listenOnce(Zb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nh.NO_ERROR:const b=y.getResponseJson();me(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case Nh.TIMEOUT:me(tn,`RPC '${e}' ${d} timed out`),g(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Nh.HTTP_ERROR:const S=y.getStatus();if(me(tn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let O=y.getResponseJson();Array.isArray(O)&&(O=O[0]);const R=O?.error;if(R&&R.status&&R.message){const C=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(W)>=0?W:ne.UNKNOWN})(R.status);g(new de(C,R.message))}else g(new de(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new de(ne.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(tn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);me(tn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,a,15)}))}T_(e,n,a){const l=gp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=n0(),p=t0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const T=c.join("");me(tn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let S=!1,O=!1;const R=new Xj({Yo:U=>{O?me(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,U):(S||(me(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),me(tn,`RPC '${e}' stream ${l} sending:`,U),b.send(U))},Zo:()=>b.close()}),C=(U,Y,W)=>{U.listen(Y,(ae=>{try{W(ae)}catch(z){setTimeout((()=>{throw z}),0)}}))};return C(b,Jo.EventType.OPEN,(()=>{O||(me(tn,`RPC '${e}' stream ${l} transport opened.`),R.o_())})),C(b,Jo.EventType.CLOSE,(()=>{O||(O=!0,me(tn,`RPC '${e}' stream ${l} transport closed`),R.a_(),this.E_(b))})),C(b,Jo.EventType.ERROR,(U=>{O||(O=!0,fr(tn,`RPC '${e}' stream ${l} transport errored. Name:`,U.name,"Message:",U.message),R.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),C(b,Jo.EventType.MESSAGE,(U=>{if(!O){const Y=U.data[0];$e(!!Y,16349);const W=Y,ae=W?.error||W[0]?.error;if(ae){me(tn,`RPC '${e}' stream ${l} received error:`,ae);const z=ae.status;let oe=(function(x){const N=Dt[x];if(N!==void 0)return U0(N)})(z),ue=ae.message;oe===void 0&&(oe=ne.INTERNAL,ue="Unknown error status: "+z+" with message "+ae.message),O=!0,R.a_(new de(oe,ue)),b.close()}else me(tn,`RPC '${e}' stream ${l} received:`,Y),R.u_(Y)}})),C(p,e0.STAT_EVENT,(U=>{U.stat===ip.PROXY?me(tn,`RPC '${e}' stream ${l} detected buffering proxy`):U.stat===ip.NOPROXY&&me(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Hm(){return typeof document<"u"?document:null}function pd(s){return new tj(s,!0)}class Z0{constructor(e,n,a=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-a);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const bT="PersistentStream";class eS{constructor(e,n,a,l,c,d,p,g){this.Mi=e,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Z0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(bs(n.toString()),bs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===n&&this.G_(a,l)}),(a=>{e((()=>{const l=new de(ne.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(e,n){const a=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Jj extends eS{constructor(e,n,a,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=sj(this.serializer,e),a=(function(c){if(!("targetChange"in c))return xe.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xe.min():d.readTime?Fi(d.readTime):xe.min()})(e);return this.listener.H_(n,a)}Y_(e){const n={};n.database=mp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=op(g)?{documents:lj(c,g)}:{query:oj(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=H0(c,d.resumeToken);const y=hp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(xe.min())>0){p.readTime=Kh(c,d.snapshotVersion.toTimestamp());const y=hp(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const a=uj(this.serializer,e);a&&(n.labels=a),this.q_(n)}Z_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.q_(n)}}class Zj extends eS{constructor(e,n,a,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=rj(e.writeResults,e.commitTime),a=Fi(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=mp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>aj(this.serializer,a)))};this.q_(n)}}class e2{}class t2 extends e2{constructor(e,n,a,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,dp(n,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(ne.UNKNOWN,c.toString())}))}Ho(e,n,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,dp(n,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new de(ne.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class n2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(bs(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const mr="RemoteStore";class i2{constructor(e,n,a,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{yr(this)&&(me(mr,"Restarting streams for network reachability change."),await(async function(g){const y=Ce(g);y.Ea.add(4),await jc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gd(y)})(this))}))})),this.Ra=new n2(a,l)}}async function gd(s){if(yr(s))for(const e of s.da)await e(!0)}async function jc(s){for(const e of s.da)await e(!1)}function tS(s,e){const n=Ce(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),rg(n)?ag(n):zl(n).O_()&&sg(n,e))}function ig(s,e){const n=Ce(s),a=zl(n);n.Ia.delete(e),a.O_()&&nS(n,e),n.Ia.size===0&&(a.O_()?a.L_():yr(n)&&n.Ra.set("Unknown"))}function sg(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(s).Y_(e)}function nS(s,e){s.Va.Ue(e),zl(s).Z_(e)}function ag(s){s.Va=new WI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),zl(s).start(),s.Ra.ua()}function rg(s){return yr(s)&&!zl(s).x_()&&s.Ia.size>0}function yr(s){return Ce(s).Ea.size===0}function iS(s){s.Va=void 0}async function s2(s){s.Ra.set("Online")}async function a2(s){s.Ia.forEach(((e,n)=>{sg(s,e)}))}async function r2(s,e){iS(s),rg(s)?(s.Ra.ha(e),ag(s)):s.Ra.set("Unknown")}async function l2(s,e,n){if(s.Ra.set("Online"),e instanceof B0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(a){me(mr,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Yh(s,a)}else if(e instanceof jh?s.Va.Ze(e):e instanceof z0?s.Va.st(e):s.Va.tt(e),!n.isEqual(xe.min()))try{const a=await J0(s.localStore);n.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),nS(c,g);const b=new da(T.target,g,y,T.sequenceNumber);sg(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(a){me(mr,"Failed to raise snapshot:",a),await Yh(s,a)}}async function Yh(s,e,n){if(!Pl(e))throw e;s.Ea.add(1),await jc(s),s.Ra.set("Offline"),n||(n=()=>J0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{me(mr,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await gd(s)}))}function sS(s,e){return e().catch((n=>Yh(s,n,e)))}async function yd(s){const e=Ce(s),n=Aa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hp;for(;o2(e);)try{const l=await qj(e.localStore,a);if(l===null){e.Ta.length===0&&n.L_();break}a=l.batchId,c2(e,l)}catch(l){await Yh(e,l)}aS(e)&&rS(e)}function o2(s){return yr(s)&&s.Ta.length<10}function c2(s,e){s.Ta.push(e);const n=Aa(s);n.O_()&&n.X_&&n.ea(e.mutations)}function aS(s){return yr(s)&&!Aa(s).x_()&&s.Ta.length>0}function rS(s){Aa(s).start()}async function u2(s){Aa(s).ra()}async function h2(s){const e=Aa(s);for(const n of s.Ta)e.ea(n.mutations)}async function d2(s,e,n){const a=s.Ta.shift(),l=Xp.from(a,e,n);await sS(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await yd(s)}async function f2(s,e){e&&Aa(s).X_&&await(async function(a,l){if((function(d){return YI(d)&&d!==ne.ABORTED})(l.code)){const c=a.Ta.shift();Aa(a).B_(),await sS(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await yd(a)}})(s,e),aS(s)&&rS(s)}async function ST(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),me(mr,"RemoteStore received new credentials");const a=yr(n);n.Ea.add(3),await jc(n),a&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await gd(n)}async function m2(s,e){const n=Ce(s);e?(n.Ea.delete(2),await gd(n)):e||(n.Ea.add(2),await jc(n),n.Ra.set("Unknown"))}function zl(s){return s.ma||(s.ma=(function(n,a,l){const c=Ce(n);return c.sa(),new Jj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:s2.bind(null,s),t_:a2.bind(null,s),r_:r2.bind(null,s),H_:l2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),rg(s)?ag(s):s.Ra.set("Unknown")):(await s.ma.stop(),iS(s))}))),s.ma}function Aa(s){return s.fa||(s.fa=(function(n,a,l){const c=Ce(n);return c.sa(),new Zj(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:u2.bind(null,s),r_:f2.bind(null,s),ta:h2.bind(null,s),na:d2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await yd(s)):(await s.fa.stop(),s.Ta.length>0&&(me(mr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class lg{constructor(e,n,a,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,l,c){const d=Date.now()+a,p=new lg(e,n,d,l,c);return p.start(a),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(s,e){if(bs("AsyncQueue",`${e}: ${s}`),Pl(s))return new de(ne.UNAVAILABLE,`${e}: ${s}`);throw s}class vl{static emptySet(e){return new vl(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ve.comparator(n.key,a.key):(n,a)=>ve.comparator(n.key,a.key),this.keyedMap=Zo(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new vl;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class AT{constructor(){this.ga=new pt(ve.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Nl{constructor(e,n,a,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Nl(e,n,vl.emptySet(n),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==a[l].type||!n[l].doc.isEqual(a[l].doc))return!1;return!0}}class p2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class g2{constructor(){this.queries=wT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const l=Ce(n),c=l.queries;l.queries=wT(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(a)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function wT(){return new gr((s=>x0(s)),ud)}async function cg(s,e){const n=Ce(s);let a=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(a=2):(c=new p2,a=e.Da()?0:1);try{switch(a){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=og(d,`Initialization of query '${ul(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&hg(n)}async function ug(s,e){const n=Ce(s),a=e.query;let l=3;const c=n.queries.get(a);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function y2(s,e){const n=Ce(s);let a=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&hg(n)}function v2(s,e,n){const a=Ce(s),l=a.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);a.queries.delete(e)}function hg(s){s.Ca.forEach((e=>{e.next()}))}var yp,xT;(xT=yp||(yp={})).Ma="default",xT.Cache="cache";class dg{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const l of e.docChanges)l.type!==3&&a.push(l);e=new Nl(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.qa||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==yp.Cache}}class lS{constructor(e){this.key=e}}class oS{constructor(e){this.key=e}}class _2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=N0(e),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(e,n){const a=n?n.iu:new AT,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const S=l.get(T),O=hd(this.query,b)?b:null,R=!!S&&this.mutatedKeys.has(S.key),C=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let U=!1;S&&O?S.data.isEqual(O.data)?R!==C&&(a.track({type:3,doc:O}),U=!0):this.su(S,O)||(a.track({type:2,doc:O}),U=!0,(g&&this.eu(O,g)>0||y&&this.eu(O,y)<0)&&(p=!0)):!S&&O?(a.track({type:0,doc:O}),U=!0):S&&!O&&(a.track({type:1,doc:S}),U=!0,(g||y)&&(p=!0)),U&&(O?(d=d.add(O),c=C?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),a.track({type:1,doc:T})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(O,R){const C=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:U})}};return C(O)-C(R)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(a),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Nl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new AT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const n=[];return e.forEach((a=>{this.Xa.has(a)||n.push(new oS(a))})),this.Xa.forEach((a=>{e.has(a)||n.push(new lS(a))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fg="SyncEngine";class E2{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class T2{constructor(e){this.key=e,this.hu=!1}}class b2{constructor(e,n,a,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new gr((p=>x0(p)),ud),this.Iu=new Map,this.Eu=new Set,this.du=new pt(ve.comparator),this.Au=new Map,this.Ru=new Zp,this.Vu={},this.mu=new Map,this.fu=xl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function S2(s,e,n=!0){const a=mS(s);let l;const c=a.Tu.get(e);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await cS(a,e,n,!0),l}async function A2(s,e){const n=mS(s);await cS(n,e,!0,!1)}async function cS(s,e,n,a){const l=await Fj(s.localStore,qi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return a&&(p=await w2(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&tS(s.remoteStore,l),p}async function w2(s,e,n,a,l){s.pu=(b,S,O)=>(async function(C,U,Y,W){let ae=U.view.ru(Y);ae.Cs&&(ae=await vT(C.localStore,U.query,!1).then((({documents:I})=>U.view.ru(I,ae))));const z=W&&W.targetChanges.get(U.targetId),oe=W&&W.targetMismatches.get(U.targetId)!=null,ue=U.view.applyChanges(ae,C.isPrimaryClient,z,oe);return RT(C,U.targetId,ue.au),ue.snapshot})(s,b,S,O);const c=await vT(s.localStore,e,!0),d=new _2(e,c.Qs),p=d.ru(c.documents),g=Ic.createSynthesizedTargetChangeForCurrentChange(n,a&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);RT(s,n,y.au);const T=new E2(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function x2(s,e,n){const a=Ce(s),l=a.Tu.get(e),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!ud(d,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await pp(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),n&&ig(a.remoteStore,l.targetId),vp(a,l.targetId)})).catch(Ll)):(vp(a,l.targetId),await pp(a.localStore,l.targetId,!0))}async function N2(s,e){const n=Ce(s),a=n.Tu.get(e),l=n.Iu.get(a.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),ig(n.remoteStore,a.targetId))}async function R2(s,e,n){const a=V2(s);try{const l=await(function(d,p){const g=Ce(d),y=rt.now(),T=p.reduce(((O,R)=>O.add(R.key)),ze());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let R=Ss(),C=ze();return g.Ns.getEntries(O,T).next((U=>{R=U,R.forEach(((Y,W)=>{W.isValidDocument()||(C=C.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(O,R))).next((U=>{b=U;const Y=[];for(const W of p){const ae=qI(W,b.get(W.key).overlayedDocument);ae!=null&&Y.push(new Ca(W.key,ae,v0(ae.value.mapValue),Xn.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,Y,p)})).next((U=>{S=U;const Y=U.applyToLocalDocumentSet(b,C);return g.documentOverlayCache.saveOverlays(O,U.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:C0(b)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new pt(Ue)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,n),await Dc(a,l.changes),await yd(a.remoteStore)}catch(l){const c=og(l,"Failed to persist write");n.reject(c)}}async function uS(s,e){const n=Ce(s);try{const a=await Bj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Dc(n,a,e)}catch(a){await Ll(a)}}function NT(s,e,n){const a=Ce(s);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Ce(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)})),y&&hg(g)})(a.eventManager,e),l.length&&a.Pu.H_(l),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function C2(s,e,n){const a=Ce(s);a.sharedClientState.updateQueryState(e,"rejected",n);const l=a.Au.get(e),c=l&&l.key;if(c){let d=new pt(ve.comparator);d=d.insert(c,sn.newNoDocument(c,xe.min()));const p=ze().add(c),g=new md(xe.min(),new Map,new pt(Ue),d,p);await uS(a,g),a.du=a.du.remove(c),a.Au.delete(e),mg(a)}else await pp(a.localStore,e,!1).then((()=>vp(a,e,n))).catch(Ll)}async function I2(s,e){const n=Ce(s),a=e.batch.batchId;try{const l=await zj(n.localStore,e);dS(n,a,null),hS(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Dc(n,l)}catch(l){await Ll(l)}}async function j2(s,e,n){const a=Ce(s);try{const l=await(function(d,p){const g=Ce(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>($e(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(a.localStore,e);dS(a,e,n),hS(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Dc(a,l)}catch(l){await Ll(l)}}function hS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function dS(s,e,n){const a=Ce(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),a.Vu[a.currentUser.toKey()]=l}}function vp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Iu.get(e))s.Tu.delete(a),n&&s.Pu.yu(a,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((a=>{s.Ru.containsKey(a)||fS(s,a)}))}function fS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(ig(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),mg(s))}function RT(s,e,n){for(const a of n)a instanceof lS?(s.Ru.addReference(a.key,e),D2(s,a)):a instanceof oS?(me(fg,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,e),s.Ru.containsKey(a.key)||fS(s,a.key)):Se(19791,{wu:a})}function D2(s,e){const n=e.key,a=n.path.canonicalString();s.du.get(n)||s.Eu.has(a)||(me(fg,"New document in limbo: "+n),s.Eu.add(a),mg(s))}function mg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ve(at.fromString(e)),a=s.fu.next();s.Au.set(a,new T2(n)),s.du=s.du.insert(n,a),tS(s.remoteStore,new da(qi(cd(n.path)),a,"TargetPurposeLimboResolution",rd.ce))}}async function Dc(s,e,n){const a=Ce(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,g)=>{d.push(a.pu(g,e,n).then((y=>{if((y||n)&&a.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;a.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=tg.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(g,y){const T=Ce(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>re.forEach(y,(S=>re.forEach(S.Es,(O=>T.persistence.referenceDelegate.addReference(b,S.targetId,O))).next((()=>re.forEach(S.ds,(O=>T.persistence.referenceDelegate.removeReference(b,S.targetId,O)))))))))}catch(b){if(!Pl(b))throw b;me(ng,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const O=T.Ms.get(S),R=O.snapshotVersion,C=O.withLastLimboFreeSnapshotVersion(R);T.Ms=T.Ms.insert(S,C)}}})(a.localStore,c))}async function O2(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){me(fg,"User change. New user:",e.toKey());const a=await W0(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new de(ne.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Dc(n,a.Ls)}}function M2(s,e){const n=Ce(s),a=n.Au.get(e);if(a&&a.hu)return ze().add(a.key);{let l=ze();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function mS(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=C2.bind(null,e),e.Pu.H_=y2.bind(null,e.eventManager),e.Pu.yu=v2.bind(null,e.eventManager),e}function V2(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=j2.bind(null,e),e}class $h{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Uj(this.persistence,new kj,e.initialUser,this.serializer)}Cu(e){return new X0(eg.mi,this.serializer)}Du(e){return new Kj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$h.provider={build:()=>new $h};class k2 extends $h{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Qh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Tj(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new X0((a=>Qh.mi(a,n)),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>NT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=O2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new g2})()}createDatastore(e){const n=pd(e.databaseInfo.databaseId),a=(function(c){return new Wj(c)})(e.databaseInfo);return(function(c,d,p,g){return new t2(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,l,c,d,p){return new i2(a,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>NT(this.syncEngine,n,0)),(function(){return TT.v()?new TT:new Qj})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,T){const b=new b2(l,c,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const a=Ce(n);me(mr,"RemoteStore shutting down."),a.Ea.add(5),await jc(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_p.provider={build:()=>new _p};class pg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):bs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const wa="FirestoreClient";class L2{constructor(e,n,a,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=sd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{me(wa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(me(wa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=og(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function qm(s,e){s.asyncQueue.verifyOperationInProgress(),me(wa,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let a=n.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await W0(e.localStore,l),a=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function CT(s,e){s.asyncQueue.verifyOperationInProgress();const n=await P2(s);me(wa,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((a=>ST(e.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>ST(e.remoteStore,l))),s._onlineComponents=e}async function P2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(wa,"Using user provided OfflineComponentProvider");try{await qm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ne.FAILED_PRECONDITION||l.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;fr("Error using user provided cache. Falling back to memory cache: "+n),await qm(s,new $h)}}else me(wa,"Using default OfflineComponentProvider"),await qm(s,new k2(void 0));return s._offlineComponents}async function pS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(wa,"Using user provided OnlineComponentProvider"),await CT(s,s._uninitializedComponentsProvider._online)):(me(wa,"Using default OnlineComponentProvider"),await CT(s,new _p))),s._onlineComponents}function U2(s){return pS(s).then((e=>e.syncEngine))}async function Xh(s){const e=await pS(s),n=e.eventManager;return n.onListen=S2.bind(null,e.syncEngine),n.onUnlisten=x2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=N2.bind(null,e.syncEngine),n}function z2(s,e,n={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new pg({next:S=>{T.Nu(),d.enqueueAndForget((()=>ug(c,b)));const O=S.docs.has(p);!O&&S.fromCache?y.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&S.fromCache&&g&&g.source==="server"?y.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new dg(cd(p.path),T,{includeMetadataChanges:!0,qa:!0});return cg(c,b)})(await Xh(s),s.asyncQueue,e,n,a))),a.promise}function B2(s,e,n={}){const a=new ys;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new pg({next:S=>{T.Nu(),d.enqueueAndForget((()=>ug(c,b))),S.fromCache&&g.source==="server"?y.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new dg(p,T,{includeMetadataChanges:!0,qa:!0});return cg(c,b)})(await Xh(s),s.asyncQueue,e,n,a))),a.promise}function gS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const IT=new Map;const yS="firestore.googleapis.com",jT=!0;class DT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yS,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_j)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}l0("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS(e.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vd{constructor(e,n,a,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new a0;switch(a.type){case"firstParty":return new ZC(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=IT.get(n);a&&(me("ComponentProvider","Removing Datastore"),IT.delete(n),a.terminate())})(this),Promise.resolve()}}function vS(s,e,n,a={}){s=fn(s,vd);const l=Ol(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(cb(`https://${p}`),ub("Firestore",!0)),c.host!==yS&&c.host!==p&&fr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:a};if(!_a(g,d)&&(s._setSettings(g),a.mockUserToken)){let y,T;if(typeof a.mockUserToken=="string")y=a.mockUserToken,T=nn.MOCK_USER;else{y=iN(a.mockUserToken,s._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}s._authCredentials=new XC(new s0(y,T))}}class Ns{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class mt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Rc(n,mt._jsonSchema))return new mt(e,a||null,new ve(at.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Mt("string",mt._jsonSchemaVersion),referencePath:Mt("string")};class vs extends Ns{constructor(e,n,a){super(e,n,cd(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ve(e))}withConverter(e){return new vs(this.firestore,e,this._path)}}function ft(s,e,...n){if(s=Vt(s),r0("collection","path",e),s instanceof vd){const a=at.fromString(e,...n);return GE(a),new vs(s,null,a)}{if(!(s instanceof mt||s instanceof vs))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(at.fromString(e,...n));return GE(a),new vs(s.firestore,null,a)}}function st(s,e,...n){if(s=Vt(s),arguments.length===1&&(e=sd.newId()),r0("doc","path",e),s instanceof vd){const a=at.fromString(e,...n);return FE(a),new mt(s,null,new ve(a))}{if(!(s instanceof mt||s instanceof vs))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(at.fromString(e,...n));return FE(a),new mt(s.firestore,s instanceof vs?s.converter:null,new ve(a))}}const OT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Z0(this,"async_queue_retry"),this._c=()=>{const a=Hm();a&&me(OT,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Pl(e))throw e;me(OT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,bs("INTERNAL UNHANDLED ERROR: ",VT(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=lg.createAndSchedule(this,e,n,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:VT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function VT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function kT(s){return(function(n,a){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Ki extends vd{constructor(e,n,a,l){super(e,n,a,l),this.type="firestore",this._queue=new MT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function _S(s,e){const n=typeof s=="object"?s:mb(),a=typeof s=="string"?s:qh,l=Dp(n,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=tN("firestore");c&&vS(l,...c)}return l}function Oc(s){if(s._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||H2(s),s._firestoreClient}function H2(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new pI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,gS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new L2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Kt.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new On(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Rc(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Mt("string",On._jsonSchemaVersion),bytes:Mt("string")};class Mc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vr{constructor(e){this._methodName=e}}class di{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:di._jsonSchemaVersion}}static fromJSON(e){if(Rc(e,di._jsonSchema))return new di(e.latitude,e.longitude)}}di._jsonSchemaVersion="firestore/geoPoint/1.0",di._jsonSchema={type:Mt("string",di._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Rc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Mt("string",fi._jsonSchemaVersion),vectorValues:Mt("object")};const q2=/^__.*__$/;class F2{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cc(e,this.data,n,this.fieldTransforms)}}class ES{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new Ca(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function TS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class _d{constructor(e,n,a,l,c,d){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new _d({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.gc(e),a}yc(e){const n=this.path?.child(e),a=this.Vc({path:n,fc:!1});return a.Rc(),a}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Wh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(TS(this.Ac)&&q2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class G2{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||pd(e)}Cc(e,n,a,l=!1){return new _d({Ac:e,methodName:n,Dc:a,path:Gt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ed(s){const e=s._freezeSettings(),n=pd(s._databaseId);return new G2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function bS(s,e,n,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);_g("Data must be an object, but it was:",d,a);const p=SS(a,d);let g,y;if(c.merge)g=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const S=Ep(e,b,n);if(!d.contains(S))throw new de(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);wS(T,S)||T.push(S)}g=new Mn(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new F2(new bn(p),g,y)}class Td extends vr{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Td}}function K2(s,e,n){return new _d({Ac:3,Dc:e.settings.Dc,methodName:s._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class gg extends vr{_toFieldTransform(e){return new Yp(e.path,new gc)}isEqual(e){return e instanceof gg}}class yg extends vr{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=K2(this,e,!0),a=this.vc.map((c=>Bl(c,n))),l=new wl(a);return new Yp(e.path,l)}isEqual(e){return e instanceof yg&&_a(this.vc,e.vc)}}class vg extends vr{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new vc(e.serializer,D0(e.serializer,this.Fc));return new Yp(e.path,n)}isEqual(e){return e instanceof vg&&this.Fc===e.Fc}}function Q2(s,e,n,a){const l=s.Cc(1,e,n);_g("Data must be an object, but it was:",l,a);const c=[],d=bn.empty();Ra(a,((g,y)=>{const T=Eg(e,g,n);y=Vt(y);const b=l.yc(T);if(y instanceof Td)c.push(T);else{const S=Bl(y,b);S!=null&&(c.push(T),d.set(T,S))}}));const p=new Mn(c);return new ES(d,p,l.fieldTransforms)}function Y2(s,e,n,a,l,c){const d=s.Cc(1,e,n),p=[Ep(e,a,n)],g=[l];if(c.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(Ep(e,c[S])),g.push(c[S+1]);const y=[],T=bn.empty();for(let S=p.length-1;S>=0;--S)if(!wS(y,p[S])){const O=p[S];let R=g[S];R=Vt(R);const C=d.yc(O);if(R instanceof Td)y.push(O);else{const U=Bl(R,C);U!=null&&(y.push(O),T.set(O,U))}}const b=new Mn(y);return new ES(T,b,d.fieldTransforms)}function $2(s,e,n,a=!1){return Bl(n,s.Cc(a?4:3,e))}function Bl(s,e){if(AS(s=Vt(s)))return _g("Unsupported field value:",e,s),SS(s,e);if(s instanceof vr)return(function(a,l){if(!TS(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let g=Bl(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(a,l){if((a=Vt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return D0(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=rt.fromDate(a);return{timestampValue:Kh(l.serializer,c)}}if(a instanceof rt){const c=new rt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kh(l.serializer,c)}}if(a instanceof di)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof On)return{bytesValue:H0(l.serializer,a._byteString)};if(a instanceof mt){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Jp(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof fi)return(function(d,p){return{mapValue:{fields:{[g0]:{stringValue:y0},[Fh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qp(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${ad(a)}`)})(s,e)}function SS(s,e){const n={};return u0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(s,((a,l)=>{const c=Bl(l,e.mc(a));c!=null&&(n[a]=c)})),{mapValue:{fields:n}}}function AS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof rt||s instanceof di||s instanceof On||s instanceof mt||s instanceof vr||s instanceof fi)}function _g(s,e,n){if(!AS(n)||!o0(n)){const a=ad(n);throw a==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+a)}}function Ep(s,e,n){if((e=Vt(e))instanceof Mc)return e._internalPath;if(typeof e=="string")return Eg(s,e);throw Wh("Field path arguments must be of type string or ",s,!1,void 0,n)}const X2=new RegExp("[~\\*/\\[\\]]");function Eg(s,e,n){if(e.search(X2)>=0)throw Wh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Mc(...e.split("."))._internalPath}catch{throw Wh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Wh(s,e,n,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${a}`),d&&(g+=` in document ${l}`),g+=")"),new de(ne.INVALID_ARGUMENT,p+s+g)}function wS(s,e){return s.some((n=>n.isEqual(e)))}class xS{constructor(e,n,a,l,c){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new W2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(bd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class W2 extends xS{data(){return super.data()}}function bd(s,e){return typeof e=="string"?Eg(s,e):e instanceof Mc?e._internalPath:e._delegate._internalPath}function NS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Tg{}class bg extends Tg{}function gi(s,e,...n){let a=[];e instanceof Tg&&a.push(e),a=a.concat(n),(function(c){const d=c.filter((g=>g instanceof Sd)).length,p=c.filter((g=>g instanceof Vc)).length;if(d>1||d>0&&p>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Vc extends bg{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Vc(e,n,a)}_apply(e){const n=this._parse(e);return RS(e._query,n),new Ns(e.firestore,e.converter,cp(e._query,n))}_parse(e){const n=Ed(e.firestore);return(function(c,d,p,g,y,T,b){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){PT(b,T);const R=[];for(const C of b)R.push(LT(g,c,C));S={arrayValue:{values:R}}}else S=LT(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||PT(b,T),S=$2(p,d,b,T==="in"||T==="not-in");return Ot.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pr(s,e,n){const a=e,l=bd("where",s);return Vc._create(l,a,n)}class Sd extends Tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sd(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)RS(d,g),d=cp(d,g)})(e._query,n),new Ns(e.firestore,e.converter,cp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ad extends bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ad(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new de(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pc(c,d)})(e._query,this._field,this._direction);return new Ns(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Ul(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function kc(s,e="asc"){const n=e,a=bd("orderBy",s);return Ad._create(a,n)}function LT(s,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!w0(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(at.fromString(n));if(!ve.isDocumentKey(a))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ZE(s,new ve(a))}if(n instanceof mt)return ZE(s,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function PT(s,e){if(!Array.isArray(s)||s.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RS(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class CS{convertValue(e,n="none"){switch(Sa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ra(e,((l,c)=>{a[l]=this.convertValue(c,n)})),a}convertVectorValue(e){const n=e.fields?.[Fh].arrayValue?.values?.map((a=>bt(a.doubleValue)));return new fi(n)}convertGeoPoint(e){return new di(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=od(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const n=Ta(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=at.fromString(e);$e(Y0(a),9688,{name:e});const l=new bl(a.get(1),a.get(3)),c=new ve(a.popFirst(5));return l.isEqual(n)||bs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function IS(s,e,n){let a;return a=s?s.toFirestore(e):e,a}class ml{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ya extends xS{constructor(e,n,a,l,c,d){super(e,n,a,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(bd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ya._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",ya._jsonSchema={type:Mt("string",ya._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class oc extends ya{data(e={}){return super.data(e)}}class va{constructor(e,n,a,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ml(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new oc(this._firestore,this._userDataWriter,a.key,a,new ml(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new oc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new ml(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:J2(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function J2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function Lc(s){s=fn(s,mt);const e=fn(s.firestore,Ki);return z2(Oc(e),s._key).then((n=>jS(e,s,n)))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Mt("string",va._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class Sg extends CS{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function Sn(s){s=fn(s,Ns);const e=fn(s.firestore,Ki),n=Oc(e),a=new Sg(e);return NS(s._query),B2(n,s._query).then((l=>new va(e,a,s,l)))}function Ag(s,e,n){s=fn(s,mt);const a=fn(s.firestore,Ki),l=IS(s.converter,e);return Pc(a,[bS(Ed(a),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Xn.none())])}function an(s,e,n,...a){s=fn(s,mt);const l=fn(s.firestore,Ki),c=Ed(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof Mc?Y2(c,"updateDoc",s._key,e,n,a):Q2(c,"updateDoc",s._key,e),Pc(l,[d.toMutation(s._key,Xn.exists(!0))])}function wg(s){return Pc(fn(s.firestore,Ki),[new $p(s._key,Xn.none())])}function As(s,e){const n=fn(s.firestore,Ki),a=st(s),l=IS(s.converter,e);return Pc(n,[bS(Ed(s.firestore),"addDoc",a._key,l,s.converter!==null,{}).toMutation(a._key,Xn.exists(!1))]).then((()=>a))}function Tp(s,...e){s=Vt(s);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kT(e[a])||(n=e[a++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kT(e[a])){const g=e[a];e[a]=g.next?.bind(g),e[a+1]=g.error?.bind(g),e[a+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof mt)d=fn(s.firestore,Ki),p=cd(s._key.path),c={next:g=>{e[a]&&e[a](jS(d,s,g))},error:e[a+1],complete:e[a+2]};else{const g=fn(s,Ns);d=fn(g.firestore,Ki),p=g._query;const y=new Sg(d);c={next:T=>{e[a]&&e[a](new va(d,y,g,T))},error:e[a+1],complete:e[a+2]},NS(s._query)}return(function(y,T,b,S){const O=new pg(S),R=new dg(T,O,b);return y.asyncQueue.enqueueAndForget((async()=>cg(await Xh(y),R))),()=>{O.Nu(),y.asyncQueue.enqueueAndForget((async()=>ug(await Xh(y),R)))}})(Oc(d),p,l,c)}function Pc(s,e){return(function(a,l){const c=new ys;return a.asyncQueue.enqueueAndForget((async()=>R2(await U2(a),l,c))),c.promise})(Oc(s),e)}function jS(s,e,n){const a=n.docs.get(e._key),l=new Sg(s);return new ya(s,l,e._key,a,new ml(n.hasPendingWrites,n.fromCache),e.converter)}function rn(){return new gg("serverTimestamp")}function Z2(...s){return new yg("arrayUnion",s)}function _c(s){return new vg("increment",s)}(function(e,n=!0){(function(l){kl=l})(Ml),_l(new cr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ki(new WC(a.getProvider("auth-internal")),new eI(d,a.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),pa(zE,BE,e),pa(zE,BE,"esm2020")})();const eD=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:CS,Bytes:On,CollectionReference:vs,DocumentReference:mt,DocumentSnapshot:ya,FieldPath:Mc,FieldValue:vr,Firestore:Ki,FirestoreError:de,GeoPoint:di,Query:Ns,QueryCompositeFilterConstraint:Sd,QueryConstraint:bg,QueryDocumentSnapshot:oc,QueryFieldFilterConstraint:Vc,QueryOrderByConstraint:Ad,QuerySnapshot:va,SnapshotMetadata:ml,Timestamp:rt,VectorValue:fi,_AutoId:sd,_ByteString:Kt,_DatabaseId:bl,_DocumentKey:ve,_EmptyAuthCredentialsProvider:a0,_FieldPath:Gt,_cast:fn,_logWarn:fr,_validateIsNotUsedTogether:l0,addDoc:As,arrayUnion:Z2,collection:ft,connectFirestoreEmulator:vS,deleteDoc:wg,doc:st,ensureFirestoreConfigured:Oc,executeWrite:Pc,getDoc:Lc,getDocs:Sn,getFirestore:_S,increment:_c,onSnapshot:Tp,orderBy:kc,query:gi,serverTimestamp:rn,setDoc:Ag,updateDoc:an,where:pr},Symbol.toStringTag,{value:"Module"}));var tD="firebase",nD="12.6.0";pa(tD,nD,"app");const iD={apiKey:"AIzaSyCFK0ROmclDB340RnTgAMGM6xiXgcMs7Vs",authDomain:"license-manager-b0e4e.firebaseapp.com",projectId:"license-manager-b0e4e",storageBucket:"license-manager-b0e4e.firebasestorage.app",messagingSenderId:"548643757194",appId:"1:548643757194:web:79fa0555acc0ccd9702173",measurementId:"G-7RWV4LEHP1"},DS=fb(iD),tc=YC(DS),we=_S(DS),OS=k.createContext();function cn(){return k.useContext(OS)}function sD({children:s}){const[e,n]=k.useState(null),[a,l]=k.useState(null),[c,d]=k.useState(!0);async function p(O,R,C){const U=await IR(tc,O,R),Y=U.user;await OR(Y,{displayName:C});const W=new Date;return W.setDate(W.getDate()+1),await Ag(st(we,"users",Y.uid),{uid:Y.uid,email:O,displayName:C,role:"user",balance:1e4,createdAt:rn()}),U}function g(O,R){return jR(tc,O,R)}function y(){return LR(tc)}async function T(O){const R=st(we,"users",O),C=await Lc(R);return C.exists()?C.data():null}function b(){return a?.role==="admin"}k.useEffect(()=>kR(tc,async R=>{if(n(R),R){const C=await T(R.uid);l(C)}else l(null);d(!1)}),[]);const S={currentUser:e,userProfile:a,signup:p,login:g,logout:y,isAdmin:b,loading:c};return u.jsx(OS.Provider,{value:S,children:!c&&s})}const MS="/logo.png";function on(){const{currentUser:s,userProfile:e,logout:n,isAdmin:a}=cn(),l=jl(),[c,d]=k.useState(!1);async function p(){try{await n(),l("/login")}catch(T){console.error("Logout error:",T)}}function g(){d(!c)}function y(){d(!1)}return u.jsx("nav",{className:"navbar",children:u.jsxs("div",{className:"navbar-container",children:[u.jsxs(Re,{to:"/",className:"navbar-brand",onClick:y,children:[u.jsx("img",{src:MS,alt:"PHP Tool",className:"brand-logo"}),u.jsx("span",{className:"brand-text",children:"PHP Tool"})]}),u.jsxs("button",{className:"hamburger",onClick:g,children:[u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`})]}),u.jsx("div",{className:`navbar-menu ${c?"active":""}`,children:s?u.jsxs(u.Fragment,{children:[u.jsxs(Re,{to:"/dashboard",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Re,{to:"/guide",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Hng dn"})]}),u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Ti khon"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Re,{to:"/wallet",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Re,{to:"/my-licenses",className:"dropdown-item",onClick:y,children:" License ca ti"}),u.jsx(Re,{to:"/profile",className:"dropdown-item",onClick:y,children:" Lch s giao dch"})]})]}),a()&&u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Re,{to:"/admin/users",className:"dropdown-item",onClick:y,children:" Users"}),u.jsx(Re,{to:"/admin/licenses",className:"dropdown-item",onClick:y,children:" Keys"}),u.jsx(Re,{to:"/admin/orders",className:"dropdown-item",onClick:y,children:" n hng"}),u.jsx(Re,{to:"/admin/deposits",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Re,{to:"/admin/stats",className:"dropdown-item",onClick:y,children:" Thng k"}),u.jsx(Re,{to:"/admin/settings",className:"dropdown-item",onClick:y,children:" Ci t"})]})]}),u.jsxs("div",{className:"nav-user",children:[u.jsx("span",{className:"user-name",children:e?.displayName||s.email}),u.jsx("button",{onClick:p,className:"btn-logout",children:"ng xut"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Re,{to:"/login",className:"nav-link",onClick:y,children:"ng nhp"}),u.jsx(Re,{to:"/register",className:"btn-register",onClick:y,children:"ng k"})]})})]})})}function VS({title:s,description:e,keywords:n,image:a,url:l}){const c="PHP Tool",d="Tool t ng ng k v xc minh ti khon Facebook hng lot. H tr Hotmail, SMS, Gmail.";return k.useEffect(()=>{document.title=s?`${s} | ${c}`:`${c} - Tool Reg/Very Facebook`;const p=document.querySelector('meta[name="description"]');p&&p.setAttribute("content",e||d);const g=document.querySelector('meta[property="og:title"]'),y=document.querySelector('meta[property="og:description"]'),T=document.querySelector('meta[property="og:url"]'),b=document.querySelector('meta[property="og:image"]');g&&g.setAttribute("content",s?`${s} | ${c}`:c),y&&y.setAttribute("content",e||d),T&&l&&T.setAttribute("content",l),b&&a&&b.setAttribute("content",a);const S=document.querySelector('meta[property="twitter:title"]'),O=document.querySelector('meta[property="twitter:description"]');if(S&&S.setAttribute("content",s?`${s} | ${c}`:c),O&&O.setAttribute("content",e||d),n){let R=document.querySelector('meta[name="keywords"]');R&&R.setAttribute("content",n)}},[s,e,n,a,l]),null}const aD="/hero-visual.png",rD=[{id:"regfb",name:"Reg Facebook Tool",description:"Tool t ng ng k v verify ti khon Facebook hng lot",icon:"",features:["Reg & Verify t ng","H tr nhiu dch v mail/SMS","Bind HWID bo mt"],prices:{day:1e4,month:2e5,lifetime:6e5},status:"available",hot:!0},{id:"clonetk",name:"Clone TikTok Tool",description:"Cng c clone video TikTok, qun l nhiu ti khon",icon:"",features:["Clone video khng logo","Qun l multi accounts","Auto upload"],prices:{day:15e3,month:3e5,lifetime:8e5},status:"coming_soon"},{id:"seoyt",name:"YouTube SEO Tool",description:"Ti u SEO video YouTube, tng view v subscriber",icon:"",features:["Keyword research","Tag optimizer","Analytics dashboard"],prices:{day:2e4,month:4e5,lifetime:1e6},status:"coming_soon"}],lD=[{icon:"",color:"#e040fb",title:"Gi C Hp L",desc:"Tit kim chi ph khng ch t gi c, m cn t hiu sut lm vic cao m phn mm mang li"},{icon:"",color:"#ba68c8",title:"Cht Lng Phn Mm",desc:"Phn mm c xy dng vi tiu chun cht lng cao, m bo tnh n nh v kt qu ng tin cy"},{icon:"",color:"#9c27b0",title:"Cp Nht nh K",desc:"Lun cp nht vi cc tnh nng mi nht, m bo phn mm lun tng thch v hiu qu"},{icon:"",color:"#ab47bc",title:"Tc  V Hiu Sut Cao",desc:"Ti u ha hiu sut vi tc  x l nhanh chng, gip bn tit kim thi gian v tng nng sut"},{icon:"",color:"#ce93d8",title:"Giao Din D S Dng",desc:"Giao din phn mm d s dng v y  tnh nng, gip ngi dng d dng s dng v qun l"},{icon:"",color:"#e040fb",title:"i Ng H Tr",desc:"i ng h tr k thut chuyn nghip, sn sng gii p mi thc mc v h tr bn mi lc"}],Fm=[{name:"Minh T***",avatar:"",content:"n nh, d dng, gi c ngon. Dng tt cho cng vic ca mnh!",rating:5},{name:"Hong V***",avatar:"",content:"Tool ngon, gi r, h tr tt. Mnh rt hi lng vi dch v ca PHP Tool!",rating:5},{name:"Nam N***",avatar:"",content:"Dch v tt, gi c hp l. Mnh rt hi lng vi PHP Tool!",rating:5},{name:"Tun A***",avatar:"",content:"PHP Tool gip ti tit kim hng gi lm vic mi ngy. Qu tuyt!",rating:5},{name:"c H***",avatar:"",content:"Reg acc t ng cc nhanh, chy 100% khng li. Recommend!",rating:5},{name:"Long P***",avatar:"",content:"Support tr li nhanh, fix bug trong vi pht. Rt chuyn nghip!",rating:5},{name:"Quang M***",avatar:"",content:"Giao din p, d s dng. Tool chy mt khng git lag!",rating:5},{name:"Kin T***",avatar:"",content:" dng nhiu tool khc nhng PHP Tool l n nh nht!",rating:5}];function UT(){const{currentUser:s}=cn(),e=k.useRef(null),[n,a]=k.useState(0);k.useEffect(()=>{const d=setInterval(()=>{a(p=>(p+1)%Fm.length)},4e3);return()=>clearInterval(d)},[]);const l=d=>{d.preventDefault(),e.current?.scrollIntoView({behavior:"smooth",block:"start"})};function c(d){return new Intl.NumberFormat("vi-VN").format(d)}return u.jsxs("div",{className:"home-page",children:[u.jsx(VS,{title:"Trang ch",description:"PHP Tool - Cung cp Tool Reg/Very Facebook t ng hng lot. H tr Hotmail, SMS, Gmail. Giao din d s dng, gi r nht th trng.",keywords:"tool reg fb, tool very fb, reg facebook t ng, xc minh facebook, tool mmo, php tool"}),u.jsx(on,{}),u.jsxs("section",{className:"hero-section",children:[u.jsxs("div",{className:"hero-container",children:[u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:" Nn tng Tools MMO hng u"}),u.jsxs("h1",{className:"hero-title",children:[u.jsx("span",{className:"gradient-text",children:"PHP Tool"}),u.jsx("br",{}),"Gii Php MMO Chuyn Nghip"]}),u.jsx("p",{className:"hero-description",children:"Cung cp cc cng c t ng ha, phn mm MMO cht lng cao. H tr bn pht trin kinh doanh online hiu qu v bn vng."}),u.jsxs("div",{className:"hero-actions",children:[u.jsxs("a",{href:"#products",onClick:l,className:"btn-primary-lg",children:[u.jsx("span",{children:""})," Xem sn phm"]}),!s&&u.jsxs(Re,{to:"/register",className:"btn-secondary-lg",children:[u.jsx("span",{children:""})," ng k min ph"]})]}),u.jsxs("div",{className:"hero-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"500+"}),u.jsx("span",{className:"stat-label",children:"Khch hng"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"3+"}),u.jsx("span",{className:"stat-label",children:"Sn phm"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"24/7"}),u.jsx("span",{className:"stat-label",children:"H tr"})]})]})]}),u.jsx("div",{className:"hero-visual",children:u.jsx("img",{src:aD,alt:"PHP Tool",className:"hero-image"})})]}),u.jsxs("div",{className:"hero-decoration",children:[u.jsx("div",{className:"deco-circle deco-1"}),u.jsx("div",{className:"deco-circle deco-2"}),u.jsx("div",{className:"deco-circle deco-3"})]})]}),u.jsx("section",{className:"why-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"TI SAO NN CHN PHP TOOL"})}),u.jsx("div",{className:"why-grid",children:lD.map((d,p)=>u.jsxs("div",{className:"why-card",children:[u.jsx("div",{className:"why-number",children:p+1}),u.jsx("div",{className:"why-icon",style:{background:`${d.color}20`,color:d.color},children:d.icon}),u.jsx("h3",{children:d.title}),u.jsx("p",{children:d.desc})]},p))})]})}),u.jsx("section",{className:"products-section",id:"products",ref:e,children:u.jsxs("div",{className:"section-container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" SN PHM CA CHNG TI"}),u.jsx("p",{children:"Cc cng c MMO cht lng cao"})]}),u.jsx("div",{className:"products-grid",children:rD.map(d=>u.jsxs("div",{className:`product-card ${d.status}`,children:[d.hot&&u.jsx("div",{className:"hot-badge",children:" HOT"}),d.status==="coming_soon"&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"}),u.jsx("div",{className:"product-icon",children:d.icon}),u.jsx("h3",{className:"product-name",children:d.name}),u.jsx("p",{className:"product-desc",children:d.description}),u.jsx("ul",{className:"product-features",children:d.features.map((p,g)=>u.jsxs("li",{children:[" ",p]},g))}),u.jsxs("div",{className:"product-pricing",children:[u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 ngy"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.day),""]})]}),u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 thng"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.month),""]})]}),u.jsxs("div",{className:"price-item highlight",children:[u.jsx("span",{className:"price-label",children:"Vnh vin"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.lifetime),""]})]})]}),d.status==="available"?u.jsx(Re,{to:`/buy/${d.id}`,className:"btn-buy-product",children:"Mua ngay"}):u.jsx("button",{className:"btn-coming-soon",disabled:!0,children:"Sp ra mt"})]},d.id))})]})}),u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"FEEDBACK KHCH HNG"})}),u.jsx("div",{className:"testimonials-slider",style:{transform:`translateX(-${n*(100/4+1.5)}%)`},children:[...Fm,...Fm.slice(0,4)].map((d,p)=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"testimonial-avatar",children:d.avatar}),u.jsx("h4",{className:"testimonial-name",children:d.name}),u.jsxs("p",{className:"testimonial-content",children:['"',d.content,'"']}),u.jsx("div",{className:"testimonial-rating",children:"".repeat(d.rating)})]},p))})]})}),u.jsx("section",{className:"contact-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{children:" LIN H VI CHNG TI"}),u.jsx("p",{children:"C thc mc? Lin h ngay  c h tr!"})]}),u.jsx("div",{className:"contact-buttons",children:u.jsxs("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",className:"btn-telegram",children:[u.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"Telegram"]})})]})})}),u.jsx("section",{className:"cta-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:" ng k ngay - Nhn 1 ngy dng th MIN PH!"}),u.jsx("p",{children:"To ti khon  tri nghim cc cng c ca chng ti"}),s?u.jsx(Re,{to:"/dashboard",className:"btn-cta",children:"Vo Dashboard"}):u.jsx(Re,{to:"/register",className:"btn-cta",children:"ng k min ph"})]})})}),u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("img",{src:MS,alt:"PHP Tool",className:"footer-logo-img"}),u.jsx("span",{className:"footer-name",children:"PHP Tool"})]}),u.jsxs("div",{className:"footer-links",children:[u.jsx("a",{href:"#",children:"iu khon"}),u.jsx("a",{href:"#",children:"Chnh sch"}),u.jsx("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})]}),u.jsx("div",{className:"footer-copyright",children:" 2024 PHP Tool. All rights reserved."})]})})]})}function oD(s=5,e=6e4,n=3e5){const[a,l]=k.useState([]),[c,d]=k.useState(!1),[p,g]=k.useState(null),y=k.useCallback(()=>{const S=Date.now();if(p&&S<p)return{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil((p-S)/1e3)} giy.`};if(p&&S>=p&&(d(!1),g(null),l([])),a.filter(R=>S-R<e).length>=s){const R=S+n;return d(!0),g(R),{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil(n/1e3)} giy.`}}return{allowed:!0}},[a,p,s,e,n]),T=k.useCallback(()=>{l(S=>[...S,Date.now()])},[]),b=k.useCallback(()=>{const S=Date.now(),O=a.filter(R=>S-R<e);return Math.max(0,s-O.length)},[a,s,e]);return{checkRateLimit:y,recordAttempt:T,getRemainingAttempts:b,isBlocked:c}}function cD(){const[s,e]=k.useState(""),n=k.useCallback(()=>s.length>0,[s]),a=k.useCallback(()=>u.jsx("input",{type:"text",name:"website_url",value:s,onChange:l=>e(l.target.value),autoComplete:"off",tabIndex:-1,style:{position:"absolute",left:"-9999px",opacity:0,height:0,width:0,zIndex:-1},"aria-hidden":"true"}),[s]);return{isBot:n,HoneypotField:a,honeypotValue:s}}function xg(s={}){const{maxAttempts:e=5,windowMs:n=6e4,cooldownMs:a=3e5}=s,l=oD(e,n,a),c=cD();return{validateSubmission:k.useCallback(()=>{if(c.isBot())return console.warn("Bot detected via honeypot"),{valid:!1,error:"C li xy ra. Vui lng th li sau."};const p=l.checkRateLimit();return p.allowed?{valid:!0}:{valid:!1,error:p.message}},[c,l]),recordAttempt:l.recordAttempt,HoneypotField:c.HoneypotField,isBlocked:l.isBlocked,getRemainingAttempts:l.getRemainingAttempts}}function uD(){const[s,e]=k.useState(""),[n,a]=k.useState(""),[l,c]=k.useState(""),[d,p]=k.useState(""),[g,y]=k.useState(!1),[T,b]=k.useState(!1),{login:S}=cn(),O=jl(),{validateSubmission:R,recordAttempt:C}=xg({maxAttempts:5,windowMs:6e4,cooldownMs:3e5});async function U(W){W.preventDefault();const ae=R();if(!ae.valid){c(ae.error);return}C();try{c(""),y(!0),await S(s,n),O("/dashboard")}catch(z){console.error(z),z.code==="auth/user-not-found"?c("Ti khon khng tn ti"):z.code==="auth/wrong-password"?c("Mt khu khng ng"):z.code==="auth/invalid-credential"?c("Email hoc mt khu khng ng"):c("ng nhp tht bi. Vui lng th li!")}y(!1)}async function Y(W){if(W.preventDefault(),!s)return c("Vui lng nhp email!");const ae=R();if(!ae.valid){c(ae.error);return}C();try{c(""),p(""),y(!0),await CR(tc,s),p("Nu email ny  ng k, bn s nhn c link t li mt khu trong hp th."),b(!1)}catch(z){console.error(z),z.code==="auth/user-not-found"||z.code==="auth/invalid-email"?c("Email ny cha ng k ti khon!"):z.code==="auth/too-many-requests"?c("Qu nhiu yu cu! Vui lng th li sau."):c("Gi email tht bi. Vui lng th li!")}y(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:T?"":""}),u.jsx("h1",{children:T?"Qun Mt Khu":"ng Nhp"}),u.jsx("p",{children:T?"Nhp email  nhn link t li mt khu":"Cho mng bn quay tr li!"})]}),l&&u.jsx("div",{className:"alert alert-error",children:l}),d&&u.jsx("div",{className:"alert alert-success",children:d}),T?u.jsxs("form",{onSubmit:Y,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"Gi Email t Li"}),u.jsx("button",{type:"button",className:"btn-text",onClick:()=>{b(!1),c("")},children:" Quay li ng nhp"})]}):u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:n,onChange:W=>a(W.target.value),placeholder:"",required:!0})]})]}),u.jsx("button",{type:"button",className:"btn-forgot",onClick:()=>{b(!0),c(""),p("")},children:"Qun mt khu?"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"ng Nhp"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:["Cha c ti khon?"," ",u.jsx(Re,{to:"/register",className:"auth-link",children:"ng k ngay"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}function hD(){const[s,e]=k.useState(""),[n,a]=k.useState(""),[l,c]=k.useState(""),[d,p]=k.useState(""),[g,y]=k.useState(""),[T,b]=k.useState(!1),{signup:S}=cn(),O=jl(),{validateSubmission:R,recordAttempt:C}=xg({maxAttempts:3,windowMs:6e4,cooldownMs:6e5});async function U(Y){Y.preventDefault();const W=R();if(!W.valid){y(W.error);return}if(l!==d)return y("Mt khu xc nhn khng khp!");if(l.length<6)return y("Mt khu phi c t nht 6 k t!");C();try{y(""),b(!0),await S(n,l,s),O("/dashboard")}catch(ae){console.error(ae),ae.code==="auth/email-already-in-use"?y("Email ny  c s dng!"):ae.code==="auth/weak-password"?y("Mt khu qu yu!"):ae.code==="auth/invalid-email"?y("Email khng hp l!"):y("ng k tht bi. Vui lng th li!")}b(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:""}),u.jsx("h1",{children:"ng K"}),u.jsx("p",{children:"To ti khon v nhn 1 ngy dng th min ph!"})]}),g&&u.jsx("div",{className:"alert alert-error",children:g}),u.jsxs("form",{onSubmit:U,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"displayName",children:"Tn hin th"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"text",id:"displayName",value:s,onChange:Y=>e(Y.target.value),placeholder:"Nguyen Van A",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:n,onChange:Y=>a(Y.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:l,onChange:Y=>c(Y.target.value),placeholder:"t nht 6 k t",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:Y=>p(Y.target.value),placeholder:"Nhp li mt khu",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:T,children:T?u.jsx("span",{className:"loading-spinner"}):"ng K"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[" c ti khon?"," ",u.jsx(Re,{to:"/login",className:"auth-link",children:"ng nhp"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}const dD=[{id:"regfb",name:"Reg Facebook Tool",icon:"",priceRange:"10k - 600k"},{id:"clonetk",name:"Clone TikTok Tool",icon:"",priceRange:"15k - 800k",comingSoon:!0},{id:"seoyt",name:"YouTube SEO Tool",icon:"",priceRange:"20k - 1tr",comingSoon:!0}];function fD(){const{currentUser:s,userProfile:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState([]),[d,p]=k.useState(!0),[g,y]=k.useState(null);k.useEffect(()=>{async function R(){if(s){try{const U=gi(ft(we,"licenses"),pr("userId","==",s.uid));let W=(await Sn(U)).docs.map(ue=>({id:ue.id,...ue.data()}));W.sort((ue,I)=>{const x=ue.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),console.log("Dashboard licenses:",W),a(W);const ae=gi(ft(we,"transactions"),pr("userId","==",s.uid));let oe=(await Sn(ae)).docs.map(ue=>({id:ue.id,...ue.data()}));oe.sort((ue,I)=>{const x=ue.createdAt?.toDate?.()||new Date(0);return(I.createdAt?.toDate?.()||new Date(0))-x}),oe=oe.slice(0,5),console.log("Dashboard transactions:",oe),c(oe)}catch(U){console.error("Error fetching data:",U),alert("Li ti d liu: "+U.message)}p(!1)}}async function C(){try{const U=st(we,"settings","software"),Y=await Lc(U);Y.exists()&&y(Y.data())}catch(U){console.error("Error fetching software info:",U)}}R(),C()},[s]);function T(R){return new Intl.NumberFormat("vi-VN").format(R)}function b(R){return n.find(C=>C.productId===R&&C.status==="active")}function S(R){if(!R)return{text:"Cha mua",class:"status-none"};if(R.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(R.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(R.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const C=new Date,U=R.expiresAt?.toDate?.()||new Date(R.expiresAt);if(C>=U)return{text:"Ht hn",class:"status-expired"};const Y=U-C,W=Math.floor(Y/(1e3*60*60*24));return W<=3?{text:`Cn ${W} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}const O=e?.balance||0;return u.jsxs("div",{className:"dashboard-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"dashboard-container",children:[u.jsxs("div",{className:"dashboard-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsxs("h1",{children:["Xin cho, ",e?.displayName||"User","! "]}),u.jsx("p",{children:"Qun l license v ti khon ca bn"})]}),u.jsxs("div",{className:"balance-card",children:[u.jsx("div",{className:"balance-label",children:"S d ti khon"}),u.jsxs("div",{className:"balance-amount",children:[T(O),""]}),u.jsxs(Re,{to:"/wallet",className:"btn-deposit",children:[u.jsx("span",{children:""})," Np tin"]})]})]}),u.jsxs("div",{className:"download-guide-section",children:[g?.downloadUrl&&u.jsxs("a",{href:g.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"download-card-dash",children:[u.jsx("div",{className:"download-card-icon",children:""}),u.jsxs("div",{className:"download-card-content",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version ",g.version||"1.0.0"]})]}),u.jsx("span",{className:"download-arrow",children:""})]}),u.jsxs(Re,{to:"/guide",className:"guide-card-dash",children:[u.jsx("div",{className:"guide-card-icon",children:""}),u.jsxs("div",{className:"guide-card-content",children:[u.jsx("h3",{children:"Hng dn s dng"}),u.jsx("p",{children:"Xem ti liu chi tit"})]}),u.jsx("span",{className:"guide-arrow",children:""})]})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:n.filter(R=>R.status==="active").length}),u.jsx("div",{className:"stat-label",children:"License ang hot ng"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsxs("div",{className:"stat-value",children:[T(O),""]}),u.jsx("div",{className:"stat-label",children:"S d"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:l.length}),u.jsx("div",{className:"stat-label",children:"Giao dch gn y"})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Sn phm"}),u.jsx(Re,{to:"/buy",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"products-grid",children:dD.map(R=>{const C=b(R.id),U=S(C);return u.jsxs("div",{className:`product-card ${R.comingSoon?"coming-soon":""}`,children:[u.jsx("div",{className:"product-icon",children:R.icon}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{children:R.name}),C&&u.jsx("span",{className:`license-status ${U.class}`,children:U.text})]}),R.comingSoon?u.jsx("button",{className:"btn-coming",disabled:!0,children:"Sp ra mt"}):C?u.jsx(Re,{to:"/my-licenses",className:"btn-manage",children:"Qun l"}):u.jsx(Re,{to:`/buy/${R.id}`,className:"btn-buy",children:"Mua ngay"})]},R.id)})})]}),u.jsxs("section",{className:"section",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:" Thao tc nhanh"})}),u.jsxs("div",{className:"actions-grid",children:[u.jsxs(Re,{to:"/wallet",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Np tin"})]}),u.jsxs(Re,{to:"/my-licenses",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"License ca ti"})]}),u.jsxs(Re,{to:"/profile",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Lch s giao dch"})]}),u.jsxs(Re,{to:"/buy",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Mua license"})]})]})]}),l.length>0&&u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Giao dch gn y"}),u.jsx(Re,{to:"/profile",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"transactions-list",children:l.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:R.type==="deposit"?"":R.type==="license_purchase"?"":""}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",T(R.amount),""]})]},R.id))})]}),d&&u.jsx("div",{className:"loading-overlay",children:u.jsx("div",{className:"loading-spinner"})})]})]})}function mD(){const{currentUser:s}=cn(),[e,n]=k.useState(0),[a,l]=k.useState([]),[c,d]=k.useState(!0),[p,g]=k.useState(""),[y,T]=k.useState(!1),[b,S]=k.useState(null),[O,R]=k.useState(""),C={bankId:"MB",accountNo:"1444488888888",accountName:"PHAM HAI PHU",template:"compact2"};k.useEffect(()=>{if(!s)return;const z=Tp(st(we,"users",s.uid),oe=>{oe.exists()&&n(oe.data().balance||0)});return()=>z()},[s]),k.useEffect(()=>{if(!s)return;const z=gi(ft(we,"deposits"),pr("userId","==",s.uid)),oe=Tp(z,ue=>{let I=ue.docs.map(x=>({id:x.id,...x.data()}));if(I.sort((x,N)=>{const L=x.createdAt?.toDate?.()||new Date(0);return(N.createdAt?.toDate?.()||new Date(0))-L}),b&&y){const x=I.find(N=>N.orderId===b.orderId);x&&x.status==="completed"&&(R(` Np tin thnh cng! +${new Intl.NumberFormat("vi-VN").format(x.actualAmount||x.amount)}`),T(!1),S(null),setTimeout(()=>R(""),5e3))}l(I),d(!1)});return()=>oe()},[s,b,y]);function U(z){return new Intl.NumberFormat("vi-VN").format(z)}function Y(){const z=Date.now().toString(36).toUpperCase(),oe=Math.random().toString(36).substring(2,6).toUpperCase();return`NAP${z}${oe}`}async function W(){const z=parseInt(p);if(!z||z<1e4){alert("S tin np ti thiu l 10,000");return}if(a.filter(ue=>ue.status==="pending").length>=3){alert("Bn  c 3 yu cu np tin ang ch x l. Vui lng i admin xc nhn trc khi to yu cu mi.");return}try{const ue=Y(),I={userId:s.uid,userEmail:s.email,amount:z,orderId:ue,status:"pending",createdAt:rn()};await As(ft(we,"deposits"),I),S({...I,amount:z}),T(!0)}catch(ue){console.error("Error creating deposit:",ue),alert("C li xy ra. Vui lng th li!")}}function ae(){if(!b)return"";const{bankId:z,accountNo:oe,template:ue,accountName:I}=C;return`https://qr.sepay.vn/img?bank=${z}&acc=${oe}&template=${ue}&amount=${b.amount}&des=${b.orderId}&accountName=${encodeURIComponent(I)}`}return u.jsxs("div",{className:"wallet-page",children:[u.jsx(on,{}),O&&u.jsx("div",{className:"success-toast",children:O}),u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Np tin"})]}),u.jsx("div",{className:"balance-section",children:u.jsxs("div",{className:"balance-display",children:[u.jsx("span",{className:"balance-label",children:"S d hin ti"}),u.jsxs("span",{className:"balance-amount",children:[U(e),""]})]})}),y?u.jsxs("div",{className:"qr-section",children:[u.jsx("h2",{children:"Qut m QR  thanh ton"}),u.jsxs("div",{className:"qr-card",children:[u.jsx("img",{src:ae(),alt:"QR Code",className:"qr-image"}),u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ngn hng:"}),u.jsx("span",{className:"value",children:"MB Bank"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"S ti khon:"}),u.jsx("span",{className:"value",children:C.accountNo})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ch ti khon:"}),u.jsx("span",{className:"value",children:C.accountName})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value",children:[U(b?.amount||0),""]})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"Ni dung CK:"}),u.jsx("span",{className:"value code",children:b?.orderId})]})]}),u.jsxs("div",{className:"warning-box",children:[" Vui lng chuyn ",u.jsx("strong",{children:"ng s tin"})," v ",u.jsx("strong",{children:"ng ni dung"}),"  c cng tin t ng!"]})]}),u.jsx("button",{className:"btn-back",onClick:()=>{T(!1),S(null)},children:" Quay li"})]}):u.jsxs("div",{className:"deposit-form-section",children:[u.jsx("h2",{children:"Chn s tin np"}),u.jsx("div",{className:"amount-presets",children:[5e4,1e5,2e5,5e5,1e6].map(z=>u.jsxs("button",{className:`preset-btn ${p===z.toString()?"active":""}`,onClick:()=>g(z.toString()),children:[U(z),""]},z))}),u.jsxs("div",{className:"custom-amount",children:[u.jsx("label",{children:"Hoc nhp s tin khc:"}),u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"number",value:p,onChange:z=>g(z.target.value),placeholder:"Nhp s tin",min:"10000"}),u.jsx("span",{className:"currency",children:""})]})]}),u.jsx("button",{className:"btn-create-deposit",onClick:W,disabled:!p||parseInt(p)<1e4,children:"To lnh np tin"})]}),u.jsxs("div",{className:"history-section",children:[u.jsx("h2",{children:" Lch s np tin"}),c?u.jsx("div",{className:"loading",children:"ang ti..."}):a.length===0?u.jsx("p",{className:"empty-text",children:"Cha c lch s np tin"}):u.jsx("div",{className:"deposits-list",children:a.map(z=>u.jsxs("div",{className:"deposit-item",children:[u.jsxs("div",{className:"deposit-info",children:[u.jsx("div",{className:"deposit-id",children:z.orderId}),u.jsx("div",{className:"deposit-date",children:z.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"deposit-amount",children:["+",U(z.amount),""]}),u.jsx("div",{className:`deposit-status status-${z.status}`,children:z.status==="completed"?" Thnh cng":z.status==="rejected"?" T chi":" ang ch"})]},z.id))})]})]})]})}const pD="modulepreload",gD=function(s){return"/"+s},zT={},yD=function(e,n,a){let l=Promise.resolve();if(n&&n.length>0){let y=function(T){return Promise.all(T.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var d=y;document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),g=p?.nonce||p?.getAttribute("nonce");l=y(n.map(T=>{if(T=gD(T),T in zT)return;zT[T]=!0;const b=T.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${S}`))return;const O=document.createElement("link");if(O.rel=b?"stylesheet":pD,b||(O.as="script"),O.crossOrigin="",O.href=T,g&&O.setAttribute("nonce",g),document.head.appendChild(O),b)return new Promise((R,C)=>{O.addEventListener("load",R),O.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${T}`)))})}))}function c(p){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=p,window.dispatchEvent(g),!g.defaultPrevented)throw p}return l.then(p=>{for(const g of p||[])g.status==="rejected"&&c(g.reason);return e().catch(c)})},Gm={regfb:{"1_month":{name:"1 Thng",price:2e5,days:30},"1_year":{name:"1 Nm",price:5e5,days:365}},clonetk:{"1_month":{name:"1 Thng",price:3e5,days:30},"1_year":{name:"1 Nm",price:7e5,days:365}},seoyt:{"1_month":{name:"1 Thng",price:4e5,days:30},"1_year":{name:"1 Nm",price:9e5,days:365}}};function vD(){const{currentUser:s,userProfile:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState(!0),[d,p]=k.useState(null),[g,y]=k.useState({}),[T,b]=k.useState(null),[S,O]=k.useState(null),[R,C]=k.useState(null),[U,Y]=k.useState(null),[W,ae]=k.useState("1_month"),[z,oe]=k.useState(!1);k.useEffect(()=>{if(R){const te=setTimeout(()=>C(null),5e3);return()=>clearTimeout(te)}},[R]),k.useEffect(()=>{async function te(){if(s){try{const se=gi(ft(we,"licenses"),pr("userId","==",s.uid));let ye=(await Sn(se)).docs.map(Ee=>({id:Ee.id,...Ee.data(),licenseKey:Ee.data().licenseKey||Ee.data().key}));ye.sort((Ee,M)=>{const J=Ee.createdAt?.toDate?.()||new Date(0);return(M.createdAt?.toDate?.()||new Date(0))-J}),console.log("MyLicenses fetched:",ye),a(ye)}catch(se){console.error("Error fetching licenses:",se),alert("Li ti licenses: "+se.message)}c(!1)}}async function q(){try{const se=st(we,"settings","software"),le=await Lc(se);le.exists()&&O(le.data())}catch(se){console.error("Error fetching software info:",se)}}te(),q()},[s]);function ue(te){return new Intl.NumberFormat("vi-VN").format(te)}function I(te){if(te.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(te.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};const q=new Date,se=te.expiresAt?.toDate?.()||(te.expiresAt?new Date(te.expiresAt):null);if(!se)return te.plan==="daily"?{text:"Theo ngy",class:"status-daily"}:{text:"ang hot ng",class:"status-active"};if(q>=se)return{text:"Ht hn",class:"status-expired"};const le=se-q,ye=Math.floor(le/(1e3*60*60*24)),Ee=Math.floor(le%(1e3*60*60*24)/(1e3*60*60));return te.plan==="daily"?ye===0?{text:`Cn ${Ee}h`,class:"status-warning"}:{text:`Cn ${ye}d ${Ee}h`,class:"status-daily"}:ye<=3?{text:`Cn ${ye} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}function x(te){return{regfb:"Reg Facebook Tool",clonetk:"Clone TikTok Tool",seoyt:"YouTube SEO Tool"}[te]||te}function N(te){return{daily:"Theo ngy",monthly:"1 thng",yearly:"1 nm",lifetime:"Vnh vin"}[te]||te}function L(te){navigator.clipboard.writeText(te),alert(" copy!")}async function V(te){b(te);try{const se=n.find(ye=>ye.id===te)?.hwid,le={hwid:null,hwidResetRequested:!1};if(se){const{arrayUnion:ye}=await yD(async()=>{const{arrayUnion:Ee}=await Promise.resolve().then(()=>eD);return{arrayUnion:Ee}},[]);le.hwidHistory=ye(se)}await an(st(we,"licenses",te),le),a(ye=>ye.map(Ee=>Ee.id===te?{...Ee,hwid:null,hwidResetRequested:!1,hwidHistory:[...Ee.hwidHistory||[],se].filter(Boolean)}:Ee)),C({type:"success",message:" reset HWID. Bn c th gn my mi."})}catch(q){console.error("Error resetting HWID:",q),C({type:"error",message:"Li reset HWID: "+q.message})}b(null)}async function B(te){const q=g[te]?.trim();if(!q||q.length<20){C({type:"error",message:"HWID khng hp l! Vui lng nhp ng HWID t tool."});return}b(te);try{const se=gi(ft(we,"licenses"),pr("hwid","==",q)),ye=(await Sn(se)).docs.find(M=>M.id!==te);if(ye){const M=ye.data();C({type:"error",message:`HWID ny  c ng k bi ti khon khc (${M.userEmail||"unknown"})! Mi HWID ch c th kch hot 1 license.`}),b(null);return}const Ee=await Sn(ft(we,"licenses"));for(const M of Ee.docs){const J=M.data();if((J.hwidHistory||[]).includes(q)&&M.id!==te&&J.userId!==s.uid){C({type:"error",message:"HWID ny  tng c s dng bi ti khon khc! Khng th gn."}),b(null);return}}await an(st(we,"licenses",te),{hwid:q,status:"active",activatedAt:new Date}),a(M=>M.map(J=>J.id===te?{...J,hwid:q,status:"active"}:J)),y(M=>({...M,[te]:""})),C({type:"success",message:"Kch hot license thnh cng! Vui lng khi ng li tool  s dng."})}catch(se){console.error("Error saving HWID:",se),C({type:"error",message:"Li kch hot: "+se.message})}b(null)}async function j(te){if(!s)return;const q=1e4,se=e?.balance||0;if(se<q){C({type:"error",message:`S d khng ! Cn ${q.toLocaleString()}. Hin c: ${se.toLocaleString()}`});return}b(te);try{const le=n.find(he=>he.id===te),ye=le?.expiresAt?.toDate?.()||new Date(le?.expiresAt),Ee=new Date;let M;ye>Ee?M=new Date(ye):M=new Date,M.setDate(M.getDate()+1),M.setHours(23,59,59,999),await an(st(we,"licenses",te),{expiresAt:M,status:"active"}),await an(st(we,"users",s.uid),{balance:_c(-q)}),await As(ft(we,"transactions"),{userId:s.uid,type:"daily_renewal",amount:-q,description:"Gia hn gi ngy +1 ngy",licenseId:te,createdAt:rn()}),a(he=>he.map(fe=>fe.id===te?{...fe,expiresAt:M,status:"active"}:fe));const J=M.toLocaleDateString("vi-VN");C({type:"success",message:`Gia hn thnh cng! Ht hn: ${J}`})}catch(le){console.error("Error renewing daily:",le),C({type:"error",message:"Li: "+le.message})}b(null)}async function Ye(){if(!U||!s)return;const te=Gm[U.productId];if(!te){C({type:"error",message:"Khng tm thy gi gia hn cho sn phm ny!"});return}const q=te[W];if(!q){C({type:"error",message:"Vui lng chn gi gia hn!"});return}const se=e?.balance||0;if(se<q.price){C({type:"error",message:`S d khng ! Cn ${ue(q.price)}, hin c ${ue(se)}`});return}oe(!0);try{let le;const ye=U.expiresAt?.toDate?.()||new Date(U.expiresAt);ye>new Date?(le=new Date(ye),le.setDate(le.getDate()+q.days)):(le=new Date,le.setDate(le.getDate()+q.days)),await an(st(we,"licenses",U.id),{expiresAt:le,status:"active",renewedAt:rn()}),await an(st(we,"users",s.uid),{balance:_c(-q.price)}),await As(ft(we,"transactions"),{userId:s.uid,userEmail:s.email,type:"renewal",amount:-q.price,description:`Gia hn ${x(U.productId)} - ${q.name}`,licenseId:U.id,createdAt:rn()}),a(M=>M.map(J=>J.id===U.id?{...J,expiresAt:le,status:"active"}:J)),C({type:"success",message:`Gia hn thnh cng! License mi ht hn: ${le.toLocaleDateString("vi-VN")}`}),Y(null)}catch(le){console.error("Error renewing license:",le),C({type:"error",message:"Li gia hn: "+le.message})}oe(!1)}return u.jsxs("div",{className:"licenses-page",children:[u.jsx(on,{}),R&&u.jsxs("div",{className:`toast toast-${R.type}`,children:[u.jsx("span",{className:"toast-icon",children:R.type==="success"?"":""}),u.jsx("span",{className:"toast-message",children:R.message}),u.jsx("button",{className:"toast-close",onClick:()=>C(null),children:""})]}),u.jsxs("div",{className:"licenses-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" License ca ti"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Cha c license no"}),u.jsx("p",{children:"Mua license  bt u s dng cc cng c ca chng ti!"}),u.jsx(Re,{to:"/buy",className:"btn-buy",children:" Mua license ngay"})]}):u.jsxs(u.Fragment,{children:[S?.downloadUrl&&n.some(te=>te.status==="active")&&u.jsxs("div",{className:"download-section",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsxs("div",{className:"download-info",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version: ",u.jsx("strong",{children:S.version||"1.0.0"})]})]}),u.jsx("a",{href:S.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-download",children:" Ti xung"})]}),S.changelog&&u.jsxs("details",{className:"changelog",children:[u.jsx("summary",{children:" Changelog"}),u.jsx("pre",{children:S.changelog})]})]}),u.jsx("div",{className:"licenses-grid",children:n.map(te=>{const q=I(te);return u.jsxs("div",{className:"license-card",children:[u.jsxs("div",{className:"license-header",children:[u.jsx("h3",{children:x(te.productId)}),u.jsx("span",{className:`license-status ${q.class}`,children:q.text})]}),u.jsxs("div",{className:"license-body",children:[u.jsxs("div",{className:"license-key-section",children:[u.jsx("label",{children:"License Key:"}),u.jsxs("div",{className:"key-display",children:[u.jsx("code",{children:te.licenseKey}),u.jsx("button",{className:"btn-copy",onClick:()=>L(te.licenseKey),children:""})]})]}),u.jsxs("div",{className:"license-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:"value",children:N(te.plan)})]}),te.expiresAt&&te.plan!=="daily"&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:te.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),te.hwid?u.jsxs("span",{className:"value hwid",title:te.hwid,children:[te.hwid.substring(0,20),"..."]}):u.jsx("span",{className:"value hwid-pending",children:"Cha kch hot"})]})]}),!te.hwid&&te.status!=="revoked"&&u.jsxs("div",{className:"hwid-activation-section",children:[u.jsx("p",{className:"hwid-instruction",children:" M tool  Copy HWID  Paste vo y  kch hot:"}),u.jsxs("div",{className:"hwid-input-group",children:[u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:g[te.id]||"",onChange:se=>y(le=>({...le,[te.id]:se.target.value})),className:"hwid-input"}),u.jsxs("button",{className:"btn-activate",onClick:()=>B(te.id),disabled:T===te.id,children:[T===te.id?"":""," Kch hot"]})]})]}),te.hwid&&te.status==="active"&&u.jsxs("button",{className:"btn-reset-hwid",onClick:()=>V(te.id),disabled:T===te.id,children:[T===te.id?"":""," i my"]}),te.plan!=="lifetime"&&te.plan!=="daily"&&te.status!=="revoked"&&u.jsx("button",{className:"btn-renew",onClick:()=>{Y(te),ae("1_month")},children:" Gia hn"}),te.plan==="daily"&&te.hwid&&te.status!=="revoked"&&u.jsxs("button",{className:"btn-renew btn-daily",onClick:()=>j(te.id),disabled:T===te.id,children:[T===te.id?"":""," Gia hn ngy (10.000)"]})]}),u.jsx("div",{className:"license-footer",children:u.jsxs("span",{className:"created-date",children:["Mua ngy: ",te.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})})]},te.id)})})]})]}),U&&u.jsx("div",{className:"modal-overlay",onClick:()=>Y(null),children:u.jsxs("div",{className:"renew-modal",onClick:te=>te.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" Gia hn License"}),u.jsx("button",{className:"modal-close",onClick:()=>Y(null),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"renew-info",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",x(U.productId)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"License:"})," ",U.licenseKey]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ht hn:"})," ",U.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"renew-options",children:[u.jsx("h3",{children:"Chn gi gia hn:"}),Gm[U.productId]&&Object.entries(Gm[U.productId]).map(([te,q])=>u.jsxs("label",{className:`renew-option ${W===te?"selected":""}`,children:[u.jsx("input",{type:"radio",name:"renewPlan",value:te,checked:W===te,onChange:()=>ae(te)}),u.jsx("span",{className:"option-name",children:q.name}),u.jsxs("span",{className:"option-price",children:[ue(q.price),""]})]},te))]}),u.jsxs("div",{className:"renew-balance",children:[u.jsx("span",{children:"S d hin ti:"}),u.jsxs("span",{className:"balance-amount",children:[ue(e?.balance||0),""]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>Y(null),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:Ye,disabled:z,children:z?" ang x l...":" Xc nhn gia hn"})]})]})})]})}function _D(){const{currentUser:s,userProfile:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState(!0),[d,p]=k.useState("all");k.useEffect(()=>{async function R(){if(s){try{const C=gi(ft(we,"transactions"),pr("userId","==",s.uid));let Y=(await Sn(C)).docs.map(W=>({id:W.id,...W.data()}));Y.sort((W,ae)=>{const z=W.createdAt?.toDate?.()||new Date(0);return(ae.createdAt?.toDate?.()||new Date(0))-z}),console.log("Transactions fetched:",Y),a(Y)}catch(C){console.error("Error fetching transactions:",C),alert("Li ti giao dch: "+C.message)}c(!1)}}R()},[s]);function g(R){return new Intl.NumberFormat("vi-VN").format(R)}function y(){return d==="all"?n:n.filter(R=>R.type===d)}function T(R){switch(R){case"deposit":return"";case"license_purchase":return"";case"daily_deduct":return"";default:return""}}function b(R){switch(R){case"deposit":return"Np tin";case"license_purchase":return"Mua license";case"daily_deduct":return"Tr ngy";default:return R}}const S=e?.balance||0,O=y();return u.jsxs("div",{className:"profile-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"profile-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Thng tin ti khon"})]}),u.jsxs("div",{className:"user-info-card",children:[u.jsx("div",{className:"avatar",children:u.jsx("span",{children:e?.displayName?.[0]?.toUpperCase()||"?"})}),u.jsxs("div",{className:"user-details",children:[u.jsx("h2",{children:e?.displayName||"User"}),u.jsx("p",{className:"email",children:s?.email}),u.jsxs("p",{className:"member-since",children:["Thnh vin t: ",e?.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"balance-section",children:[u.jsx("div",{className:"balance-label",children:"S d"}),u.jsxs("div",{className:"balance-amount",children:[g(S),""]}),u.jsx(Re,{to:"/wallet",className:"btn-deposit",children:"Np tin"})]})]}),u.jsxs("div",{className:"transactions-section",children:[u.jsx("h2",{children:" Lch s giao dch"}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsx("button",{className:`tab ${d==="deposit"?"active":""}`,onClick:()=>p("deposit"),children:"Np tin"}),u.jsx("button",{className:`tab ${d==="license_purchase"?"active":""}`,onClick:()=>p("license_purchase"),children:"Mua license"}),u.jsx("button",{className:`tab ${d==="daily_deduct"?"active":""}`,onClick:()=>p("daily_deduct"),children:"Tr ngy"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):O.length===0?u.jsx("div",{className:"empty-text",children:"Cha c giao dch no"}):u.jsx("div",{className:"transactions-list",children:O.map(R=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:T(R.type)}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-type",children:b(R.type)}),u.jsx("div",{className:"tx-desc",children:R.description}),u.jsx("div",{className:"tx-date",children:R.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${R.amount>=0?"positive":"negative"}`,children:[R.amount>=0?"+":"",g(R.amount),""]})]},R.id))})]})]})]})}const Km={regfb:{name:"Reg Facebook Tool",icon:"",description:"Tool t ng ng k v verify ti khon Facebook hng lot",plans:{daily:{name:"Theo ngy",price:1e4,days:0,icon:"",description:"Tr 10k/ngy khi s dng"},monthly:{name:"1 Thng",price:2e5,days:30,icon:"",popular:!0},yearly:{name:"1 Nm",price:5e5,days:365,icon:""},lifetime:{name:"Vnh vin",price:6e5,days:-1,icon:""}}},clonetk:{name:"Clone TikTok Tool",icon:"",description:"Cng c clone video TikTok, qun l nhiu ti khon",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:15e3,days:0,icon:""},monthly:{name:"1 Thng",price:3e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:8e5,days:-1,icon:""}}},seoyt:{name:"YouTube SEO Tool",icon:"",description:"Ti u SEO video YouTube, tng view v subscriber",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:2e4,days:0,icon:""},monthly:{name:"1 Thng",price:4e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:1e6,days:-1,icon:""}}}};function BT(){const{currentUser:s,userProfile:e}=cn(),n=jl(),{productId:a}=Zw(),[l,c]=k.useState(a||"regfb"),[d,p]=k.useState("monthly"),[g,y]=k.useState(!1),[T,b]=k.useState(!1),[S,O]=k.useState(null),R=Km[l],C=R?.plans[d],U=e?.balance||0,{validateSubmission:Y,recordAttempt:W}=xg({maxAttempts:3,windowMs:36e5,cooldownMs:36e5});k.useEffect(()=>{a&&Km[a]&&c(a)},[a]);function ae(x){return new Intl.NumberFormat("vi-VN").format(x)}function z(){const x="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let L=0;L<4;L++){for(let V=0;V<4;V++)N+=x.charAt(Math.floor(Math.random()*x.length));L<3&&(N+="-")}return N}function oe(x){if(x<=0)return null;const N=new Date;return N.setDate(N.getDate()+x),N}async function ue(){if(!s){n("/login");return}if(R.comingSoon){alert("Sn phm ny sp ra mt!");return}if(U<C.price){alert("S d khng ! Vui lng np thm tin."),n("/wallet");return}const x=Y();if(!x.valid){alert(x.error);return}W(),y(!0);try{const N=z();let L;d==="daily"?(L=new Date,L.setDate(L.getDate()+1),L.setHours(23,59,59,999)):L=oe(C.days),await As(ft(we,"licenses"),{userId:s.uid,userEmail:s.email,productId:l,licenseKey:N,plan:d,planName:C.name,price:C.price,status:"active",hwid:null,expiresAt:L,createdAt:rn()}),await an(st(we,"users",s.uid),{balance:_c(-C.price)}),await As(ft(we,"transactions"),{userId:s.uid,type:"license_purchase",amount:-C.price,productId:l,description:`Mua ${R.name} - ${C.name}`,createdAt:rn()}),O({product:R.name,plan:C.name,licenseKey:N,expiresAt:L}),b(!1)}catch(N){console.error("Error purchasing license:",N),alert("C li xy ra. Vui lng th li!")}y(!1)}function I(){S?.licenseKey&&(navigator.clipboard.writeText(S.licenseKey),alert(" copy license key!"))}return S?u.jsxs("div",{className:"buy-page",children:[u.jsx(on,{}),u.jsx("div",{className:"buy-container",children:u.jsxs("div",{className:"success-section",children:[u.jsx("div",{className:"success-icon",children:""}),u.jsx("h1",{children:"Mua License Thnh Cng!"}),u.jsxs("p",{children:["Cm n bn  mua ",S.product]}),u.jsxs("div",{className:"license-display",children:[u.jsx("label",{children:"License Key ca bn:"}),u.jsxs("div",{className:"license-key",children:[u.jsx("code",{children:S.licenseKey}),u.jsx("button",{onClick:I,className:"btn-copy",children:" Copy"})]})]}),u.jsxs("div",{className:"purchase-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:S.product})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:S.plan})]}),S.expiresAt&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Ht hn:"}),u.jsx("span",{children:S.expiresAt.toLocaleDateString("vi-VN")})]})]}),u.jsxs("div",{className:"success-actions",children:[u.jsx(Re,{to:"/my-licenses",className:"btn-primary",children:"Xem License ca ti"}),u.jsx(Re,{to:"/dashboard",className:"btn-secondary",children:"V Dashboard"})]})]})})]}):u.jsxs("div",{className:"buy-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"buy-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Re,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Mua License"})]}),u.jsxs("div",{className:"balance-bar",children:[u.jsxs("div",{className:"balance-info",children:[u.jsx("span",{children:"S d:"}),u.jsxs("span",{className:"balance-amount",children:[ae(U),""]})]}),u.jsx(Re,{to:"/wallet",className:"btn-topup",children:" Np thm"})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"1 Chn sn phm"}),u.jsx("div",{className:"products-select",children:Object.entries(Km).map(([x,N])=>u.jsxs("div",{className:`product-option ${l===x?"selected":""} ${N.comingSoon?"coming-soon":""}`,onClick:()=>!N.comingSoon&&c(x),children:[u.jsx("div",{className:"product-icon",children:N.icon}),u.jsx("div",{className:"product-name",children:N.name}),N.comingSoon&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"})]},x))})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"2 Chn gi"}),u.jsx("div",{className:"plans-grid",children:Object.entries(R.plans).map(([x,N])=>u.jsxs("div",{className:`plan-card ${d===x?"selected":""} ${N.popular?"popular":""}`,onClick:()=>p(x),children:[N.popular&&u.jsx("div",{className:"popular-badge",children:"Ph bin"}),u.jsx("div",{className:"plan-icon",children:N.icon}),u.jsx("h3",{children:N.name}),u.jsx("div",{className:"plan-price",children:u.jsxs("span",{className:"price",children:[ae(N.price),""]})}),N.description&&u.jsx("p",{className:"plan-desc",children:N.description}),u.jsxs("ul",{className:"plan-features",children:[u.jsx("li",{children:" Ton b tnh nng"}),u.jsx("li",{children:" H tr 24/7"}),u.jsx("li",{children:" Cp nht min ph"}),x==="lifetime"&&u.jsx("li",{children:" Khng gii hn thi gian"}),x==="daily"&&u.jsx("li",{children:" Ch tr tin khi s dng"})]}),u.jsx("div",{className:"plan-select",children:d===x?"  chn":"Chn gi ny"})]},x))})]}),u.jsxs("div",{className:"checkout-section",children:[u.jsxs("div",{className:"checkout-summary",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:R.name})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:C.name})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Tng thanh ton:"}),u.jsxs("span",{className:"total-price",children:[ae(C.price),""]})]}),U<C.price&&u.jsxs("div",{className:"insufficient-warning",children:[" S d khng . Cn np thm ",ae(C.price-U),""]})]}),u.jsx("button",{className:"btn-checkout",onClick:()=>b(!0),disabled:g||R.comingSoon||U<C.price,children:g?u.jsx("span",{className:"loading-spinner"}):U<C.price?"S d khng ":u.jsxs(u.Fragment,{children:[" Mua ngay - ",ae(C.price),""]})})]}),T&&u.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:u.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[u.jsx("h2",{children:"Xc nhn mua hng"}),u.jsxs("div",{className:"confirm-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",R.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",C.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",ae(C.price),""]}),u.jsxs("p",{children:[u.jsx("strong",{children:"S d sau khi mua:"})," ",ae(U-C.price),""]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>b(!1),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:ue,disabled:g,children:g?"ang x l...":"Xc nhn mua"})]})]})})]})]})}function ED(){return u.jsxs("div",{className:"guide-page",children:[u.jsx(VS,{title:"Hng dn s dng",description:"Hng dn chi tit cch s dng Tool Reg/Very Facebook. Cc bc ci t, kch hot license, cu hnh Option v Setting.",keywords:"hng dn tool reg fb, cch dng tool very fb, tutorial php tool, ci t tool facebook"}),u.jsx(on,{}),u.jsxs("div",{className:"guide-container",children:[u.jsxs("div",{className:"guide-header",children:[u.jsx("h1",{children:" Hng Dn S Dng"}),u.jsx("p",{children:"Tool Reg/Very FB by PHP-TOOL"})]}),u.jsxs("div",{className:"guide-toc",children:[u.jsx("h2",{children:" Mc lc"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#intro",children:"1. Gii thiu chung"})}),u.jsx("li",{children:u.jsx("a",{href:"#features",children:"2. Cc chc nng chnh"})}),u.jsx("li",{children:u.jsx("a",{href:"#requirements",children:"3. iu kin s dng tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#steps",children:"4. Cc bc chy tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#options",children:"5. Ci t Option"})}),u.jsx("li",{children:u.jsx("a",{href:"#settings",children:"6. Ci t Setting"})}),u.jsx("li",{children:u.jsx("a",{href:"#support",children:"7. Lin h h tr"})})]})]}),u.jsxs("div",{className:"guide-content",children:[u.jsxs("section",{id:"intro",className:"guide-section",children:[u.jsx("h2",{children:"1. Gii thiu chung"}),u.jsx("p",{children:"Tool automatic Facebook account register and verification by PHP-TOOL gip vic to ti khon hay xc minh FB hng lot ca mi ngi tr nn d dng v nhanh chng thun tin."}),u.jsx("p",{children:"Giao din d dng thao tc s dng. Nhiu chc nng cho mi ngi la chn v s dng theo nhu cu v mc ch."}),u.jsx("p",{children:"Gi thu tool th r nht so vi th trng v quan trng l s h tr mi ngi trong qu trnh s dng, lng nghe s gp   tool hon thin hn."})]}),u.jsxs("section",{id:"features",className:"guide-section",children:[u.jsx("h2",{children:"2. Cc chc nng chnh"}),u.jsxs("div",{className:"features-table",children:[u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" REG (To ti khon)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," novery, hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," novery, hotmail, sms, gmail, virtual email"]})]})]}),u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" VERY (Xc minh)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," hotmail, sms, gmail, virtual email"]})]})]})]})]}),u.jsxs("section",{id:"requirements",className:"guide-section",children:[u.jsx("h2",{children:"3. iu kin s dng tool"}),u.jsxs("div",{className:"requirements-list",children:[u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"c dng th 1 ngy cho ngi mi"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Cn thu tool thng (200k) hoc vnh vin (600k)  s dng"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Tool chy c trn Windows, khng th chy trn VPS"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:" chy c tool cn c smartphone root hoc LDPlayer"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Khng c cu hnh my ti thiu, nu chy LD my yu chy t Tab"})]})]})]}),u.jsxs("section",{id:"steps",className:"guide-section",children:[u.jsx("h2",{children:"4. Cc bc chy tool"}),u.jsxs("div",{className:"step-list",children:[u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Gii nn file"}),u.jsx("p",{children:'Sau khi ti file rar tool v, n vo "Extract All"  gii nn'})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Ci t APK (nu dng in thoi)"}),u.jsx("p",{children:"n vo folder APK  tin hnh ci tt c cc app cn thit. Nu bn chy LDPlayer th b qua bc ny."})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"M Tool"}),u.jsx("p",{children:"n vo file ui .exe  m tool"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"4"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Kch hot License"}),u.jsx("p",{children:"n sao chp m HWID, sau  vo website  kch hot license"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"5"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Load thit b"}),u.jsx("p",{children:"Sau khi vo tool, chuyn sang tab Device  load thit b mun chy. C th tick tng thit b, bi en click chut phi n chn, hoc chn tt c."})]})]})]})]}),u.jsxs("section",{id:"options",className:"guide-section",children:[u.jsx("h2",{children:"5. Ci t Option"}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Hotmail"}),u.jsxs("p",{children:["C 3 site: ",u.jsx("code",{children:"unlimitmail"}),", ",u.jsx("code",{children:"dongvanfb"}),", ",u.jsx("code",{children:"shopvia1s"})]}),u.jsx("p",{className:"note",children:"dongvanfb v unlimitmail l hotmail new, cn shopvia l hotmail trust"}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."}),u.jsxs("p",{className:"tip",children:[" ",u.jsx("strong",{children:"Mo:"})," C th thay i loi email mua bng cch sa ID trong file ",u.jsx("code",{children:"data/[site].txt"}),". VD: Sa ",u.jsx("code",{children:"data/dongvanfb.txt"})," nhp s ",u.jsx("code",{children:"2"})," s mua Outlook thay v Hotmail."]})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" SMS"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"ironsim"}),", ",u.jsx("code",{children:"funotp"}),", ",u.jsx("code",{children:"otptextnow"}),", ",u.jsx("code",{children:"viotp"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Gmail"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"shopmailmmo"}),", ",u.jsx("code",{children:"shopgmail999"}),", ",u.jsx("code",{children:"gmail66"}),", ",u.jsx("code",{children:"clonenha"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Virtual Email"}),u.jsxs("p",{children:["C 7 site: ",u.jsx("code",{children:"10p"}),", ",u.jsx("code",{children:"tm"}),", ",u.jsx("code",{children:"temp"}),", ",u.jsx("code",{children:"saki"}),", ",u.jsx("code",{children:"fake"}),", ",u.jsx("code",{children:"generator"}),", ",u.jsx("code",{children:"drop"})]})]})]}),u.jsxs("section",{id:"settings",className:"guide-section",children:[u.jsx("h2",{children:"6. Ci t Setting"}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Ci t chung"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Reg/Very:"})," Chn reg hoc very (chn very khng th chn novery  option)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"App:"})," Chn app Katana hoc Lite"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Sex:"})," Chn male, female hoc random"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Language:"})," Chn VN (c trong in thoi/LD cng phi  ting Vit)"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Name & Password"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Name:"})," C last v first  t custom, hoc vo folder data thay i"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Password:"}),"  random (ngu nhin) hoc t t mt khu ring"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Bait:"})," Mi s in thoi, c th b u s mong mun vo file prefix number"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Change IP"}),u.jsxs("p",{children:["C 4 la chn: ",u.jsx("strong",{children:"4G"}),", ",u.jsx("strong",{children:"Wifi"}),", ",u.jsx("strong",{children:"Proxy"}),", ",u.jsx("strong",{children:"VPN"})]}),u.jsx("p",{children:"Ring Proxy xoay: Vo app Super Proxy, n du cng  thm proxy khi mua. Bt phn t ng i IP, nhp cc thng s v n Start."}),u.jsxs("p",{children:["Proxy list: Nhp danh sch proxy vo ",u.jsx("code",{children:"data/proxy.txt"})," vi nh dng ",u.jsx("code",{children:"ip:port:user:pass"})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Setting Time"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Time action:"})," Thi gian hnh ng (mun chm/nhanh)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time wait otp:"})," Thi gian ch ly OTP"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time buy:"})," Thi gian ch mua ti nguyn"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" File Input/Output"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"File account:"})," Nhp tk|mk  chy very"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File live:"})," Ti khon reg/very live"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File novery:"})," Ti khon cha xc minh"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File die:"})," Ti khon die"]})]})]})]}),u.jsxs("section",{id:"support",className:"guide-section support-section",children:[u.jsx("h2",{children:"7. Lin h h tr"}),u.jsxs("p",{className:"support-note",children:["Nu bn gp bt k vn  no trong qu trnh s dng hoc c  tng ng gp,",u.jsx("br",{}),"ng ngn ngi lin h vi mnh nh! "]}),u.jsx("div",{className:"support-cards centered",children:u.jsxs("a",{href:"https://t.me/phu_dev",target:"_blank",rel:"noopener noreferrer",className:"support-card",children:[u.jsx("span",{className:"support-icon",children:""}),u.jsx("span",{children:"Telegram"})]})}),u.jsx("p",{className:"support-footer",children:"Chc mi ngi s dng tool vui v v hiu qu! "})]})]})]})]})}function TD(){const{isAdmin:s,loading:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState(!0),[d,p]=k.useState("");k.useEffect(()=>{g()},[]);async function g(){try{const S=gi(ft(we,"users"),kc("createdAt","desc")),R=(await Sn(S)).docs.map(C=>({id:C.id,...C.data()}));a(R)}catch(S){console.error("Error fetching users:",S)}c(!1)}async function y(S,O){const R=O==="admin"?"user":"admin";try{await an(st(we,"users",S),{role:R}),a(n.map(C=>C.id===S?{...C,role:R}:C))}catch(C){console.error("Error updating role:",C)}}async function T(S){try{await wg(st(we,"users",S)),a(n.filter(O=>O.id!==S))}catch(O){console.error("Error deleting user:",O)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const b=n.filter(S=>S.email?.toLowerCase().includes(d.toLowerCase())||S.displayName?.toLowerCase().includes(d.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Users"}),u.jsxs("p",{children:["Tng cng: ",n.length," users"]})]}),u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo email hoc tn...",value:d,onChange:S=>p(S.target.value)})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Tn"}),u.jsx("th",{children:"Vai tr"}),u.jsx("th",{children:"Balance"}),u.jsx("th",{children:"Ngy to"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:b.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"email-cell",children:S.email}),u.jsx("td",{children:S.displayName||"-"}),u.jsx("td",{children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("td",{children:[S.balance?.toLocaleString("vi-VN")||0,""]}),u.jsx("td",{children:S.createdAt?.toDate?S.createdAt.toDate().toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action btn-toggle",onClick:()=>y(S.id,S.role),title:S.role==="admin"?"H xung User":"Nng ln Admin",children:S.role==="admin"?"":""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>T(S.id),title:"Xa user",children:""})]})]},S.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:b.map(S=>u.jsxs("div",{className:`mobile-card role-${S.role}`,children:[u.jsx("div",{className:"mobile-card-header",children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:S.email})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Tn:"}),u.jsx("span",{className:"value",children:S.displayName||"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S d:"}),u.jsxs("span",{className:"value amount",children:[S.balance?.toLocaleString("vi-VN")||0,""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:S.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:S.role==="admin"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>y(S.id,S.role),children:S.role==="admin"?" H QUYN":" NNG ADMIN"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>T(S.id),children:" XA"})]})]},S.id))})]})]})]})}function bD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let a="";for(let l=0;l<4;l++)a+=s.charAt(Math.floor(Math.random()*s.length));e.push(a)}return e.join("-")}function SD(){const{isAdmin:s,loading:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState({}),[d,p]=k.useState(!0),[g,y]=k.useState(!1),[T,b]=k.useState(""),[S,O]=k.useState({plan:"1_month",userId:"",userEmail:"",hwid:""});k.useEffect(()=>{R()},[]);async function R(){try{const z=await Sn(ft(we,"users")),oe={};z.docs.forEach(N=>{oe[N.id]=N.data()}),c(oe);const ue=gi(ft(we,"licenses"),kc("createdAt","desc")),x=(await Sn(ue)).docs.map(N=>({id:N.id,...N.data()}));a(x)}catch(z){console.error("Error fetching data:",z)}p(!1)}async function C(){try{const z=S.plan;let oe=null;z==="daily"?(oe=new Date,oe.setDate(oe.getDate()+1),oe.setHours(23,59,59,999)):z==="1_month"&&(oe=new Date(Date.now()+720*60*60*1e3));const ue=S.hwid&&S.hwid.trim()!=="",I=ue||S.userId,x={licenseKey:bD(),productId:"regfb",plan:z,status:I?"active":"pending",userId:S.userId||null,hwid:ue?S.hwid.trim():null,hwidHistory:[],createdAt:rn(),activatedAt:I?rn():null,expiresAt:oe},N=await As(ft(we,"licenses"),x);a([{id:N.id,...x,createdAt:new Date},...n]),y(!1),O({plan:"1_month",userId:"",userEmail:"",hwid:""})}catch(z){console.error("Error creating license:",z)}}async function U(z,oe){const ue=oe==="active"?"revoked":"active";try{await an(st(we,"licenses",z),{status:ue}),a(n.map(I=>I.id===z?{...I,status:ue}:I))}catch(I){console.error("Error updating status:",I)}}async function Y(z,oe){try{const I=n.find(x=>x.id===z).hwidHistory||[];oe&&I.push(oe),await an(st(we,"licenses",z),{hwid:null,hwidHistory:I}),a(n.map(x=>x.id===z?{...x,hwid:null,hwidHistory:I}:x))}catch(ue){console.error("Error resetting HWID:",ue)}}async function W(z){try{await wg(st(we,"licenses",z)),a(n.filter(oe=>oe.id!==z))}catch(oe){console.error("Error deleting license:",oe)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const ae=n.filter(z=>(z.licenseKey||z.key||"").toLowerCase().includes(T.toLowerCase())||l[z.userId]?.email?.toLowerCase().includes(T.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Licenses"}),u.jsxs("p",{children:["Tng cng: ",n.length," licenses"]})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo key hoc email...",value:T,onChange:z=>b(z.target.value)})]}),u.jsx("button",{className:"btn-create",onClick:()=>y(!0),children:" To License"})]})]}),d?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Key"}),u.jsx("th",{children:"Gi"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"}),u.jsx("th",{children:"Ht hn"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:ae.map(z=>u.jsxs("tr",{children:[u.jsxs("td",{className:"key-cell",children:[u.jsx("code",{children:z.licenseKey||z.key}),u.jsx("button",{className:"btn-copy-small",onClick:()=>navigator.clipboard.writeText(z.licenseKey||z.key),children:""})]}),u.jsx("td",{children:u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="daily"&&" Ngy",z.plan==="1_month"&&" 1 Thng",z.plan==="monthly"&&" 1 Thng",z.plan==="yearly"&&" 1 Nm",z.plan==="lifetime"&&" Vnh vin"]})}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&" Active",z.status==="pending"&&" Pending",z.status==="expired"&&" Expired",z.status==="revoked"&&" Revoked"]})}),u.jsx("td",{children:z.userId?l[z.userId]?.email||z.userId.substring(0,8)+"...":u.jsx("span",{className:"no-user",children:"Cha gn"})}),u.jsx("td",{children:z.hwid?u.jsxs("span",{className:"hwid-value",title:z.hwid,children:[z.hwid.substring(0,10),"..."]}):u.jsx("span",{className:"no-hwid",children:"-"})}),u.jsx("td",{children:z.plan==="lifetime"?"":z.expiresAt?.toDate?z.expiresAt.toDate().toLocaleDateString("vi-VN"):z.expiresAt?new Date(z.expiresAt).toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action",onClick:()=>U(z.id,z.status),title:z.status==="active"?"Thu hi":"Kch hot",children:z.status==="active"?"":""}),z.hwid&&u.jsx("button",{className:"btn-action",onClick:()=>Y(z.id,z.hwid),title:"Reset HWID",children:""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>W(z.id),title:"Xa",children:""})]})]},z.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:ae.map(z=>u.jsxs("div",{className:`mobile-card status-${z.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("code",{className:"license-key-mobile",children:z.licenseKey||z.key}),u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&"",z.status==="pending"&&"",z.status==="expired"&&"",z.status==="revoked"&&""]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="daily"&&" Ngy",z.plan==="1_month"&&" 1 Thng",z.plan==="monthly"&&" 1 Thng",z.plan==="yearly"&&" 1 Nm",z.plan==="lifetime"&&" Vnh vin"]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"User:"}),u.jsx("span",{className:"value",children:z.userId?l[z.userId]?.email||z.userId.substring(0,12)+"...":"Cha gn"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),u.jsx("span",{className:"value",children:z.hwid?z.hwid.substring(0,12)+"...":"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:z.plan==="lifetime"?" Vnh vin":z.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:z.status==="active"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>U(z.id,z.status),children:z.status==="active"?" THU HI":" KCH HOT"}),z.hwid&&u.jsx("button",{className:"btn-secondary-mobile",onClick:()=>Y(z.id,z.hwid),children:" RESET"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>W(z.id),children:""})]})]},z.id))})]})]}),g&&u.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:u.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" To License Mi"}),u.jsx("button",{className:"btn-close",onClick:()=>y(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gi License"}),u.jsxs("select",{value:S.plan,onChange:z=>O({...S,plan:z.target.value}),children:[u.jsx("option",{value:"daily",children:" Theo ngy - 10,000/ngy"}),u.jsx("option",{value:"1_month",children:" 1 Thng - 200,000"}),u.jsx("option",{value:"lifetime",children:" Vnh vin - 600,000"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gn cho User (ty chn)"}),u.jsxs("select",{value:S.userId,onChange:z=>O({...S,userId:z.target.value}),children:[u.jsx("option",{value:"",children:"-- Khng gn --"}),Object.entries(l).map(([z,oe])=>u.jsx("option",{value:z,children:oe.email},z))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"HWID my tnh (copy t tool)"}),u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:S.hwid,onChange:z=>O({...S,hwid:z.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontFamily:"monospace",fontSize:"0.85rem"}}),u.jsx("small",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.75rem"},children:"User m tool  Copy HWID  Paste vo y"})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>y(!1),children:"Hy"}),u.jsx("button",{className:"btn-submit",onClick:C,children:"To License"})]})]})})]})}function AD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let a="";for(let l=0;l<4;l++)a+=s.charAt(Math.floor(Math.random()*s.length));e.push(a)}return e.join("-")}function wD(){const{isAdmin:s,loading:e}=cn(),[n,a]=k.useState([]),[l,c]=k.useState(!0),[d,p]=k.useState("all");k.useEffect(()=>{g()},[]);async function g(){try{const R=gi(ft(we,"orders"),kc("createdAt","desc")),U=(await Sn(R)).docs.map(Y=>({id:Y.id,...Y.data()}));a(U)}catch(R){console.error("Error fetching orders:",R)}c(!1)}async function y(R){try{await an(st(we,"orders",R.id),{status:"paid",paidAt:rn()});const C=R.plan,U=C==="1_day"?1:C==="1_month"?30:-1,Y=U>0?new Date(Date.now()+U*24*60*60*1e3):null;await As(ft(we,"licenses"),{licenseKey:AD(),productId:"regfb",plan:C,status:"active",userId:R.userId,hwid:null,hwidHistory:[],createdAt:rn(),activatedAt:rn(),expiresAt:Y,orderId:R.orderId}),a(n.map(W=>W.id===R.id?{...W,status:"paid",paidAt:new Date}:W))}catch(C){console.error("Error confirming payment:",C)}}async function T(R){try{await an(st(we,"orders",R),{status:"cancelled"}),a(n.map(C=>C.id===R?{...C,status:"cancelled"}:C))}catch(C){console.error("Error cancelling order:",C)}}if(!e&&!s())return u.jsx(Dl,{to:"/dashboard"});const b=d==="all"?n:n.filter(R=>R.status===d),S=n.filter(R=>R.status==="pending").length;function O(R){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(R)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l n hng"}),u.jsxs("p",{children:["Tng cng: ",n.length," n",S>0&&u.jsxs("span",{className:"pending-alert",children:["  ",S," n ch x l"]})]})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsxs("button",{className:`tab ${d==="pending"?"active":""}`,onClick:()=>p("pending"),children:[" Ch x l (",S,")"]}),u.jsx("button",{className:`tab ${d==="paid"?"active":""}`,onClick:()=>p("paid"),children:"  thanh ton"}),u.jsx("button",{className:`tab ${d==="cancelled"?"active":""}`,onClick:()=>p("cancelled"),children:"  hy"})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):b.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Khng c n hng no"})]}):u.jsx("div",{className:"orders-grid",children:b.map(R=>u.jsxs("div",{className:`order-card status-${R.status}`,children:[u.jsxs("div",{className:"order-header",children:[u.jsxs("span",{className:"order-id",children:["#",R.orderId]}),u.jsxs("span",{className:`order-status status-${R.status}`,children:[R.status==="pending"&&" Ch thanh ton",R.status==="paid"&&"  thanh ton",R.status==="cancelled"&&"  hy"]})]}),u.jsxs("div",{className:"order-body",children:[u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:R.userEmail})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:`plan-badge plan-${R.plan}`,children:R.planName||R.plan})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsx("span",{className:"value amount",children:O(R.amount)})]}),u.jsxs("div",{className:"order-info",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:R.createdAt?.toDate?R.createdAt.toDate().toLocaleString("vi-VN"):"-"})]})]}),R.status==="pending"&&u.jsxs("div",{className:"order-actions",children:[u.jsx("button",{className:"btn-confirm",onClick:()=>y(R),children:" Xc nhn  thanh ton"}),u.jsx("button",{className:"btn-cancel-order",onClick:()=>T(R.id),children:" Hy"})]})]},R.id))})]})]})}function xD(){const{isAdmin:s}=cn(),[e,n]=k.useState([]),[a,l]=k.useState(!0),[c,d]=k.useState("all"),[p,g]=k.useState(null);k.useEffect(()=>{y()},[]);async function y(){l(!0);try{const C=gi(ft(we,"deposits"),kc("createdAt","desc")),Y=(await Sn(C)).docs.map(W=>({id:W.id,...W.data()}));console.log("Fetched deposits:",Y),n(Y)}catch(C){console.error("Error fetching deposits:",C)}l(!1)}function T(){return c==="all"?e:e.filter(C=>C.status===c)}async function b(C){console.log("Confirm clicked for deposit:",C),g(C.id);try{console.log("Updating deposit:",C.id),await an(st(we,"deposits",C.id),{status:"completed",completedAt:rn()}),console.log("Deposit updated"),console.log("Updating user balance:",C.userId),await an(st(we,"users",C.userId),{balance:_c(C.amount)}),console.log("User balance updated"),await As(ft(we,"transactions"),{userId:C.userId,type:"deposit",amount:C.amount,description:`Np tin - M GD: ${C.orderId}`,createdAt:rn()}),console.log("Transaction created"),y()}catch(U){console.error("Error confirming deposit:",U)}g(null)}async function S(C){console.log("Reject clicked for deposit:",C),g(C.id);try{await an(st(we,"deposits",C.id),{status:"rejected",rejectedAt:rn()}),y()}catch(U){console.error("Error rejecting deposit:",U)}g(null)}function O(C){return new Intl.NumberFormat("vi-VN").format(C)}if(!s())return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx("p",{children:"Bn cn quyn Admin  xem trang ny."}),u.jsx(Re,{to:"/dashboard",children:"V Dashboard"})]})})]});const R=T();return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:" Qun l np tin"}),u.jsx("button",{className:"btn-refresh",onClick:y,children:" Lm mi"})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsxs("button",{className:`tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:["Tt c (",e.length,")"]}),u.jsxs("button",{className:`tab ${c==="pending"?"active":""}`,onClick:()=>d("pending"),children:["Ch x l (",e.filter(C=>C.status==="pending").length,")"]}),u.jsxs("button",{className:`tab ${c==="completed"?"active":""}`,onClick:()=>d("completed"),children:[" np (",e.filter(C=>C.status==="completed").length,")"]})]}),a?u.jsx("div",{className:"loading",children:"ang ti..."}):R.length===0?u.jsx("div",{className:"empty",children:"Khng c yu cu np tin no"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"table-container desktop-only",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M GD"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"S tin"}),u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:R.map(C=>u.jsxs("tr",{children:[u.jsx("td",{className:"order-id",children:C.orderId}),u.jsx("td",{children:C.userEmail}),u.jsxs("td",{className:"amount",children:[O(C.amount),""]}),u.jsx("td",{className:"date",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch x l",C.status==="completed"&&"  np",C.status==="rejected"&&" T chi"]})}),u.jsxs("td",{className:"actions",children:[C.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-confirm",onClick:()=>b(C),disabled:p===C.id,children:p===C.id?"...":" Xc nhn"}),u.jsx("button",{className:"btn-reject",onClick:()=>S(C),disabled:p===C.id,children:" T chi"})]}),C.status!=="pending"&&u.jsx("span",{className:"processed",children:" x l"})]})]},C.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:R.map(C=>u.jsxs("div",{className:`mobile-card status-${C.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("span",{className:"mobile-card-id",children:C.orderId}),u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch",C.status==="completed"&&" Done",C.status==="rejected"&&" Reject"]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:C.userEmail})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value amount",children:[O(C.amount),""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Thi gian:"}),u.jsx("span",{className:"value",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]})]}),C.status==="pending"&&u.jsxs("div",{className:"mobile-card-actions",children:[u.jsxs("button",{className:"btn-confirm-mobile",onClick:()=>b(C),disabled:p===C.id,children:[p===C.id?"":""," XC NHN"]}),u.jsx("button",{className:"btn-reject-mobile",onClick:()=>S(C),disabled:p===C.id,children:" T CHI"})]})]},C.id))})]})]})]})}function ND(){const[s,e]=k.useState({today:0,thisMonth:0,total:0,uniqueToday:0,uniqueMonth:0,uniqueTotal:0,revenueToday:0,revenueMonth:0,revenueTotal:0,ordersToday:0,ordersMonth:0,ordersTotal:0}),[n,a]=k.useState(!0),[l,c]=k.useState([]);k.useEffect(()=>{p()},[]);function d(g){return new Intl.NumberFormat("vi-VN").format(g)}async function p(){a(!0);try{const g=new Date,y=g.getFullYear(),T=String(g.getMonth()+1).padStart(2,"0"),b=String(g.getDate()).padStart(2,"0"),S=`${y}-${T}-${b}`,O=`${y}-${T}`,R=ft(we,"usage_logs"),C=await Sn(R);let U=0,Y=0,W=0;const ae=new Set,z=new Set,oe=new Set,ue=[];C.docs.forEach(te=>{const q=te.data();W++,oe.add(q.hwid),q.date===S&&(U++,ae.add(q.hwid)),q.month===O&&(Y++,z.add(q.hwid)),ue.push({id:te.id,...q})}),ue.sort((te,q)=>{const se=te.timestamp?.toDate?.()||new Date(te.timestamp||0);return(q.timestamp?.toDate?.()||new Date(q.timestamp||0))-se});const I=ft(we,"transactions"),x=await Sn(I);let N=0,L=0,V=0,B=0,j=0,Ye=0;x.docs.forEach(te=>{const q=te.data();if(q.type==="license_purchase"&&q.amount<0){const se=Math.abs(q.amount),le=q.createdAt?.toDate?.();if(le){const ye=le.toISOString().split("T")[0],Ee=ye.substring(0,7);V+=se,Ye++,ye===S&&(N+=se,B++),Ee===O&&(L+=se,j++)}else V+=se,Ye++}}),e({today:U,thisMonth:Y,total:W,uniqueToday:ae.size,uniqueMonth:z.size,uniqueTotal:oe.size,revenueToday:N,revenueMonth:L,revenueTotal:V,ordersToday:B,ordersMonth:j,ordersTotal:Ye}),c(ue.slice(0,20))}catch(g){console.error("Error fetching stats:",g)}a(!1)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx(Re,{to:"/admin/users",className:"back-link",children:" Admin"}),u.jsx("h1",{children:" Thng k"}),u.jsx("button",{className:"btn-refresh",onClick:p,children:" Refresh"})]}),n?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem"},children:" Doanh thu"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueToday),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersToday," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueMonth),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersMonth," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueTotal),""]}),u.jsx("div",{className:"stat-label",children:"Tng doanh thu"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersTotal," n hng"]})]})]})]}),u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem",marginTop:"2rem"},children:" Lt s dng"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.today}),u.jsx("div",{className:"stat-label",children:"Lt dng hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueToday," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.thisMonth}),u.jsx("div",{className:"stat-label",children:"Lt dng thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueMonth," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.total}),u.jsx("div",{className:"stat-label",children:"Tng lt dng"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueTotal," ngi dng"]})]})]})]}),u.jsxs("div",{className:"section-card",style:{marginTop:"2rem"},children:[u.jsx("h2",{children:" Lch s s dng gn y"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"})]})}),u.jsx("tbody",{children:l.map(g=>u.jsxs("tr",{children:[u.jsx("td",{children:g.timestamp?.toDate?.().toLocaleString("vi-VN")||new Date(g.timestamp).toLocaleString("vi-VN")}),u.jsx("td",{children:g.userName||"Unknown"}),u.jsxs("td",{className:"hwid-cell",children:[g.hwid?.substring(0,16),"..."]})]},g.id))})]})})]})]})]})]})}function RD(){const{isAdmin:s}=cn(),[e,n]=k.useState({downloadUrl:"",version:"",changelog:"",updatedAt:null}),[a,l]=k.useState(!0),[c,d]=k.useState(!1);k.useEffect(()=>{p()},[]);async function p(){try{const y=st(we,"settings","software"),T=await Lc(y);T.exists()&&n(T.data())}catch(y){console.error("Error fetching settings:",y)}l(!1)}async function g(){d(!0);try{await Ag(st(we,"settings","software"),{...e,updatedAt:new Date})}catch(y){console.error("Error saving settings:",y)}d(!1)}return s()?u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsxs("div",{className:"admin-container",children:[u.jsx("div",{className:"admin-header",children:u.jsx("h1",{children:" Ci t phn mm"})}),a?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsx("div",{className:"settings-form",children:u.jsxs("div",{className:"settings-card",children:[u.jsx("h2",{children:" Link ti phn mm"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Version hin ti"}),u.jsx("input",{type:"text",placeholder:"VD: 1.0.0",value:e.version,onChange:y=>n({...e,version:y.target.value})}),u.jsx("small",{children:"Tool s check version ny  bo cp nht"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Link ti (Google Drive, MediaFire...)"}),u.jsx("input",{type:"text",placeholder:"https://drive.google.com/...",value:e.downloadUrl,onChange:y=>n({...e,downloadUrl:y.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Changelog (ty chn)"}),u.jsx("textarea",{placeholder:`- Tnh nng mi...
- Sa li...`,value:e.changelog||"",onChange:y=>n({...e,changelog:y.target.value}),rows:4})]}),e.updatedAt&&u.jsxs("p",{className:"last-updated",children:["Cp nht ln cui: ",new Date(e.updatedAt.seconds?e.updatedAt.seconds*1e3:e.updatedAt).toLocaleString("vi-VN")]}),u.jsx("button",{className:"btn-save",onClick:g,disabled:c,children:c?" ang lu...":" Lu ci t"})]})})]})]}):u.jsxs("div",{className:"admin-page",children:[u.jsx(on,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx(Re,{to:"/dashboard",children:"V Dashboard"})]})})]})}function Yn({children:s}){const{currentUser:e,loading:n}=cn();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?s:u.jsx(Dl,{to:"/login"})}function HT({children:s}){const{currentUser:e,loading:n}=cn();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?u.jsx(Dl,{to:"/dashboard"}):s}function CD(){return u.jsxs(mx,{children:[u.jsx(Ut,{path:"/",element:u.jsx(UT,{})}),u.jsx(Ut,{path:"/products",element:u.jsx(UT,{})}),u.jsx(Ut,{path:"/login",element:u.jsx(HT,{children:u.jsx(uD,{})})}),u.jsx(Ut,{path:"/register",element:u.jsx(HT,{children:u.jsx(hD,{})})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(Yn,{children:u.jsx(fD,{})})}),u.jsx(Ut,{path:"/wallet",element:u.jsx(Yn,{children:u.jsx(mD,{})})}),u.jsx(Ut,{path:"/my-licenses",element:u.jsx(Yn,{children:u.jsx(vD,{})})}),u.jsx(Ut,{path:"/guide",element:u.jsx(ED,{})}),u.jsx(Ut,{path:"/profile",element:u.jsx(Yn,{children:u.jsx(_D,{})})}),u.jsx(Ut,{path:"/buy",element:u.jsx(Yn,{children:u.jsx(BT,{})})}),u.jsx(Ut,{path:"/buy/:productId",element:u.jsx(Yn,{children:u.jsx(BT,{})})}),u.jsx(Ut,{path:"/admin/users",element:u.jsx(Yn,{children:u.jsx(TD,{})})}),u.jsx(Ut,{path:"/admin/licenses",element:u.jsx(Yn,{children:u.jsx(SD,{})})}),u.jsx(Ut,{path:"/admin/orders",element:u.jsx(Yn,{children:u.jsx(wD,{})})}),u.jsx(Ut,{path:"/admin/deposits",element:u.jsx(Yn,{children:u.jsx(xD,{})})}),u.jsx(Ut,{path:"/admin/stats",element:u.jsx(Yn,{children:u.jsx(ND,{})})}),u.jsx(Ut,{path:"/admin/settings",element:u.jsx(Yn,{children:u.jsx(RD,{})})}),u.jsx(Ut,{path:"*",element:u.jsx(Dl,{to:"/"})})]})}function ID(){return u.jsx(Lx,{children:u.jsx(sD,{children:u.jsx(CD,{})})})}Tw.createRoot(document.getElementById("root")).render(u.jsx(k.StrictMode,{children:u.jsx(ID,{})}));

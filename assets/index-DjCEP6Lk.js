(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();var _m={exports:{}},Ho={};var B_;function rw(){if(B_)return Ho;B_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Ho.Fragment=e,Ho.jsx=n,Ho.jsxs=n,Ho}var H_;function aw(){return H_||(H_=1,_m.exports=rw()),_m.exports}var u=aw(),Em={exports:{}},xe={};var q_;function lw(){if(q_)return xe;q_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function M(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function Y(P,ne,ue){this.props=P,this.context=ne,this.refs=D,this.updater=ue||j}Y.prototype.isReactComponent={},Y.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},Y.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function W(){}W.prototype=Y.prototype;function te(P,ne,ue){this.props=P,this.context=ne,this.refs=D,this.updater=ue||j}var z=te.prototype=new W;z.constructor=te,C(z,Y.prototype),z.isPureReactComponent=!0;var ce=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function N(P,ne,ue){var fe=ue.ref;return{$$typeof:s,type:P,key:ne,ref:fe!==void 0?fe:null,props:ue}}function L(P,ne){return N(P.type,ne,P.props)}function k(P){return typeof P=="object"&&P!==null&&P.$$typeof===s}function B(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ne[ue]})}var I=/\/+/g;function re(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?B(""+P.key):ne.toString(36)}function ye(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(le,le):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function K(P,ne,ue,fe,Ae){var je=typeof P;(je==="undefined"||je==="boolean")&&(P=null);var qe=!1;if(P===null)qe=!0;else switch(je){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(P.$$typeof){case s:case e:qe=!0;break;case T:return qe=P._init,K(qe(P._payload),ne,ue,fe,Ae)}}if(qe)return Ae=Ae(P),qe=fe===""?"."+re(P,0):fe,ce(Ae)?(ue="",qe!=null&&(ue=qe.replace(I,"$&/")+"/"),K(Ae,ne,ue,"",function(xr){return xr})):Ae!=null&&(k(Ae)&&(Ae=L(Ae,ue+(Ae.key==null||P&&P.key===Ae.key?"":(""+Ae.key).replace(I,"$&/")+"/")+qe)),ne.push(Ae)),1;qe=0;var kt=fe===""?".":fe+":";if(ce(P))for(var ot=0;ot<P.length;ot++)fe=P[ot],je=kt+re(fe,ot),qe+=K(fe,ne,ue,je,Ae);else if(ot=M(P),typeof ot=="function")for(P=ot.call(P),ot=0;!(fe=P.next()).done;)fe=fe.value,je=kt+re(fe,ot++),qe+=K(fe,ne,ue,je,Ae);else if(je==="object"){if(typeof P.then=="function")return K(ye(P),ne,ue,fe,Ae);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return qe}function ae(P,ne,ue){if(P==null)return P;var fe=[],Ae=0;return K(P,fe,"","",function(je){return ne.call(ue,je,Ae++)}),fe}function me(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var Te=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Me={map:ae,forEach:function(P,ne,ue){ae(P,function(){ne.apply(this,arguments)},ue)},count:function(P){var ne=0;return ae(P,function(){ne++}),ne},toArray:function(P){return ae(P,function(ne){return ne})||[]},only:function(P){if(!k(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return xe.Activity=b,xe.Children=Me,xe.Component=Y,xe.Fragment=n,xe.Profiler=l,xe.PureComponent=te,xe.StrictMode=r,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},xe.cache=function(P){return function(){return P.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(P,ne,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=C({},P.props),Ae=P.key;if(ne!=null)for(je in ne.key!==void 0&&(Ae=""+ne.key),ne)!x.call(ne,je)||je==="key"||je==="__self"||je==="__source"||je==="ref"&&ne.ref===void 0||(fe[je]=ne[je]);var je=arguments.length-2;if(je===1)fe.children=ue;else if(1<je){for(var qe=Array(je),kt=0;kt<je;kt++)qe[kt]=arguments[kt+2];fe.children=qe}return N(P.type,Ae,fe)},xe.createContext=function(P){return P={$$typeof:d,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:c,_context:P},P},xe.createElement=function(P,ne,ue){var fe,Ae={},je=null;if(ne!=null)for(fe in ne.key!==void 0&&(je=""+ne.key),ne)x.call(ne,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(Ae[fe]=ne[fe]);var qe=arguments.length-2;if(qe===1)Ae.children=ue;else if(1<qe){for(var kt=Array(qe),ot=0;ot<qe;ot++)kt[ot]=arguments[ot+2];Ae.children=kt}if(P&&P.defaultProps)for(fe in qe=P.defaultProps,qe)Ae[fe]===void 0&&(Ae[fe]=qe[fe]);return N(P,je,Ae)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(P){return{$$typeof:p,render:P}},xe.isValidElement=k,xe.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:me}},xe.memo=function(P,ne){return{$$typeof:y,type:P,compare:ne===void 0?null:ne}},xe.startTransition=function(P){var ne=R.T,ue={};R.T=ue;try{var fe=P(),Ae=R.S;Ae!==null&&Ae(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(le,Te)}catch(je){Te(je)}finally{ne!==null&&ue.types!==null&&(ne.types=ue.types),R.T=ne}},xe.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xe.use=function(P){return R.H.use(P)},xe.useActionState=function(P,ne,ue){return R.H.useActionState(P,ne,ue)},xe.useCallback=function(P,ne){return R.H.useCallback(P,ne)},xe.useContext=function(P){return R.H.useContext(P)},xe.useDebugValue=function(){},xe.useDeferredValue=function(P,ne){return R.H.useDeferredValue(P,ne)},xe.useEffect=function(P,ne){return R.H.useEffect(P,ne)},xe.useEffectEvent=function(P){return R.H.useEffectEvent(P)},xe.useId=function(){return R.H.useId()},xe.useImperativeHandle=function(P,ne,ue){return R.H.useImperativeHandle(P,ne,ue)},xe.useInsertionEffect=function(P,ne){return R.H.useInsertionEffect(P,ne)},xe.useLayoutEffect=function(P,ne){return R.H.useLayoutEffect(P,ne)},xe.useMemo=function(P,ne){return R.H.useMemo(P,ne)},xe.useOptimistic=function(P,ne){return R.H.useOptimistic(P,ne)},xe.useReducer=function(P,ne,ue){return R.H.useReducer(P,ne,ue)},xe.useRef=function(P){return R.H.useRef(P)},xe.useState=function(P){return R.H.useState(P)},xe.useSyncExternalStore=function(P,ne,ue){return R.H.useSyncExternalStore(P,ne,ue)},xe.useTransition=function(){return R.H.useTransition()},xe.version="19.2.1",xe}var F_;function gp(){return F_||(F_=1,Em.exports=lw()),Em.exports}var V=gp(),Tm={exports:{}},qo={},bm={exports:{}},Sm={};var G_;function ow(){return G_||(G_=1,(function(s){function e(K,ae){var me=K.length;K.push(ae);e:for(;0<me;){var Te=me-1>>>1,Me=K[Te];if(0<l(Me,ae))K[Te]=ae,K[me]=Me,me=Te;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ae=K[0],me=K.pop();if(me!==ae){K[0]=me;e:for(var Te=0,Me=K.length,P=Me>>>1;Te<P;){var ne=2*(Te+1)-1,ue=K[ne],fe=ne+1,Ae=K[fe];if(0>l(ue,me))fe<Me&&0>l(Ae,ue)?(K[Te]=Ae,K[fe]=me,Te=fe):(K[Te]=ue,K[ne]=me,Te=ne);else if(fe<Me&&0>l(Ae,me))K[Te]=Ae,K[fe]=me,Te=fe;else break e}}return ae}function l(K,ae){var me=K.sortIndex-ae.sortIndex;return me!==0?me:K.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var g=[],y=[],T=1,b=null,S=3,M=!1,j=!1,C=!1,D=!1,Y=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function z(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)r(y);else if(ae.startTime<=K)r(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function ce(K){if(C=!1,z(K),!j)if(n(g)!==null)j=!0,le||(le=!0,B());else{var ae=n(y);ae!==null&&ye(ce,ae.startTime-K)}}var le=!1,R=-1,x=5,N=-1;function L(){return D?!0:!(s.unstable_now()-N<x)}function k(){if(D=!1,le){var K=s.unstable_now();N=K;var ae=!0;try{e:{j=!1,C&&(C=!1,W(R),R=-1),M=!0;var me=S;try{t:{for(z(K),b=n(g);b!==null&&!(b.expirationTime>K&&L());){var Te=b.callback;if(typeof Te=="function"){b.callback=null,S=b.priorityLevel;var Me=Te(b.expirationTime<=K);if(K=s.unstable_now(),typeof Me=="function"){b.callback=Me,z(K),ae=!0;break t}b===n(g)&&r(g),z(K)}else r(g);b=n(g)}if(b!==null)ae=!0;else{var P=n(y);P!==null&&ye(ce,P.startTime-K),ae=!1}}break e}finally{b=null,S=me,M=!1}ae=void 0}}finally{ae?B():le=!1}}}var B;if(typeof te=="function")B=function(){te(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,re=I.port2;I.port1.onmessage=k,B=function(){re.postMessage(null)}}else B=function(){Y(k,0)};function ye(K,ae){R=Y(function(){K(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(K){K.callback=null},s.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<K?Math.floor(1e3/K):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(K){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var me=S;S=ae;try{return K()}finally{S=me}},s.unstable_requestPaint=function(){D=!0},s.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=S;S=K;try{return ae()}finally{S=me}},s.unstable_scheduleCallback=function(K,ae,me){var Te=s.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Te+me:Te):me=Te,K){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=me+Me,K={id:T++,callback:ae,priorityLevel:K,startTime:me,expirationTime:Me,sortIndex:-1},me>Te?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&(C?(W(R),R=-1):C=!0,ye(ce,me-Te))):(K.sortIndex=Me,e(g,K),j||M||(j=!0,le||(le=!0,B()))),K},s.unstable_shouldYield=L,s.unstable_wrapCallback=function(K){var ae=S;return function(){var me=S;S=ae;try{return K.apply(this,arguments)}finally{S=me}}}})(Sm)),Sm}var K_;function cw(){return K_||(K_=1,bm.exports=ow()),bm.exports}var Am={exports:{}},en={};var Q_;function uw(){if(Q_)return en;Q_=1;var s=gp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(g,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,en.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},en.flushSync=function(g){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=y,r.p=T,r.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:M}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=p(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},en.requestFormReset=function(g){r.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.1",en}var Y_;function hw(){if(Y_)return Am.exports;Y_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Am.exports=uw(),Am.exports}var $_;function dw(){if($_)return qo;$_=1;var s=cw(),e=gp(),n=hw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,o=i;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return g(f),t;if(m===o)return g(f),i;m=m.sibling}throw Error(r(188))}if(a.return!==o.return)a=f,o=m;else{for(var _=!1,A=f.child;A;){if(A===a){_=!0,a=f,o=m;break}if(A===o){_=!0,o=f,a=m;break}A=A.sibling}if(!_){for(A=m.child;A;){if(A===a){_=!0,a=m,o=f;break}if(A===o){_=!0,o=m,a=f;break}A=A.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),te=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case Y:return"Profiler";case D:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList";case N:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case te:return t.displayName||"Context";case W:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:re(t.type)||"Memo";case x:i=t._payload,t=t._init;try{return re(t(i))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Te=[],Me=-1;function P(t){return{current:t}}function ne(t){0>Me||(t.current=Te[Me],Te[Me]=null,Me--)}function ue(t,i){Me++,Te[Me]=t.current,t.current=i}var fe=P(null),Ae=P(null),je=P(null),qe=P(null);function kt(t,i){switch(ue(je,i),ue(Ae,t),ue(fe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?u_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=u_(i),t=h_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(fe),ue(fe,t)}function ot(){ne(fe),ne(Ae),ne(je)}function xr(t){t.memoizedState!==null&&ue(qe,t);var i=fe.current,a=h_(i,t.type);i!==a&&(ue(Ae,t),ue(fe,a))}function pa(t){Ae.current===t&&(ne(fe),ne(Ae)),qe.current===t&&(ne(qe),Po._currentValue=me)}var ga,ya;function pi(t){if(ga===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ga=i&&i[1]||"",ya=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ga+t+ya}var Ll=!1;function Nr(t,i){if(!t||Ll)return"";Ll=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(X){var Q=X}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(X){Q=X}t.call(ie.prototype)}}else{try{throw Error()}catch(X){Q=X}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),_=m[0],A=m[1];if(_&&A){var O=_.split(`
`),G=A.split(`
`);for(f=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(o===O.length||f===G.length)for(o=O.length-1,f=G.length-1;1<=o&&0<=f&&O[o]!==G[f];)f--;for(;1<=o&&0<=f;o--,f--)if(O[o]!==G[f]){if(o!==1||f!==1)do if(o--,f--,0>f||O[o]!==G[f]){var J=`
`+O[o].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=o&&0<=f);break}}}finally{Ll=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?pi(a):""}function Pl(t,i){switch(t.tag){case 26:case 27:case 5:return pi(t.type);case 16:return pi("Lazy");case 13:return t.child!==i&&i!==null?pi("Suspense Fallback"):pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return Nr(t.type,!1);case 11:return Nr(t.type.render,!1);case 1:return Nr(t.type,!0);case 31:return pi("Activity");default:return""}}function Ul(t){try{var i="",a=null;do i+=Pl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,Lt=s.unstable_scheduleCallback,ws=s.unstable_cancelCallback,Ed=s.unstable_shouldYield,jc=s.unstable_requestPaint,on=s.unstable_now,Rr=s.unstable_getCurrentPriorityLevel,zl=s.unstable_ImmediatePriority,Bl=s.unstable_UserBlockingPriority,xs=s.unstable_NormalPriority,Td=s.unstable_LowPriority,Dc=s.unstable_IdlePriority,Oc=s.log,Mc=s.unstable_setDisableYieldValue,Wn=null,Gt=null;function Dn(t){if(typeof Oc=="function"&&Mc(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Wn,t)}catch{}}var gt=Math.clz32?Math.clz32:kc,Vc=Math.log,va=Math.LN2;function kc(t){return t>>>=0,t===0?32:31-(Vc(t)/va|0)|0}var gi=256,Cr=262144,St=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var A=o&134217727;return A!==0?(o=A&~m,o!==0?f=yi(o):(_&=A,_!==0?f=yi(_):a||(a=A&~t,a!==0&&(f=yi(a))))):(A=o&~m,A!==0?f=yi(A):_!==0?f=yi(_):a||(a=o&~t,a!==0&&(f=yi(a)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,a=i&-i,m>=a||m===32&&(a&4194048)!==0)?i:f}function Jn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function bd(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lc(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function _i(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ir(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Sd(t,i,a,o,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,O=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var J=31-gt(a),ie=1<<J;A[J]=0,O[J]=-1;var Q=G[J];if(Q!==null)for(G[J]=null,J=0;J<Q.length;J++){var X=Q[J];X!==null&&(X.lane&=-536870913)}a&=~ie}o!==0&&jr(t,o,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~i))}function jr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-gt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Hl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-gt(a),f=1<<o;f&i|t[o]&i&&(t[o]|=i),a&=~f}}function ql(t,i){var a=i&-i;return a=(a&42)!==0?1:Dr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pc(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:M_(t.type))}function Zn(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ei=Math.random().toString(36).slice(2),At="__reactFiber$"+ei,Bt="__reactProps$"+ei,Ei="__reactContainer$"+ei,_a="__reactEvents$"+ei,Ad="__reactListeners$"+ei,Uc="__reactHandles$"+ei,zc="__reactResources$"+ei,Ti="__reactMarker$"+ei;function Ea(t){delete t[At],delete t[Bt],delete t[_a],delete t[Ad],delete t[Uc]}function bi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=v_(t);t!==null;){if(a=t[At])return a;t=v_(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[At]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function Tn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function Si(t){var i=t[zc];return i||(i=t[zc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[Ti]=!0}var Fl=new Set,Gl={};function Ai(t,i){wi(t,i),wi(t+"Capture",i)}function wi(t,i){for(Gl[t]=i,t=0;t<i.length;t++)Fl.add(i[t])}var Kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ql={},Yl={};function Bc(t){return bt.call(Yl,t)?!0:bt.call(Ql,t)?!1:Kl.test(t)?Yl[t]=!0:(Ql[t]=!0,!1)}function Ta(t,i,a){if(Bc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function bn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ht(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $l(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,m.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=Ns(t)?"checked":"value";t._valueTracker=$l(t,i,""+t[i])}}function Or(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Ns(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function xi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mr=/[\n"\\]/g;function hn(t){return t.replace(Mr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ba(t,i,a,o,f,m,_,A){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ht(i)):t.value!==""+Ht(i)&&(t.value=""+Ht(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Xl(t,_,Ht(i)):a!=null?Xl(t,_,Ht(a)):o!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+Ht(A):t.removeAttribute("name")}function Hc(t,i,a,o,f,m,_,A){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Ht(a):"",i=i!=null?""+Ht(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=A?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function Xl(t,i,a){i==="number"&&xi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Rs(t,i,a,o){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ht(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function qc(t,i,a){if(i!=null&&(i=""+Ht(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ht(a):""}function Cs(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(r(92));if(ye(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ht(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Xe(t)}function dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Fc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Fc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Jl(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in i)o=i[f],i.hasOwnProperty(f)&&a[f]!==o&&Wl(t,f,o)}else for(var m in i)i.hasOwnProperty(m)&&Wl(t,m,i[m])}function Sa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Is.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var Zl=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var js=null,Ni=null;function Vr(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Bt]||null;e:switch(t=i.stateNode,i.type){case"input":if(ba(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+hn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var f=o[Bt]||null;if(!f)throw Error(r(90));ba(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&Or(o)}break e;case"textarea":qc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Rs(t,!!a.multiple,i,!1)}}}var wa=!1;function Ds(t,i,a){if(wa)return t(i,a);wa=!0;try{var o=t(i);return o}finally{if(wa=!1,(js!==null||Ni!==null)&&(Pu(),js&&(i=js,t=Ni,Ni=js=null,Vr(i),t)))for(i=0;i<t.length;i++)Vr(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Bt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(Vn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{kr=!1}var Ri=null,eo=null,Lr=null;function to(){if(Lr)return Lr;var t,i=eo,a=i.length,o,f="value"in Ri?Ri.value:Ri.textContent,m=f.length;for(t=0;t<a&&i[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===f[m-o];o++);return Lr=f.slice(t,1<o?1-o:void 0)}function Pr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Yi(){return!0}function ii(){return!1}function Kt(t){function i(a,o,f,m,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(m):m[A]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Yi:ii,this.isPropagationStopped=ii,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yi)},persist:function(){},isPersistent:Yi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Kt($i),Os=b({},$i,{view:0,detail:0}),no=Kt(Os),Ms,xa,Ii,Na=b({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ii&&(Ii&&t.type==="mousemove"?(Ms=t.screenX-Ii.screenX,xa=t.screenY-Ii.screenY):xa=Ms=0,Ii=t),Ms)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),io=Kt(Na),Ur=b({},Na,{dataTransfer:0}),Kc=Kt(Ur),Qc=b({},Os,{relatedTarget:0}),zr=Kt(Qc),so=b({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),Yc=Kt(so),Ra=b({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$c=Kt(Ra),Xc=b({},$i,{data:0}),ji=Kt(Xc),Wc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Zc[t])?!!i[t]:!1}function Vs(){return eu}var cn=b({},Os,{key:function(t){if(t.key){var i=Wc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Pr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Jc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?Pr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tu=Kt(cn),nu=b({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Kt(nu),h=b({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),v=Kt(h),E=b({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Kt(E),q=b({},Na,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Kt(q),oe=b({},$i,{newState:0,oldState:0}),Ce=Kt(oe),yt=[9,13,27,32],Qe=Vn&&"CompositionEvent"in window,ct=null;Vn&&"documentMode"in document&&(ct=document.documentMode);var kn=Vn&&"TextEvent"in window&&!ct,Di=Vn&&(!Qe||ct&&8<ct&&11>=ct),si=" ",ri=!1;function Br(t,i){switch(t){case"keyup":return yt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function CS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(ri=!0,si);case"textInput":return t=i.data,t===si&&ri?null:t;default:return null}}function IS(t,i){if(Ia)return t==="compositionend"||!Qe&&Br(t,i)?(t=to(),Lr=eo=Ri=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!jS[t.type]:i==="textarea"}function bg(t,i,a,o){js?Ni?Ni.push(o):Ni=[o]:js=o,i=Gu(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var ro=null,ao=null;function DS(t){s_(t,0)}function iu(t){var i=Tn(t);if(Or(i))return t}function Sg(t,i){if(t==="change")return i}var Ag=!1;if(Vn){var wd;if(Vn){var xd="oninput"in document;if(!xd){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),xd=typeof wg.oninput=="function"}wd=xd}else wd=!1;Ag=wd&&(!document.documentMode||9<document.documentMode)}function xg(){ro&&(ro.detachEvent("onpropertychange",Ng),ao=ro=null)}function Ng(t){if(t.propertyName==="value"&&iu(ao)){var i=[];bg(i,ao,t,Mn(t)),Ds(DS,i)}}function OS(t,i,a){t==="focusin"?(xg(),ro=i,ao=a,ro.attachEvent("onpropertychange",Ng)):t==="focusout"&&xg()}function MS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return iu(ao)}function VS(t,i){if(t==="click")return iu(i)}function kS(t,i){if(t==="input"||t==="change")return iu(i)}function LS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Sn=typeof Object.is=="function"?Object.is:LS;function lo(t,i){if(Sn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!bt.call(i,f)||!Sn(t[f],i[f]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cg(t,i){var a=Rg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function Ig(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Ig(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=xi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=xi(t.document)}return i}function Nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var PS=Vn&&"documentMode"in document&&11>=document.documentMode,ja=null,Rd=null,oo=null,Cd=!1;function Dg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cd||ja==null||ja!==xi(o)||(o=ja,"selectionStart"in o&&Nd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&lo(oo,o)||(oo=o,o=Gu(Rd,"onSelect"),0<o.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ja)))}function Hr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Da={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Id={},Og={};Vn&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function qr(t){if(Id[t])return Id[t];if(!Da[t])return t;var i=Da[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Og)return Id[t]=i[a];return t}var Mg=qr("animationend"),Vg=qr("animationiteration"),kg=qr("animationstart"),US=qr("transitionrun"),zS=qr("transitionstart"),BS=qr("transitioncancel"),Lg=qr("transitionend"),Pg=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jd.push("scrollEnd");function ai(t,i){Pg.set(t,i),Ai(i,[t])}var su=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ln=[],Oa=0,Dd=0;function ru(){for(var t=Oa,i=Dd=Oa=0;i<t;){var a=Ln[i];Ln[i++]=null;var o=Ln[i];Ln[i++]=null;var f=Ln[i];Ln[i++]=null;var m=Ln[i];if(Ln[i++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}m!==0&&Ug(a,f,m)}}function au(t,i,a,o){Ln[Oa++]=t,Ln[Oa++]=i,Ln[Oa++]=a,Ln[Oa++]=o,Dd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Od(t,i,a,o){return au(t,i,a,o),lu(t)}function Fr(t,i){return au(t,null,null,i),lu(t)}function Ug(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,f&&i!==null&&(f=31-gt(a),t=m.hiddenUpdates,o=t[f],o===null?t[f]=[i]:o.push(i),i.lane=a|536870912),m):null}function lu(t){if(50<jo)throw jo=0,qf=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={};function HS(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,i,a,o){return new HS(t,i,a,o)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wi(t,i){var a=t.alternate;return a===null?(a=An(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ou(t,i,a,o,f,m){var _=0;if(o=t,typeof t=="function")Md(t)&&(_=1);else if(typeof t=="string")_=QA(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case N:return t=An(31,a,i,f),t.elementType=N,t.lanes=m,t;case C:return Gr(a.children,f,m,i);case D:_=8,f|=24;break;case Y:return t=An(12,a,i,f|2),t.elementType=Y,t.lanes=m,t;case ce:return t=An(13,a,i,f),t.elementType=ce,t.lanes=m,t;case le:return t=An(19,a,i,f),t.elementType=le,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case W:_=9;break e;case z:_=11;break e;case R:_=14;break e;case x:_=16,o=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),o=null}return i=An(_,a,i,f),i.elementType=t,i.type=o,i.lanes=m,i}function Gr(t,i,a,o){return t=An(7,t,o,i),t.lanes=a,t}function Vd(t,i,a){return t=An(6,t,null,i),t.lanes=a,t}function Bg(t){var i=An(18,null,null,0);return i.stateNode=t,i}function kd(t,i,a){return i=An(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Hg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=Hg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ul(i)},Hg.set(t,i),i)}return{value:t,source:i,stack:Ul(i)}}var Va=[],ka=0,cu=null,co=0,Un=[],zn=0,ks=null,Oi=1,Mi="";function Ji(t,i){Va[ka++]=co,Va[ka++]=cu,cu=t,co=i}function qg(t,i,a){Un[zn++]=Oi,Un[zn++]=Mi,Un[zn++]=ks,ks=t;var o=Oi;t=Mi;var f=32-gt(o)-1;o&=~(1<<f),a+=1;var m=32-gt(i)+f;if(30<m){var _=f-f%5;m=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Oi=1<<32-gt(i)+f|a<<f|o,Mi=m+t}else Oi=1<<m|a<<f|o,Mi=t}function Ld(t){t.return!==null&&(Ji(t,1),qg(t,1,0))}function Pd(t){for(;t===cu;)cu=Va[--ka],Va[ka]=null,co=Va[--ka],Va[ka]=null;for(;t===ks;)ks=Un[--zn],Un[zn]=null,Mi=Un[--zn],Un[zn]=null,Oi=Un[--zn],Un[zn]=null}function Fg(t,i){Un[zn++]=Oi,Un[zn++]=Mi,Un[zn++]=ks,Oi=i.id,Mi=i.overflow,ks=t}var Qt=null,rt=null,He=!1,Ls=null,Bn=!1,Ud=Error(r(519));function Ps(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uo(Pn(i,t)),Ud}function Gg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[At]=t,i[Bt]=o,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Oo.length;a++)ke(Oo[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Hc(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Cs(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||o_(i.textContent,a)?(o.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),o.onScroll!=null&&ke("scroll",i),o.onScrollEnd!=null&&ke("scrollend",i),o.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Ps(t,!0)}function Kg(t){for(Qt=t.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Qt=Qt.return}}function La(t){if(t!==Qt)return!1;if(!He)return Kg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sm(t.type,t.memoizedProps)),a=!a),a&&rt&&Ps(t),Kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=y_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));rt=y_(t)}else i===27?(i=rt,Js(t.type)?(t=cm,cm=null,rt=t):rt=i):rt=Qt?qn(t.stateNode.nextSibling):null;return!0}function Kr(){rt=Qt=null,He=!1}function zd(){var t=Ls;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),Ls=null),t}function uo(t){Ls===null?Ls=[t]:Ls.push(t)}var Bd=P(null),Qr=null,Zi=null;function Us(t,i,a){ue(Bd,i._currentValue),i._currentValue=a}function es(t){t._currentValue=Bd.current,ne(Bd)}function Hd(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function qd(t,i,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var A=m;m=f;for(var O=0;O<i.length;O++)if(A.context===i[O]){m.lanes|=a,A=m.alternate,A!==null&&(A.lanes|=a),Hd(m.return,a,t),o||(_=null);break e}m=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Hd(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Pa(t,i,a,o){t=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var A=f.type;Sn(f.pendingProps.value,_.value)||(t!==null?t.push(A):t=[A])}}else if(f===qe.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Po):t=[Po])}f=f.return}t!==null&&qd(i,t,a,o),i.flags|=262144}function uu(t){for(t=t.firstContext;t!==null;){if(!Sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Qr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Qg(Qr,t)}function hu(t,i){return Qr===null&&Yr(t),Qg(t,i)}function Qg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(r(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var qS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},FS=s.unstable_scheduleCallback,GS=s.unstable_NormalPriority,Nt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fd(){return{controller:new qS,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var fo=null,Gd=0,Ua=0,za=null;function KS(t,i){if(fo===null){var a=fo=[];Gd=0,Ua=$f(),za={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Gd++,i.then(Yg,Yg),i}function Yg(){if(--Gd===0&&fo!==null){za!==null&&(za.status="fulfilled");var t=fo;fo=null,Ua=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function QS(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var $g=K.S;K.S=function(t,i){Dv=on(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&KS(t,i),$g!==null&&$g(t,i)};var $r=P(null);function Kd(){var t=$r.current;return t!==null?t:it.pooledCache}function du(t,i){i===null?ue($r,$r.current):ue($r,i.pool)}function Xg(){var t=Kd();return t===null?null:{parent:Nt._currentValue,pool:t}}var Ba=Error(r(460)),Qd=Error(r(474)),fu=Error(r(542)),mu={then:function(){}};function Wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=o}},function(o){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,ey(t),t}throw Wr=i,Ba}}function Xr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Ba):a}}var Wr=null;function Zg(){if(Wr===null)throw Error(r(459));var t=Wr;return Wr=null,t}function ey(t){if(t===Ba||t===fu)throw Error(r(483))}var Ha=null,mo=0;function pu(t){var i=mo;return mo+=1,Ha===null&&(Ha=[]),Jg(Ha,t,i)}function po(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function gu(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ty(t){function i(H,U){if(t){var F=H.deletions;F===null?(H.deletions=[U],H.flags|=16):F.push(U)}}function a(H,U){if(!t)return null;for(;U!==null;)i(H,U),U=U.sibling;return null}function o(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function f(H,U){return H=Wi(H,U),H.index=0,H.sibling=null,H}function m(H,U,F){return H.index=F,t?(F=H.alternate,F!==null?(F=F.index,F<U?(H.flags|=67108866,U):F):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function A(H,U,F,Z){return U===null||U.tag!==6?(U=Vd(F,H.mode,Z),U.return=H,U):(U=f(U,F),U.return=H,U)}function O(H,U,F,Z){var ve=F.type;return ve===C?J(H,U,F.props.children,Z,F.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Xr(ve)===U.type)?(U=f(U,F.props),po(U,F),U.return=H,U):(U=ou(F.type,F.key,F.props,null,H.mode,Z),po(U,F),U.return=H,U)}function G(H,U,F,Z){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=kd(F,H.mode,Z),U.return=H,U):(U=f(U,F.children||[]),U.return=H,U)}function J(H,U,F,Z,ve){return U===null||U.tag!==7?(U=Gr(F,H.mode,Z,ve),U.return=H,U):(U=f(U,F),U.return=H,U)}function ie(H,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Vd(""+U,H.mode,F),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return F=ou(U.type,U.key,U.props,null,H.mode,F),po(F,U),F.return=H,F;case j:return U=kd(U,H.mode,F),U.return=H,U;case x:return U=Xr(U),ie(H,U,F)}if(ye(U)||B(U))return U=Gr(U,H.mode,F,null),U.return=H,U;if(typeof U.then=="function")return ie(H,pu(U),F);if(U.$$typeof===te)return ie(H,hu(H,U),F);gu(H,U)}return null}function Q(H,U,F,Z){var ve=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ve!==null?null:A(H,U,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case M:return F.key===ve?O(H,U,F,Z):null;case j:return F.key===ve?G(H,U,F,Z):null;case x:return F=Xr(F),Q(H,U,F,Z)}if(ye(F)||B(F))return ve!==null?null:J(H,U,F,Z,null);if(typeof F.then=="function")return Q(H,U,pu(F),Z);if(F.$$typeof===te)return Q(H,U,hu(H,F),Z);gu(H,F)}return null}function X(H,U,F,Z,ve){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return H=H.get(F)||null,A(U,H,""+Z,ve);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case M:return H=H.get(Z.key===null?F:Z.key)||null,O(U,H,Z,ve);case j:return H=H.get(Z.key===null?F:Z.key)||null,G(U,H,Z,ve);case x:return Z=Xr(Z),X(H,U,F,Z,ve)}if(ye(Z)||B(Z))return H=H.get(F)||null,J(U,H,Z,ve,null);if(typeof Z.then=="function")return X(H,U,F,pu(Z),ve);if(Z.$$typeof===te)return X(H,U,F,hu(U,Z),ve);gu(U,Z)}return null}function pe(H,U,F,Z){for(var ve=null,Ge=null,ge=U,De=U=0,Pe=null;ge!==null&&De<F.length;De++){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var Ke=Q(H,ge,F[De],Z);if(Ke===null){ge===null&&(ge=Pe);break}t&&ge&&Ke.alternate===null&&i(H,ge),U=m(Ke,U,De),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke,ge=Pe}if(De===F.length)return a(H,ge),He&&Ji(H,De),ve;if(ge===null){for(;De<F.length;De++)ge=ie(H,F[De],Z),ge!==null&&(U=m(ge,U,De),Ge===null?ve=ge:Ge.sibling=ge,Ge=ge);return He&&Ji(H,De),ve}for(ge=o(ge);De<F.length;De++)Pe=X(ge,H,De,F[De],Z),Pe!==null&&(t&&Pe.alternate!==null&&ge.delete(Pe.key===null?De:Pe.key),U=m(Pe,U,De),Ge===null?ve=Pe:Ge.sibling=Pe,Ge=Pe);return t&&ge.forEach(function(ir){return i(H,ir)}),He&&Ji(H,De),ve}function Ee(H,U,F,Z){if(F==null)throw Error(r(151));for(var ve=null,Ge=null,ge=U,De=U=0,Pe=null,Ke=F.next();ge!==null&&!Ke.done;De++,Ke=F.next()){ge.index>De?(Pe=ge,ge=null):Pe=ge.sibling;var ir=Q(H,ge,Ke.value,Z);if(ir===null){ge===null&&(ge=Pe);break}t&&ge&&ir.alternate===null&&i(H,ge),U=m(ir,U,De),Ge===null?ve=ir:Ge.sibling=ir,Ge=ir,ge=Pe}if(Ke.done)return a(H,ge),He&&Ji(H,De),ve;if(ge===null){for(;!Ke.done;De++,Ke=F.next())Ke=ie(H,Ke.value,Z),Ke!==null&&(U=m(Ke,U,De),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return He&&Ji(H,De),ve}for(ge=o(ge);!Ke.done;De++,Ke=F.next())Ke=X(ge,H,De,Ke.value,Z),Ke!==null&&(t&&Ke.alternate!==null&&ge.delete(Ke.key===null?De:Ke.key),U=m(Ke,U,De),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return t&&ge.forEach(function(sw){return i(H,sw)}),He&&Ji(H,De),ve}function nt(H,U,F,Z){if(typeof F=="object"&&F!==null&&F.type===C&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case M:e:{for(var ve=F.key;U!==null;){if(U.key===ve){if(ve=F.type,ve===C){if(U.tag===7){a(H,U.sibling),Z=f(U,F.props.children),Z.return=H,H=Z;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===x&&Xr(ve)===U.type){a(H,U.sibling),Z=f(U,F.props),po(Z,F),Z.return=H,H=Z;break e}a(H,U);break}else i(H,U);U=U.sibling}F.type===C?(Z=Gr(F.props.children,H.mode,Z,F.key),Z.return=H,H=Z):(Z=ou(F.type,F.key,F.props,null,H.mode,Z),po(Z,F),Z.return=H,H=Z)}return _(H);case j:e:{for(ve=F.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(H,U.sibling),Z=f(U,F.children||[]),Z.return=H,H=Z;break e}else{a(H,U);break}else i(H,U);U=U.sibling}Z=kd(F,H.mode,Z),Z.return=H,H=Z}return _(H);case x:return F=Xr(F),nt(H,U,F,Z)}if(ye(F))return pe(H,U,F,Z);if(B(F)){if(ve=B(F),typeof ve!="function")throw Error(r(150));return F=ve.call(F),Ee(H,U,F,Z)}if(typeof F.then=="function")return nt(H,U,pu(F),Z);if(F.$$typeof===te)return nt(H,U,hu(H,F),Z);gu(H,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(H,U.sibling),Z=f(U,F),Z.return=H,H=Z):(a(H,U),Z=Vd(F,H.mode,Z),Z.return=H,H=Z),_(H)):a(H,U)}return function(H,U,F,Z){try{mo=0;var ve=nt(H,U,F,Z);return Ha=null,ve}catch(ge){if(ge===Ba||ge===fu)throw ge;var Ge=An(29,ge,null,H.mode);return Ge.lanes=Z,Ge.return=H,Ge}finally{}}}var Jr=ty(!0),ny=ty(!1),zs=!1;function Yd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $d(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var f=o.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),o.pending=i,i=lu(t),Ug(t,null,a),i}return au(t,o,i,a),lu(t)}function go(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Hl(t,a)}}function Xd(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=i:m=m.next=i}else f=m=i;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wd=!1;function yo(){if(Wd){var t=za;if(t!==null)throw t}}function vo(t,i,a,o){Wd=!1;var f=t.updateQueue;zs=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var O=A,G=O.next;O.next=null,_===null?m=G:_.next=G,_=O;var J=t.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==_&&(A===null?J.firstBaseUpdate=G:A.next=G,J.lastBaseUpdate=O))}if(m!==null){var ie=f.baseState;_=0,J=G=O=null,A=m;do{var Q=A.lane&-536870913,X=Q!==A.lane;if(X?(Le&Q)===Q:(o&Q)===Q){Q!==0&&Q===Ua&&(Wd=!0),J!==null&&(J=J.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var pe=t,Ee=A;Q=i;var nt=a;switch(Ee.tag){case 1:if(pe=Ee.payload,typeof pe=="function"){ie=pe.call(nt,ie,Q);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Ee.payload,Q=typeof pe=="function"?pe.call(nt,ie,Q):pe,Q==null)break e;ie=b({},ie,Q);break e;case 2:zs=!0}}Q=A.callback,Q!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?(G=J=X,O=ie):J=J.next=X,_|=Q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;X=A,A=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);J===null&&(O=ie),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=J,m===null&&(f.shared.lanes=0),Qs|=_,t.lanes=_,t.memoizedState=ie}}function iy(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function sy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iy(a[t],i)}var qa=P(null),yu=P(0);function ry(t,i){t=cs,ue(yu,t),ue(qa,i),cs=t|i.baseLanes}function Jd(){ue(yu,cs),ue(qa,qa.current)}function Zd(){cs=yu.current,ne(qa),ne(yu)}var wn=P(null),Hn=null;function qs(t){var i=t.alternate;ue(vt,vt.current&1),ue(wn,t),Hn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Hn=t)}function ef(t){ue(vt,vt.current),ue(wn,t),Hn===null&&(Hn=t)}function ay(t){t.tag===22?(ue(vt,vt.current),ue(wn,t),Hn===null&&(Hn=t)):Fs()}function Fs(){ue(vt,vt.current),ue(wn,wn.current)}function xn(t){ne(wn),Hn===t&&(Hn=null),ne(vt)}var vt=P(0);function vu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lm(a)||om(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ts=0,Ie=null,et=null,Rt=null,_u=!1,Fa=!1,Zr=!1,Eu=0,_o=0,Ga=null,YS=0;function ft(){throw Error(r(321))}function tf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Sn(t[a],i[a]))return!1;return!0}function nf(t,i,a,o,f,m){return ts=m,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?qy:vf,Zr=!1,m=a(o,f),Zr=!1,Fa&&(m=oy(i,a,o,f)),ly(t),m}function ly(t){K.H=bo;var i=et!==null&&et.next!==null;if(ts=0,Rt=et=Ie=null,_u=!1,_o=0,Ga=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&uu(t)&&(Ct=!0))}function oy(t,i,a,o){Ie=t;var f=0;do{if(Fa&&(Ga=null),_o=0,Fa=!1,25<=f)throw Error(r(301));if(f+=1,Rt=et=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=Fy,m=i(a,o)}while(Fa);return m}function $S(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Eo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function sf(){var t=Eu!==0;return Eu=0,t}function rf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function af(t){if(_u){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}_u=!1}ts=0,Rt=et=Ie=null,Fa=!1,_o=Eu=0,Ga=null}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Rt===null?Ie.memoizedState:Rt.next;if(i!==null)Rt=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Rt===null?Ie.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(t){var i=_o;return _o+=1,Ga===null&&(Ga=[]),t=Jg(Ga,t,i),i=Ie,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?qy:vf),t}function bu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Eo(t);if(t.$$typeof===te)return Yt(t)}throw Error(r(438,String(t)))}function lf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ie.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Tu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=L;return i.index++,a}function ns(t,i){return typeof i=="function"?i(t):i}function Su(t){var i=_t();return of(i,et,t)}function of(t,i,a){var o=t.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var f=t.baseQueue,m=o.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}i.baseQueue=f=m,o.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{i=f.next;var A=_=null,O=null,G=i,J=!1;do{var ie=G.lane&-536870913;if(ie!==G.lane?(Le&ie)===ie:(ts&ie)===ie){var Q=G.revertLane;if(Q===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ie===Ua&&(J=!0);else if((ts&Q)===Q){G=G.next,Q===Ua&&(J=!0);continue}else ie={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=ie,_=m):O=O.next=ie,Ie.lanes|=Q,Qs|=Q;ie=G.action,Zr&&a(m,ie),m=G.hasEagerState?G.eagerState:a(m,ie)}else Q={lane:ie,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(A=O=Q,_=m):O=O.next=Q,Ie.lanes|=ie,Qs|=ie;G=G.next}while(G!==null&&G!==i);if(O===null?_=m:O.next=A,!Sn(m,t.memoizedState)&&(Ct=!0,J&&(a=za,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=O,o.lastRenderedState=m}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function cf(t){var i=_t(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,m=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);Sn(m,i.memoizedState)||(Ct=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,o]}function cy(t,i,a){var o=Ie,f=_t(),m=He;if(m){if(a===void 0)throw Error(r(407));a=a()}else a=i();var _=!Sn((et||f).memoizedState,a);if(_&&(f.memoizedState=a,Ct=!0),f=f.queue,df(dy.bind(null,o,f,t),[t]),f.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,Ka(9,{destroy:void 0},hy.bind(null,o,f,a,i),null),it===null)throw Error(r(349));m||(ts&127)!==0||uy(o,i,a)}return a}function uy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Tu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hy(t,i,a,o){i.value=a,i.getSnapshot=o,fy(i)&&my(t)}function dy(t,i,a){return a(function(){fy(i)&&my(t)})}function fy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Sn(t,a)}catch{return!0}}function my(t){var i=Fr(t,2);i!==null&&yn(i,t,2)}function uf(t){var i=un();if(typeof t=="function"){var a=t;if(t=a(),Zr){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},i}function py(t,i,a,o){return t.baseState=a,of(t,et,typeof o=="function"?o:ns)}function XS(t,i,a,o,f){if(xu(t))throw Error(r(485));if(t=i.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};K.T!==null?a(!0):m.isTransition=!1,o(m),a=i.pending,a===null?(m.next=i.pending=m,gy(i,m)):(m.next=a.next,i.pending=a.next=m)}}function gy(t,i){var a=i.action,o=i.payload,f=t.state;if(i.isTransition){var m=K.T,_={};K.T=_;try{var A=a(f,o),O=K.S;O!==null&&O(_,A),yy(t,i,A)}catch(G){hf(t,i,G)}finally{m!==null&&_.types!==null&&(m.types=_.types),K.T=m}}else try{m=a(f,o),yy(t,i,m)}catch(G){hf(t,i,G)}}function yy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){vy(t,i,o)},function(o){return hf(t,i,o)}):vy(t,i,a)}function vy(t,i,a){i.status="fulfilled",i.value=a,_y(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gy(t,a)))}function hf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,_y(i),i=i.next;while(i!==o)}t.action=null}function _y(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ey(t,i){return i}function Ty(t,i){if(He){var a=it.formState;if(a!==null){e:{var o=Ie;if(He){if(rt){t:{for(var f=rt,m=Bn;f.nodeType!==8;){if(!m){f=null;break t}if(f=qn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){rt=qn(f.nextSibling),o=f.data==="F!";break e}}Ps(o)}o=!1}o&&(i=a[0])}}return a=un(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ey,lastRenderedState:i},a.queue=o,a=zy.bind(null,Ie,o),o.dispatch=a,o=uf(!1),m=yf.bind(null,Ie,!1,o.queue),o=un(),f={state:i,dispatch:null,action:t,pending:null},o.queue=f,a=XS.bind(null,Ie,f,m,a),f.dispatch=a,o.memoizedState=t,[i,a,!1]}function by(t){var i=_t();return Sy(i,et,t)}function Sy(t,i,a){if(i=of(t,i,Ey)[0],t=Su(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Eo(i)}catch(_){throw _===Ba?fu:_}else o=i;i=_t();var f=i.queue,m=f.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ka(9,{destroy:void 0},WS.bind(null,f,a),null)),[o,m,t]}function WS(t,i){t.action=i}function Ay(t){var i=_t(),a=et;if(a!==null)return Sy(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function Ka(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Tu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function wy(){return _t().memoizedState}function Au(t,i,a,o){var f=un();Ie.flags|=t,f.memoizedState=Ka(1|i,{destroy:void 0},a,o===void 0?null:o)}function wu(t,i,a,o){var f=_t();o=o===void 0?null:o;var m=f.memoizedState.inst;et!==null&&o!==null&&tf(o,et.memoizedState.deps)?f.memoizedState=Ka(i,m,a,o):(Ie.flags|=t,f.memoizedState=Ka(1|i,m,a,o))}function xy(t,i){Au(8390656,8,t,i)}function df(t,i){wu(2048,8,t,i)}function JS(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=Tu(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ny(t){var i=_t().memoizedState;return JS({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ry(t,i){return wu(4,2,t,i)}function Cy(t,i){return wu(4,4,t,i)}function Iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function jy(t,i,a){a=a!=null?a.concat([t]):null,wu(4,4,Iy.bind(null,i,t),a)}function ff(){}function Dy(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&tf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Oy(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&tf(i,o[1]))return o[0];if(o=t(),Zr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[o,i],o}function mf(t,i,a){return a===void 0||(ts&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Mv(),Ie.lanes|=t,Qs|=t,a)}function My(t,i,a,o){return Sn(a,i)?a:qa.current!==null?(t=mf(t,a,o),Sn(t,i)||(Ct=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(Le&261930)===0?(Ct=!0,t.memoizedState=a):(t=Mv(),Ie.lanes|=t,Qs|=t,i)}function Vy(t,i,a,o,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var _=K.T,A={};K.T=A,yf(t,!1,i,a);try{var O=f(),G=K.S;if(G!==null&&G(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var J=QS(O,o);To(t,i,J,Cn(t))}else To(t,i,o,Cn(t))}catch(ie){To(t,i,{then:function(){},status:"rejected",reason:ie},Cn())}finally{ae.p=m,_!==null&&A.types!==null&&(_.types=A.types),K.T=_}}function ZS(){}function pf(t,i,a,o){if(t.tag!==5)throw Error(r(476));var f=ky(t).queue;Vy(t,f,i,me,a===null?ZS:function(){return Ly(t),a(o)})}function ky(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ly(t){var i=ky(t);i.next===null&&(i=t.alternate.memoizedState),To(t,i.next.queue,{},Cn())}function gf(){return Yt(Po)}function Py(){return _t().memoizedState}function Uy(){return _t().memoizedState}function eA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Bs(a);var o=Hs(i,t,a);o!==null&&(yn(o,i,a),go(o,i,a)),i={cache:Fd()},t.payload=i;return}i=i.return}}function tA(t,i,a){var o=Cn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xu(t)?By(i,a):(a=Od(t,i,a,o),a!==null&&(yn(a,t,o),Hy(a,i,o)))}function zy(t,i,a){var o=Cn();To(t,i,a,o)}function To(t,i,a,o){var f={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(xu(t))By(i,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,A=m(_,a);if(f.hasEagerState=!0,f.eagerState=A,Sn(A,_))return au(t,i,f,0),it===null&&ru(),!1}catch{}finally{}if(a=Od(t,i,f,o),a!==null)return yn(a,t,o),Hy(a,i,o),!0}return!1}function yf(t,i,a,o){if(o={lane:2,revertLane:$f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xu(t)){if(i)throw Error(r(479))}else i=Od(t,a,o,2),i!==null&&yn(i,t,2)}function xu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function By(t,i){Fa=_u=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Hy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Hl(t,a)}}var bo={readContext:Yt,use:bu,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};bo.useEffectEvent=ft;var qy={readContext:Yt,use:bu,useCallback:function(t,i){return un().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:xy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Au(4194308,4,Iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Au(4194308,4,t,i)},useInsertionEffect:function(t,i){Au(4,2,t,i)},useMemo:function(t,i){var a=un();i=i===void 0?null:i;var o=t();if(Zr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=un();if(a!==void 0){var f=a(i);if(Zr){Dn(!0);try{a(i)}finally{Dn(!1)}}}else f=i;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=tA.bind(null,Ie,t),[o.memoizedState,t]},useRef:function(t){var i=un();return t={current:t},i.memoizedState=t},useState:function(t){t=uf(t);var i=t.queue,a=zy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ff,useDeferredValue:function(t,i){var a=un();return mf(a,t,i)},useTransition:function(){var t=uf(!1);return t=Vy.bind(null,Ie,t.queue,!0,!1),un().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ie,f=un();if(He){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),it===null)throw Error(r(349));(Le&127)!==0||uy(o,i,a)}f.memoizedState=a;var m={value:a,getSnapshot:i};return f.queue=m,xy(dy.bind(null,o,m,t),[t]),o.flags|=2048,Ka(9,{destroy:void 0},hy.bind(null,o,m,a,i),null),a},useId:function(){var t=un(),i=it.identifierPrefix;if(He){var a=Mi,o=Oi;a=(o&~(1<<32-gt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Eu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=YS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:gf,useFormState:Ty,useActionState:Ty,useOptimistic:function(t){var i=un();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:lf,useCacheRefresh:function(){return un().memoizedState=eA.bind(null,Ie)},useEffectEvent:function(t){var i=un(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},vf={readContext:Yt,use:bu,useCallback:Dy,useContext:Yt,useEffect:df,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:Su,useRef:wy,useState:function(){return Su(ns)},useDebugValue:ff,useDeferredValue:function(t,i){var a=_t();return My(a,et.memoizedState,t,i)},useTransition:function(){var t=Su(ns)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Eo(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:gf,useFormState:by,useActionState:by,useOptimistic:function(t,i){var a=_t();return py(a,et,t,i)},useMemoCache:lf,useCacheRefresh:Uy};vf.useEffectEvent=Ny;var Fy={readContext:Yt,use:bu,useCallback:Dy,useContext:Yt,useEffect:df,useImperativeHandle:jy,useInsertionEffect:Ry,useLayoutEffect:Cy,useMemo:Oy,useReducer:cf,useRef:wy,useState:function(){return cf(ns)},useDebugValue:ff,useDeferredValue:function(t,i){var a=_t();return et===null?mf(a,t,i):My(a,et.memoizedState,t,i)},useTransition:function(){var t=cf(ns)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:Eo(t),i]},useSyncExternalStore:cy,useId:Py,useHostTransitionStatus:gf,useFormState:Ay,useActionState:Ay,useOptimistic:function(t,i){var a=_t();return et!==null?py(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:lf,useCacheRefresh:Uy};Fy.useEffectEvent=Ny;function _f(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ef={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Cn(),f=Bs(o);f.payload=i,a!=null&&(f.callback=a),i=Hs(t,f,o),i!==null&&(yn(i,t,o),go(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Cn(),f=Bs(o);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Hs(t,f,o),i!==null&&(yn(i,t,o),go(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),o=Bs(a);o.tag=2,i!=null&&(o.callback=i),i=Hs(t,o,a),i!==null&&(yn(i,t,a),go(i,t,a))}};function Gy(t,i,a,o,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,_):i.prototype&&i.prototype.isPureReactComponent?!lo(a,o)||!lo(f,m):!0}function Ky(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&Ef.enqueueReplaceState(i,i.state,null)}function ea(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function Qy(t){su(t)}function Yy(t){console.error(t)}function $y(t){su(t)}function Nu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Xy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Tf(t,i,a){return a=Bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Nu(t,i)},a}function Wy(t){return t=Bs(t),t.tag=3,t}function Jy(t,i,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;t.payload=function(){return f(m)},t.callback=function(){Xy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Xy(i,a,o),typeof f!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})})}function nA(t,i,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,f,!0),a=wn.current,a!==null){switch(a.tag){case 31:case 13:return Hn===null?Uu():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===mu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Kf(t,o,f)),!1;case 22:return a.flags|=65536,o===mu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Kf(t,o,f)),!1}throw Error(r(435,a.tag))}return Kf(t,o,f),Uu(),!1}if(He)return i=wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,o!==Ud&&(t=Error(r(422),{cause:o}),uo(Pn(t,a)))):(o!==Ud&&(i=Error(r(423),{cause:o}),uo(Pn(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=Pn(o,a),f=Tf(t.stateNode,o,f),Xd(t,f),mt!==4&&(mt=2)),!1;var m=Error(r(520),{cause:o});if(m=Pn(m,a),Io===null?Io=[m]:Io.push(m),mt!==4&&(mt=2),i===null)return!0;o=Pn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Tf(a.stateNode,o,t),Xd(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ys===null||!Ys.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Wy(f),Jy(f,t,a,o),Xd(a,f),!1}a=a.return}while(a!==null);return!1}var bf=Error(r(461)),Ct=!1;function $t(t,i,a,o){i.child=t===null?ny(i,null,a,o):Jr(i,t.child,a,o)}function Zy(t,i,a,o,f){a=a.render;var m=i.ref;if("ref"in o){var _={};for(var A in o)A!=="ref"&&(_[A]=o[A])}else _=o;return Yr(i),o=nf(t,i,a,_,m,f),A=sf(),t!==null&&!Ct?(rf(t,i,f),is(t,i,f)):(He&&A&&Ld(i),i.flags|=1,$t(t,i,o,f),i.child)}function ev(t,i,a,o,f){if(t===null){var m=a.type;return typeof m=="function"&&!Md(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,tv(t,i,m,o,f)):(t=ou(a.type,null,o,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!If(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:lo,a(_,o)&&t.ref===i.ref)return is(t,i,f)}return i.flags|=1,t=Wi(m,o),t.ref=i.ref,t.return=i,i.child=t}function tv(t,i,a,o,f){if(t!==null){var m=t.memoizedProps;if(lo(m,o)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=o=m,If(t,f))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,is(t,i,f)}return Sf(t,i,a,o,f)}function nv(t,i,a,o){var f=o.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,t!==null){for(o=i.child=t.child,f=0;o!==null;)f=f|o.lanes|o.childLanes,o=o.sibling;o=f&~m}else o=0,i.child=null;return iv(t,i,m,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(i,m!==null?m.cachePool:null),m!==null?ry(i,m):Jd(),ay(i);else return o=i.lanes=536870912,iv(t,i,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(du(i,m.cachePool),ry(i,m),Fs(),i.memoizedState=null):(t!==null&&du(i,null),Jd(),Fs());return $t(t,i,f,a),i.child}function So(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function iv(t,i,a,o,f){var m=Kd();return m=m===null?null:{parent:Nt._currentValue,pool:m},i.memoizedState={baseLanes:a,cachePool:m},t!==null&&du(i,null),Jd(),ay(i),t!==null&&Pa(t,i,o,!0),i.childLanes=f,null}function Ru(t,i){return i=Iu({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function sv(t,i,a){return Jr(i,t.child,null,a),t=Ru(i,i.pendingProps),t.flags|=2,xn(i),i.memoizedState=null,t}function iA(t,i,a){var o=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(o.mode==="hidden")return t=Ru(i,o),i.lanes=536870912,So(null,t);if(ef(i),(t=rt)?(t=g_(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,Qt=i,rt=null)):t=null,t===null)throw Ps(i);return i.lanes=536870912,null}return Ru(i,o)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(ef(i),f)if(i.flags&256)i.flags&=-257,i=sv(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Pa(t,i,a,!1),f=(a&t.childLanes)!==0,Ct||f){if(o=it,o!==null&&(_=ql(o,a),_!==0&&_!==m.retryLane))throw m.retryLane=_,Fr(t,_),yn(o,t,_),bf;Uu(),i=sv(t,i,a)}else t=m.treeContext,rt=qn(_.nextSibling),Qt=i,He=!0,Ls=null,Bn=!1,t!==null&&Fg(i,t),i=Ru(i,o),i.flags|=4096;return i}return t=Wi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Cu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Sf(t,i,a,o,f){return Yr(i),a=nf(t,i,a,o,void 0,f),o=sf(),t!==null&&!Ct?(rf(t,i,f),is(t,i,f)):(He&&o&&Ld(i),i.flags|=1,$t(t,i,a,f),i.child)}function rv(t,i,a,o,f,m){return Yr(i),i.updateQueue=null,a=oy(i,o,a,f),ly(t),o=sf(),t!==null&&!Ct?(rf(t,i,m),is(t,i,m)):(He&&o&&Ld(i),i.flags|=1,$t(t,i,a,m),i.child)}function av(t,i,a,o,f){if(Yr(i),i.stateNode===null){var m=Ma,_=a.contextType;typeof _=="object"&&_!==null&&(m=Yt(_)),m=new a(o,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Ef,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=o,m.state=i.memoizedState,m.refs={},Yd(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?Yt(_):Ma,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(_f(i,a,_,o),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Ef.enqueueReplaceState(m,m.state,null),vo(i,o,m,f),yo(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){m=i.stateNode;var A=i.memoizedProps,O=ea(a,A);m.props=O;var G=m.context,J=a.contextType;_=Ma,typeof J=="object"&&J!==null&&(_=Yt(J));var ie=a.getDerivedStateFromProps;J=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(A||G!==_)&&Ky(i,m,o,_),zs=!1;var Q=i.memoizedState;m.state=Q,vo(i,o,m,f),yo(),G=i.memoizedState,A||Q!==G||zs?(typeof ie=="function"&&(_f(i,a,ie,o),G=i.memoizedState),(O=zs||Gy(i,a,O,o,Q,G,_))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=G),m.props=o,m.state=G,m.context=_,o=O):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{m=i.stateNode,$d(t,i),_=i.memoizedProps,J=ea(a,_),m.props=J,ie=i.pendingProps,Q=m.context,G=a.contextType,O=Ma,typeof G=="object"&&G!==null&&(O=Yt(G)),A=a.getDerivedStateFromProps,(G=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==ie||Q!==O)&&Ky(i,m,o,O),zs=!1,Q=i.memoizedState,m.state=Q,vo(i,o,m,f),yo();var X=i.memoizedState;_!==ie||Q!==X||zs||t!==null&&t.dependencies!==null&&uu(t.dependencies)?(typeof A=="function"&&(_f(i,a,A,o),X=i.memoizedState),(J=zs||Gy(i,a,J,o,Q,X,O)||t!==null&&t.dependencies!==null&&uu(t.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,X,O),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,X,O)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),m.props=o,m.state=X,m.context=O,o=J):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),o=!1)}return m=o,Cu(t,i),o=(i.flags&128)!==0,m||o?(m=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&o?(i.child=Jr(i,t.child,null,f),i.child=Jr(i,null,a,f)):$t(t,i,a,f),i.memoizedState=m.state,t=i.child):t=is(t,i,f),t}function lv(t,i,a,o){return Kr(),i.flags|=256,$t(t,i,a,o),i.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wf(t){return{baseLanes:t,cachePool:Xg()}}function xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function ov(t,i,a){var o=i.pendingProps,f=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(f?qs(i):Fs(),(t=rt)?(t=g_(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Bg(t),a.return=i,i.child=a,Qt=i,rt=null)):t=null,t===null)throw Ps(i);return om(t)?i.lanes=32:i.lanes=536870912,null}var A=o.children;return o=o.fallback,f?(Fs(),f=i.mode,A=Iu({mode:"hidden",children:A},f),o=Gr(o,f,a,null),A.return=i,o.return=i,A.sibling=o,i.child=A,o=i.child,o.memoizedState=wf(a),o.childLanes=xf(t,_,a),i.memoizedState=Af,So(null,o)):(qs(i),Nf(i,A))}var O=t.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(m)i.flags&256?(qs(i),i.flags&=-257,i=Rf(t,i,a)):i.memoizedState!==null?(Fs(),i.child=t.child,i.flags|=128,i=null):(Fs(),A=o.fallback,f=i.mode,o=Iu({mode:"visible",children:o.children},f),A=Gr(A,f,a,null),A.flags|=2,o.return=i,A.return=i,o.sibling=A,i.child=o,Jr(i,t.child,null,a),o=i.child,o.memoizedState=wf(a),o.childLanes=xf(t,_,a),i.memoizedState=Af,i=So(null,o));else if(qs(i),om(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var G=_.dgst;_=G,o=Error(r(419)),o.stack="",o.digest=_,uo({value:o,source:null,stack:null}),i=Rf(t,i,a)}else if(Ct||Pa(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=it,_!==null&&(o=ql(_,a),o!==0&&o!==O.retryLane))throw O.retryLane=o,Fr(t,o),yn(_,t,o),bf;lm(A)||Uu(),i=Rf(t,i,a)}else lm(A)?(i.flags|=192,i.child=t.child,i=null):(t=O.treeContext,rt=qn(A.nextSibling),Qt=i,He=!0,Ls=null,Bn=!1,t!==null&&Fg(i,t),i=Nf(i,o.children),i.flags|=4096);return i}return f?(Fs(),A=o.fallback,f=i.mode,O=t.child,G=O.sibling,o=Wi(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,G!==null?A=Wi(G,A):(A=Gr(A,f,a,null),A.flags|=2),A.return=i,o.return=i,o.sibling=A,i.child=o,So(null,o),o=i.child,A=t.child.memoizedState,A===null?A=wf(a):(f=A.cachePool,f!==null?(O=Nt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Xg(),A={baseLanes:A.baseLanes|a,cachePool:f}),o.memoizedState=A,o.childLanes=xf(t,_,a),i.memoizedState=Af,So(t.child,o)):(qs(i),a=t.child,t=a.sibling,a=Wi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Nf(t,i){return i=Iu({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Iu(t,i){return t=An(22,t,null,i),t.lanes=0,t}function Rf(t,i,a){return Jr(i,t.child,null,a),t=Nf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function cv(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Hd(t.return,i,a)}function Cf(t,i,a,o,f,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f,treeForkCount:m}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=f,_.treeForkCount=m)}function uv(t,i,a){var o=i.pendingProps,f=o.revealOrder,m=o.tail;o=o.children;var _=vt.current,A=(_&2)!==0;if(A?(_=_&1|2,i.flags|=128):_&=1,ue(vt,_),$t(t,i,o,a),o=He?co:0,!A&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cv(t,a,i);else if(t.tag===19)cv(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&vu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Cf(i,!1,f,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&vu(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Cf(i,!0,a,null,m,o);break;case"together":Cf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function is(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Qs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Wi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Wi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function If(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&uu(t)))}function sA(t,i,a){switch(i.tag){case 3:kt(i,i.stateNode.containerInfo),Us(i,Nt,t.memoizedState.cache),Kr();break;case 27:case 5:xr(i);break;case 4:kt(i,i.stateNode.containerInfo);break;case 10:Us(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ef(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(qs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?ov(t,i,a):(qs(i),t=is(t,i,a),t!==null?t.sibling:null);qs(i);break;case 19:var f=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Pa(t,i,a,!1),o=(a&i.childLanes)!==0),f){if(o)return uv(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(vt,vt.current),o)break;return null;case 22:return i.lanes=0,nv(t,i,a,i.pendingProps);case 24:Us(i,Nt,t.memoizedState.cache)}return is(t,i,a)}function hv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!If(t,a)&&(i.flags&128)===0)return Ct=!1,sA(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,He&&(i.flags&1048576)!==0&&qg(i,co,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=Xr(i.elementType),i.type=t,typeof t=="function")Md(t)?(o=ea(t,o),i.tag=1,i=av(null,i,t,o,a)):(i.tag=0,i=Sf(null,i,t,o,a));else{if(t!=null){var f=t.$$typeof;if(f===z){i.tag=11,i=Zy(null,i,t,o,a);break e}else if(f===R){i.tag=14,i=ev(null,i,t,o,a);break e}}throw i=re(t)||t,Error(r(306,i,""))}}return i;case 0:return Sf(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,f=ea(o,i.pendingProps),av(t,i,o,f,a);case 3:e:{if(kt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));o=i.pendingProps;var m=i.memoizedState;f=m.element,$d(t,i),vo(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Us(i,Nt,o),o!==m.cache&&qd(i,[Nt],a,!0),yo(),o=_.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=lv(t,i,o,a);break e}else if(o!==f){f=Pn(Error(r(424)),i),uo(f),i=lv(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(rt=qn(t.firstChild),Qt=i,He=!0,Ls=null,Bn=!0,a=ny(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kr(),o===f){i=is(t,i,a);break e}$t(t,i,o,a)}i=i.child}return i;case 26:return Cu(t,i),t===null?(a=b_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,o=Ku(je.current).createElement(a),o[At]=i,o[Bt]=t,Xt(o,a,t),wt(o),i.stateNode=o):i.memoizedState=b_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return xr(i),t===null&&He&&(o=i.stateNode=__(i.type,i.pendingProps,je.current),Qt=i,Bn=!0,f=rt,Js(i.type)?(cm=f,rt=qn(o.firstChild)):rt=f),$t(t,i,i.pendingProps.children,a),Cu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((f=o=rt)&&(o=MA(o,i.type,i.pendingProps,Bn),o!==null?(i.stateNode=o,Qt=i,rt=qn(o.firstChild),Bn=!1,f=!0):f=!1),f||Ps(i)),xr(i),f=i.type,m=i.pendingProps,_=t!==null?t.memoizedProps:null,o=m.children,sm(f,m)?o=null:_!==null&&sm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=nf(t,i,$S,null,null,a),Po._currentValue=f),Cu(t,i),$t(t,i,o,a),i.child;case 6:return t===null&&He&&((t=a=rt)&&(a=VA(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Qt=i,rt=null,t=!0):t=!1),t||Ps(i)),null;case 13:return ov(t,i,a);case 4:return kt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Jr(i,null,o,a):$t(t,i,o,a),i.child;case 11:return Zy(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Us(i,i.type,o.value),$t(t,i,o.children,a),i.child;case 9:return f=i.type._context,o=i.pendingProps.children,Yr(i),f=Yt(f),o=o(f),i.flags|=1,$t(t,i,o,a),i.child;case 14:return ev(t,i,i.type,i.pendingProps,a);case 15:return tv(t,i,i.type,i.pendingProps,a);case 19:return uv(t,i,a);case 31:return iA(t,i,a);case 22:return nv(t,i,a,i.pendingProps);case 24:return Yr(i),o=Yt(Nt),t===null?(f=Kd(),f===null&&(f=it,m=Fd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),i.memoizedState={parent:o,cache:f},Yd(i),Us(i,Nt,f)):((t.lanes&a)!==0&&($d(t,i),vo(i,null,null,a),yo()),f=t.memoizedState,m=i.memoizedState,f.parent!==o?(f={parent:o,cache:o},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Us(i,Nt,o)):(o=m.cache,Us(i,Nt,o),o!==f.cache&&qd(i,[Nt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ss(t){t.flags|=4}function jf(t,i,a,o,f){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(Pv())t.flags|=8192;else throw Wr=mu,Qd}else t.flags&=-16777217}function dv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!N_(i))if(Pv())t.flags|=8192;else throw Wr=mu,Qd}function ju(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Lc():536870912,t.lanes|=i,Xa|=i)}function Ao(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function rA(t,i,a){var o=i.pendingProps;switch(Pd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),es(Nt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(La(i)?ss(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zd())),at(i),null;case 26:var f=i.type,m=i.memoizedState;return t===null?(ss(i),m!==null?(at(i),dv(i,m)):(at(i),jf(i,f,null,o,a))):m?m!==t.memoizedState?(ss(i),at(i),dv(i,m)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&ss(i),at(i),jf(i,f,t,o,a)),null;case 27:if(pa(i),a=je.current,f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}t=fe.current,La(i)?Gg(i):(t=__(f,o,a),i.stateNode=t,ss(i))}return at(i),null;case 5:if(pa(i),f=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(!o){if(i.stateNode===null)throw Error(r(166));return at(i),null}if(m=fe.current,La(i))Gg(i);else{var _=Ku(je.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?_.createElement(f,{is:o.is}):_.createElement(f)}}m[At]=i,m[Bt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=m;e:switch(Xt(m,f,o),f){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ss(i)}}return at(i),jf(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&ss(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(r(166));if(t=je.current,La(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,f=Qt,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||o_(t.nodeValue,a)),t||Ps(i,!0)}else t=Ku(t).createTextNode(o),t[At]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=La(i),a!==null){if(t===null){if(!o)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[At]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(xn(i),i):(xn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return at(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=La(i),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(r(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[At]=i}else Kr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),f=!1}else f=zd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(xn(i),i):(xn(i),null)}return xn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==f&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),ju(i,i.updateQueue),at(i),null);case 4:return ot(),t===null&&Zf(i.stateNode.containerInfo),at(i),null;case 10:return es(i.type),at(i),null;case 19:if(ne(vt),o=i.memoizedState,o===null)return at(i),null;if(f=(i.flags&128)!==0,m=o.rendering,m===null)if(f)Ao(o,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=vu(t),m!==null){for(i.flags|=128,Ao(o,!1),t=m.updateQueue,i.updateQueue=t,ju(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)zg(a,t),a=a.sibling;return ue(vt,vt.current&1|2),He&&Ji(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&on()>ku&&(i.flags|=128,f=!0,Ao(o,!1),i.lanes=4194304)}else{if(!f)if(t=vu(m),t!==null){if(i.flags|=128,f=!0,t=t.updateQueue,i.updateQueue=t,ju(i,t),Ao(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!He)return at(i),null}else 2*on()-o.renderingStartTime>ku&&a!==536870912&&(i.flags|=128,f=!0,Ao(o,!1),i.lanes=4194304);o.isBackwards?(m.sibling=i.child,i.child=m):(t=o.last,t!==null?t.sibling=m:i.child=m,o.last=m)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=on(),t.sibling=null,a=vt.current,ue(vt,f?a&1|2:a&1),He&&Ji(i,o.treeForkCount),t):(at(i),null);case 22:case 23:return xn(i),Zd(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&ju(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&ne($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),es(Nt),at(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function aA(t,i){switch(Pd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return es(Nt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 31:if(i.memoizedState!==null){if(xn(i),i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(xn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Kr()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(vt),null;case 4:return ot(),null;case 10:return es(i.type),null;case 22:case 23:return xn(i),Zd(),t!==null&&ne($r),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return es(Nt),null;case 25:return null;default:return null}}function fv(t,i){switch(Pd(i),i.tag){case 3:es(Nt),ot();break;case 26:case 27:case 5:pa(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&xn(i);break;case 13:xn(i);break;case 19:ne(vt);break;case 10:es(i.type);break;case 22:case 23:xn(i),Zd(),t!==null&&ne($r);break;case 24:es(Nt)}}function wo(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var m=a.create,_=a.inst;o=m(),_.destroy=o}a=a.next}while(a!==f)}}catch(A){Je(i,i.return,A)}}function Gs(t,i,a){try{var o=i.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&t)===t){var _=o.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=i;var O=a,G=A;try{G()}catch(J){Je(f,O,J)}}}o=o.next}while(o!==m)}}catch(J){Je(i,i.return,J)}}function mv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{sy(i,a)}catch(o){Je(t,t.return,o)}}}function pv(t,i,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Je(t,i,o)}}function xo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Je(t,i,f)}}function Vi(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Je(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,i,f)}else a.current=null}function gv(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Df(t,i,a){try{var o=t.stateNode;RA(o,t.type,a,i),o[Bt]=i}catch(f){Je(t,t.return,f)}}function yv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Js(t.type)||t.tag===4}function Of(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Js(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mf(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(o!==4&&(o===27&&Js(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Mf(t,i,a),t=t.sibling;t!==null;)Mf(t,i,a),t=t.sibling}function Du(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Js(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Du(t,i,a),t=t.sibling;t!==null;)Du(t,i,a),t=t.sibling}function vv(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,o,a),i[At]=t,i[Bt]=a}catch(m){Je(t,t.return,m)}}var rs=!1,It=!1,Vf=!1,_v=typeof WeakSet=="function"?WeakSet:Set,qt=null;function lA(t,i){if(t=t.containerInfo,nm=Zu,t=jg(t),Nd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,A=-1,O=-1,G=0,J=0,ie=t,Q=null;t:for(;;){for(var X;ie!==a||f!==0&&ie.nodeType!==3||(A=_+f),ie!==m||o!==0&&ie.nodeType!==3||(O=_+o),ie.nodeType===3&&(_+=ie.nodeValue.length),(X=ie.firstChild)!==null;)Q=ie,ie=X;for(;;){if(ie===t)break t;if(Q===a&&++G===f&&(A=_),Q===m&&++J===o&&(O=_),(X=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=X}a=A===-1||O===-1?null:{start:A,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:t,selectionRange:a},Zu=!1,qt=i;qt!==null;)if(i=qt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,qt=t;else for(;qt!==null;){switch(i=qt,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,f=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var pe=ea(a.type,f);t=o.getSnapshotBeforeUpdate(pe,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Je(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)am(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,qt=t;break}qt=i.return}}function Ev(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),o&4&&wo(5,a);break;case 1:if(ls(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var f=ea(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}o&64&&mv(a),o&512&&xo(a,a.return);break;case 3:if(ls(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{sy(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&o&4&&vv(a);case 26:case 5:ls(t,a),i===null&&o&4&&gv(a),o&512&&xo(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),o&4&&Sv(t,a);break;case 13:ls(t,a),o&4&&Av(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=gA.bind(null,a),kA(t,a))));break;case 22:if(o=a.memoizedState!==null||rs,!o){i=i!==null&&i.memoizedState!==null||It,f=rs;var m=It;rs=o,(It=i)&&!m?os(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),rs=f,It=m}break;case 30:break;default:ls(t,a)}}function Tv(t){var i=t.alternate;i!==null&&(t.alternate=null,Tv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ea(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,fn=!1;function as(t,i,a){for(a=a.child;a!==null;)bv(t,i,a),a=a.sibling}function bv(t,i,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:It||Vi(a,i),as(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Vi(a,i);var o=ut,f=fn;Js(a.type)&&(ut=a.stateNode,fn=!1),as(t,i,a),Vo(a.stateNode),ut=o,fn=f;break;case 5:It||Vi(a,i);case 6:if(o=ut,f=fn,ut=null,as(t,i,a),ut=o,fn=f,ut!==null)if(fn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(m){Je(a,i,m)}else try{ut.removeChild(a.stateNode)}catch(m){Je(a,i,m)}break;case 18:ut!==null&&(fn?(t=ut,m_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),sl(t)):m_(ut,a.stateNode));break;case 4:o=ut,f=fn,ut=a.stateNode.containerInfo,fn=!0,as(t,i,a),ut=o,fn=f;break;case 0:case 11:case 14:case 15:Gs(2,a,i),It||Gs(4,a,i),as(t,i,a);break;case 1:It||(Vi(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&pv(a,i,o)),as(t,i,a);break;case 21:as(t,i,a);break;case 22:It=(o=It)||a.memoizedState!==null,as(t,i,a),It=o;break;default:as(t,i,a)}}function Sv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{sl(t)}catch(a){Je(i,i.return,a)}}}function Av(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{sl(t)}catch(a){Je(i,i.return,a)}}function oA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new _v),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new _v),i;default:throw Error(r(435,t.tag))}}function Ou(t,i){var a=oA(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var f=yA.bind(null,t,o);o.then(f,f)}})}function mn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],m=t,_=i,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Js(A.type)){ut=A.stateNode,fn=!1;break e}break;case 5:ut=A.stateNode,fn=!1;break e;case 3:case 4:ut=A.stateNode.containerInfo,fn=!0;break e}A=A.return}if(ut===null)throw Error(r(160));bv(m,_,f),ut=null,fn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)wv(i,t),i=i.sibling}var li=null;function wv(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),o&4&&(Gs(3,t,t.return),wo(3,t),Gs(5,t,t.return));break;case 1:mn(i,t),pn(t),o&512&&(It||a===null||Vi(a,a.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=li;if(mn(i,t),pn(t),o&512&&(It||a===null||Vi(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ti]||m[At]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(o),f.head.insertBefore(m,f.querySelector("head > title"))),Xt(m,o,a),m[At]=t,wt(m),o=m;break e;case"link":var _=w_("link","href",f).get(o+(a.href||""));if(_){for(var A=0;A<_.length;A++)if(m=_[A],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,a),f.head.appendChild(m);break;case"meta":if(_=w_("meta","content",f).get(o+(a.content||""))){for(A=0;A<_.length;A++)if(m=_[A],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(A,1);break t}}m=f.createElement(o),Xt(m,o,a),f.head.appendChild(m);break;default:throw Error(r(468,o))}m[At]=t,wt(m),o=m}t.stateNode=o}else x_(f,t.type,t.stateNode);else t.stateNode=A_(f,o,t.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?x_(f,t.type,t.stateNode):A_(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&Df(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),o&512&&(It||a===null||Vi(a,a.return)),a!==null&&o&4&&Df(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),o&512&&(It||a===null||Vi(a,a.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(pe){Je(t,t.return,pe)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,Df(t,f,a!==null?a.memoizedProps:f)),o&1024&&(Vf=!0);break;case 6:if(mn(i,t),pn(t),o&4){if(t.stateNode===null)throw Error(r(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(pe){Je(t,t.return,pe)}}break;case 3:if($u=null,f=li,li=Qu(i.containerInfo),mn(i,t),li=f,pn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{sl(i.containerInfo)}catch(pe){Je(t,t.return,pe)}Vf&&(Vf=!1,xv(t));break;case 4:o=li,li=Qu(t.stateNode.containerInfo),mn(i,t),pn(t),li=o;break;case 12:mn(i,t),pn(t);break;case 31:mn(i,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vu=on()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,G=rs,J=It;if(rs=G||f,It=J||O,mn(i,t),It=J,rs=G,pn(t),o&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||O||rs||It||ta(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){O=a=i;try{if(m=O.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,Q=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(pe){Je(O,O.return,pe)}}}else if(i.tag===6){if(a===null){O=i;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(pe){Je(O,O.return,pe)}}}else if(i.tag===18){if(a===null){O=i;try{var X=O.stateNode;f?p_(X,!0):p_(O.stateNode,!1)}catch(pe){Je(O,O.return,pe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Ou(t,a))));break;case 19:mn(i,t),pn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Ou(t,o)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(yv(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var f=a.stateNode,m=Of(t);Du(t,m,f);break;case 5:var _=a.stateNode;a.flags&32&&(dn(_,""),a.flags&=-33);var A=Of(t);Du(t,A,_);break;case 3:case 4:var O=a.stateNode.containerInfo,G=Of(t);Mf(t,G,O);break;default:throw Error(r(161))}}catch(J){Je(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function xv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ls(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ev(t,i.alternate,i),i=i.sibling}function ta(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Gs(4,i,i.return),ta(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&pv(i,i.return,a),ta(i);break;case 27:Vo(i.stateNode);case 26:case 5:Vi(i,i.return),ta(i);break;case 22:i.memoizedState===null&&ta(i);break;case 30:ta(i);break;default:ta(i)}t=t.sibling}}function os(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,f=t,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:os(f,m,a),wo(4,m);break;case 1:if(os(f,m,a),o=m,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){Je(o,o.return,G)}if(o=m,f=o.updateQueue,f!==null){var A=o.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)iy(O[f],A)}catch(G){Je(o,o.return,G)}}a&&_&64&&mv(m),xo(m,m.return);break;case 27:vv(m);case 26:case 5:os(f,m,a),a&&o===null&&_&4&&gv(m),xo(m,m.return);break;case 12:os(f,m,a);break;case 31:os(f,m,a),a&&_&4&&Sv(f,m);break;case 13:os(f,m,a),a&&_&4&&Av(f,m);break;case 22:m.memoizedState===null&&os(f,m,a),xo(m,m.return);break;case 30:break;default:os(f,m,a)}i=i.sibling}}function kf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ho(a))}function Lf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t))}function oi(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Nv(t,i,a,o),i=i.sibling}function Nv(t,i,a,o){var f=i.flags;switch(i.tag){case 0:case 11:case 15:oi(t,i,a,o),f&2048&&wo(9,i);break;case 1:oi(t,i,a,o);break;case 3:oi(t,i,a,o),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){oi(t,i,a,o),t=i.stateNode;try{var m=i.memoizedProps,_=m.id,A=m.onPostCommit;typeof A=="function"&&A(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){Je(i,i.return,O)}}else oi(t,i,a,o);break;case 31:oi(t,i,a,o);break;case 13:oi(t,i,a,o);break;case 23:break;case 22:m=i.stateNode,_=i.alternate,i.memoizedState!==null?m._visibility&2?oi(t,i,a,o):No(t,i):m._visibility&2?oi(t,i,a,o):(m._visibility|=2,Qa(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),f&2048&&kf(_,i);break;case 24:oi(t,i,a,o),f&2048&&Lf(i.alternate,i);break;default:oi(t,i,a,o)}}function Qa(t,i,a,o,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,_=i,A=a,O=o,G=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(m,_,A,O,f),wo(8,_);break;case 23:break;case 22:var J=_.stateNode;_.memoizedState!==null?J._visibility&2?Qa(m,_,A,O,f):No(m,_):(J._visibility|=2,Qa(m,_,A,O,f)),f&&G&2048&&kf(_.alternate,_);break;case 24:Qa(m,_,A,O,f),f&&G&2048&&Lf(_.alternate,_);break;default:Qa(m,_,A,O,f)}i=i.sibling}}function No(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,f=o.flags;switch(o.tag){case 22:No(a,o),f&2048&&kf(o.alternate,o);break;case 24:No(a,o),f&2048&&Lf(o.alternate,o);break;default:No(a,o)}i=i.sibling}}var Ro=8192;function Ya(t,i,a){if(t.subtreeFlags&Ro)for(t=t.child;t!==null;)Rv(t,i,a),t=t.sibling}function Rv(t,i,a){switch(t.tag){case 26:Ya(t,i,a),t.flags&Ro&&t.memoizedState!==null&&YA(a,li,t.memoizedState,t.memoizedProps);break;case 5:Ya(t,i,a);break;case 3:case 4:var o=li;li=Qu(t.stateNode.containerInfo),Ya(t,i,a),li=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=Ro,Ro=16777216,Ya(t,i,a),Ro=o):Ya(t,i,a));break;default:Ya(t,i,a)}}function Cv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Co(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qt=o,jv(o,t)}Cv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Iv(t),t=t.sibling}function Iv(t){switch(t.tag){case 0:case 11:case 15:Co(t),t.flags&2048&&Gs(9,t,t.return);break;case 3:Co(t);break;case 12:Co(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Mu(t)):Co(t);break;default:Co(t)}}function Mu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qt=o,jv(o,t)}Cv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Gs(8,i,i.return),Mu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Mu(i));break;default:Mu(i)}t=t.sibling}}function jv(t,i){for(;qt!==null;){var a=qt;switch(a.tag){case 0:case 11:case 15:Gs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qt=o;else e:for(a=t;qt!==null;){o=qt;var f=o.sibling,m=o.return;if(Tv(o),o===a){qt=null;break e}if(f!==null){f.return=m,qt=f;break e}qt=m}}}var cA={getCacheForType:function(t){var i=Yt(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Nt).controller.signal}},uA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ve=null,Le=0,We=0,Nn=null,Ks=!1,$a=!1,Pf=!1,cs=0,mt=0,Qs=0,na=0,Uf=0,Rn=0,Xa=0,Io=null,gn=null,zf=!1,Vu=0,Dv=0,ku=1/0,Lu=null,Ys=null,Pt=0,$s=null,Wa=null,us=0,Bf=0,Hf=null,Ov=null,jo=0,qf=null;function Cn(){return(Ye&2)!==0&&Le!==0?Le&-Le:K.T!==null?$f():Pc()}function Mv(){if(Rn===0)if((Le&536870912)===0||He){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),Rn=t}else Rn=536870912;return t=wn.current,t!==null&&(t.flags|=32),Rn}function yn(t,i,a){(t===it&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Xs(t,Le,Rn,!1)),Ir(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(na|=a),mt===4&&Xs(t,Le,Rn,!1)),ki(t))}function Vv(t,i,a){if((Ye&6)!==0)throw Error(r(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Jn(t,i),f=o?fA(t,i):Gf(t,i,!0),m=o;do{if(f===0){$a&&!o&&Xs(t,i,0,!1);break}else{if(a=t.current.alternate,m&&!hA(a)){f=Gf(t,i,!1),m=!1;continue}if(f===2){if(m=i,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var A=t;f=Io;var O=A.current.memoizedState.isDehydrated;if(O&&(Ja(A,_).flags|=256),_=Gf(A,_,!1),_!==2){if(Pf&&!O){A.errorRecoveryDisabledLanes|=m,na|=m,f=4;break e}m=gn,gn=f,m!==null&&(gn===null?gn=m:gn.push.apply(gn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Ja(t,0),Xs(t,i,0,!0);break}e:{switch(o=t,m=f,m){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Xs(o,i,Rn,!Ks);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(f=Vu+300-on(),10<f)){if(Xs(o,i,Rn,!Ks),vi(o,0,!0)!==0)break e;us=i,o.timeoutHandle=d_(kv.bind(null,o,a,gn,Lu,zf,i,Rn,na,Xa,Ks,m,"Throttled",-0,0),f);break e}kv(o,a,gn,Lu,zf,i,Rn,na,Xa,Ks,m,null,-0,0)}}break}while(!0);ki(t)}function kv(t,i,a,o,f,m,_,A,O,G,J,ie,Q,X){if(t.timeoutHandle=-1,ie=i.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},Rv(i,m,ie);var pe=(m&62914560)===m?Vu-on():(m&4194048)===m?Dv-on():0;if(pe=$A(ie,pe),pe!==null){us=m,t.cancelPendingCommit=pe(Fv.bind(null,t,i,m,a,o,f,_,A,O,J,ie,null,Q,X)),Xs(t,m,_,!G);return}}Fv(t,i,m,a,o,f,_,A,O)}function hA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],m=f.getSnapshot;f=f.value;try{if(!Sn(m(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xs(t,i,a,o){i&=~Uf,i&=~na,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var f=i;0<f;){var m=31-gt(f),_=1<<m;o[m]=-1,f&=~_}a!==0&&jr(t,a,i)}function Pu(){return(Ye&6)===0?(Do(0),!1):!0}function Ff(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Zi=Qr=null,af(t),Ha=null,mo=0,t=Ve;for(;t!==null;)fv(t.alternate,t),t=t.return;Ve=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,jA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),us=0,Ff(),it=t,Ve=a=Wi(t.current,null),Le=i,We=0,Nn=null,Ks=!1,$a=Jn(t,i),Pf=!1,Xa=Rn=Uf=na=Qs=mt=0,gn=Io=null,zf=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var f=31-gt(o),m=1<<f;i|=t[f],o&=~m}return cs=i,ru(),a}function Lv(t,i){Ie=null,K.H=bo,i===Ba||i===fu?(i=Zg(),We=3):i===Qd?(i=Zg(),We=4):We=i===bf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nn=i,Ve===null&&(mt=1,Nu(t,Pn(i,t.current)))}function Pv(){var t=wn.current;return t===null?!0:(Le&4194048)===Le?Hn===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Hn:!1}function Uv(){var t=K.H;return K.H=bo,t===null?bo:t}function zv(){var t=K.A;return K.A=cA,t}function Uu(){mt=4,Ks||(Le&4194048)!==Le&&wn.current!==null||($a=!0),(Qs&134217727)===0&&(na&134217727)===0||it===null||Xs(it,Le,Rn,!1)}function Gf(t,i,a){var o=Ye;Ye|=2;var f=Uv(),m=zv();(it!==t||Le!==i)&&(Lu=null,Ja(t,i)),i=!1;var _=mt;e:do try{if(We!==0&&Ve!==null){var A=Ve,O=Nn;switch(We){case 8:Ff(),_=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(i=!0);var G=We;if(We=0,Nn=null,Za(t,A,O,G),a&&$a){_=0;break e}break;default:G=We,We=0,Nn=null,Za(t,A,O,G)}}dA(),_=mt;break}catch(J){Lv(t,J)}while(!0);return i&&t.shellSuspendCounter++,Zi=Qr=null,Ye=o,K.H=f,K.A=m,Ve===null&&(it=null,Le=0,ru()),_}function dA(){for(;Ve!==null;)Bv(Ve)}function fA(t,i){var a=Ye;Ye|=2;var o=Uv(),f=zv();it!==t||Le!==i?(Lu=null,ku=on()+500,Ja(t,i)):$a=Jn(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var m=Nn;t:switch(We){case 1:We=0,Nn=null,Za(t,i,m,1);break;case 2:case 9:if(Wg(m)){We=0,Nn=null,Hv(i);break}i=function(){We!==2&&We!==9||it!==t||(We=7),ki(t)},m.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Wg(m)?(We=0,Nn=null,Hv(i)):(We=0,Nn=null,Za(t,i,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var A=Ve;if(_?N_(_):A.stateNode.complete){We=0,Nn=null;var O=A.sibling;if(O!==null)Ve=O;else{var G=A.return;G!==null?(Ve=G,zu(G)):Ve=null}break t}}We=0,Nn=null,Za(t,i,m,5);break;case 6:We=0,Nn=null,Za(t,i,m,6);break;case 8:Ff(),mt=6;break e;default:throw Error(r(462))}}mA();break}catch(J){Lv(t,J)}while(!0);return Zi=Qr=null,K.H=o,K.A=f,Ye=a,Ve!==null?0:(it=null,Le=0,ru(),mt)}function mA(){for(;Ve!==null&&!Ed();)Bv(Ve)}function Bv(t){var i=hv(t.alternate,t,cs);t.memoizedProps=t.pendingProps,i===null?zu(t):Ve=i}function Hv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=rv(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=rv(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:af(i);default:fv(a,i),i=Ve=zg(i,cs),i=hv(a,i,cs)}t.memoizedProps=t.pendingProps,i===null?zu(t):Ve=i}function Za(t,i,a,o){Zi=Qr=null,af(i),Ha=null,mo=0;var f=i.return;try{if(nA(t,f,i,a,Le)){mt=1,Nu(t,Pn(a,t.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;mt=1,Nu(t,Pn(a,t.current)),Ve=null;return}i.flags&32768?(He||o===1?t=!0:$a||(Le&536870912)!==0?t=!1:(Ks=t=!0,(o===2||o===9||o===3||o===6)&&(o=wn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qv(i,t)):zu(i)}function zu(t){var i=t;do{if((i.flags&32768)!==0){qv(i,Ks);return}t=i.return;var a=rA(i.alternate,i,cs);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);mt===0&&(mt=5)}function qv(t,i){do{var a=aA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);mt=6,Ve=null}function Fv(t,i,a,o,f,m,_,A,O){t.cancelPendingCommit=null;do Bu();while(Pt!==0);if((Ye&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(m=i.lanes|i.childLanes,m|=Dd,Sd(t,a,m,_,A,O),t===it&&(Ve=it=null,Le=0),Wa=i,$s=t,us=a,Bf=m,Hf=f,Ov=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,vA(xs,function(){return $v(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,f=ae.p,ae.p=2,_=Ye,Ye|=4;try{lA(t,i,a)}finally{Ye=_,ae.p=f,K.T=o}}Pt=1,Gv(),Kv(),Qv()}}function Gv(){if(Pt===1){Pt=0;var t=$s,i=Wa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=ae.p;ae.p=2;var f=Ye;Ye|=4;try{wv(i,t);var m=im,_=jg(t.containerInfo),A=m.focusedElem,O=m.selectionRange;if(_!==A&&A&&A.ownerDocument&&Ig(A.ownerDocument.documentElement,A)){if(O!==null&&Nd(A)){var G=O.start,J=O.end;if(J===void 0&&(J=G),"selectionStart"in A)A.selectionStart=G,A.selectionEnd=Math.min(J,A.value.length);else{var ie=A.ownerDocument||document,Q=ie&&ie.defaultView||window;if(Q.getSelection){var X=Q.getSelection(),pe=A.textContent.length,Ee=Math.min(O.start,pe),nt=O.end===void 0?Ee:Math.min(O.end,pe);!X.extend&&Ee>nt&&(_=nt,nt=Ee,Ee=_);var H=Cg(A,Ee),U=Cg(A,nt);if(H&&U&&(X.rangeCount!==1||X.anchorNode!==H.node||X.anchorOffset!==H.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var F=ie.createRange();F.setStart(H.node,H.offset),X.removeAllRanges(),Ee>nt?(X.addRange(F),X.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),X.addRange(F))}}}}for(ie=[],X=A;X=X.parentNode;)X.nodeType===1&&ie.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var Z=ie[A];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Zu=!!nm,im=nm=null}finally{Ye=f,ae.p=o,K.T=a}}t.current=i,Pt=2}}function Kv(){if(Pt===2){Pt=0;var t=$s,i=Wa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=ae.p;ae.p=2;var f=Ye;Ye|=4;try{Ev(t,i.alternate,i)}finally{Ye=f,ae.p=o,K.T=a}}Pt=3}}function Qv(){if(Pt===4||Pt===3){Pt=0,jc();var t=$s,i=Wa,a=us,o=Ov;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Wa=$s=null,Yv(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Ys=null),Qi(a),i=i.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,f=ae.p,ae.p=2,K.T=null;try{for(var m=t.onRecoverableError,_=0;_<o.length;_++){var A=o[_];m(A.value,{componentStack:A.stack})}}finally{K.T=i,ae.p=f}}(us&3)!==0&&Bu(),ki(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===qf?jo++:(jo=0,qf=t):jo=0,Do(0)}}function Yv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ho(i)))}function Bu(){return Gv(),Kv(),Qv(),$v()}function $v(){if(Pt!==5)return!1;var t=$s,i=Bf;Bf=0;var a=Qi(us),o=K.T,f=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Hf,Hf=null;var m=$s,_=us;if(Pt=0,Wa=$s=null,us=0,(Ye&6)!==0)throw Error(r(331));var A=Ye;if(Ye|=4,Iv(m.current),Nv(m,m.current,_,a),Ye=A,Do(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Wn,m)}catch{}return!0}finally{ae.p=f,K.T=o,Yv(t,i)}}function Xv(t,i,a){i=Pn(a,i),i=Tf(t.stateNode,i,2),t=Hs(t,i,2),t!==null&&(Ir(t,2),ki(t))}function Je(t,i,a){if(t.tag===3)Xv(t,t,a);else for(;i!==null;){if(i.tag===3){Xv(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ys===null||!Ys.has(o))){t=Pn(a,t),a=Wy(2),o=Hs(i,a,2),o!==null&&(Jy(a,o,i,t),Ir(o,2),ki(o));break}}i=i.return}}function Kf(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new uA;var f=new Set;o.set(i,f)}else f=o.get(i),f===void 0&&(f=new Set,o.set(i,f));f.has(a)||(Pf=!0,f.add(a),t=pA.bind(null,t,i,a),i.then(t,t))}function pA(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(Le&a)===a&&(mt===4||mt===3&&(Le&62914560)===Le&&300>on()-Vu?(Ye&2)===0&&Ja(t,0):Uf|=a,Xa===Le&&(Xa=0)),ki(t)}function Wv(t,i){i===0&&(i=Lc()),t=Fr(t,i),t!==null&&(Ir(t,i),ki(t))}function gA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Wv(t,a)}function yA(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(i),Wv(t,a)}function vA(t,i){return Lt(t,i)}var Hu=null,el=null,Qf=!1,qu=!1,Yf=!1,Ws=0;function ki(t){t!==el&&t.next===null&&(el===null?Hu=el=t:el=el.next=t),qu=!0,Qf||(Qf=!0,EA())}function Do(t,i){if(!Yf&&qu){Yf=!0;do for(var a=!1,o=Hu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var m=0;else{var _=o.suspendedLanes,A=o.pingedLanes;m=(1<<31-gt(42|t)+1)-1,m&=f&~(_&~A),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,t_(o,m))}else m=Le,m=vi(o,o===it?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Jn(o,m)||(a=!0,t_(o,m));o=o.next}while(a);Yf=!1}}function _A(){Jv()}function Jv(){qu=Qf=!1;var t=0;Ws!==0&&IA()&&(t=Ws);for(var i=on(),a=null,o=Hu;o!==null;){var f=o.next,m=Zv(o,i);m===0?(o.next=null,a===null?Hu=f:a.next=f,f===null&&(el=a)):(a=o,(t!==0||(m&3)!==0)&&(qu=!0)),o=f}Pt!==0&&Pt!==5||Do(t),Ws!==0&&(Ws=0)}function Zv(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-gt(m),A=1<<_,O=f[_];O===-1?((A&a)===0||(A&o)!==0)&&(f[_]=bd(A,i)):O<=i&&(t.expiredLanes|=A),m&=~A}if(i=it,a=Le,a=vi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&ws(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Jn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&ws(o),Qi(a)){case 2:case 8:a=Bl;break;case 32:a=xs;break;case 268435456:a=Dc;break;default:a=xs}return o=e_.bind(null,t),a=Lt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&ws(o),t.callbackPriority=2,t.callbackNode=null,2}function e_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bu()&&t.callbackNode!==a)return null;var o=Le;return o=vi(t,t===it?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vv(t,o,i),Zv(t,on()),t.callbackNode!=null&&t.callbackNode===a?e_.bind(null,t):null)}function t_(t,i){if(Bu())return null;Vv(t,i,!0)}function EA(){DA(function(){(Ye&6)!==0?Lt(zl,_A):Jv()})}function $f(){if(Ws===0){var t=Ua;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Ws=t}return Ws}function n_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function i_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function TA(t,i,a,o,f){if(i==="submit"&&a&&a.stateNode===f){var m=n_((f[Bt]||null).action),_=o.submitter;_&&(i=(i=_[Bt]||null)?n_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var A=new Ci("action","action",null,o,f);t.push({event:A,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ws!==0){var O=_?i_(f,_):new FormData(f);pf(a,{pending:!0,data:O,method:f.method,action:m},null,O)}}else typeof m=="function"&&(A.preventDefault(),O=_?i_(f,_):new FormData(f),pf(a,{pending:!0,data:O,method:f.method,action:m},m,O))},currentTarget:f}]})}}for(var Xf=0;Xf<jd.length;Xf++){var Wf=jd[Xf],bA=Wf.toLowerCase(),SA=Wf[0].toUpperCase()+Wf.slice(1);ai(bA,"on"+SA)}ai(Mg,"onAnimationEnd"),ai(Vg,"onAnimationIteration"),ai(kg,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(US,"onTransitionRun"),ai(zS,"onTransitionStart"),ai(BS,"onTransitionCancel"),ai(Lg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function s_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;e:{var m=void 0;if(i)for(var _=o.length-1;0<=_;_--){var A=o[_],O=A.instance,G=A.currentTarget;if(A=A.listener,O!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=G;try{m(f)}catch(J){su(J)}f.currentTarget=null,m=O}else for(_=0;_<o.length;_++){if(A=o[_],O=A.instance,G=A.currentTarget,A=A.listener,O!==m&&f.isPropagationStopped())break e;m=A,f.currentTarget=G;try{m(f)}catch(J){su(J)}f.currentTarget=null,m=O}}}}function ke(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var o=t+"__bubble";a.has(o)||(r_(i,t,2,!1),a.add(o))}function Jf(t,i,a){var o=0;i&&(o|=4),r_(a,t,o,i)}var Fu="_reactListening"+Math.random().toString(36).slice(2);function Zf(t){if(!t[Fu]){t[Fu]=!0,Fl.forEach(function(a){a!=="selectionchange"&&(AA.has(a)||Jf(a,!1,t),Jf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Fu]||(i[Fu]=!0,Jf("selectionchange",!1,i))}}function r_(t,i,a,o){switch(M_(i)){case 2:var f=JA;break;case 8:f=ZA;break;default:f=mm}a=f.bind(null,i,a,t),f=void 0,!kr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function em(t,i,a,o,f){var m=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var A=o.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=o.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=bi(A),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){o=m=_;continue e}A=A.parentNode}}o=o.return}Ds(function(){var G=m,J=Mn(a),ie=[];e:{var Q=Pg.get(t);if(Q!==void 0){var X=Ci,pe=t;switch(t){case"keypress":if(Pr(a)===0)break e;case"keydown":case"keyup":X=tu;break;case"focusin":pe="focus",X=zr;break;case"focusout":pe="blur",X=zr;break;case"beforeblur":case"afterblur":X=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=io;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case Mg:case Vg:case kg:X=Yc;break;case Lg:X=w;break;case"scroll":case"scrollend":X=no;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=$c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Xi;break;case"toggle":case"beforetoggle":X=Ce}var Ee=(i&4)!==0,nt=!Ee&&(t==="scroll"||t==="scrollend"),H=Ee?Q!==null?Q+"Capture":null:Q;Ee=[];for(var U=G,F;U!==null;){var Z=U;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||H===null||(Z=ni(U,H),Z!=null&&Ee.push(Mo(U,Z,F))),nt)break;U=U.return}0<Ee.length&&(Q=new X(Q,pe,null,a,J),ie.push({event:Q,listeners:Ee}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",Q&&a!==Zl&&(pe=a.relatedTarget||a.fromElement)&&(bi(pe)||pe[Ei]))break e;if((X||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(pe=a.relatedTarget||a.toElement,X=G,pe=pe?bi(pe):null,pe!==null&&(nt=c(pe),Ee=pe.tag,pe!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(pe=null)):(X=null,pe=G),X!==pe)){if(Ee=io,Z="onMouseLeave",H="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Xi,Z="onPointerLeave",H="onPointerEnter",U="pointer"),nt=X==null?Q:Tn(X),F=pe==null?Q:Tn(pe),Q=new Ee(Z,U+"leave",X,a,J),Q.target=nt,Q.relatedTarget=F,Z=null,bi(J)===G&&(Ee=new Ee(H,U+"enter",pe,a,J),Ee.target=F,Ee.relatedTarget=nt,Z=Ee),nt=Z,X&&pe)t:{for(Ee=wA,H=X,U=pe,F=0,Z=H;Z;Z=Ee(Z))F++;Z=0;for(var ve=U;ve;ve=Ee(ve))Z++;for(;0<F-Z;)H=Ee(H),F--;for(;0<Z-F;)U=Ee(U),Z--;for(;F--;){if(H===U||U!==null&&H===U.alternate){Ee=H;break t}H=Ee(H),U=Ee(U)}Ee=null}else Ee=null;X!==null&&a_(ie,Q,X,Ee,!1),pe!==null&&nt!==null&&a_(ie,nt,pe,Ee,!0)}}e:{if(Q=G?Tn(G):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var Ge=Sg;else if(Tg(Q))if(Ag)Ge=kS;else{Ge=MS;var ge=OS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?G&&Sa(G.elementType)&&(Ge=Sg):Ge=VS;if(Ge&&(Ge=Ge(t,G))){bg(ie,Ge,a,J);break e}ge&&ge(t,Q,G),t==="focusout"&&G&&Q.type==="number"&&G.memoizedProps.value!=null&&Xl(Q,"number",Q.value)}switch(ge=G?Tn(G):window,t){case"focusin":(Tg(ge)||ge.contentEditable==="true")&&(ja=ge,Rd=G,oo=null);break;case"focusout":oo=Rd=ja=null;break;case"mousedown":Cd=!0;break;case"contextmenu":case"mouseup":case"dragend":Cd=!1,Dg(ie,a,J);break;case"selectionchange":if(PS)break;case"keydown":case"keyup":Dg(ie,a,J)}var De;if(Qe)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ia?Br(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Di&&a.locale!=="ko"&&(Ia||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ia&&(De=to()):(Ri=J,eo="value"in Ri?Ri.value:Ri.textContent,Ia=!0)),ge=Gu(G,Pe),0<ge.length&&(Pe=new ji(Pe,t,null,a,J),ie.push({event:Pe,listeners:ge}),De?Pe.data=De:(De=Ca(a),De!==null&&(Pe.data=De)))),(De=kn?CS(t,a):IS(t,a))&&(Pe=Gu(G,"onBeforeInput"),0<Pe.length&&(ge=new ji("onBeforeInput","beforeinput",null,a,J),ie.push({event:ge,listeners:Pe}),ge.data=De)),TA(ie,t,G,a,J)}s_(ie,i)})}function Mo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Gu(t,i){for(var a=i+"Capture",o=[];t!==null;){var f=t,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ni(t,a),f!=null&&o.unshift(Mo(t,f,m)),f=ni(t,i),f!=null&&o.push(Mo(t,f,m))),t.tag===3)return o;t=t.return}return[]}function wA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function a_(t,i,a,o,f){for(var m=i._reactName,_=[];a!==null&&a!==o;){var A=a,O=A.alternate,G=A.stateNode;if(A=A.tag,O!==null&&O===o)break;A!==5&&A!==26&&A!==27||G===null||(O=G,f?(G=ni(a,m),G!=null&&_.unshift(Mo(a,G,O))):f||(G=ni(a,m),G!=null&&_.push(Mo(a,G,O)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var xA=/\r\n?/g,NA=/\u0000|\uFFFD/g;function l_(t){return(typeof t=="string"?t:""+t).replace(xA,`
`).replace(NA,"")}function o_(t,i){return i=l_(i),l_(t)===i}function tt(t,i,a,o,f,m){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||dn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&dn(t,""+o);break;case"className":bn(t,"class",o);break;case"tabIndex":bn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,a,o);break;case"style":Jl(t,o,m);break;case"data":if(i!=="object"){bn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",f.name,f,null),tt(t,i,"formEncType",f.formEncType,f,null),tt(t,i,"formMethod",f.formMethod,f,null),tt(t,i,"formTarget",f.formTarget,f,null)):(tt(t,i,"encType",f.encType,f,null),tt(t,i,"method",f.method,f,null),tt(t,i,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Aa(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=ti);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ta(t,"popover",o);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Ta(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gc.get(a)||a,Ta(t,a,o))}}function tm(t,i,a,o,f,m){switch(a){case"style":Jl(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof o=="string"?dn(t,o):(typeof o=="number"||typeof o=="bigint")&&dn(t,""+o);break;case"onScroll":o!=null&&ke("scroll",t);break;case"onScrollEnd":o!=null&&ke("scrollend",t);break;case"onClick":o!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),m=t[Bt]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,f),typeof o=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,f);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Ta(t,a,o)}}}function Xt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var o=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,m,_,a,null)}}f&&tt(t,i,"srcSet",a.srcSet,a,null),o&&tt(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var A=m=_=f=null,O=null,G=null;for(o in a)if(a.hasOwnProperty(o)){var J=a[o];if(J!=null)switch(o){case"name":f=J;break;case"type":_=J;break;case"checked":O=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":A=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,i));break;default:tt(t,i,o,J,a,null)}}Hc(t,m,A,O,G,_,f,!1);return;case"select":ke("invalid",t),o=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(A=a[f],A!=null))switch(f){case"value":m=A;break;case"defaultValue":_=A;break;case"multiple":o=A;default:tt(t,i,f,A,a,null)}i=m,a=_,t.multiple=!!o,i!=null?Rs(t,!!o,i,!1):a!=null&&Rs(t,!!o,a,!0);return;case"textarea":ke("invalid",t),m=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(A=a[_],A!=null))switch(_){case"value":o=A;break;case"defaultValue":f=A;break;case"children":m=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:tt(t,i,_,A,a,null)}Cs(t,o,f,m);return;case"option":for(O in a)if(a.hasOwnProperty(O)&&(o=a[O],o!=null))switch(O){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:tt(t,i,O,o,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(o=0;o<Oo.length;o++)ke(Oo[o],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(o=a[G],o!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:tt(t,i,G,o,a,null)}return;default:if(Sa(i)){for(J in a)a.hasOwnProperty(J)&&(o=a[J],o!==void 0&&tm(t,i,J,o,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(o=a[A],o!=null&&tt(t,i,A,o,a,null))}function RA(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,A=null,O=null,G=null,J=null;for(X in a){var ie=a[X];if(a.hasOwnProperty(X)&&ie!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":O=ie;default:o.hasOwnProperty(X)||tt(t,i,X,null,o,ie)}}for(var Q in o){var X=o[Q];if(ie=a[Q],o.hasOwnProperty(Q)&&(X!=null||ie!=null))switch(Q){case"type":m=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":_=X;break;case"defaultValue":A=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,i));break;default:X!==ie&&tt(t,i,Q,X,o,ie)}}ba(t,_,A,O,G,J,m,f);return;case"select":X=_=A=Q=null;for(m in a)if(O=a[m],a.hasOwnProperty(m)&&O!=null)switch(m){case"value":break;case"multiple":X=O;default:o.hasOwnProperty(m)||tt(t,i,m,null,o,O)}for(f in o)if(m=o[f],O=a[f],o.hasOwnProperty(f)&&(m!=null||O!=null))switch(f){case"value":Q=m;break;case"defaultValue":A=m;break;case"multiple":_=m;default:m!==O&&tt(t,i,f,m,o,O)}i=A,a=_,o=X,Q!=null?Rs(t,!!a,Q,!1):!!o!=!!a&&(i!=null?Rs(t,!!a,i,!0):Rs(t,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(A in a)if(f=a[A],a.hasOwnProperty(A)&&f!=null&&!o.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:tt(t,i,A,null,o,f)}for(_ in o)if(f=o[_],m=a[_],o.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":Q=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==m&&tt(t,i,_,f,o,m)}qc(t,Q,X);return;case"option":for(var pe in a)if(Q=a[pe],a.hasOwnProperty(pe)&&Q!=null&&!o.hasOwnProperty(pe))switch(pe){case"selected":t.selected=!1;break;default:tt(t,i,pe,null,o,Q)}for(O in o)if(Q=o[O],X=a[O],o.hasOwnProperty(O)&&Q!==X&&(Q!=null||X!=null))switch(O){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:tt(t,i,O,Q,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)Q=a[Ee],a.hasOwnProperty(Ee)&&Q!=null&&!o.hasOwnProperty(Ee)&&tt(t,i,Ee,null,o,Q);for(G in o)if(Q=o[G],X=a[G],o.hasOwnProperty(G)&&Q!==X&&(Q!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,i));break;default:tt(t,i,G,Q,o,X)}return;default:if(Sa(i)){for(var nt in a)Q=a[nt],a.hasOwnProperty(nt)&&Q!==void 0&&!o.hasOwnProperty(nt)&&tm(t,i,nt,void 0,o,Q);for(J in o)Q=o[J],X=a[J],!o.hasOwnProperty(J)||Q===X||Q===void 0&&X===void 0||tm(t,i,J,Q,o,X);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!o.hasOwnProperty(H)&&tt(t,i,H,null,o,Q);for(ie in o)Q=o[ie],X=a[ie],!o.hasOwnProperty(ie)||Q===X||Q==null&&X==null||tt(t,i,ie,Q,o,X)}function c_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function CA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var f=a[o],m=f.transferSize,_=f.initiatorType,A=f.duration;if(m&&A&&c_(_)){for(_=0,A=f.responseEnd,o+=1;o<a.length;o++){var O=a[o],G=O.startTime;if(G>A)break;var J=O.transferSize,ie=O.initiatorType;J&&c_(ie)&&(O=O.responseEnd,_+=J*(O<A?1:(A-G)/(O-G)))}if(--o,i+=8*(m+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var nm=null,im=null;function Ku(t){return t.nodeType===9?t:t.ownerDocument}function u_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function sm(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var rm=null;function IA(){var t=window.event;return t&&t.type==="popstate"?t===rm?!1:(rm=t,!0):(rm=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,jA=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,DA=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(t){return f_.resolve(null).then(t).catch(OA)}:d_;function OA(t){setTimeout(function(){throw t})}function Js(t){return t==="head"}function m_(t,i){var a=i,o=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(f),sl(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Vo(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Vo(a);for(var m=a.firstChild;m;){var _=m.nextSibling,A=m.nodeName;m[Ti]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=_}}else a==="body"&&Vo(t.ownerDocument.body);a=f}while(a);sl(i)}function p_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function am(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Ea(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function MA(t,i,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=qn(t.nextSibling),t===null)break}return null}function VA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=qn(t.nextSibling),t===null))return null;return t}function g_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=qn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$?"||t.data==="$~"}function om(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function qn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var cm=null;function y_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return qn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function v_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function __(t,i,a){switch(i=Ku(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Vo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ea(t)}var Fn=new Map,E_=new Set;function Qu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=ae.d;ae.d={f:LA,r:PA,D:UA,C:zA,L:BA,m:HA,X:FA,S:qA,M:GA};function LA(){var t=hs.f(),i=Pu();return t||i}function PA(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?Ly(i):hs.r(t)}var tl=typeof document>"u"?null:document;function T_(t,i,a){var o=tl;if(o&&typeof i=="string"&&i){var f=hn(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),E_.has(f)||(E_.add(f),t={rel:t,crossOrigin:a,href:i},o.querySelector(f)===null&&(i=o.createElement("link"),Xt(i,"link",t),wt(i),o.head.appendChild(i)))}}function UA(t){hs.D(t),T_("dns-prefetch",t,null)}function zA(t,i){hs.C(t,i),T_("preconnect",t,i)}function BA(t,i,a){hs.L(t,i,a);var o=tl;if(o&&t&&i){var f='link[rel="preload"][as="'+hn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+hn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+hn(a.imageSizes)+'"]')):f+='[href="'+hn(t)+'"]';var m=f;switch(i){case"style":m=nl(t);break;case"script":m=il(t)}Fn.has(m)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Fn.set(m,t),o.querySelector(f)!==null||i==="style"&&o.querySelector(ko(m))||i==="script"&&o.querySelector(Lo(m))||(i=o.createElement("link"),Xt(i,"link",t),wt(i),o.head.appendChild(i)))}}function HA(t,i){hs.m(t,i);var a=tl;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(t)+'"]',m=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=il(t)}if(!Fn.has(m)&&(t=b({rel:"modulepreload",href:t},i),Fn.set(m,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Lo(m)))return}o=a.createElement("link"),Xt(o,"link",t),wt(o),a.head.appendChild(o)}}}function qA(t,i,a){hs.S(t,i,a);var o=tl;if(o&&t){var f=Si(o).hoistableStyles,m=nl(t);i=i||"default";var _=f.get(m);if(!_){var A={loading:0,preload:null};if(_=o.querySelector(ko(m)))A.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Fn.get(m))&&um(t,a);var O=_=o.createElement("link");wt(O),Xt(O,"link",t),O._p=new Promise(function(G,J){O.onload=G,O.onerror=J}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Yu(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(m,_)}}}function FA(t,i){hs.X(t,i);var a=tl;if(a&&t){var o=Si(a).hoistableScripts,f=il(t),m=o.get(f);m||(m=a.querySelector(Lo(f)),m||(t=b({src:t,async:!0},i),(i=Fn.get(f))&&hm(t,i),m=a.createElement("script"),wt(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function GA(t,i){hs.M(t,i);var a=tl;if(a&&t){var o=Si(a).hoistableScripts,f=il(t),m=o.get(f);m||(m=a.querySelector(Lo(f)),m||(t=b({src:t,async:!0,type:"module"},i),(i=Fn.get(f))&&hm(t,i),m=a.createElement("script"),wt(m),Xt(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(f,m))}}function b_(t,i,a,o){var f=(f=je.current)?Qu(f):null;if(!f)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=nl(a.href),a=Si(f).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=nl(a.href);var m=Si(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(ko(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Fn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(t,a),m||KA(f,t,a,_.state))),i&&o===null)throw Error(r(528,""));return _}if(i&&o!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=il(a),a=Si(f).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function nl(t){return'href="'+hn(t)+'"'}function ko(t){return'link[rel="stylesheet"]['+t+"]"}function S_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function KA(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Xt(i,"link",a),wt(i),t.head.appendChild(i))}function il(t){return'[src="'+hn(t)+'"]'}function Lo(t){return"script[async]"+t}function A_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+hn(a.href)+'"]');if(o)return i.instance=o,wt(o),o;var f=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Xt(o,"style",f),Yu(o,a.precedence,t),i.instance=o;case"stylesheet":f=nl(a.href);var m=t.querySelector(ko(f));if(m)return i.state.loading|=4,i.instance=m,wt(m),m;o=S_(a),(f=Fn.get(f))&&um(o,f),m=(t.ownerDocument||t).createElement("link"),wt(m);var _=m;return _._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Xt(m,"link",o),i.state.loading|=4,Yu(m,a.precedence,t),i.instance=m;case"script":return m=il(a.src),(f=t.querySelector(Lo(m)))?(i.instance=f,wt(f),f):(o=a,(f=Fn.get(m))&&(o=b({},a),hm(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),wt(f),Xt(f,"link",o),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Yu(o,a.precedence,t));return i.instance}function Yu(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,m=f,_=0;_<o.length;_++){var A=o[_];if(A.dataset.precedence===i)m=A;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function um(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function hm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var $u=null;function w_(t,i,a){if($u===null){var o=new Map,f=$u=new Map;f.set(a,o)}else f=$u,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Ti]||m[At]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=t+_;var A=o.get(_);A?A.push(m):o.set(_,[m])}}return o}function x_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function QA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function N_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YA(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=nl(o.href),m=i.querySelector(ko(f));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Xu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=m,wt(m);return}m=i.ownerDocument||i,o=S_(o),(f=Fn.get(f))&&um(o,f),m=m.createElement("link"),wt(m);var _=m;_._p=new Promise(function(A,O){_.onload=A,_.onerror=O}),Xt(m,"link",o),a.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Xu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var dm=0;function $A(t,i){return t.stylesheets&&t.count===0&&Ju(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&dm===0&&(dm=62500*CA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ju(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>dm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(f)}}:null}function Xu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wu=null;function Ju(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wu=new Map,i.forEach(XA,t),Wu=null,Xu.call(t))}function XA(t,i){if(!(i.state.loading&4)){var a=Wu.get(t);if(a)var o=a.get(null);else{a=new Map,Wu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=i.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||o,m===o&&a.set(null,f),a.set(_,f),this.count++,o=Xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var Po={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function WA(t,i,a,o,f,m,_,A,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function R_(t,i,a,o,f,m,_,A,O,G,J,ie){return t=new WA(t,i,a,_,O,G,J,ie,A),i=1,m===!0&&(i|=24),m=An(3,null,null,i),t.current=m,m.stateNode=t,i=Fd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:i},Yd(m),t}function C_(t){return t?(t=Ma,t):Ma}function I_(t,i,a,o,f,m){f=C_(f),o.context===null?o.context=f:o.pendingContext=f,o=Bs(i),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=Hs(t,o,i),a!==null&&(yn(a,t,i),go(a,t,i))}function j_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function fm(t,i){j_(t,i),(t=t.alternate)&&j_(t,i)}function D_(t){if(t.tag===13||t.tag===31){var i=Fr(t,67108864);i!==null&&yn(i,t,67108864),fm(t,67108864)}}function O_(t){if(t.tag===13||t.tag===31){var i=Cn();i=Dr(i);var a=Fr(t,i);a!==null&&yn(a,t,i),fm(t,i)}}var Zu=!0;function JA(t,i,a,o){var f=K.T;K.T=null;var m=ae.p;try{ae.p=2,mm(t,i,a,o)}finally{ae.p=m,K.T=f}}function ZA(t,i,a,o){var f=K.T;K.T=null;var m=ae.p;try{ae.p=8,mm(t,i,a,o)}finally{ae.p=m,K.T=f}}function mm(t,i,a,o){if(Zu){var f=pm(o);if(f===null)em(t,i,o,eh,a),V_(t,o);else if(tw(f,t,i,a,o))o.stopPropagation();else if(V_(t,o),i&4&&-1<ew.indexOf(t)){for(;f!==null;){var m=On(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=yi(m.pendingLanes);if(_!==0){var A=m;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var O=1<<31-gt(_);A.entanglements[1]|=O,_&=~O}ki(m),(Ye&6)===0&&(ku=on()+500,Do(0))}}break;case 31:case 13:A=Fr(m,2),A!==null&&yn(A,m,2),Pu(),fm(m,2)}if(m=pm(o),m===null&&em(t,i,o,eh,a),m===f)break;f=m}f!==null&&o.stopPropagation()}else em(t,i,o,null,a)}}function pm(t){return t=Mn(t),gm(t)}var eh=null;function gm(t){if(eh=null,t=bi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return eh=t,null}function M_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rr()){case zl:return 2;case Bl:return 8;case xs:case Td:return 32;case Dc:return 268435456;default:return 32}default:return 32}}var ym=!1,Zs=null,er=null,tr=null,Uo=new Map,zo=new Map,nr=[],ew="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(t,i){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Uo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(i.pointerId)}}function Bo(t,i,a,o,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[f]},i!==null&&(i=On(i),i!==null&&D_(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function tw(t,i,a,o,f){switch(i){case"focusin":return Zs=Bo(Zs,t,i,a,o,f),!0;case"dragenter":return er=Bo(er,t,i,a,o,f),!0;case"mouseover":return tr=Bo(tr,t,i,a,o,f),!0;case"pointerover":var m=f.pointerId;return Uo.set(m,Bo(Uo.get(m)||null,t,i,a,o,f)),!0;case"gotpointercapture":return m=f.pointerId,zo.set(m,Bo(zo.get(m)||null,t,i,a,o,f)),!0}return!1}function k_(t){var i=bi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){O_(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){O_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function th(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Zl=o,a.target.dispatchEvent(o),Zl=null}else return i=On(a),i!==null&&D_(i),t.blockedOn=a,!1;i.shift()}return!0}function L_(t,i,a){th(t)&&a.delete(i)}function nw(){ym=!1,Zs!==null&&th(Zs)&&(Zs=null),er!==null&&th(er)&&(er=null),tr!==null&&th(tr)&&(tr=null),Uo.forEach(L_),zo.forEach(L_)}function nh(t,i){t.blockedOn===i&&(t.blockedOn=null,ym||(ym=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,nw)))}var ih=null;function P_(t){ih!==t&&(ih=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ih===t&&(ih=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],f=t[i+2];if(typeof o!="function"){if(gm(o||a)===null)continue;break}var m=On(a);m!==null&&(t.splice(i,3),i-=3,pf(m,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function sl(t){function i(O){return nh(O,t)}Zs!==null&&nh(Zs,t),er!==null&&nh(er,t),tr!==null&&nh(tr,t),Uo.forEach(i),zo.forEach(i);for(var a=0;a<nr.length;a++){var o=nr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<nr.length&&(a=nr[0],a.blockedOn===null);)k_(a),a.blockedOn===null&&nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],m=a[o+1],_=f[Bt]||null;if(typeof m=="function")_||P_(a);else if(_){var A=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Bt]||null)A=_.formAction;else if(gm(f)!==null)continue}else A=_.action;typeof A=="function"?a[o+1]=A:(a.splice(o,3),o-=3),P_(a)}}}function U_(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function vm(t){this._internalRoot=t}sh.prototype.render=vm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,o=Cn();I_(a,o,t,i,null,null)},sh.prototype.unmount=vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;I_(t.current,2,null,t,null,null),Pu(),i[Ei]=null}};function sh(t){this._internalRoot=t}sh.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<nr.length&&i!==0&&i<nr[a].priority;a++);nr.splice(a,0,t),a===0&&k_(t)}};var z_=e.version;if(z_!=="19.2.1")throw Error(r(527,z_,"19.2.1"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var iw={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{Wn=rh.inject(iw),Gt=rh}catch{}}return qo.createRoot=function(t,i){if(!l(t))throw Error(r(299));var a=!1,o="",f=Qy,m=Yy,_=$y;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=R_(t,1,!1,null,null,a,o,null,f,m,_,U_),t[Ei]=i.current,Zf(t),new vm(i)},qo.hydrateRoot=function(t,i,a){if(!l(t))throw Error(r(299));var o=!1,f="",m=Qy,_=Yy,A=$y,O=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),i=R_(t,1,!0,i,a??null,o,f,O,m,_,A,U_),i.context=C_(null),a=i.current,o=Cn(),o=Dr(o),f=Bs(o),f.callback=null,Hs(a,f,o),a=o,i.current.lanes=a,Ir(i,a),ki(i),t[Ei]=i.current,Zf(t),new sh(i)},qo.version="19.2.1",qo}var X_;function fw(){if(X_)return Tm.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tm.exports=dw(),Tm.exports}var mw=fw();var W_="popstate";function pw(s={}){function e(r,l){let{pathname:c,search:d,hash:p}=r.location;return Hm("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:sc(l)}return yw(e,n,null,s)}function ht(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $n(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substring(2,10)}function J_(s,e){return{usr:s.state,key:s.key,idx:e}}function Hm(s,e,n=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?Al(e):e,state:n,key:e&&e.key||r||gw()}}function sc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function Al(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substring(r),s=s.substring(0,r)),s&&(e.pathname=s)}return e}function yw(s,e,n,r={}){let{window:l=document.defaultView,v5Compat:c=!1}=r,d=l.history,p="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function b(){p="POP";let D=T(),Y=D==null?null:D-y;y=D,g&&g({action:p,location:C.location,delta:Y})}function S(D,Y){p="PUSH";let W=Hm(C.location,D,Y);y=T()+1;let te=J_(W,y),z=C.createHref(W);try{d.pushState(te,"",z)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;l.location.assign(z)}c&&g&&g({action:p,location:C.location,delta:1})}function M(D,Y){p="REPLACE";let W=Hm(C.location,D,Y);y=T();let te=J_(W,y),z=C.createHref(W);d.replaceState(te,"",z),c&&g&&g({action:p,location:C.location,delta:0})}function j(D){return vw(D)}let C={get action(){return p},get location(){return s(l,d)},listen(D){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(W_,b),g=D,()=>{l.removeEventListener(W_,b),g=null}},createHref(D){return e(l,D)},createURL:j,encodeLocation(D){let Y=j(D);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:M,go(D){return d.go(D)}};return C}function vw(s,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ht(n,"No window.location.(origin|href) available to create URL");let r=typeof s=="string"?s:sc(s);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function LT(s,e,n="/"){return _w(s,e,n,!1)}function _w(s,e,n,r){let l=typeof e=="string"?Al(e):e,c=ys(l.pathname||"/",n);if(c==null)return null;let d=PT(s);Ew(d);let p=null;for(let g=0;p==null&&g<d.length;++g){let y=jw(c);p=Cw(d[g],y,r)}return p}function PT(s,e=[],n=[],r="",l=!1){let c=(d,p,g=l,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:p,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(r)&&g)return;ht(T.relativePath.startsWith(r),`Absolute route path "${T.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(r.length)}let b=ms([r,T.relativePath]),S=n.concat(T);d.children&&d.children.length>0&&(ht(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),PT(d.children,e,S,b,g)),!(d.path==null&&!d.index)&&e.push({path:b,score:Nw(b,d.index),routesMeta:S})};return s.forEach((d,p)=>{if(d.path===""||!d.path?.includes("?"))c(d,p);else for(let g of UT(d.path))c(d,p,!0,g)}),e}function UT(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),c=n.replace(/\?$/,"");if(r.length===0)return l?[c,""]:[c];let d=UT(r.join("/")),p=[];return p.push(...d.map(g=>g===""?c:[c,g].join("/"))),l&&p.push(...d),p.map(g=>s.startsWith("/")&&g===""?"/":g)}function Ew(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:Rw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Tw=/^:[\w-]+$/,bw=3,Sw=2,Aw=1,ww=10,xw=-2,Z_=s=>s==="*";function Nw(s,e){let n=s.split("/"),r=n.length;return n.some(Z_)&&(r+=xw),e&&(r+=Sw),n.filter(l=>!Z_(l)).reduce((l,c)=>l+(Tw.test(c)?bw:c===""?Aw:ww),r)}function Rw(s,e){return s.length===e.length&&s.slice(0,-1).every((r,l)=>r===e[l])?s[s.length-1]-e[e.length-1]:0}function Cw(s,e,n=!1){let{routesMeta:r}=s,l={},c="/",d=[];for(let p=0;p<r.length;++p){let g=r[p],y=p===r.length-1,T=c==="/"?e:e.slice(c.length)||"/",b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),S=g.route;if(!b&&y&&n&&!r[r.length-1].route.index&&(b=wh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),d.push({params:l,pathname:ms([c,b.pathname]),pathnameBase:kw(ms([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=ms([c,b.pathnameBase]))}return d}function wh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Iw(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let c=l[0],d=c.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:r.reduce((y,{paramName:T,isOptional:b},S)=>{if(T==="*"){let j=p[S]||"";d=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const M=p[S];return b&&!M?y[T]=void 0:y[T]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:s}}function Iw(s,e=!1,n=!0){$n(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,g)=>(r.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function jw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ys(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ow=s=>Dw.test(s);function Mw(s,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof s=="string"?Al(s):s,c;if(n)if(Ow(n))c=n;else{if(n.includes("//")){let d=n;n=n.replace(/\/\/+/g,"/"),$n(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${n}`)}n.startsWith("/")?c=eE(n.substring(1),"/"):c=eE(n,e)}else c=e;return{pathname:c,search:Lw(r),hash:Pw(l)}}function eE(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function wm(s,e,n,r){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Vw(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yp(s){let e=Vw(s);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vp(s,e,n,r=!1){let l;typeof s=="string"?l=Al(s):(l={...s},ht(!l.pathname||!l.pathname.includes("?"),wm("?","pathname","search",l)),ht(!l.pathname||!l.pathname.includes("#"),wm("#","pathname","hash",l)),ht(!l.search||!l.search.includes("#"),wm("#","search","hash",l)));let c=s===""||l.pathname==="",d=c?"/":l.pathname,p;if(d==null)p=n;else{let b=e.length-1;if(!r&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),b-=1;l.pathname=S.join("/")}p=b>=0?e[b]:"/"}let g=Mw(l,p),y=d&&d!=="/"&&d.endsWith("/"),T=(c||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ms=s=>s.join("/").replace(/\/\/+/g,"/"),kw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Lw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Pw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Uw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function zw(s){return s.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var zT=["POST","PUT","PATCH","DELETE"];new Set(zT);var Bw=["GET",...zT];new Set(Bw);var wl=V.createContext(null);wl.displayName="DataRouter";var Gh=V.createContext(null);Gh.displayName="DataRouterState";V.createContext(!1);var BT=V.createContext({isTransitioning:!1});BT.displayName="ViewTransition";var Hw=V.createContext(new Map);Hw.displayName="Fetchers";var qw=V.createContext(null);qw.displayName="Await";var Xn=V.createContext(null);Xn.displayName="Navigation";var gc=V.createContext(null);gc.displayName="Location";var mi=V.createContext({outlet:null,matches:[],isDataRoute:!1});mi.displayName="Route";var _p=V.createContext(null);_p.displayName="RouteError";function Fw(s,{relative:e}={}){ht(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=V.useContext(Xn),{hash:l,pathname:c,search:d}=yc(s,{relative:e}),p=c;return n!=="/"&&(p=c==="/"?n:ms([n,c])),r.createHref({pathname:p,search:d,hash:l})}function xl(){return V.useContext(gc)!=null}function Tr(){return ht(xl(),"useLocation() may be used only in the context of a <Router> component."),V.useContext(gc).location}var HT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qT(s){V.useContext(Xn).static||V.useLayoutEffect(s)}function Nl(){let{isDataRoute:s}=V.useContext(mi);return s?sx():Gw()}function Gw(){ht(xl(),"useNavigate() may be used only in the context of a <Router> component.");let s=V.useContext(wl),{basename:e,navigator:n}=V.useContext(Xn),{matches:r}=V.useContext(mi),{pathname:l}=Tr(),c=JSON.stringify(yp(r)),d=V.useRef(!1);return qT(()=>{d.current=!0}),V.useCallback((g,y={})=>{if($n(d.current,HT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=vp(g,JSON.parse(c),l,y.relative==="path");s==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ms([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,c,l,s])}V.createContext(null);function Kw(){let{matches:s}=V.useContext(mi),e=s[s.length-1];return e?e.params:{}}function yc(s,{relative:e}={}){let{matches:n}=V.useContext(mi),{pathname:r}=Tr(),l=JSON.stringify(yp(n));return V.useMemo(()=>vp(s,JSON.parse(l),r,e==="path"),[s,l,r,e])}function Qw(s,e){return FT(s,e)}function FT(s,e,n,r,l){ht(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=V.useContext(Xn),{matches:d}=V.useContext(mi),p=d[d.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",b=p&&p.route;{let W=b&&b.path||"";GT(y,!b||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let S=Tr(),M;if(e){let W=typeof e=="string"?Al(e):e;ht(T==="/"||W.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),M=W}else M=S;let j=M.pathname||"/",C=j;if(T!=="/"){let W=T.replace(/^\//,"").split("/");C="/"+j.replace(/^\//,"").split("/").slice(W.length).join("/")}let D=LT(s,{pathname:C});$n(b||D!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),$n(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Jw(D&&D.map(W=>Object.assign({},W,{params:Object.assign({},g,W.params),pathname:ms([T,c.encodeLocation?c.encodeLocation(W.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:ms([T,c.encodeLocation?c.encodeLocation(W.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:W.pathnameBase])})),d,n,r,l);return e&&Y?V.createElement(gc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function Yw(){let s=ix(),e=Uw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=V.createElement(V.Fragment,null,V.createElement("p",null," Hey developer "),V.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",V.createElement("code",{style:c},"ErrorBoundary")," or"," ",V.createElement("code",{style:c},"errorElement")," prop on your route.")),V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:l},n):null,d)}var $w=V.createElement(Yw,null),Xw=class extends V.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){this.props.onError?this.props.onError(s,e):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?V.createElement(mi.Provider,{value:this.props.routeContext},V.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ww({routeContext:s,match:e,children:n}){let r=V.useContext(wl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),V.createElement(mi.Provider,{value:s},n)}function Jw(s,e=[],n=null,r=null,l=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,d=n?.errors;if(d!=null){let T=c.findIndex(b=>b.route.id&&d?.[b.route.id]!==void 0);ht(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,T+1))}let p=!1,g=-1;if(n)for(let T=0;T<c.length;T++){let b=c[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=T),b.route.id){let{loaderData:S,errors:M}=n,j=b.route.loader&&!S.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||j){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}let y=n&&r?(T,b)=>{r(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zw(n.matches),errorInfo:b})}:void 0;return c.reduceRight((T,b,S)=>{let M,j=!1,C=null,D=null;n&&(M=d&&b.route.id?d[b.route.id]:void 0,C=b.route.errorElement||$w,p&&(g<0&&S===0?(GT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,D=null):g===S&&(j=!0,D=b.route.hydrateFallbackElement||null)));let Y=e.concat(c.slice(0,S+1)),W=()=>{let te;return M?te=C:j?te=D:b.route.Component?te=V.createElement(b.route.Component,null):b.route.element?te=b.route.element:te=T,V.createElement(Ww,{match:b,routeContext:{outlet:T,matches:Y,isDataRoute:n!=null},children:te})};return n&&(b.route.ErrorBoundary||b.route.errorElement||S===0)?V.createElement(Xw,{location:n.location,revalidation:n.revalidation,component:C,error:M,children:W(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:y}):W()},null)}function Ep(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zw(s){let e=V.useContext(wl);return ht(e,Ep(s)),e}function ex(s){let e=V.useContext(Gh);return ht(e,Ep(s)),e}function tx(s){let e=V.useContext(mi);return ht(e,Ep(s)),e}function Tp(s){let e=tx(s),n=e.matches[e.matches.length-1];return ht(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function nx(){return Tp("useRouteId")}function ix(){let s=V.useContext(_p),e=ex("useRouteError"),n=Tp("useRouteError");return s!==void 0?s:e.errors?.[n]}function sx(){let{router:s}=Zw("useNavigate"),e=Tp("useNavigate"),n=V.useRef(!1);return qT(()=>{n.current=!0}),V.useCallback(async(l,c={})=>{$n(n.current,HT),n.current&&(typeof l=="number"?await s.navigate(l):await s.navigate(l,{fromRouteId:e,...c}))},[s,e])}var tE={};function GT(s,e,n){!e&&!tE[s]&&(tE[s]=!0,$n(!1,n))}V.memo(rx);function rx({routes:s,future:e,state:n,unstable_onError:r}){return FT(s,void 0,n,r,e)}function Rl({to:s,replace:e,state:n,relative:r}){ht(xl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=V.useContext(Xn);$n(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=V.useContext(mi),{pathname:d}=Tr(),p=Nl(),g=vp(s,yp(c),d,r==="path"),y=JSON.stringify(g);return V.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:r})},[p,y,r,e,n]),null}function Ut(s){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ax({basename:s="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:c=!1,unstable_useTransitions:d}){ht(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=V.useMemo(()=>({basename:p,navigator:l,static:c,unstable_useTransitions:d,future:{}}),[p,l,c,d]);typeof n=="string"&&(n=Al(n));let{pathname:y="/",search:T="",hash:b="",state:S=null,key:M="default"}=n,j=V.useMemo(()=>{let C=ys(y,p);return C==null?null:{location:{pathname:C,search:T,hash:b,state:S,key:M},navigationType:r}},[p,y,T,b,S,M,r]);return $n(j!=null,`<Router basename="${p}"> is not able to match the URL "${y}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:V.createElement(Xn.Provider,{value:g},V.createElement(gc.Provider,{children:e,value:j}))}function lx({children:s,location:e}){return Qw(qm(s),e)}function qm(s,e=[]){let n=[];return V.Children.forEach(s,(r,l)=>{if(!V.isValidElement(r))return;let c=[...e,l];if(r.type===V.Fragment){n.push.apply(n,qm(r.props.children,c));return}ht(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=qm(r.props.children,c)),n.push(d)}),n}var fh="get",mh="application/x-www-form-urlencoded";function Kh(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function ox(s){return Kh(s)&&s.tagName.toLowerCase()==="button"}function cx(s){return Kh(s)&&s.tagName.toLowerCase()==="form"}function ux(s){return Kh(s)&&s.tagName.toLowerCase()==="input"}function hx(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function dx(s,e){return s.button===0&&(!e||e==="_self")&&!hx(s)}var ah=null;function fx(){if(ah===null)try{new FormData(document.createElement("form"),0),ah=!1}catch{ah=!0}return ah}var mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xm(s){return s!=null&&!mx.has(s)?($n(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mh}"`),null):s}function px(s,e){let n,r,l,c,d;if(cx(s)){let p=s.getAttribute("action");r=p?ys(p,e):null,n=s.getAttribute("method")||fh,l=xm(s.getAttribute("enctype"))||mh,c=new FormData(s)}else if(ox(s)||ux(s)&&(s.type==="submit"||s.type==="image")){let p=s.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||p.getAttribute("action");if(r=g?ys(g,e):null,n=s.getAttribute("formmethod")||p.getAttribute("method")||fh,l=xm(s.getAttribute("formenctype"))||xm(p.getAttribute("enctype"))||mh,c=new FormData(p,s),!fx()){let{name:y,type:T,value:b}=s;if(T==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if(Kh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=fh,r=null,l=mh,d=s}return c&&l==="text/plain"&&(d=c,c=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function gx(s,e,n){let r=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&ys(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function yx(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vx(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function _x(s,e,n){let r=await Promise.all(s.map(async l=>{let c=e.routes[l.route.id];if(c){let d=await yx(c,n);return d.links?d.links():[]}return[]}));return Sx(r.flat(1).filter(vx).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function nE(s,e,n,r,l,c){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return c==="assets"?e.filter((g,y)=>d(g,y)||p(g,y)):c==="data"?e.filter((g,y)=>{let T=r.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let b=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Ex(s,e,{includeHydrateFallback:n}={}){return Tx(s.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let c=[l.module];return l.clientActionModule&&(c=c.concat(l.clientActionModule)),l.clientLoaderModule&&(c=c.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(c=c.concat(l.hydrateFallbackModule)),l.imports&&(c=c.concat(l.imports)),c}).flat(1))}function Tx(s){return[...new Set(s)]}function bx(s){let e={},n=Object.keys(s).sort();for(let r of n)e[r]=s[r];return e}function Sx(s,e){let n=new Set;return new Set(e),s.reduce((r,l)=>{let c=JSON.stringify(bx(l));return n.has(c)||(n.add(c),r.push({key:c,link:l})),r},[])}function KT(){let s=V.useContext(wl);return bp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ax(){let s=V.useContext(Gh);return bp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Sp=V.createContext(void 0);Sp.displayName="FrameworkContext";function QT(){let s=V.useContext(Sp);return bp(s,"You must render this element inside a <HydratedRouter> element"),s}function wx(s,e){let n=V.useContext(Sp),[r,l]=V.useState(!1),[c,d]=V.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,S=V.useRef(null);V.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let C=Y=>{Y.forEach(W=>{d(W.isIntersecting)})},D=new IntersectionObserver(C,{threshold:.5});return S.current&&D.observe(S.current),()=>{D.disconnect()}}},[s]),V.useEffect(()=>{if(r){let C=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(C)}}},[r]);let M=()=>{l(!0)},j=()=>{l(!1),d(!1)};return n?s!=="intent"?[c,S,{}]:[c,S,{onFocus:Fo(p,M),onBlur:Fo(g,j),onMouseEnter:Fo(y,M),onMouseLeave:Fo(T,j),onTouchStart:Fo(b,M)}]:[!1,S,{}]}function Fo(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function xx({page:s,...e}){let{router:n}=KT(),r=V.useMemo(()=>LT(n.routes,s,n.basename),[n.routes,s,n.basename]);return r?V.createElement(Rx,{page:s,matches:r,...e}):null}function Nx(s){let{manifest:e,routeModules:n}=QT(),[r,l]=V.useState([]);return V.useEffect(()=>{let c=!1;return _x(s,e,n).then(d=>{c||l(d)}),()=>{c=!0}},[s,e,n]),r}function Rx({page:s,matches:e,...n}){let r=Tr(),{manifest:l,routeModules:c}=QT(),{basename:d}=KT(),{loaderData:p,matches:g}=Ax(),y=V.useMemo(()=>nE(s,e,g,l,r,"data"),[s,e,g,l,r]),T=V.useMemo(()=>nE(s,e,g,l,r,"assets"),[s,e,g,l,r]),b=V.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let j=new Set,C=!1;if(e.forEach(Y=>{let W=l.routes[Y.route.id];!W||!W.hasLoader||(!y.some(te=>te.route.id===Y.route.id)&&Y.route.id in p&&c[Y.route.id]?.shouldRevalidate||W.hasClientLoader?C=!0:j.add(Y.route.id))}),j.size===0)return[];let D=gx(s,d,"data");return C&&j.size>0&&D.searchParams.set("_routes",e.filter(Y=>j.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[D.pathname+D.search]},[d,p,r,l,y,e,s,c]),S=V.useMemo(()=>Ex(T,l),[T,l]),M=Nx(T);return V.createElement(V.Fragment,null,b.map(j=>V.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),S.map(j=>V.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),M.map(({key:j,link:C})=>V.createElement("link",{key:j,nonce:n.nonce,...C})))}function Cx(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.10.1")}catch{}function Ix({basename:s,children:e,unstable_useTransitions:n,window:r}){let l=V.useRef();l.current==null&&(l.current=pw({window:r,v5Compat:!0}));let c=l.current,[d,p]=V.useState({action:c.action,location:c.location}),g=V.useCallback(y=>{n===!1?p(y):V.startTransition(()=>p(y))},[n]);return V.useLayoutEffect(()=>c.listen(g),[c,g]),V.createElement(ax,{basename:s,children:e,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:n===!0})}var $T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=V.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:c,replace:d,state:p,target:g,to:y,preventScrollReset:T,viewTransition:b,...S},M){let{basename:j,unstable_useTransitions:C}=V.useContext(Xn),D=typeof y=="string"&&$T.test(y),Y,W=!1;if(typeof y=="string"&&D&&(Y=y,YT))try{let L=new URL(window.location.href),k=y.startsWith("//")?new URL(L.protocol+y):new URL(y),B=ys(k.pathname,j);k.origin===L.origin&&B!=null?y=B+k.search+k.hash:W=!0}catch{$n(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Fw(y,{relative:l}),[z,ce,le]=wx(r,S),R=Mx(y,{replace:d,state:p,target:g,preventScrollReset:T,relative:l,viewTransition:b,unstable_useTransitions:C});function x(L){e&&e(L),L.defaultPrevented||R(L)}let N=V.createElement("a",{...S,...le,href:Y||te,onClick:W||c?e:x,ref:Cx(M,ce),target:g,"data-discover":!D&&n==="render"?"true":void 0});return z&&!D?V.createElement(V.Fragment,null,N,V.createElement(xx,{page:te})):N});Ne.displayName="Link";var jx=V.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:c,to:d,viewTransition:p,children:g,...y},T){let b=yc(d,{relative:y.relative}),S=Tr(),M=V.useContext(Gh),{navigator:j,basename:C}=V.useContext(Xn),D=M!=null&&Ux(b)&&p===!0,Y=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,W=S.pathname,te=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(W=W.toLowerCase(),te=te?te.toLowerCase():null,Y=Y.toLowerCase()),te&&C&&(te=ys(te,C)||te);const z=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=W===Y||!l&&W.startsWith(Y)&&W.charAt(z)==="/",le=te!=null&&(te===Y||!l&&te.startsWith(Y)&&te.charAt(Y.length)==="/"),R={isActive:ce,isPending:le,isTransitioning:D},x=ce?e:void 0,N;typeof r=="function"?N=r(R):N=[r,ce?"active":null,le?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(R):c;return V.createElement(Ne,{...y,"aria-current":x,className:N,ref:T,style:L,to:d,viewTransition:p},typeof g=="function"?g(R):g)});jx.displayName="NavLink";var Dx=V.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:c,method:d=fh,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:b,...S},M)=>{let{unstable_useTransitions:j}=V.useContext(Xn),C=Lx(),D=Px(p,{relative:y}),Y=d.toLowerCase()==="get"?"get":"post",W=typeof p=="string"&&$T.test(p),te=z=>{if(g&&g(z),z.defaultPrevented)return;z.preventDefault();let ce=z.nativeEvent.submitter,le=ce?.getAttribute("formmethod")||d,R=()=>C(ce||z.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:l,state:c,relative:y,preventScrollReset:T,viewTransition:b});j&&n!==!1?V.startTransition(()=>R()):R()};return V.createElement("form",{ref:M,method:Y,action:D,onSubmit:r?g:te,...S,"data-discover":!W&&s==="render"?"true":void 0})});Dx.displayName="Form";function Ox(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(s){let e=V.useContext(wl);return ht(e,Ox(s)),e}function Mx(s,{target:e,replace:n,state:r,preventScrollReset:l,relative:c,viewTransition:d,unstable_useTransitions:p}={}){let g=Nl(),y=Tr(),T=yc(s,{relative:c});return V.useCallback(b=>{if(dx(b,e)){b.preventDefault();let S=n!==void 0?n:sc(y)===sc(T),M=()=>g(s,{replace:S,state:r,preventScrollReset:l,relative:c,viewTransition:d});p?V.startTransition(()=>M()):M()}},[y,g,T,n,r,e,s,l,c,d,p])}var Vx=0,kx=()=>`__${String(++Vx)}__`;function Lx(){let{router:s}=XT("useSubmit"),{basename:e}=V.useContext(Xn),n=nx(),r=s.fetch,l=s.navigate;return V.useCallback(async(c,d={})=>{let{action:p,method:g,encType:y,formData:T,body:b}=px(c,e);if(d.navigate===!1){let S=d.fetcherKey||kx();await r(S,n,d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,flushSync:d.flushSync})}else await l(d.action||p,{preventScrollReset:d.preventScrollReset,formData:T,body:b,formMethod:d.method||g,formEncType:d.encType||y,replace:d.replace,state:d.state,fromRouteId:n,flushSync:d.flushSync,viewTransition:d.viewTransition})},[r,l,e,n])}function Px(s,{relative:e}={}){let{basename:n}=V.useContext(Xn),r=V.useContext(mi);ht(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),c={...yc(s||".",{relative:e})},d=Tr();if(s==null){c.search=d.search;let p=new URLSearchParams(c.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(b=>b).forEach(b=>p.append("index",b));let T=p.toString();c.search=T?`?${T}`:""}}return(!s||s===".")&&l.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:ms([n,c.pathname])),sc(c)}function Ux(s,{relative:e}={}){let n=V.useContext(BT);ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=XT("useViewTransitionState"),l=yc(s,{relative:e});if(!n.isTransitioning)return!1;let c=ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,d=ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return wh(l.pathname,d)!=null||wh(l.pathname,c)!=null}const zx=()=>{};var iE={};const WT=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Bx=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const l=s[n++];if(l<128)e[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[n++];e[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[n++],d=s[n++],p=s[n++],g=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],d=s[n++];e[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},JT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,g=l+2<s.length,y=g?s[l+2]:0,T=c>>2,b=(c&3)<<4|p>>4;let S=(p&15)<<2|y>>6,M=y&63;g||(M=64,d||(S=64)),r.push(n[T],n[b],n[S],n[M])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(WT(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Bx(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=n[s.charAt(l++)],p=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const b=l<s.length?n[s.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new Hx;const S=c<<2|p>>4;if(r.push(S),y!==64){const M=p<<4&240|y>>2;if(r.push(M),b!==64){const j=y<<6&192|b;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Hx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qx=function(s){const e=WT(s);return JT.encodeByteArray(e,!0)},xh=function(s){return qx(s).replace(/\./g,"")},ZT=function(s){try{return JT.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Fx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Gx=()=>Fx().__FIREBASE_DEFAULTS__,Kx=()=>{if(typeof process>"u"||typeof iE>"u")return;const s=iE.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Qx=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&ZT(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return zx()||Gx()||Kx()||Qx()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},eb=s=>Qh()?.emulatorHosts?.[s],Yx=s=>{const e=eb(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tb=()=>Qh()?.config,nb=s=>Qh()?.[`_${s}`];class $x{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function Cl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ib(s){return(await fetch(s,{credentials:"include"})).ok}function Xx(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[xh(JSON.stringify(n)),xh(JSON.stringify(d)),""].join(".")}const Jo={};function Wx(){const s={prod:[],emulator:[]};for(const e of Object.keys(Jo))Jo[e]?s.emulator.push(e):s.prod.push(e);return s}function Jx(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let sE=!1;function sb(s,e){if(typeof window>"u"||typeof document>"u"||!Cl(window.location.host)||Jo[s]===e||Jo[s]||sE)return;Jo[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=Wx().prod.length>0;function d(){const S=document.getElementById(r);S&&S.remove()}function p(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sE=!0,d()},S}function T(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=Jx(r),M=n("text"),j=document.getElementById(M)||document.createElement("span"),C=n("learnmore"),D=document.getElementById(C)||document.createElement("a"),Y=n("preprendIcon"),W=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;p(te),T(D,C);const z=y();g(W,Y),te.append(W,j,D,z),document.body.appendChild(te)}c?(j.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function eN(){const s=Qh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nN(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function iN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function rN(){return!eN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const oN="FirebaseError";class Ss extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oN,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vc.prototype.create)}}class vc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?cN(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Ss(l,p,r)}}function cN(s,e){return s.replace(uN,(n,r)=>{const l=e[r];return l!=null?String(l):`<${r}?>`})}const uN=/\{\$([^}]+)}/g;function hN(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function la(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const l of n){if(!r.includes(l))return!1;const c=s[l],d=e[l];if(rE(c)&&rE(d)){if(!la(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!n.includes(l))return!1;return!0}function rE(s){return s!==null&&typeof s=="object"}function _c(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[l,c]=r.split("=");e[decodeURIComponent(l)]=decodeURIComponent(c)}}),e}function Ko(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function dN(s,e){const n=new fN(s,e);return n.subscribe.bind(n)}class fN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let l;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mN(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:r},l.next===void 0&&(l.next=Nm),l.error===void 0&&(l.error=Nm),l.complete===void 0&&(l.complete=Nm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mN(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function Nm(){}function Vt(s){return s&&s._delegate?s._delegate:s}class oa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ia="[DEFAULT]";class pN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $x;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yN(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(r)??new Set;l.add(e),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&e(c,r),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const l of r)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gN(s){return s===ia?void 0:s}function yN(s){return s.instantiationMode==="EAGER"}class vN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const _N={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},EN=Ue.INFO,TN={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},bN=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),l=TN[e];if(l)console[l](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ap{constructor(e){this.name=e,this._logLevel=EN,this._logHandler=bN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_N[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const SN=(s,e)=>e.some(n=>s instanceof n);let aE,lE;function AN(){return aE||(aE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return lE||(lE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rb=new WeakMap,Fm=new WeakMap,ab=new WeakMap,Rm=new WeakMap,wp=new WeakMap;function xN(s){const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{n(ur(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&rb.set(n,s)}).catch(()=>{}),wp.set(e,s),e}function NN(s){if(Fm.has(s))return;const e=new Promise((n,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{n(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fm.set(s,e)}let Gm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Fm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||ab.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function RN(s){Gm=s(Gm)}function CN(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(Cm(this),e,...n);return ab.set(r,e.sort?e.sort():[e]),ur(r)}:wN().includes(s)?function(...e){return s.apply(Cm(this),e),ur(rb.get(this))}:function(...e){return ur(s.apply(Cm(this),e))}}function IN(s){return typeof s=="function"?CN(s):(s instanceof IDBTransaction&&NN(s),SN(s,AN())?new Proxy(s,Gm):s)}function ur(s){if(s instanceof IDBRequest)return xN(s);if(Rm.has(s))return Rm.get(s);const e=IN(s);return e!==s&&(Rm.set(s,e),wp.set(e,s)),e}const Cm=s=>wp.get(s);function jN(s,e,{blocked:n,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,e),p=ur(d);return r&&d.addEventListener("upgradeneeded",g=>{r(ur(d.result),g.oldVersion,g.newVersion,ur(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const DN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],Im=new Map;function oE(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Im.get(e))return Im.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,l=ON.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(l||DN.includes(n)))return;const c=async function(d,...p){const g=this.transaction(d,l?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&g.done]))[0]};return Im.set(e,c),c}RN(s=>({...s,get:(e,n,r)=>oE(e,n)||s.get(e,n,r),has:(e,n)=>!!oE(e,n)||s.has(e,n)}));class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VN(s){return s.getComponent()?.type==="VERSION"}const Km="@firebase/app",cE="0.14.6";const vs=new Ap("@firebase/app"),kN="@firebase/app-compat",LN="@firebase/analytics-compat",PN="@firebase/analytics",UN="@firebase/app-check-compat",zN="@firebase/app-check",BN="@firebase/auth",HN="@firebase/auth-compat",qN="@firebase/database",FN="@firebase/data-connect",GN="@firebase/database-compat",KN="@firebase/functions",QN="@firebase/functions-compat",YN="@firebase/installations",$N="@firebase/installations-compat",XN="@firebase/messaging",WN="@firebase/messaging-compat",JN="@firebase/performance",ZN="@firebase/performance-compat",e1="@firebase/remote-config",t1="@firebase/remote-config-compat",n1="@firebase/storage",i1="@firebase/storage-compat",s1="@firebase/firestore",r1="@firebase/ai",a1="@firebase/firestore-compat",l1="firebase",o1="12.6.0";const Qm="[DEFAULT]",c1={[Km]:"fire-core",[kN]:"fire-core-compat",[PN]:"fire-analytics",[LN]:"fire-analytics-compat",[zN]:"fire-app-check",[UN]:"fire-app-check-compat",[BN]:"fire-auth",[HN]:"fire-auth-compat",[qN]:"fire-rtdb",[FN]:"fire-data-connect",[GN]:"fire-rtdb-compat",[KN]:"fire-fn",[QN]:"fire-fn-compat",[YN]:"fire-iid",[$N]:"fire-iid-compat",[XN]:"fire-fcm",[WN]:"fire-fcm-compat",[JN]:"fire-perf",[ZN]:"fire-perf-compat",[e1]:"fire-rc",[t1]:"fire-rc-compat",[n1]:"fire-gcs",[i1]:"fire-gcs-compat",[s1]:"fire-fst",[a1]:"fire-fst-compat",[r1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};const Nh=new Map,u1=new Map,Ym=new Map;function uE(s,e){try{s.container.addComponent(e)}catch(n){vs.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function ml(s){const e=s.name;if(Ym.has(e))return vs.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,s);for(const n of Nh.values())uE(n,s);for(const n of u1.values())uE(n,s);return!0}function xp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new vc("app","Firebase",h1);class d1{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Il=o1;function lb(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Qm,automaticDataCollectionEnabled:!0,...e},l=r.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(n||(n=tb()),!n)throw hr.create("no-options");const c=Nh.get(l);if(c){if(la(n,c.options)&&la(r,c.config))return c;throw hr.create("duplicate-app",{appName:l})}const d=new vN(l);for(const g of Ym.values())d.addComponent(g);const p=new d1(n,r,d);return Nh.set(l,p),p}function ob(s=Qm){const e=Nh.get(s);if(!e&&s===Qm&&tb())return lb();if(!e)throw hr.create("no-app",{appName:s});return e}function dr(s,e,n){let r=c1[s]??s;n&&(r+=`-${n}`);const l=r.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${e}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}ml(new oa(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const f1="firebase-heartbeat-database",m1=1,rc="firebase-heartbeat-store";let jm=null;function cb(){return jm||(jm=jN(f1,m1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(rc)}catch(n){console.warn(n)}}}}).catch(s=>{throw hr.create("idb-open",{originalErrorMessage:s.message})})),jm}async function p1(s){try{const n=(await cb()).transaction(rc),r=await n.objectStore(rc).get(ub(s));return await n.done,r}catch(e){if(e instanceof Ss)vs.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});vs.warn(n.message)}}}async function hE(s,e){try{const r=(await cb()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,ub(s)),await r.done}catch(n){if(n instanceof Ss)vs.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n?.message});vs.warn(r.message)}}}function ub(s){return`${s.name}!${s.options.appId}`}const g1=1024,y1=30;class v1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>y1){const l=T1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){vs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=dE(),{heartbeatsToSend:n,unsentEntries:r}=_1(this._heartbeatsCache.heartbeats),l=xh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return vs.warn(e),""}}}function dE(){return new Date().toISOString().substring(0,10)}function _1(s,e=g1){const n=[];let r=s.slice();for(const l of s){const c=n.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),fE(n)>e){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),fE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await p1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function fE(s){return xh(JSON.stringify({version:2,heartbeats:s})).length}function T1(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}function b1(s){ml(new oa("platform-logger",e=>new MN(e),"PRIVATE")),ml(new oa("heartbeat",e=>new v1(e),"PRIVATE")),dr(Km,cE,s),dr(Km,cE,"esm2020"),dr("fire-js","")}b1("");function hb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S1=hb,db=new vc("auth","Firebase",hb());const Rh=new Ap("@firebase/auth");function A1(s,...e){Rh.logLevel<=Ue.WARN&&Rh.warn(`Auth (${Il}): ${s}`,...e)}function ph(s,...e){Rh.logLevel<=Ue.ERROR&&Rh.error(`Auth (${Il}): ${s}`,...e)}function di(s,...e){throw Np(s,...e)}function Pi(s,...e){return Np(s,...e)}function fb(s,e,n){const r={...S1(),[e]:n};return new vc("auth","Firebase",r).create(e,{appName:s.name})}function ps(s){return fb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return db.create(s,...e)}function be(s,e,...n){if(!s)throw Np(e,...n)}function ds(s){const e="INTERNAL ASSERTION FAILED: "+s;throw ph(e),new Error(e)}function _s(s,e){s||ds(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function w1(){return mE()==="http:"||mE()==="https:"}function mE(){return typeof self<"u"&&self.location?.protocol||null}function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(w1()||nN()||"connection"in navigator)?navigator.onLine:!0}function N1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,_s(n>e,"Short delay should be less than long delay!"),this.isMobile=Zx()||iN()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(s,e){_s(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class mb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const C1=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I1=new Ec(3e4,6e4);function As(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Ki(s,e,n,r,l={}){return pb(s,l,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const p=_c({key:s.config.apiKey,...d}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return tN()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(y.credentials="include"),mb.fetch()(await gb(s,s.config.apiHost,n,p),y)})}async function pb(s,e,n){s._canInitEmulator=!1;const r={...R1,...e};try{const l=new D1(s),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw lh(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw lh(s,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw lh(s,"email-already-in-use",d);if(g==="USER_DISABLED")throw lh(s,"user-disabled",d);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fb(s,T,y);di(s,T)}}catch(l){if(l instanceof Ss)throw l;di(s,"network-request-failed",{message:String(l)})}}async function Tc(s,e,n,r,l={}){const c=await Ki(s,e,n,r,l);return"mfaPendingCredential"in c&&di(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function gb(s,e,n,r){const l=`${e}${n}?${r}`,c=s,d=c.config.emulator?Rp(s.config,l):`${s.config.apiScheme}://${l}`;return C1.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}function j1(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class D1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),I1.get())})}}function lh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const l=Pi(s,e,r);return l.customData._tokenResponse=n,l}function pE(s){return s!==void 0&&s.enterprise!==void 0}class O1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function M1(s,e){return Ki(s,"GET","/v2/recaptchaConfig",As(s,e))}async function V1(s,e){return Ki(s,"POST","/v1/accounts:delete",e)}async function Ch(s,e){return Ki(s,"POST","/v1/accounts:lookup",e)}function Zo(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k1(s,e=!1){const n=Vt(s),r=await n.getIdToken(e),l=Cp(r);be(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Zo(Dm(l.auth_time)),issuedAtTime:Zo(Dm(l.iat)),expirationTime:Zo(Dm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Dm(s){return Number(s)*1e3}function Cp(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const l=ZT(n);return l?JSON.parse(l):(ph("Failed to decode base64 JWT payload"),null)}catch(l){return ph("Caught error parsing JWT payload as JSON",l?.toString()),null}}function gE(s){const e=Cp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function pl(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ss&&L1(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function L1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class P1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ih(s){const e=s.auth,n=await s.getIdToken(),r=await pl(s,Ch(e,{idToken:n}));be(r?.users.length,e,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?yb(l.providerUserInfo):[],d=z1(s.providerData,c),p=s.isAnonymous,g=!(s.email&&l.passwordHash)&&!d?.length,y=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function U1(s){const e=Vt(s);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function z1(s,e){return[...s.filter(r=>!e.some(l=>l.providerId===r.providerId)),...e]}function yb(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function B1(s,e){const n=await pb(s,{},async()=>{const r=_c({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await gb(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:r};return s.emulatorConfig&&Cl(s.emulatorConfig.host)&&(g.credentials="include"),mb.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function H1(s,e){return Ki(s,"POST","/v2/accounts:revokeToken",As(s,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=gE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:l,expiresIn:c}=await B1(e,n);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:l,expirationTime:c}=n,d=new ul;return r&&(be(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),l&&(be(typeof l=="string","internal-error",{appName:e}),d.accessToken=l),c&&(be(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ds("not implemented")}}function sr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ci{constructor({uid:e,auth:n,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new P1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k1(this,e)}reload(){return U1(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ci({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ps(this.auth));const e=await this.getIdToken();return await pl(this,V1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,l=n.email??void 0,c=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:S,isAnonymous:M,providerData:j,stsTokenManager:C}=n;be(b&&C,e,"internal-error");const D=ul.fromJSON(this.name,C);be(typeof b=="string",e,"internal-error"),sr(r,e.name),sr(l,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof M=="boolean",e,"internal-error"),sr(c,e.name),sr(d,e.name),sr(p,e.name),sr(g,e.name),sr(y,e.name),sr(T,e.name);const Y=new ci({uid:b,auth:e,email:l,emailVerified:S,displayName:r,isAnonymous:M,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:D,createdAt:y,lastLoginAt:T});return j&&Array.isArray(j)&&(Y.providerData=j.map(W=>({...W}))),g&&(Y._redirectEventId=g),Y}static async _fromIdTokenResponse(e,n,r=!1){const l=new ul;l.updateFromServerResponse(n);const c=new ci({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:r});return await Ih(c),c}static async _fromGetAccountInfoResponse(e,n,r){const l=n.users[0];be(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?yb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new ul;p.updateFromIdToken(r);const g=new ci({uid:l.localId,auth:e,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(g,y),g}}const yE=new Map;function fs(s){_s(s instanceof Function,"Expected a class definition");let e=yE.get(s);return e?(_s(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,yE.set(s,e),e)}class vb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}vb.type="NONE";const vE=vb;function gh(s,e,n){return`firebase:${s}:${e}:${n}`}class hl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=gh(this.userKey,l.apiKey,c),this.fullPersistenceKey=gh("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?ci._fromGetAccountInfoResponse(this.auth,n,e):null}return ci._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new hl(fs(vE),e,r);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||fs(vE);const d=gh(r,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(d);if(T){let b;if(typeof T=="string"){const S=await Ch(e,{idToken:T}).catch(()=>{});if(!S)break;b=await ci._fromGetAccountInfoResponse(e,S,T)}else b=ci._fromJSON(e,T);y!==c&&(p=b),c=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new hl(c,e,r):(c=g[0],p&&await c._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new hl(c,e,r))}}function _E(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_b(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ab(e))return"Blackberry";if(wb(e))return"Webos";if(Eb(e))return"Safari";if((e.includes("chrome/")||Tb(e))&&!e.includes("edge/"))return"Chrome";if(Sb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if(r?.length===2)return r[1]}return"Other"}function _b(s=rn()){return/firefox\//i.test(s)}function Eb(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Tb(s=rn()){return/crios\//i.test(s)}function bb(s=rn()){return/iemobile/i.test(s)}function Sb(s=rn()){return/android/i.test(s)}function Ab(s=rn()){return/blackberry/i.test(s)}function wb(s=rn()){return/webos/i.test(s)}function Ip(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function q1(s=rn()){return Ip(s)&&!!window.navigator?.standalone}function F1(){return sN()&&document.documentMode===10}function xb(s=rn()){return Ip(s)||Sb(s)||wb(s)||Ab(s)||/windows phone/i.test(s)||bb(s)}function Nb(s,e=[]){let n;switch(s){case"Browser":n=_E(rn());break;case"Worker":n=`${_E(rn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Il}/${r}`}class G1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,p)=>{try{const g=e(c);d(g)}catch(g){p(g)}});r.onAbort=n,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function K1(s,e={}){return Ki(s,"GET","/v2/passwordPolicy",As(s,e))}const Q1=6;class Y1{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Q1,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let l=0;l<e.length;l++)r=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}class $1{constructor(e,n,r,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new EE(this),this.idTokenSubscription=new EE(this),this.beforeStateQueue=new G1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=db,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),r=await ci._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Kn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=N1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ps(this));const n=e?Vt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K1(this),n=new Y1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await H1(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,l);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&A1(`Error while retrieving App Check token: ${e.error}`),e?.token}}function br(s){return Vt(s)}class EE{constructor(e){this.auth=e,this.observer=null,this.addObserver=dN(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X1(s){Yh=s}function Rb(s){return Yh.loadJS(s)}function W1(){return Yh.recaptchaEnterpriseScript}function J1(){return Yh.gapiScript}function Z1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class eR{constructor(){this.enterprise=new tR}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tR{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nR="recaptcha-enterprise",Cb="NO_RECAPTCHA";class iR{constructor(e){this.type=nR,this.auth=br(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,p)=>{M1(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new O1(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(g=>{p(g)})})}function l(c,d,p){const g=window.grecaptcha;pE(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(Cb)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eR().execute("siteKey",{action:"verify"}):new Promise((c,d)=>{r(this.auth).then(p=>{if(!n&&pE(window.grecaptcha))l(p,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=W1();g.length!==0&&(g+=p),Rb(g).then(()=>{l(p,c,d)}).catch(y=>{d(y)})}}).catch(p=>{d(p)})})}}async function TE(s,e,n,r=!1,l=!1){const c=new iR(s);let d;if(l)d=Cb;else try{d=await c.verify(n)}catch{d=await c.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return r?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function jh(s,e,n,r,l){if(s._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await TE(s,e,n,n==="getOobCode");return r(s,c)}else return r(s,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await TE(s,e,n,n==="getOobCode");return r(s,d)}else return Promise.reject(c)})}function sR(s,e){const n=xp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(la(c,e??{}))return l;di(l,"already-initialized")}return n.initialize({options:e})}function rR(s,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(fs);e?.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e?.popupRedirectResolver)}function aR(s,e,n){const r=br(s);be(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const l=!1,c=Ib(e),{host:d,port:p}=lR(e),g=p===null?"":`:${p}`,y={url:`${c}//${d}${g}/`},T=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){be(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),be(la(y,r.config.emulator)&&la(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Cl(d)?(ib(`${c}//${d}${g}`),sb("Auth",!0)):oR()}function Ib(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function lR(s){const e=Ib(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:bE(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:bE(d)}}}function bE(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function oR(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ds("not implemented")}_getIdTokenResponse(e){return ds("not implemented")}_linkToIdToken(e,n){return ds("not implemented")}_getReauthenticationResolver(e){return ds("not implemented")}}async function cR(s,e){return Ki(s,"POST","/v1/accounts:signUp",e)}async function uR(s,e){return Tc(s,"POST","/v1/accounts:signInWithPassword",As(s,e))}async function hR(s,e){return Ki(s,"POST","/v1/accounts:sendOobCode",As(s,e))}async function dR(s,e){return hR(s,e)}async function fR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}async function mR(s,e){return Tc(s,"POST","/v1/accounts:signInWithEmailLink",As(s,e))}class ac extends jp{constructor(e,n,r,l=null){super("password",r),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new ac(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ac(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,n,"signInWithPassword",uR);case"emailLink":return fR(e,{email:this._email,oobCode:this._password});default:di(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return jh(e,r,"signUpPassword",cR);case"emailLink":return mR(e,{idToken:n,email:this._email,oobCode:this._password});default:di(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function dl(s,e){return Tc(s,"POST","/v1/accounts:signInWithIdp",As(s,e))}const pR="http://localhost";class ca extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:l,...c}=n;if(!r||!l)return null;const d=new ca(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return dl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,dl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,dl(e,n)}buildRequest(){const e={requestUri:pR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=_c(n)}return e}}function gR(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yR(s){const e=Go(Ko(s)).link,n=e?Go(Ko(e)).deep_link_id:null,r=Go(Ko(s)).deep_link_id;return(r?Go(Ko(r)).link:null)||r||n||e||s}class Dp{constructor(e){const n=Go(Ko(e)),r=n.apiKey??null,l=n.oobCode??null,c=gR(n.mode??null);be(r&&l&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yR(e);try{return new Dp(n)}catch{return null}}}class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(e,n){return ac._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dp.parseLink(n);return be(r,"argument-error"),ac._fromEmailAndCode(e,r.code,r.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bc extends jb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class rr extends bc{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rr.credential(e.oauthAccessToken)}catch{return null}}}rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";rr.PROVIDER_ID="facebook.com";class ar extends bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";class lr extends bc{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lr.credential(e.oauthAccessToken)}catch{return null}}}lr.GITHUB_SIGN_IN_METHOD="github.com";lr.PROVIDER_ID="github.com";class or extends bc{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return or.credential(n,r)}catch{return null}}}or.TWITTER_SIGN_IN_METHOD="twitter.com";or.PROVIDER_ID="twitter.com";async function vR(s,e){return Tc(s,"POST","/v1/accounts:signUp",As(s,e))}class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,l=!1){const c=await ci._fromIdTokenResponse(e,r,l),d=SE(r);return new ua({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const l=SE(r);return new ua({user:e,providerId:l,_tokenResponse:r,operationType:n})}}function SE(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Dh extends Ss{constructor(e,n,r,l){super(n.code,n.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,l){return new Dh(e,n,r,l)}}function Db(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(s,c,e,r):c})}async function _R(s,e,n=!1){const r=await pl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return ua._forOperation(s,"link",r)}async function ER(s,e,n=!1){const{auth:r}=s;if(Kn(r.app))return Promise.reject(ps(r));const l="reauthenticate";try{const c=await pl(s,Db(r,l,e,s),n);be(c.idToken,r,"internal-error");const d=Cp(c.idToken);be(d,r,"internal-error");const{sub:p}=d;return be(s.uid===p,r,"user-mismatch"),ua._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&di(r,"user-mismatch"),c}}async function Ob(s,e,n=!1){if(Kn(s.app))return Promise.reject(ps(s));const r="signIn",l=await Db(s,r,e),c=await ua._fromIdTokenResponse(s,r,l);return n||await s._updateCurrentUser(c.user),c}async function TR(s,e){return Ob(br(s),e)}async function Mb(s){const e=br(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bR(s,e,n){const r=br(s);await jh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dR)}async function SR(s,e,n){if(Kn(s.app))return Promise.reject(ps(s));const r=br(s),d=await jh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&Mb(s),g}),p=await ua._fromIdTokenResponse(r,"signIn",d);return await r._updateCurrentUser(p.user),p}function AR(s,e,n){return Kn(s.app)?Promise.reject(ps(s)):TR(Vt(s),jl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Mb(s),r})}async function wR(s,e){return Ki(s,"POST","/v1/accounts:update",e)}async function xR(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Vt(s),c={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},d=await pl(r,wR(r.auth,c));r.displayName=d.displayName||null,r.photoURL=d.photoUrl||null;const p=r.providerData.find(({providerId:g})=>g==="password");p&&(p.displayName=r.displayName,p.photoURL=r.photoURL),await r._updateTokensIfNecessary(d)}function NR(s,e,n,r){return Vt(s).onIdTokenChanged(e,n,r)}function RR(s,e,n){return Vt(s).beforeAuthStateChanged(e,n)}function CR(s,e,n,r){return Vt(s).onAuthStateChanged(e,n,r)}function IR(s){return Vt(s).signOut()}const Oh="__sak";class Vb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Oh,"1"),this.storage.removeItem(Oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jR=1e3,DR=10;class kb extends Vb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),l=this.localCache[n];r!==l&&e(n,l,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,p,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);F1()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,DR):l()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const OR=kb;class Lb extends Vb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lb.type="SESSION";const Pb=Lb;function MR(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const r=new $h(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:l,data:c}=n.data,d=this.handlersMap[l];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,c)),g=await MR(p);n.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Op(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}class VR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,g)=>{const y=Op("",20);l.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(b){const S=b;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(S.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ui(){return window}function kR(s){Ui().location.href=s}function Ub(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function LR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PR(){return navigator?.serviceWorker?.controller||null}function UR(){return Ub()?self:null}const zb="firebaseLocalStorageDb",zR=1,Mh="firebaseLocalStorage",Bb="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(s,e){return s.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function BR(){const s=indexedDB.deleteDatabase(zb);return new Sc(s).toPromise()}function Wm(){const s=indexedDB.open(zb,zR);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Mh,{keyPath:Bb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await BR(),e(await Wm()))})})}async function AE(s,e,n){const r=Xh(s,!0).put({[Bb]:e,value:n});return new Sc(r).toPromise()}async function HR(s,e){const n=Xh(s,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function wE(s,e){const n=Xh(s,!0).delete(e);return new Sc(n).toPromise()}const qR=800,FR=3;class Hb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>FR)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ub()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(UR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await LR(),!this.activeServiceWorker)return;this.sender=new VR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await AE(e,Oh,"1"),await wE(e,Oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>AE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HR(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const c=Xh(l,!1).getAll();return new Sc(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:l,value:c}of e)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Hb.type="LOCAL";const GR=Hb;new Ec(3e4,6e4);function KR(s,e){return e?fs(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Mp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QR(s){return Ob(s.auth,new Mp(s),s.bypassAuthState)}function YR(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),ER(n,new Mp(s),s.bypassAuthState)}async function $R(s){const{auth:e,user:n}=s;return be(n,e,"internal-error"),_R(n,new Mp(s),s.bypassAuthState)}class qb{constructor(e,n,r,l,c=!1){this.auth=e,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QR;case"linkViaPopup":case"linkViaRedirect":return $R;case"reauthViaPopup":case"reauthViaRedirect":return YR;default:di(this.auth,"internal-error")}}resolve(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_s(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XR=new Ec(2e3,1e4);class cl extends qb{constructor(e,n,r,l,c){super(e,n,l,c),this.provider=r,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){_s(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XR.get())};e()}}cl.currentPopupAction=null;const WR="pendingRedirect",yh=new Map;class JR extends qb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yh.get(this.auth._key());if(!e){try{const r=await ZR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yh.set(this.auth._key(),e)}return this.bypassAuthState||yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZR(s,e){const n=nC(e),r=tC(s);if(!await r._isAvailable())return!1;const l=await r._get(n)==="true";return await r._remove(n),l}function eC(s,e){yh.set(s._key(),e)}function tC(s){return fs(s._redirectPersistence)}function nC(s){return gh(WR,s.config.apiKey,s.name)}async function iC(s,e,n=!1){if(Kn(s.app))return Promise.reject(ps(s));const r=br(s),l=KR(r,e),d=await new JR(r,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}const sC=600*1e3;class rC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Fb(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Pi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sC&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Fb({type:s,error:e}){return s==="unknown"&&e?.code==="auth/no-auth-event"}function aC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fb(s);default:return!1}}async function lC(s,e={}){return Ki(s,"GET","/v1/projects",e)}const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function uC(s){if(s.config.emulator)return;const{authorizedDomains:e}=await lC(s);for(const n of e)try{if(hC(n))return}catch{}di(s,"unauthorized-domain")}function hC(s){const e=$m(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!cC.test(n))return!1;if(oC.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const dC=new Ec(3e4,6e4);function NE(){const s=Ui().___jsl;if(s?.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function fC(s){return new Promise((e,n)=>{function r(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Pi(s,"network-request-failed"))},timeout:dC.get()})}if(Ui().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ui().gapi?.load)r();else{const l=Z1("iframefcb");return Ui()[l]=()=>{gapi.load?r():n(Pi(s,"network-request-failed"))},Rb(`${J1()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw vh=null,e})}let vh=null;function mC(s){return vh=vh||fC(s),vh}const pC=new Ec(5e3,15e3),gC="__/auth/iframe",yC="emulator/auth/iframe",vC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Rp(e,yC):`https://${s.config.authDomain}/${gC}`,r={apiKey:e.apiKey,appName:s.name,v:Il},l=_C.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${_c(r).slice(1)}`}async function TC(s){const e=await mC(s),n=Ui().gapi;return be(n,s,"internal-error"),e.open({where:document.body,url:EC(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Pi(s,"network-request-failed"),p=Ui().setTimeout(()=>{c(d)},pC.get());function g(){Ui().clearTimeout(p),l(r)}r.ping(g).then(g,()=>{c(d)})}))}const bC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,AC=600,wC="_blank",xC="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NC(s,e,n,r=SC,l=AC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const g={...bC,width:r.toString(),height:l.toString(),top:c,left:d},y=rn().toLowerCase();n&&(p=Tb(y)?wC:n),_b(y)&&(e=e||xC,g.scrollbars="yes");const T=Object.entries(g).reduce((S,[M,j])=>`${S}${M}=${j},`,"");if(q1(y)&&p!=="_self")return RC(e||"",p),new RE(null);const b=window.open(e||"",p,T);be(b,s,"popup-blocked");try{b.focus()}catch{}return new RE(b)}function RC(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const CC="__/auth/handler",IC="emulator/auth/handler",jC=encodeURIComponent("fac");async function CE(s,e,n,r,l,c){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Il,eventId:l};if(e instanceof jb){e.setDefaultLanguage(s.languageCode),d.providerId=e.providerId||"",hN(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))d[T]=b}if(e instanceof bc){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(d.scopes=T.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await s._getAppCheckToken(),y=g?`#${jC}=${encodeURIComponent(g)}`:"";return`${DC(s)}?${_c(p).slice(1)}${y}`}function DC({config:s}){return s.emulator?Rp(s,IC):`https://${s.authDomain}/${CC}`}const Om="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pb,this._completeRedirectFn=iC,this._overrideRedirectResult=eC}async _openPopup(e,n,r,l){_s(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const c=await CE(e,n,r,$m(),l);return NC(e,c,Op())}async _openRedirect(e,n,r,l){await this._originValidation(e);const c=await CE(e,n,r,$m(),l);return kR(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(_s(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await TC(e),r=new rC(e);return n.register("authEvent",l=>(be(l?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},l=>{const c=l?.[0]?.[Om];c!==void 0&&n(!!c),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return xb()||Eb()||Ip()}}const MC=OC;var IE="@firebase/auth",jE="1.11.1";class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LC(s){ml(new oa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;be(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nb(s)},y=new $1(r,l,c,g);return rR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ml(new oa("auth-internal",e=>{const n=br(e.getProvider("auth").getImmediate());return(r=>new VC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dr(IE,jE,kC(s)),dr(IE,jE,"esm2020")}const PC=300,UC=nb("authIdTokenMaxAge")||PC;let DE=null;const zC=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>UC)return;const l=n?.token;DE!==l&&(DE=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function BC(s=ob()){const e=xp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=sR(s,{popupRedirectResolver:MC,persistence:[GR,OR,Pb]}),r=nb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=zC(c.toString());RR(n,d,()=>d(n.currentUser)),NR(n,p=>d(p))}}const l=eb("auth");return l&&aR(n,`http://${l}`),n}function HC(){return document.getElementsByTagName("head")?.[0]??document}X1({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=l=>{const c=Pi("internal-error");c.customData=l,n(c)},r.type="text/javascript",r.charset="UTF-8",HC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LC("Browser");var OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,Gb;(function(){var s;function e(R,x){function N(){}N.prototype=x.prototype,R.F=x.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(L,k,B){for(var I=Array(arguments.length-2),re=2;re<arguments.length;re++)I[re-2]=arguments[re];return x.prototype[k].apply(L,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,x,N){N||(N=0);const L=Array(16);if(typeof x=="string")for(var k=0;k<16;++k)L[k]=x.charCodeAt(N++)|x.charCodeAt(N++)<<8|x.charCodeAt(N++)<<16|x.charCodeAt(N++)<<24;else for(k=0;k<16;++k)L[k]=x[N++]|x[N++]<<8|x[N++]<<16|x[N++]<<24;x=R.g[0],N=R.g[1],k=R.g[2];let B=R.g[3],I;I=x+(B^N&(k^B))+L[0]+3614090360&4294967295,x=N+(I<<7&4294967295|I>>>25),I=B+(k^x&(N^k))+L[1]+3905402710&4294967295,B=x+(I<<12&4294967295|I>>>20),I=k+(N^B&(x^N))+L[2]+606105819&4294967295,k=B+(I<<17&4294967295|I>>>15),I=N+(x^k&(B^x))+L[3]+3250441966&4294967295,N=k+(I<<22&4294967295|I>>>10),I=x+(B^N&(k^B))+L[4]+4118548399&4294967295,x=N+(I<<7&4294967295|I>>>25),I=B+(k^x&(N^k))+L[5]+1200080426&4294967295,B=x+(I<<12&4294967295|I>>>20),I=k+(N^B&(x^N))+L[6]+2821735955&4294967295,k=B+(I<<17&4294967295|I>>>15),I=N+(x^k&(B^x))+L[7]+4249261313&4294967295,N=k+(I<<22&4294967295|I>>>10),I=x+(B^N&(k^B))+L[8]+1770035416&4294967295,x=N+(I<<7&4294967295|I>>>25),I=B+(k^x&(N^k))+L[9]+2336552879&4294967295,B=x+(I<<12&4294967295|I>>>20),I=k+(N^B&(x^N))+L[10]+4294925233&4294967295,k=B+(I<<17&4294967295|I>>>15),I=N+(x^k&(B^x))+L[11]+2304563134&4294967295,N=k+(I<<22&4294967295|I>>>10),I=x+(B^N&(k^B))+L[12]+1804603682&4294967295,x=N+(I<<7&4294967295|I>>>25),I=B+(k^x&(N^k))+L[13]+4254626195&4294967295,B=x+(I<<12&4294967295|I>>>20),I=k+(N^B&(x^N))+L[14]+2792965006&4294967295,k=B+(I<<17&4294967295|I>>>15),I=N+(x^k&(B^x))+L[15]+1236535329&4294967295,N=k+(I<<22&4294967295|I>>>10),I=x+(k^B&(N^k))+L[1]+4129170786&4294967295,x=N+(I<<5&4294967295|I>>>27),I=B+(N^k&(x^N))+L[6]+3225465664&4294967295,B=x+(I<<9&4294967295|I>>>23),I=k+(x^N&(B^x))+L[11]+643717713&4294967295,k=B+(I<<14&4294967295|I>>>18),I=N+(B^x&(k^B))+L[0]+3921069994&4294967295,N=k+(I<<20&4294967295|I>>>12),I=x+(k^B&(N^k))+L[5]+3593408605&4294967295,x=N+(I<<5&4294967295|I>>>27),I=B+(N^k&(x^N))+L[10]+38016083&4294967295,B=x+(I<<9&4294967295|I>>>23),I=k+(x^N&(B^x))+L[15]+3634488961&4294967295,k=B+(I<<14&4294967295|I>>>18),I=N+(B^x&(k^B))+L[4]+3889429448&4294967295,N=k+(I<<20&4294967295|I>>>12),I=x+(k^B&(N^k))+L[9]+568446438&4294967295,x=N+(I<<5&4294967295|I>>>27),I=B+(N^k&(x^N))+L[14]+3275163606&4294967295,B=x+(I<<9&4294967295|I>>>23),I=k+(x^N&(B^x))+L[3]+4107603335&4294967295,k=B+(I<<14&4294967295|I>>>18),I=N+(B^x&(k^B))+L[8]+1163531501&4294967295,N=k+(I<<20&4294967295|I>>>12),I=x+(k^B&(N^k))+L[13]+2850285829&4294967295,x=N+(I<<5&4294967295|I>>>27),I=B+(N^k&(x^N))+L[2]+4243563512&4294967295,B=x+(I<<9&4294967295|I>>>23),I=k+(x^N&(B^x))+L[7]+1735328473&4294967295,k=B+(I<<14&4294967295|I>>>18),I=N+(B^x&(k^B))+L[12]+2368359562&4294967295,N=k+(I<<20&4294967295|I>>>12),I=x+(N^k^B)+L[5]+4294588738&4294967295,x=N+(I<<4&4294967295|I>>>28),I=B+(x^N^k)+L[8]+2272392833&4294967295,B=x+(I<<11&4294967295|I>>>21),I=k+(B^x^N)+L[11]+1839030562&4294967295,k=B+(I<<16&4294967295|I>>>16),I=N+(k^B^x)+L[14]+4259657740&4294967295,N=k+(I<<23&4294967295|I>>>9),I=x+(N^k^B)+L[1]+2763975236&4294967295,x=N+(I<<4&4294967295|I>>>28),I=B+(x^N^k)+L[4]+1272893353&4294967295,B=x+(I<<11&4294967295|I>>>21),I=k+(B^x^N)+L[7]+4139469664&4294967295,k=B+(I<<16&4294967295|I>>>16),I=N+(k^B^x)+L[10]+3200236656&4294967295,N=k+(I<<23&4294967295|I>>>9),I=x+(N^k^B)+L[13]+681279174&4294967295,x=N+(I<<4&4294967295|I>>>28),I=B+(x^N^k)+L[0]+3936430074&4294967295,B=x+(I<<11&4294967295|I>>>21),I=k+(B^x^N)+L[3]+3572445317&4294967295,k=B+(I<<16&4294967295|I>>>16),I=N+(k^B^x)+L[6]+76029189&4294967295,N=k+(I<<23&4294967295|I>>>9),I=x+(N^k^B)+L[9]+3654602809&4294967295,x=N+(I<<4&4294967295|I>>>28),I=B+(x^N^k)+L[12]+3873151461&4294967295,B=x+(I<<11&4294967295|I>>>21),I=k+(B^x^N)+L[15]+530742520&4294967295,k=B+(I<<16&4294967295|I>>>16),I=N+(k^B^x)+L[2]+3299628645&4294967295,N=k+(I<<23&4294967295|I>>>9),I=x+(k^(N|~B))+L[0]+4096336452&4294967295,x=N+(I<<6&4294967295|I>>>26),I=B+(N^(x|~k))+L[7]+1126891415&4294967295,B=x+(I<<10&4294967295|I>>>22),I=k+(x^(B|~N))+L[14]+2878612391&4294967295,k=B+(I<<15&4294967295|I>>>17),I=N+(B^(k|~x))+L[5]+4237533241&4294967295,N=k+(I<<21&4294967295|I>>>11),I=x+(k^(N|~B))+L[12]+1700485571&4294967295,x=N+(I<<6&4294967295|I>>>26),I=B+(N^(x|~k))+L[3]+2399980690&4294967295,B=x+(I<<10&4294967295|I>>>22),I=k+(x^(B|~N))+L[10]+4293915773&4294967295,k=B+(I<<15&4294967295|I>>>17),I=N+(B^(k|~x))+L[1]+2240044497&4294967295,N=k+(I<<21&4294967295|I>>>11),I=x+(k^(N|~B))+L[8]+1873313359&4294967295,x=N+(I<<6&4294967295|I>>>26),I=B+(N^(x|~k))+L[15]+4264355552&4294967295,B=x+(I<<10&4294967295|I>>>22),I=k+(x^(B|~N))+L[6]+2734768916&4294967295,k=B+(I<<15&4294967295|I>>>17),I=N+(B^(k|~x))+L[13]+1309151649&4294967295,N=k+(I<<21&4294967295|I>>>11),I=x+(k^(N|~B))+L[4]+4149444226&4294967295,x=N+(I<<6&4294967295|I>>>26),I=B+(N^(x|~k))+L[11]+3174756917&4294967295,B=x+(I<<10&4294967295|I>>>22),I=k+(x^(B|~N))+L[2]+718787259&4294967295,k=B+(I<<15&4294967295|I>>>17),I=N+(B^(k|~x))+L[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,R.g[2]=R.g[2]+k&4294967295,R.g[3]=R.g[3]+B&4294967295}r.prototype.v=function(R,x){x===void 0&&(x=R.length);const N=x-this.blockSize,L=this.C;let k=this.h,B=0;for(;B<x;){if(k==0)for(;B<=N;)l(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<x;)if(L[k++]=R.charCodeAt(B++),k==this.blockSize){l(this,L),k=0;break}}else for(;B<x;)if(L[k++]=R[B++],k==this.blockSize){l(this,L),k=0;break}}this.h=k,this.o+=x},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)R[x++]=this.g[N]>>>L&255;return R};function c(R,x){var N=p;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=x(R)}function d(R,x){this.h=x;const N=[];let L=!0;for(let k=R.length-1;k>=0;k--){const B=R[k]|0;L&&B==x||(N[k]=B,L=!1)}this.g=N}var p={};function g(R){return-128<=R&&R<128?c(R,function(x){return new d([x|0],x<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return D(y(-R));const x=[];let N=1;for(let L=0;R>=N;L++)x[L]=R/N|0,N*=4294967296;return new d(x,0)}function T(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return D(T(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(x,8));let L=b;for(let B=0;B<R.length;B+=8){var k=Math.min(8,R.length-B);const I=parseInt(R.substring(B,B+k),x);k<8?(k=y(Math.pow(x,k)),L=L.j(k).add(y(I))):(L=L.j(N),L=L.add(y(I)))}return L}var b=g(0),S=g(1),M=g(16777216);s=d.prototype,s.m=function(){if(C(this))return-D(this).m();let R=0,x=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);R+=(L>=0?L:4294967296+L)*x,x*=4294967296}return R},s.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(j(this))return"0";if(C(this))return"-"+D(this).toString(R);const x=y(Math.pow(R,6));var N=this;let L="";for(;;){const k=z(N,x).g;N=Y(N,k.j(x));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=k,j(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},s.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function j(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function C(R){return R.h==-1}s.l=function(R){return R=Y(this,R),C(R)?-1:j(R)?0:1};function D(R){const x=R.g.length,N=[];for(let L=0;L<x;L++)N[L]=~R.g[L];return new d(N,~R.h).add(S)}s.abs=function(){return C(this)?D(this):this},s.add=function(R){const x=Math.max(this.g.length,R.g.length),N=[];let L=0;for(let k=0;k<=x;k++){let B=L+(this.i(k)&65535)+(R.i(k)&65535),I=(B>>>16)+(this.i(k)>>>16)+(R.i(k)>>>16);L=I>>>16,B&=65535,I&=65535,N[k]=I<<16|B}return new d(N,N[N.length-1]&-2147483648?-1:0)};function Y(R,x){return R.add(D(x))}s.j=function(R){if(j(this)||j(R))return b;if(C(this))return C(R)?D(this).j(D(R)):D(D(this).j(R));if(C(R))return D(this.j(D(R)));if(this.l(M)<0&&R.l(M)<0)return y(this.m()*R.m());const x=this.g.length+R.g.length,N=[];for(var L=0;L<2*x;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let k=0;k<R.g.length;k++){const B=this.i(L)>>>16,I=this.i(L)&65535,re=R.i(k)>>>16,ye=R.i(k)&65535;N[2*L+2*k]+=I*ye,W(N,2*L+2*k),N[2*L+2*k+1]+=B*ye,W(N,2*L+2*k+1),N[2*L+2*k+1]+=I*re,W(N,2*L+2*k+1),N[2*L+2*k+2]+=B*re,W(N,2*L+2*k+2)}for(R=0;R<x;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=x;R<2*x;R++)N[R]=0;return new d(N,0)};function W(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function te(R,x){this.g=R,this.h=x}function z(R,x){if(j(x))throw Error("division by zero");if(j(R))return new te(b,b);if(C(R))return x=z(D(R),x),new te(D(x.g),D(x.h));if(C(x))return x=z(R,D(x)),new te(D(x.g),x.h);if(R.g.length>30){if(C(R)||C(x))throw Error("slowDivide_ only works with positive integers.");for(var N=S,L=x;L.l(R)<=0;)N=ce(N),L=ce(L);var k=le(N,1),B=le(L,1);for(L=le(L,2),N=le(N,2);!j(L);){var I=B.add(L);I.l(R)<=0&&(k=k.add(N),B=I),L=le(L,1),N=le(N,1)}return x=Y(R,k.j(x)),new te(k,x)}for(k=b;R.l(x)>=0;){for(N=Math.max(1,Math.floor(R.m()/x.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=y(N),I=B.j(x);C(I)||I.l(R)>0;)N-=L,B=y(N),I=B.j(x);j(B)&&(B=S),k=k.add(B),R=Y(R,I)}return new te(k,R)}s.B=function(R){return z(this,R).h},s.and=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)&R.i(L);return new d(N,this.h&R.h)},s.or=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)|R.i(L);return new d(N,this.h|R.h)},s.xor=function(R){const x=Math.max(this.g.length,R.g.length),N=[];for(let L=0;L<x;L++)N[L]=this.i(L)^R.i(L);return new d(N,this.h^R.h)};function ce(R){const x=R.g.length+1,N=[];for(let L=0;L<x;L++)N[L]=R.i(L)<<1|R.i(L-1)>>>31;return new d(N,R.h)}function le(R,x){const N=x>>5;x%=32;const L=R.g.length-N,k=[];for(let B=0;B<L;B++)k[B]=x>0?R.i(B+N)>>>x|R.i(B+N+1)<<32-x:R.i(B+N);return new d(k,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Gb=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,fr=d}).apply(typeof OE<"u"?OE:typeof self<"u"?self:typeof window<"u"?window:{});var oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kb,Qo,Qb,_h,Jm,Yb,$b,Xb;(function(){var s,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof oh=="object"&&oh];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function l(h,v){if(v)e:{var E=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in E))break e;E=E[q]}h=h[h.length-1],w=E[h],v=v(w),v!=w&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}l("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(h){return h||function(v){var E=[],w;for(w in v)Object.prototype.hasOwnProperty.call(v,w)&&E.push([w,v[w]]);return E}});var c=c||{},d=this||self;function p(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function g(h,v,E){return h.call.apply(h.bind,arguments)}function y(h,v,E){return y=g,y.apply(null,arguments)}function T(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function b(h,v){function E(){}E.prototype=v.prototype,h.Z=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,q,$){for(var oe=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)oe[Ce-2]=arguments[Ce];return v.prototype[q].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function M(h){const v=h.length;if(v>0){const E=Array(v);for(let w=0;w<v;w++)E[w]=h[w];return E}return[]}function j(h,v){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const $=q.length||0;h.length=E+$;for(let oe=0;oe<$;oe++)h[E+oe]=q[oe]}else h.push(q)}}class C{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function D(h){d.setTimeout(()=>{throw h},0)}function Y(){var h=R;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,E){const w=te.get();w.set(v,E),this.h?this.h.next=w:this.g=w,this.h=w}}var te=new C(()=>new z,h=>h.reset());class z{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,le=!1,R=new W,x=()=>{const h=Promise.resolve(void 0);ce=()=>{h.then(N)}};function N(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){D(E)}var v=te;v.j(h),v.h<100&&(v.h++,h.next=v.g,v.g=h)}le=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h})();function I(h){return/^[\s\xa0]*$/.test(h)}function re(h,v){k.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,v)}b(re,k),re.prototype.init=function(h,v){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget,v||(E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement)),this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),K=0;function ae(h,v,E,w,q){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!w,this.ha=q,this.key=++K,this.da=this.fa=!1}function me(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Te(h,v,E){for(const w in h)v.call(E,h[w],w,h)}function Me(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function P(h){const v={};for(const E in h)v[E]=h[E];return v}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(h,v){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)h[E]=w[E];for(let $=0;$<ne.length;$++)E=ne[$],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function fe(h){this.src=h,this.g={},this.h=0}fe.prototype.add=function(h,v,E,w,q){const $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);const oe=je(h,v,w,q);return oe>-1?(v=h[oe],E||(v.fa=!1)):(v=new ae(v,this.src,$,!!w,q),v.fa=E,h.push(v)),v};function Ae(h,v){const E=v.type;if(E in h.g){var w=h.g[E],q=Array.prototype.indexOf.call(w,v,void 0),$;($=q>=0)&&Array.prototype.splice.call(w,q,1),$&&(me(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function je(h,v,E,w){for(let q=0;q<h.length;++q){const $=h[q];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==w)return q}return-1}var qe="closure_lm_"+(Math.random()*1e6|0),kt={};function ot(h,v,E,w,q){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ot(h,v[$],E,w,q);return null}return E=Ul(E),h&&h[ye]?h.J(v,E,p(w)?!!w.capture:!1,q):xr(h,v,E,!1,w,q)}function xr(h,v,E,w,q,$){if(!v)throw Error("Invalid event type");const oe=p(q)?!!q.capture:!!q;let Ce=Nr(h);if(Ce||(h[qe]=Ce=new fe(h)),E=Ce.add(v,E,w,oe,$),E.proxy)return E;if(w=pa(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)B||(q=oe),q===void 0&&(q=!1),h.addEventListener(v.toString(),w,q);else if(h.attachEvent)h.attachEvent(pi(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function pa(){function h(E){return v.call(h.src,h.listener,E)}const v=Ll;return h}function ga(h,v,E,w,q){if(Array.isArray(v))for(var $=0;$<v.length;$++)ga(h,v[$],E,w,q);else w=p(w)?!!w.capture:!!w,E=Ul(E),h&&h[ye]?(h=h.i,$=String(v).toString(),$ in h.g&&(v=h.g[$],E=je(v,E,w,q),E>-1&&(me(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete h.g[$],h.h--)))):h&&(h=Nr(h))&&(v=h.g[v.toString()],h=-1,v&&(h=je(v,E,w,q)),(E=h>-1?v[h]:null)&&ya(E))}function ya(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[ye])Ae(v.i,h);else{var E=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(E,w,h.capture):v.detachEvent?v.detachEvent(pi(E),w):v.addListener&&v.removeListener&&v.removeListener(w),(E=Nr(v))?(Ae(E,h),E.h==0&&(E.src=null,v[qe]=null)):me(h)}}}function pi(h){return h in kt?kt[h]:kt[h]="on"+h}function Ll(h,v){if(h.da)h=!0;else{v=new re(v,this);const E=h.listener,w=h.ha||h.src;h.fa&&ya(h),h=E.call(w,v)}return h}function Nr(h){return h=h[qe],h instanceof fe?h:null}var Pl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ul(h){return typeof h=="function"?h:(h[Pl]||(h[Pl]=function(v){return h.handleEvent(v)}),h[Pl])}function bt(){L.call(this),this.i=new fe(this),this.M=this,this.G=null}b(bt,L),bt.prototype[ye]=!0,bt.prototype.removeEventListener=function(h,v,E,w){ga(this,h,v,E,w)};function Lt(h,v){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new k(v,h);else if(v instanceof k)v.target=v.target||h;else{var q=v;v=new k(w,h),ue(v,q)}q=!0;let $,oe;if(E)for(oe=E.length-1;oe>=0;oe--)$=v.g=E[oe],q=ws($,w,!0,v)&&q;if($=v.g=h,q=ws($,w,!0,v)&&q,q=ws($,w,!1,v)&&q,E)for(oe=0;oe<E.length;oe++)$=v.g=E[oe],q=ws($,w,!1,v)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var h=this.i;for(const v in h.g){const E=h.g[v];for(let w=0;w<E.length;w++)me(E[w]);delete h.g[v],h.h--}}this.G=null},bt.prototype.J=function(h,v,E,w){return this.i.add(String(h),v,!1,E,w)},bt.prototype.K=function(h,v,E,w){return this.i.add(String(h),v,!0,E,w)};function ws(h,v,E,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let $=0;$<v.length;++$){const oe=v[$];if(oe&&!oe.da&&oe.capture==E){const Ce=oe.listener,yt=oe.ha||oe.src;oe.fa&&Ae(h.i,oe),q=Ce.call(yt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Ed(h,v){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=y(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:d.setTimeout(h,v||0)}function jc(h){h.g=Ed(()=>{h.g=null,h.i&&(h.i=!1,jc(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class on extends L{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:jc(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(h){L.call(this),this.h=h,this.g={}}b(Rr,L);var zl=[];function Bl(h){Te(h.g,function(v,E){this.g.hasOwnProperty(E)&&ya(v)},h),h.g={}}Rr.prototype.N=function(){Rr.Z.N.call(this),Bl(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xs=d.JSON.stringify,Td=d.JSON.parse,Dc=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Oc(){}function Mc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gt(){k.call(this,"d")}b(Gt,k);function Dn(){k.call(this,"c")}b(Dn,k);var gt={},Vc=null;function va(){return Vc=Vc||new bt}gt.Ia="serverreachability";function kc(h){k.call(this,gt.Ia,h)}b(kc,k);function gi(h){const v=va();Lt(v,new kc(v))}gt.STAT_EVENT="statevent";function Cr(h,v){k.call(this,gt.STAT_EVENT,h),this.stat=v}b(Cr,k);function St(h){const v=va();Lt(v,new Cr(v,h))}gt.Ja="timingevent";function yi(h,v){k.call(this,gt.Ja,h),this.size=v}b(yi,k);function vi(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function bd(h,v,E,w,q,$){h.info(function(){if(h.g)if($){var oe="",Ce=$.split("&");for(let Qe=0;Qe<Ce.length;Qe++){var yt=Ce[Qe].split("=");if(yt.length>1){const ct=yt[0];yt=yt[1];const kn=ct.split("_");oe=kn.length>=2&&kn[1]=="type"?oe+(ct+"="+yt+"&"):oe+(ct+"=redacted&")}}}else oe=null;else oe=$;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+v+`
`+E+`
`+oe})}function Lc(h,v,E,w,q,$,oe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+v+`
`+E+`
`+$+" "+oe})}function _i(h,v,E,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Sd(h,E)+(w?" "+w:"")})}function Ir(h,v){h.info(function(){return"TIMEOUT: "+v})}Jn.prototype.info=function(){};function Sd(h,v){if(!h.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(h=0;h<$.length;h++)if(Array.isArray($[h])){var E=$[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return xs($)}catch{return v}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ql;function Dr(){}b(Dr,Oc),Dr.prototype.g=function(){return new XMLHttpRequest},ql=new Dr;function Qi(h){return encodeURIComponent(String(h))}function Pc(h){var v=1;h=h.split(":");const E=[];for(;v>0&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function Zn(h,v,E,w){this.j=h,this.i=v,this.l=E,this.S=w||1,this.V=new Rr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var At={},Bt={};function Ei(h,v,E){h.M=1,h.A=Or(xt(v)),h.u=E,h.R=!0,_a(h,null)}function _a(h,v){h.F=Date.now(),Ti(h),h.B=xt(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),Sa(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ei,h.g=Zc(h.j,E?v:null,!h.u),h.P>0&&(h.O=new on(y(h.Y,h,h.g),h.P)),v=h.V,E=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(zl[0]=q.toString()),q=zl);for(let $=0;$<q.length;$++){const oe=ot(E,q[$],w||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.J?P(h.J):{},h.u?(h.v||(h.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,v)):(h.v="GET",h.g.ea(h.B,h.v,null,v)),gi(),bd(h.i,h.v,h.B,h.l,h.S,h.u)}Zn.prototype.ba=function(h){h=h.target;const v=this.O;v&&ii(h)==3?v.j():this.Y(h)},Zn.prototype.Y=function(h){try{if(h==this.g)e:{const Ce=ii(this.g),yt=this.g.ya(),Qe=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Kt(this.g)))){this.K||Ce!=4||yt==7||(yt==8||Qe<=0?gi(3):gi(2)),bi(this);var v=this.g.ca();this.X=v;var E=Ad(this);if(this.o=v==200,Lc(this.i,this.v,this.B,this.l,this.S,Ce,v),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var $=w;break t}}$=null}if(h=$)_i(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,h);else{this.o=!1,this.m=3,St(12),Tn(this),On(this);break e}}if(this.R){h=!0;let ct;for(;!this.K&&this.C<E.length;)if(ct=zc(this,E),ct==Bt){Ce==4&&(this.m=4,St(14),h=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==At){this.m=4,St(15),_i(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else _i(this.i,this.l,ct,null),Si(this,ct);if(Uc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,St(16),h=!1),this.o=this.o&&h,!h)_i(this.i,this.l,E,"[Invalid Chunked Response]"),Tn(this),On(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),so(oe),oe.P=!0,St(11))}}else _i(this.i,this.l,E,null),Si(this,E);Ce==4&&Tn(this),this.o&&!this.K&&(Ce==4?$c(this.j,this):(this.o=!1,Ti(this)))}else $i(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Tn(this),On(this)}}}catch{}finally{}};function Ad(h){if(!Uc(h))return h.g.la();const v=Kt(h.g);if(v==="")return"";let E="";const w=v.length,q=ii(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Tn(h),On(h),"";h.h.i=new d.TextDecoder}for(let $=0;$<w;$++)h.h.h=!0,E+=h.h.i.decode(v[$],{stream:!(q&&$==w-1)});return v.length=0,h.h.g+=E,h.C=0,h.h.g}function Uc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function zc(h,v){var E=h.C,w=v.indexOf(`
`,E);return w==-1?Bt:(E=Number(v.substring(E,w)),isNaN(E)?At:(w+=1,w+E>v.length?Bt:(v=v.slice(w,w+E),h.C=w+E,v)))}Zn.prototype.cancel=function(){this.K=!0,Tn(this)};function Ti(h){h.T=Date.now()+h.H,Ea(h,h.H)}function Ea(h,v){if(h.D!=null)throw Error("WatchDog timer not null");h.D=vi(y(h.aa,h),v)}function bi(h){h.D&&(d.clearTimeout(h.D),h.D=null)}Zn.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(gi(),St(17)),Tn(this),this.m=2,On(this)):Ea(this,this.T-h)};function On(h){h.j.I==0||h.K||$c(h.j,h)}function Tn(h){bi(h);var v=h.O;v&&typeof v.dispose=="function"&&v.dispose(),h.O=null,Bl(h.V),h.g&&(v=h.g,h.g=null,v.abort(),v.dispose())}function Si(h,v){try{var E=h.j;if(E.I!=0&&(E.g==h||wi(E.h,h))){if(!h.L&&wi(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ra(E),Ms(E);else break e;zr(E),St(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=vi(y(E.Va,E),6e3));Ai(E.h)<=1&&E.ta&&(E.ta=void 0)}else ji(E,11)}else if((h.L||E.g==h)&&Ra(E),!I(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Qe=q[v];const ct=Qe[0];if(!(ct<=E.K))if(E.K=ct,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const kn=Qe[3];kn!=null&&(E.ka=kn,E.j.info("VER="+E.ka));const Di=Qe[4];Di!=null&&(E.za=Di,E.j.info("SVER="+E.za));const si=Qe[5];si!=null&&typeof si=="number"&&si>0&&(w=1.5*si,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const ri=h.g;if(ri){const Br=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var $=w.h;$.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Kl($,$.h),$.h=null))}if(w.G){const Ca=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(w.wa=Ca,Xe(w.J,w.G,Ca))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var oe=h;if(w.na=Jc(w,w.L?w.ba:null,w.W),oe.L){Ql(w.h,oe);var Ce=oe,yt=w.O;yt&&(Ce.H=yt),Ce.D&&(bi(Ce),Ti(Ce)),w.g=oe}else Qc(w);E.i.length>0&&Ii(E)}else Qe[0]!="stop"&&Qe[0]!="close"||ji(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?ji(E,7):no(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}gi(4)}catch{}}var wt=class{constructor(h,v){this.g=h,this.map=v}};function Fl(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Ai(h){return h.h?1:h.g?h.g.size:0}function wi(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Kl(h,v){h.g?h.g.add(v):h.h=v}function Ql(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Fl.prototype.cancel=function(){if(this.i=Yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Yl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.G);return v}return M(h.i)}var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ta(h,v){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let q,$=null;w>=0?(q=h[E].substring(0,w),$=h[E].substring(w+1)):q=h[E],v(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function bn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;h instanceof bn?(this.l=h.l,Ht(this,h.j),this.o=h.o,this.g=h.g,Ns(this,h.u),this.h=h.h,$l(this,Gc(h.i)),this.m=h.m):h&&(v=String(h).match(Bc))?(this.l=!1,Ht(this,v[1]||"",!0),this.o=xi(v[2]||""),this.g=xi(v[3]||"",!0),Ns(this,v[4]),this.h=xi(v[5]||"",!0),$l(this,v[6]||"",!0),this.m=xi(v[7]||"")):(this.l=!1,this.i=new Cs(null,this.l))}bn.prototype.toString=function(){const h=[];var v=this.j;v&&h.push(Mr(v,ba,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Mr(v,ba,!0),"@"),h.push(Qi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Mr(E,E.charAt(0)=="/"?Xl:Hc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Mr(E,qc)),h.join("")},bn.prototype.resolve=function(h){const v=xt(this);let E=!!h.j;E?Ht(v,h.j):E=!!h.o,E?v.o=h.o:E=!!h.g,E?v.g=h.g:E=h.u!=null;var w=h.h;if(E)Ns(v,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=v.h.lastIndexOf("/");q!=-1&&(w=v.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let oe=0;oe<q.length;){const Ce=q[oe++];Ce=="."?w&&oe==q.length&&$.push(""):Ce==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),w&&oe==q.length&&$.push("")):($.push(Ce),w=!0)}w=$.join("/")}else w=q}return E?v.h=w:E=h.i.toString()!=="",E?$l(v,Gc(h.i)):E=!!h.m,E&&(v.m=h.m),v};function xt(h){return new bn(h)}function Ht(h,v,E){h.j=E?xi(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Ns(h,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);h.u=v}else h.u=null}function $l(h,v,E){v instanceof Cs?(h.i=v,Aa(h.i,h.l)):(E||(v=Mr(v,Rs)),h.i=new Cs(v,h.l))}function Xe(h,v,E){h.i.set(v,E)}function Or(h){return Xe(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function xi(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Mr(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,hn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function hn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ba=/[#\/\?@]/g,Hc=/[#\?:]/g,Xl=/[#\?]/g,Rs=/[#\?@]/g,qc=/#/g;function Cs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function dn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ta(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}s=Cs.prototype,s.add=function(h,v){dn(this),this.i=null,h=Is(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function Fc(h,v){dn(h),v=Is(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Wl(h,v){return dn(h),v=Is(h,v),h.g.has(v)}s.forEach=function(h,v){dn(this),this.g.forEach(function(E,w){E.forEach(function(q){h.call(v,q,w,this)},this)},this)};function Jl(h,v){dn(h);let E=[];if(typeof v=="string")Wl(h,v)&&(E=E.concat(h.g.get(Is(h,v))));else for(h=Array.from(h.g.values()),v=0;v<h.length;v++)E=E.concat(h[v]);return E}s.set=function(h,v){return dn(this),this.i=null,h=Is(this,h),Wl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=Jl(this,h),h.length>0?String(h[0]):v):v};function Sa(h,v,E){Fc(h,v),E.length>0&&(h.i=null,h.g.set(Is(h,v),M(E)),h.h+=E.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(let w=0;w<v.length;w++){var E=v[w];const q=Qi(E);E=Jl(this,E);for(let $=0;$<E.length;$++){let oe=q;E[$]!==""&&(oe+="="+Qi(E[$])),h.push(oe)}}return this.i=h.join("&")};function Gc(h){const v=new Cs;return v.i=h.i,h.g&&(v.g=new Map(h.g),v.h=h.h),v}function Is(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Aa(h,v){v&&!h.j&&(dn(h),h.i=null,h.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(Fc(this,w),Sa(this,q,E))},h)),h.j=v}function ti(h,v){const E=new Jn;if(d.Image){const w=new Image;w.onload=T(Mn,E,"TestLoadImage: loaded",!0,v,w),w.onerror=T(Mn,E,"TestLoadImage: error",!1,v,w),w.onabort=T(Mn,E,"TestLoadImage: abort",!1,v,w),w.ontimeout=T(Mn,E,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Zl(h,v){const E=new Jn,w=new AbortController,q=setTimeout(()=>{w.abort(),Mn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(q),$.ok?Mn(E,"TestPingServer: ok",!0,v):Mn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Mn(E,"TestPingServer: error",!1,v)})}function Mn(h,v,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function js(){this.g=new Dc}function Ni(h){this.i=h.Sb||null,this.h=h.ab||!1}b(Ni,Oc),Ni.prototype.g=function(){return new Vr(this.i,this.h)};function Vr(h,v){bt.call(this),this.H=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Vr,bt),s=Vr.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=v,this.readyState=1,ni(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(v.body=h),(this.H||d).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},s.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}s.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ds(this):ni(this),this.readyState==3&&wa(this)}},s.Oa=function(h){this.g&&(this.response=this.responseText=h,Ds(this))},s.Na=function(h){this.g&&(this.response=h,Ds(this))},s.ga=function(){this.g&&Ds(this)};function Ds(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ni(h)}s.setRequestHeader=function(h,v){this.A.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ni(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Vr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Vn(h){let v="";return Te(h,function(E,w){v+=w,v+=":",v+=E,v+=`\r
`}),v}function kr(h,v,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Vn(E),typeof h=="string"?E!=null&&Qi(E):Xe(h,v,E))}function Ze(h){bt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Ze,bt);var Ri=/^https?$/i,eo=["POST","PUT"];s=Ze.prototype,s.Fa=function(h){this.H=h},s.ea=function(h,v,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ql.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Lr(this,$);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())E.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(Array.prototype.indexOf.call(eo,v,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,oe]of E)this.g.setRequestHeader($,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch($){Lr(this,$)}};function Lr(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.o=5,to(h),Yi(h)}function to(h){h.A||(h.A=!0,Lt(h,"complete"),Lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Lt(this,"complete"),Lt(this,"abort"),Yi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yi(this,!0)),Ze.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},s.Xa=function(){Pr(this)};function Pr(h){if(h.h&&typeof c<"u"){if(h.v&&ii(h)==4)setTimeout(h.Ca.bind(h),0);else if(Lt(h,"readystatechange"),ii(h)==4){h.h=!1;try{const $=h.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var w;if(w=$===0){let oe=String(h.D).match(Bc)[1]||null;!oe&&d.self&&d.self.location&&(oe=d.self.location.protocol.slice(0,-1)),w=!Ri.test(oe?oe.toLowerCase():"")}E=w}if(E)Lt(h,"complete"),Lt(h,"success");else{h.o=6;try{var q=ii(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",to(h)}}finally{Yi(h)}}}}function Yi(h,v){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,v||Lt(h,"ready");try{E.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(h){return h.g?h.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),Td(v)}};function Kt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(h){const v={};h=(h.g&&ii(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(I(h[w]))continue;var E=Pc(h[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[q]||[];v[q]=$,$.push(E)}Me(v,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function Os(h){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,h),this.Za=Ci("retryDelaySeedMs",1e4,h),this.Ta=Ci("forwardChannelMaxRetries",2,h),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Fl(h&&h.concurrentRequestLimit),this.Ba=new js,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Os.prototype,s.ka=8,s.I=1,s.connect=function(h,v,E,w){St(0),this.W=h,this.H=v||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Jc(this,null,this.W),Ii(this)};function no(h){if(xa(h),h.I==3){var v=h.V++,E=xt(h.J);if(Xe(E,"SID",h.M),Xe(E,"RID",v),Xe(E,"TYPE","terminate"),Ur(h,E),v=new Zn(h,h.j,v),v.M=2,v.A=Or(xt(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.A,E=!0),E||(v.g=Zc(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Ti(v)}Wc(h)}function Ms(h){h.g&&(so(h),h.g.cancel(),h.g=null)}function xa(h){Ms(h),h.v&&(d.clearTimeout(h.v),h.v=null),Ra(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&d.clearTimeout(h.m),h.m=null)}function Ii(h){if(!Gl(h.h)&&!h.m){h.m=!0;var v=h.Ea;ce||x(),le||(ce(),le=!0),R.add(v,h),h.D=0}}function Na(h,v){return Ai(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=v.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=vi(y(h.Ea,h,v),Xc(h,h.D)),h.D++,!0)}s.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new Zn(this,this.j,h);let $=this.o;if(this.U&&($?($=P($),ue($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Kc(this,q,v),E=xt(this.J),Xe(E,"RID",h),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ur(this,E),$&&(this.R?v="headers="+Qi(Vn($))+"&"+v:this.u&&kr(E,this.u,$)),Kl(this.h,q),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",v),Xe(E,"SID","null"),q.U=!0,Ei(q,E,null)):Ei(q,E,v),this.I=2}}else this.I==3&&(h?io(this,h):this.i.length==0||Gl(this.h)||io(this))};function io(h,v){var E;v?E=v.l:E=h.V++;const w=xt(h.J);Xe(w,"SID",h.M),Xe(w,"RID",E),Xe(w,"AID",h.K),Ur(h,w),h.u&&h.o&&kr(w,h.u,h.o),E=new Zn(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),v&&(h.i=v.G.concat(h.i)),v=Kc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Kl(h.h,E),Ei(E,w,v)}function Ur(h,v){h.H&&Te(h.H,function(E,w){Xe(v,w,E)}),h.l&&Te({},function(E,w){Xe(v,w,E)})}function Kc(h,v,E){E=Math.min(h.i.length,E);const w=h.l?y(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ce=-1;for(;;){const yt=["count="+E];Ce==-1?E>0?(Ce=q[0].g,yt.push("ofs="+Ce)):Ce=0:yt.push("ofs="+Ce);let Qe=!0;for(let ct=0;ct<E;ct++){var $=q[ct].g;const kn=q[ct].map;if($-=Ce,$<0)Ce=Math.max(0,q[ct].g-100),Qe=!1;else try{$="req"+$+"_"||"";try{var oe=kn instanceof Map?kn:Object.entries(kn);for(const[Di,si]of oe){let ri=si;p(si)&&(ri=xs(si)),yt.push($+Di+"="+encodeURIComponent(ri))}}catch(Di){throw yt.push($+"type="+encodeURIComponent("_badmap")),Di}}catch{w&&w(kn)}}if(Qe){oe=yt.join("&");break e}}oe=void 0}return h=h.i.splice(0,E),v.G=h,oe}function Qc(h){if(!h.g&&!h.v){h.Y=1;var v=h.Da;ce||x(),le||(ce(),le=!0),R.add(v,h),h.A=0}}function zr(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=vi(y(h.Da,h),Xc(h,h.A)),h.A++,!0)}s.Da=function(){if(this.v=null,Yc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=vi(y(this.Wa,this),h)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ms(this),Yc(this))};function so(h){h.B!=null&&(d.clearTimeout(h.B),h.B=null)}function Yc(h){h.g=new Zn(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var v=xt(h.na);Xe(v,"RID","rpc"),Xe(v,"SID",h.M),Xe(v,"AID",h.K),Xe(v,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xe(v,"TO",h.ia),Xe(v,"TYPE","xmlhttp"),Ur(h,v),h.u&&h.o&&kr(v,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Or(xt(v)),E.u=null,E.R=!0,_a(E,h)}s.Va=function(){this.C!=null&&(this.C=null,Ms(this),zr(this),St(19))};function Ra(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function $c(h,v){var E=null;if(h.g==v){Ra(h),so(h),h.g=null;var w=2}else if(wi(h.h,v))E=v.G,Ql(h.h,v),w=1;else return;if(h.I!=0){if(v.o)if(w==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=h.D;w=va(),Lt(w,new yi(w,E)),Ii(h)}else Qc(h);else if(q=v.m,q==3||q==0&&v.X>0||!(w==1&&Na(h,v)||w==2&&zr(h)))switch(E&&E.length>0&&(v=h.h,v.i=v.i.concat(E)),q){case 1:ji(h,5);break;case 4:ji(h,10);break;case 3:ji(h,6);break;default:ji(h,2)}}}function Xc(h,v){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*v}function ji(h,v){if(h.j.info("Error code "+v),v==2){var E=y(h.bb,h),w=h.Ua;const q=!w;w=new bn(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ht(w,"https"),Or(w),q?ti(w.toString(),E):Zl(w.toString(),E)}else St(2);h.I=0,h.l&&h.l.pa(v),Wc(h),xa(h)}s.bb=function(h){h?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Wc(h){if(h.I=0,h.ja=[],h.l){const v=Yl(h.h);(v.length!=0||h.i.length!=0)&&(j(h.ja,v),j(h.ja,h.i),h.h.i.length=0,M(h.i),h.i.length=0),h.l.oa()}}function Jc(h,v,E){var w=E instanceof bn?xt(E):new bn(E);if(w.g!="")v&&(w.g=v+"."+w.g),Ns(w,w.u);else{var q=d.location;w=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const $=new bn(null);w&&Ht($,w),v&&($.g=v),q&&Ns($,q),E&&($.h=E),w=$}return E=h.G,v=h.wa,E&&v&&Xe(w,E,v),Xe(w,"VER",h.ka),Ur(h,w),w}function Zc(h,v,E){if(v&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Aa&&!h.ma?new Ze(new Ni({ab:E})):new Ze(h.ma),v.Fa(h.L),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function eu(){}s=eu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Vs(){}Vs.prototype.g=function(h,v){return new cn(h,v)};function cn(h,v){bt.call(this),this.g=new Os(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(h?h["X-WebChannel-Client-Profile"]=v.sa:h={"X-WebChannel-Client-Profile":v.sa}),this.g.U=h,(h=v&&v.Qb)&&!I(h)&&(this.g.u=h),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Xi(this)}b(cn,bt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){no(this.g)},cn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=xs(h),h=E);v.i.push(new wt(v.Ya++,h)),v.I==3&&Ii(v)},cn.prototype.N=function(){this.g.l=null,delete this.j,no(this.g),delete this.g,cn.Z.N.call(this)};function tu(h){Gt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}b(tu,Gt);function nu(){Dn.call(this),this.status=1}b(nu,Dn);function Xi(h){this.g=h}b(Xi,eu),Xi.prototype.ra=function(){Lt(this.g,"a")},Xi.prototype.qa=function(h){Lt(this.g,new tu(h))},Xi.prototype.pa=function(h){Lt(this.g,new nu)},Xi.prototype.oa=function(){Lt(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Xb=function(){return new Vs},$b=function(){return va()},Yb=gt,Jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,_h=jr,Hl.COMPLETE="complete",Qb=Hl,Mc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Qo=Mc,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,Kb=Ze}).apply(typeof oh<"u"?oh:typeof self<"u"?self:typeof window<"u"?window:{});const ME="@firebase/firestore",VE="4.9.2";class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let Dl="12.3.0";const ha=new Ap("@firebase/firestore");function rl(){return ha.logLevel}function de(s,...e){if(ha.logLevel<=Ue.DEBUG){const n=e.map(Vp);ha.debug(`Firestore (${Dl}): ${s}`,...n)}}function Es(s,...e){if(ha.logLevel<=Ue.ERROR){const n=e.map(Vp);ha.error(`Firestore (${Dl}): ${s}`,...n)}}function gl(s,...e){if(ha.logLevel<=Ue.WARN){const n=e.map(Vp);ha.warn(`Firestore (${Dl}): ${s}`,...n)}}function Vp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}function Se(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Wb(s,r,n)}function Wb(s,e,n){let r=`FIRESTORE (${Dl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Es(r),new Error(r)}function $e(s,e,n,r){let l="Unexpected state";typeof n=="string"?l=n:r=n,s||Wb(e,l,r)}function Re(s,e){return s}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ss{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class Jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(nn.UNAUTHENTICATED)))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GC{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let r=this.i;const l=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gs,e.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},p=g=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gs)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string",31837,{l:r}),new Jb(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class KC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new KC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const r=c=>{c.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,de("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const l=c=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $C(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}class kp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=$C(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<n&&(r+=e.charAt(l[c]%62))}return r}}function ze(s,e){return s<e?-1:s>e?1:0}function Zm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const l=s.charAt(r),c=e.charAt(r);if(l!==c)return Mm(l)===Mm(c)?ze(l,c):Mm(l)?1:-1}return ze(s.length,e.length)}const XC=55296,WC=57343;function Mm(s){const e=s.charCodeAt(0);return e>=XC&&e<=WC}function yl(s,e,n){return s.length===e.length&&s.every(((r,l)=>n(r,e[l])))}const LE="__name__";class Li{constructor(e,n,r){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Se(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let l=0;l<r;l++){const c=Li.compareSegments(e.get(l),n.get(l));if(c!==0)return c}return ze(e.length,n.length)}static compareSegments(e,n){const r=Li.isNumericId(e),l=Li.isNumericId(n);return r&&!l?-1:!r&&l?1:r&&l?Li.extractNumericId(e).compare(Li.extractNumericId(n)):Zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}}class st extends Li{construct(e,n,r){return new st(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((l=>l.length>0)))}return new st(n)}static emptyPath(){return new st([])}}const JC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Li{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return JC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LE}static keyField(){return new Jt([LE])}static fromServerFormat(e){const n=[];let r="",l=0;const c=()=>{if(r.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let d=!1;for(;l<e.length;){const p=e[l];if(p==="\\"){if(l+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(st.fromString(e))}static fromName(e){return new _e(st.fromString(e).popFirst(5))}static empty(){return new _e(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new st(e.slice()))}}function Zb(s,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function ZC(s,e,n,r){if(e===!0&&r===!0)throw new he(ee.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function PE(s){if(!_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function UE(s){if(_e.isDocumentKey(s))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function e0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Wh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Se(12329,{type:typeof s})}function En(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(s);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function Ac(s,e){if(!e0(s))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const l=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){n=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}const zE=-62135596800,BE=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*BE);return new lt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<zE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/BE}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ac(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-zE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Ot("string",lt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new lt(0,0))}static max(){return new we(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lc=-1;function eI(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=we.fromTimestamp(r===1e9?new lt(n+1,0):new lt(n,r));return new pr(l,_e.empty(),e)}function tI(s){return new pr(s.readTime,s.key,lc)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(we.min(),_e.empty(),lc)}static max(){return new pr(we.max(),_e.empty(),lc)}}function nI(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:ze(s.largestBatchId,e.largestBatchId))}const iI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ol(s){if(s.code!==ee.FAILED_PRECONDITION||s.message!==iI)throw s;de("LocalStore","Unexpectedly lost primary lease")}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,r)=>{n(e)}))}static reject(e){return new se(((n,r)=>{r(e)}))}static waitFor(e){return new se(((n,r)=>{let l=0,c=0,d=!1;e.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&n()}),(g=>r(g)))})),d=!0,c===l&&n()}))}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next((l=>l?se.resolve(l):r()));return n}static forEach(e,n){const r=[];return e.forEach(((l,c)=>{r.push(n.call(this,l,c))})),this.waitFor(r)}static mapArray(e,n){return new se(((r,l)=>{const c=e.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++p,p===c&&r(d)}),(T=>l(T)))}}))}static doWhile(e,n){return new se(((r,l)=>{const c=()=>{e()===!0?n().next((()=>{c()}),l):r()};c()}))}}function rI(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(s){return s.name==="IndexedDbTransactionError"}class Jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;const Lp=-1;function Zh(s){return s==null}function Vh(s){return s===0&&1/s==-1/0}function aI(s){return typeof s=="number"&&Number.isInteger(s)&&!Vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const t0="";function lI(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=HE(e)),e=oI(s.get(n),e);return HE(e)}function oI(s,e){let n=e;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":n+="";break;case t0:n+="";break;default:n+=c}}return n}function HE(s){return s+t0+""}function qE(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function Sr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function n0(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Wt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(e,r.key);if(l===0)return n+r.left.size;l<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ch(this.root,e,this.comparator,!0)}}class ch{constructor(e,n,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,n,r,l,c){this.key=e,this.value=n,this.color=r??Wt.RED,this.left=l??Wt.EMPTY,this.right=c??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,l,c){return new Wt(e??this.key,n??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let l=this;const c=r(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,n,r),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Wt.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,r,l,c){return this}insert(e,n,r){return new Wt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new FE(this.data.getIterator())}getIteratorFrom(e){return new FE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new zt(this.comparator);return n.data=e,n}}class FE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let n=new zt(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class i0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new i0("Invalid base64 string: "+c):c}})(e);return new Zt(n)}static fromUint8Array(e){const n=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(e);return new Zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let l=0;l<n.length;l++)r[l]=n.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zt.EMPTY_BYTE_STRING=new Zt("");const cI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(s){if($e(!!s,39018),typeof s=="string"){let e=0;const n=cI.exec(s);if($e(!!n,46558,{timestamp:s}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(s.seconds),nanos:Et(s.nanos)}}function Et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function yr(s){return typeof s=="string"?Zt.fromBase64String(s):Zt.fromUint8Array(s)}const s0="server_timestamp",r0="__type__",a0="__previous_value__",l0="__local_write_time__";function Pp(s){return(s?.mapValue?.fields||{})[r0]?.stringValue===s0}function ed(s){const e=s.mapValue.fields[a0];return Pp(e)?ed(e):e}function oc(s){const e=gr(s.mapValue.fields[l0].timestampValue);return new lt(e.seconds,e.nanos)}class uI{constructor(e,n,r,l,c,d,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const kh="(default)";class cc{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new cc("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof cc&&e.projectId===this.projectId&&e.database===this.database}}const o0="__type__",hI="__max__",uh={mapValue:{}},c0="__vector__",Lh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Pp(s)?4:fI(s)?9007199254740991:dI(s)?10:11:Se(28295,{value:s})}function Fi(s,e){if(s===e)return!0;const n=vr(s);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return oc(s).isEqual(oc(e));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=gr(l.timestampValue),p=gr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(l,c){return yr(l.bytesValue).isEqual(yr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(l,c){return Et(l.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(l.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(s,e);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Et(l.integerValue)===Et(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Et(l.doubleValue),p=Et(c.doubleValue);return d===p?Vh(d)===Vh(p):isNaN(d)&&isNaN(p)}return!1})(s,e);case 9:return yl(s.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(qE(d)!==qE(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(p[g]===void 0||!Fi(d[g],p[g])))return!1;return!0})(s,e);default:return Se(52216,{left:s})}}function uc(s,e){return(s.values||[]).find((n=>Fi(n,e)))!==void 0}function vl(s,e){if(s===e)return 0;const n=vr(s),r=vr(e);if(n!==r)return ze(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(s.booleanValue,e.booleanValue);case 2:return(function(c,d){const p=Et(c.integerValue||c.doubleValue),g=Et(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(s,e);case 3:return GE(s.timestampValue,e.timestampValue);case 4:return GE(oc(s),oc(e));case 5:return Zm(s.stringValue,e.stringValue);case 6:return(function(c,d){const p=yr(c),g=yr(d);return p.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,d){const p=c.split("/"),g=d.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=ze(p[y],g[y]);if(T!==0)return T}return ze(p.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,d){const p=ze(Et(c.latitude),Et(d.latitude));return p!==0?p:ze(Et(c.longitude),Et(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return KE(s.arrayValue,e.arrayValue);case 10:return(function(c,d){const p=c.fields||{},g=d.fields||{},y=p[Lh]?.arrayValue,T=g[Lh]?.arrayValue,b=ze(y?.values?.length||0,T?.values?.length||0);return b!==0?b:KE(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,d){if(c===uh.mapValue&&d===uh.mapValue)return 0;if(c===uh.mapValue)return 1;if(d===uh.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let b=0;b<g.length&&b<T.length;++b){const S=Zm(g[b],T[b]);if(S!==0)return S;const M=vl(p[g[b]],y[T[b]]);if(M!==0)return M}return ze(g.length,T.length)})(s.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function GE(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return ze(s,e);const n=gr(s),r=gr(e),l=ze(n.seconds,r.seconds);return l!==0?l:ze(n.nanos,r.nanos)}function KE(s,e){const n=s.values||[],r=e.values||[];for(let l=0;l<n.length&&l<r.length;++l){const c=vl(n[l],r[l]);if(c)return c}return ze(n.length,r.length)}function _l(s){return ep(s)}function ep(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return yr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return _e.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",l=!0;for(const c of n.values||[])l?l=!1:r+=",",r+=ep(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${ep(n.fields[d])}`;return l+"}"})(s.mapValue):Se(61005,{value:s})}function Eh(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(s);return e?16+Eh(e):16;case 5:return 2*s.stringValue.length;case 6:return yr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Eh(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return Sr(r.fields,((c,d)=>{l+=c.length+Eh(d)})),l})(s.mapValue);default:throw Se(13486,{value:s})}}function QE(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function tp(s){return!!s&&"integerValue"in s}function Up(s){return!!s&&"arrayValue"in s}function YE(s){return!!s&&"nullValue"in s}function $E(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Th(s){return!!s&&"mapValue"in s}function dI(s){return(s?.mapValue?.fields||{})[o0]?.stringValue===c0}function ec(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Sr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=ec(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(s.arrayValue.values[n]);return e}return{...s}}function fI(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===hI}class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=Jt.emptyPath(),r={},l=[];e.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,r,l),r={},l=[],n=p.popLast()}d?r[p.lastSegment()]=ec(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,l)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let l=n.mapValue.fields[e.get(r)];Th(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,r){Sr(n,((l,c)=>e[l]=c));for(const l of r)delete e[l]}clone(){return new _n(ec(this.value))}}function u0(s){const e=[];return Sr(s.fields,((n,r)=>{const l=new Jt([n]);if(Th(r)){const c=u0(r.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)})),new In(e)}class sn{constructor(e,n,r,l,c,d,p){this.key=e,this.documentType=n,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(e){return new sn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,r,l){return new sn(e,1,n,we.min(),r,l,0)}static newNoDocument(e,n){return new sn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function XE(s,e,n){let r=0;for(let l=0;l<s.position.length;l++){const c=e[l],d=s.position[l];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(d.referenceValue),n.key):r=vl(d,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function WE(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Fi(s.position[n],e.position[n]))return!1;return!0}class hc{constructor(e,n="asc"){this.field=e,this.dir=n}}function mI(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}class h0{}class Dt extends h0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new gI(e,n,r):n==="array-contains"?new _I(e,r):n==="in"?new EI(e,r):n==="not-in"?new TI(e,r):n==="array-contains-any"?new bI(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yI(e,r):new vI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vl(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(vl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends h0{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fi(e,n)}matches(e){return d0(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function d0(s){return s.op==="and"}function f0(s){return pI(s)&&d0(s)}function pI(s){for(const e of s.filters)if(e instanceof fi)return!1;return!0}function np(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+_l(s.value);if(f0(s))return s.filters.map((e=>np(e))).join(",");{const e=s.filters.map((n=>np(n))).join(",");return`${s.op}(${e})`}}function m0(s,e){return s instanceof Dt?(function(r,l){return l instanceof Dt&&r.op===l.op&&r.field.isEqual(l.field)&&Fi(r.value,l.value)})(s,e):s instanceof fi?(function(r,l){return l instanceof fi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&m0(d,l.filters[p])),!0):!1})(s,e):void Se(19439)}function p0(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_l(n.value)}`})(s):s instanceof fi?(function(n){return n.op.toString()+" {"+n.getFilters().map(p0).join(" ,")+"}"})(s):"Filter"}class gI extends Dt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class yI extends Dt{constructor(e,n){super(e,"in",n),this.keys=g0("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class vI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=g0("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function g0(s,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class _I extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Up(n)&&uc(n.arrayValue,this.value)}}class EI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uc(this.value.arrayValue,n)}}class TI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uc(this.value.arrayValue,n)}}class bI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Up(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>uc(this.value.arrayValue,r)))}}class SI{constructor(e,n=null,r=[],l=[],c=null,d=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function JE(s,e=null,n=[],r=[],l=null,c=null,d=null){return new SI(s,e,n,r,l,c,d)}function zp(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>np(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>_l(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>_l(r))).join(",")),e.Te=n}return e.Te}function Bp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!mI(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!m0(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!WE(s.startAt,e.startAt)&&WE(s.endAt,e.endAt)}function ip(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Vl{constructor(e,n=null,r=[],l=[],c=null,d="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AI(s,e,n,r,l,c,d,p){return new Vl(s,e,n,r,l,c,d,p)}function td(s){return new Vl(s)}function ZE(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function y0(s){return s.collectionGroup!==null}function tc(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new zt(Jt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new hc(c,r))})),n.has(Jt.keyField().canonicalString())||e.Ie.push(new hc(Jt.keyField(),r))}return e.Ie}function zi(s){const e=Re(s);return e.Ee||(e.Ee=wI(e,tc(s))),e.Ee}function wI(s,e){if(s.limitType==="F")return JE(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new hc(l.field,c)}));const n=s.endAt?new Ph(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Ph(s.startAt.position,s.startAt.inclusive):null;return JE(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function sp(s,e){const n=s.filters.concat([e]);return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function rp(s,e,n){return new Vl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function nd(s,e){return Bp(zi(s),zi(e))&&s.limitType===e.limitType}function v0(s){return`${zp(zi(s))}|lt:${s.limitType}`}function al(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((l=>p0(l))).join(", ")}]`),Zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((l=>_l(l))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((l=>_l(l))).join(",")),`Target(${r})`})(zi(s))}; limitType=${s.limitType})`}function id(s,e){return e.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,l){for(const c of tc(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,e)&&(function(r,l){return!(r.startAt&&!(function(d,p,g){const y=XE(d,p,g);return d.inclusive?y<=0:y<0})(r.startAt,tc(r),l)||r.endAt&&!(function(d,p,g){const y=XE(d,p,g);return d.inclusive?y>=0:y>0})(r.endAt,tc(r),l))})(s,e)}function xI(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function _0(s){return(e,n)=>{let r=!1;for(const l of tc(s)){const c=NI(l,e,n);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function NI(s,e,n){const r=s.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,d,p){const g=d.data.field(c),y=p.data.field(c);return g!==null&&y!==null?vl(g,y):Se(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Se(19790,{direction:s.dir})}}class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),l=this.inner[r];if(l===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return r.length===1?delete this.inner[n]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Sr(this.inner,((n,r)=>{for(const[l,c]of r)e(l,c)}))}isEmpty(){return n0(this.inner)}size(){return this.innerSize}}const RI=new dt(_e.comparator);function Ts(){return RI}const E0=new dt(_e.comparator);function Yo(...s){let e=E0;for(const n of s)e=e.insert(n.key,n);return e}function T0(s){let e=E0;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function sa(){return nc()}function b0(){return nc()}function nc(){return new fa((s=>s.toString()),((s,e)=>s.isEqual(e)))}const CI=new dt(_e.comparator),II=new zt(_e.comparator);function Be(...s){let e=II;for(const n of s)e=e.add(n);return e}const jI=new zt(ze);function DI(){return jI}function Hp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function S0(s){return{integerValue:""+s}}function A0(s,e){return aI(e)?S0(e):Hp(s,e)}class sd{constructor(){this._=void 0}}function OI(s,e,n){return s instanceof dc?(function(l,c){const d={fields:{[r0]:{stringValue:s0},[l0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pp(c)&&(c=ed(c)),c&&(d.fields[a0]=c),{mapValue:d}})(n,e):s instanceof fc?x0(s,e):s instanceof mc?N0(s,e):(function(l,c){const d=w0(l,c),p=eT(d)+eT(l.Ae);return tp(d)&&tp(l.Ae)?S0(p):Hp(l.serializer,p)})(s,e)}function MI(s,e,n){return s instanceof fc?x0(s,e):s instanceof mc?N0(s,e):n}function w0(s,e){return s instanceof pc?(function(r){return tp(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class dc extends sd{}class fc extends sd{constructor(e){super(),this.elements=e}}function x0(s,e){const n=R0(e);for(const r of s.elements)n.some((l=>Fi(l,r)))||n.push(r);return{arrayValue:{values:n}}}class mc extends sd{constructor(e){super(),this.elements=e}}function N0(s,e){let n=R0(e);for(const r of s.elements)n=n.filter((l=>!Fi(l,r)));return{arrayValue:{values:n}}}class pc extends sd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function eT(s){return Et(s.integerValue||s.doubleValue)}function R0(s){return Up(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class C0{constructor(e,n){this.field=e,this.transform=n}}function VI(s,e){return s.field.isEqual(e.field)&&(function(r,l){return r instanceof fc&&l instanceof fc||r instanceof mc&&l instanceof mc?yl(r.elements,l.elements,Fi):r instanceof pc&&l instanceof pc?Fi(r.Ae,l.Ae):r instanceof dc&&l instanceof dc})(s.transform,e.transform)}class kI{constructor(e,n){this.version=e,this.transformResults=n}}class Yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yn}static exists(e){return new Yn(void 0,e)}static updateTime(e){return new Yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function bh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class rd{}function I0(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qp(s.key,Yn.none()):new wc(s.key,s.data,Yn.none());{const n=s.data,r=_n.empty();let l=new zt(Jt.comparator);for(let c of e.fields)if(!l.has(c)){let d=n.field(c);d===null&&c.length>1&&(c=c.popLast(),d=n.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new Ar(s.key,r,new In(l.toArray()),Yn.none())}}function LI(s,e,n){s instanceof wc?(function(l,c,d){const p=l.value.clone(),g=nT(l.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,n):s instanceof Ar?(function(l,c,d){if(!bh(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=nT(l.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(j0(l)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,n):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function ic(s,e,n,r){return s instanceof wc?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=c.value.clone(),T=iT(c.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof Ar?(function(c,d,p,g){if(!bh(c.precondition,d))return p;const y=iT(c.fieldTransforms,g,d),T=d.data;return T.setAll(j0(c)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(s,e,n,r):(function(c,d,p){return bh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,e,n)}function PI(s,e){let n=null;for(const r of s.fieldTransforms){const l=e.data.field(r.field),c=w0(r.transform,l||null);c!=null&&(n===null&&(n=_n.empty()),n.set(r.field,c))}return n||null}function tT(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&yl(r,l,((c,d)=>VI(c,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class wc extends rd{constructor(e,n,r,l=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ar extends rd{constructor(e,n,r,l,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function j0(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function nT(s,e,n){const r=new Map;$e(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let l=0;l<n.length;l++){const c=s[l],d=c.transform,p=e.data.field(c.field);r.set(c.field,MI(d,p,n[l]))}return r}function iT(s,e,n){const r=new Map;for(const l of s){const c=l.transform,d=n.data.field(l.field);r.set(l.field,OI(c,d,e))}return r}class qp extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UI extends rd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zI{constructor(e,n,r,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&LI(c,e,r[l])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b0();return this.mutations.forEach((l=>{const c=e.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=n.has(l.key)?null:p;const g=I0(d,p);g!==null&&r.set(l.key,g),d.isValidDocument()||d.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&yl(this.mutations,e.mutations,((n,r)=>tT(n,r)))&&yl(this.baseMutations,e.baseMutations,((n,r)=>tT(n,r)))}}class Fp{constructor(e,n,r,l){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=l}static from(e,n,r){$e(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let l=(function(){return CI})();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Fp(e,n,r,l)}}class BI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class HI{constructor(e,n){this.count=e,this.unchangedNames=n}}var jt,Fe;function qI(s){switch(s){case ee.OK:return Se(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Se(15467,{code:s})}}function D0(s){if(s===void 0)return Es("GRPC error has no .code"),ee.UNKNOWN;switch(s){case jt.OK:return ee.OK;case jt.CANCELLED:return ee.CANCELLED;case jt.UNKNOWN:return ee.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ee.INTERNAL;case jt.UNAVAILABLE:return ee.UNAVAILABLE;case jt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case jt.NOT_FOUND:return ee.NOT_FOUND;case jt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case jt.ABORTED:return ee.ABORTED;case jt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case jt.DATA_LOSS:return ee.DATA_LOSS;default:return Se(39323,{code:s})}}(Fe=jt||(jt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";function FI(){return new TextEncoder}const GI=new fr([4294967295,4294967295],0);function sT(s){const e=FI().encode(s),n=new Gb;return n.update(e),new Uint8Array(n.digest())}function rT(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new fr([n,r],0),new fr([l,c],0)]}class Gp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $o(`Invalid padding: ${n}`);if(r<0)throw new $o(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $o(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $o(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=fr.fromNumber(this.ge)}ye(e,n,r){let l=e.add(n.multiply(fr.fromNumber(r)));return l.compare(GI)===1&&(l=new fr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sT(e),[r,l]=rT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(e,n,r){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gp(c,l,n);return r.forEach((p=>d.insert(p))),d}insert(e){if(this.ge===0)return;const n=sT(e),[r,l]=rT(n);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ad{constructor(e,n,r,l,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const l=new Map;return l.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ad(we.min(),l,new dt(ze),Ts(),Be())}}class xc{constructor(e,n,r,l,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xc(r,n,Be(),Be(),Be())}}class Sh{constructor(e,n,r,l){this.be=e,this.removedTargetIds=n,this.key=r,this.De=l}}class O0{constructor(e,n){this.targetId=e,this.Ce=n}}class M0{constructor(e,n,r=Zt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=l}}class aT{constructor(){this.ve=0,this.Fe=lT(),this.Me=Zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),r=Be();return this.Fe.forEach(((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:r=r.add(l);break;default:Se(38017,{changeType:c})}})),new xc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=lT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class KI{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ts(),this.Je=hh(),this.He=hh(),this.Ye=new dt(ze)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,r=e.Ce.count,l=this.ot(n);if(l){const c=l.target;if(ip(c))if(r===0){const d=new _e(c.path);this.et(n,d,sn.newNoDocument(d,we.min()))}else $e(r===1,20013,{expectedCount:r});else{const d=this._t(n);if(d!==r){const p=this.ut(e),g=p?this.ct(p,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=n;let d,p;try{d=yr(r).toUint8Array()}catch(g){if(g instanceof i0)return gl("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Gp(d,l,c)}catch(g){return gl(g instanceof $o?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(p)||(this.et(n,c,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ip(p.target)){const g=new _e(p.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,sn.newNoDocument(g,e))}c.Be&&(n.set(d,c.ke()),c.qe())}}));let r=Be();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(e)));const l=new ad(e,n,this.Ye,this.je,r);return this.je=Ts(),this.Je=hh(),this.He=hh(),this.Ye=new dt(ze),l}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new aT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new zt(ze),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new zt(ze),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new aT),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function hh(){return new dt(_e.comparator)}function lT(){return new dt(_e.comparator)}const QI={asc:"ASCENDING",desc:"DESCENDING"},YI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$I={and:"AND",or:"OR"};class XI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ap(s,e){return s.useProto3Json||Zh(e)?e:{value:e}}function Uh(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function WI(s,e){return Uh(s,e.toTimestamp())}function Bi(s){return $e(!!s,49232),we.fromTimestamp((function(n){const r=gr(n);return new lt(r.seconds,r.nanos)})(s))}function Kp(s,e){return lp(s,e).canonicalString()}function lp(s,e){const n=(function(l){return new st(["projects",l.projectId,"databases",l.database])})(s).child("documents");return e===void 0?n:n.child(e)}function k0(s){const e=st.fromString(s);return $e(B0(e),10190,{key:e.toString()}),e}function op(s,e){return Kp(s.databaseId,e.path)}function Vm(s,e){const n=k0(e);if(n.get(1)!==s.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(P0(n))}function L0(s,e){return Kp(s.databaseId,e)}function JI(s){const e=k0(s);return e.length===4?st.emptyPath():P0(e)}function cp(s){return new st(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function P0(s){return $e(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function oT(s,e,n){return{name:op(s,e),fields:n.value.mapValue.fields}}function ZI(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Zt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Zt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,p=d&&(function(y){const T=y.code===void 0?ee.UNKNOWN:D0(y.code);return new he(T,y.message||"")})(d);n=new M0(r,l,c,p||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const l=Vm(s,r.document.name),c=Bi(r.document.updateTime),d=r.document.createTime?Bi(r.document.createTime):we.min(),p=new _n({mapValue:{fields:r.document.fields}}),g=sn.newFoundDocument(l,c,d,p),y=r.targetIds||[],T=r.removedTargetIds||[];n=new Sh(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const l=Vm(s,r.document),c=r.readTime?Bi(r.readTime):we.min(),d=sn.newNoDocument(l,c),p=r.removedTargetIds||[];n=new Sh([],p,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const l=Vm(s,r.document),c=r.removedTargetIds||[];n=new Sh([],c,l,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new HI(l,c),p=r.targetId;n=new O0(p,d)}}return n}function ej(s,e){let n;if(e instanceof wc)n={update:oT(s,e.key,e.value)};else if(e instanceof qp)n={delete:op(s,e.key)};else if(e instanceof Ar)n={update:oT(s,e.key,e.data),updateMask:cj(e.fieldMask)};else{if(!(e instanceof UI))return Se(16599,{Vt:e.type});n={verify:op(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof fc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof mc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof pc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw Se(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:WI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Se(27497)})(s,e.precondition)),n}function tj(s,e){return s&&s.length>0?($e(e!==void 0,14353),s.map((n=>(function(l,c){let d=l.updateTime?Bi(l.updateTime):Bi(c);return d.isEqual(we.min())&&(d=Bi(c)),new kI(d,l.transformResults||[])})(n,e)))):[]}function nj(s,e){return{documents:[L0(s,e.path)]}}function ij(s,e){const n={structuredQuery:{}},r=e.path;let l;e.collectionGroup!==null?(l=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L0(s,l);const c=(function(y){if(y.length!==0)return z0(fi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:ll(S.field),direction:aj(S.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=ap(s,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function sj(s){let e=JI(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let l=null;if(r>0){$e(r===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(b){const S=U0(b);return S instanceof fi&&f0(S)?S.getFilters():[S]})(n.where));let d=[];n.orderBy&&(d=(function(b){return b.map((S=>(function(j){return new hc(ol(j.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(j.direction))})(S)))})(n.orderBy));let p=null;n.limit&&(p=(function(b){let S;return S=typeof b=="object"?b.value:b,Zh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(b){const S=!!b.before,M=b.values||[];return new Ph(M,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(b){const S=!b.before,M=b.values||[];return new Ph(M,S)})(n.endAt)),AI(e,l,d,c,p,"F",g,y)}function rj(s,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function U0(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ol(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ol(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ol(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ol(n.unaryFilter.field);return Dt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(ol(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return fi.create(n.compositeFilter.filters.map((r=>U0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(s):Se(30097,{filter:s})}function aj(s){return QI[s]}function lj(s){return YI[s]}function oj(s){return $I[s]}function ll(s){return{fieldPath:s.canonicalString()}}function ol(s){return Jt.fromServerFormat(s.fieldPath)}function z0(s){return s instanceof Dt?(function(n){if(n.op==="=="){if($E(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NAN"}};if(YE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($E(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NAN"}};if(YE(n.value))return{unaryFilter:{field:ll(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(n.field),op:lj(n.op),value:n.value}}})(s):s instanceof fi?(function(n){const r=n.getFilters().map((l=>z0(l)));return r.length===1?r[0]:{compositeFilter:{op:oj(n.op),filters:r}}})(s):Se(54877,{filter:s})}function cj(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function B0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class cr{constructor(e,n,r,l,c=we.min(),d=we.min(),p=Zt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class uj{constructor(e){this.yt=e}}function hj(s){const e=sj({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?rp(e,e.limit,"L"):e}class dj{constructor(){this.Cn=new fj}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(pr.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class fj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n]||new zt(st.comparator),c=!l.has(r);return this.index[n]=l.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),l=this.index[n];return l&&l.has(r)}getEntries(e){return(this.index[e]||new zt(st.comparator)).toArray()}}const cT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H0=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(H0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class El{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new El(0)}static cr(){return new El(-1)}}const uT="LruGarbageCollector",mj=1048576;function hT([s,e],[n,r]){const l=ze(s,n);return l===0?ze(e,r):l}class pj{constructor(e){this.Ir=e,this.buffer=new zt(hT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();hT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(uT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?de(uT,"Ignoring IndexedDB error during garbage collection: ",n):await Ol(n)}await this.Vr(3e5)}))}}class yj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Jh.ce);const r=new pj(n);return this.mr.forEachTarget(e,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(cT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,l,c,d,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(r=b,p=Date.now(),this.removeTargets(e,r,n)))).next((b=>(c=b,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((b=>(y=Date.now(),rl()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(g-p)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function vj(s,e){return new yj(s,e)}class _j{constructor(){this.changes=new fa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ej{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Tj{constructor(e,n,r,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=l}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(r=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(r!==null&&ic(r.mutation,l,In.empty(),lt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Be()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Be()){const l=sa();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,r).next((c=>{let d=Yo();return c.forEach(((p,g)=>{d=d.insert(p,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const r=sa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Be())))}populateOverlays(e,n,r){const l=[];return r.forEach((c=>{n.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(e,l).next((c=>{c.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(e,n,r,l){let c=Ts();const d=nc(),p=(function(){return nc()})();return n.forEach(((g,y)=>{const T=r.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Ar)?c=c.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),ic(T.mutation,y,T.mutation.getFieldMask(),lt.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>p.set(y,new Ej(T,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const r=nc();let l=new dt(((d,p)=>d-p)),c=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const p of d)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||In.empty();T=p.applyToLocalView(y,T),r.set(g,T);const b=(l.get(p.batchId)||Be()).add(g);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,b=b0();T.forEach((S=>{if(!c.has(S)){const M=I0(n.get(S),r.get(S));M!==null&&b.set(S,M),c=c.add(S)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return se.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,l){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):y0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,l):this.getDocumentsMatchingCollectionQuery(e,n,r,l)}getNextDocuments(e,n,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,l-c.size):se.resolve(sa());let p=lc,g=c;return d.next((y=>se.forEach(y,((T,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(T)?se.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{g=g.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,Be()))).next((T=>({batchId:p,changes:T0(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let l=Yo();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,l){const c=n.collectionGroup;let d=Yo();return this.indexManager.getCollectionParents(e,c).next((p=>se.forEach(p,(g=>{const y=(function(b,S){return new Vl(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,l).next((T=>{T.forEach(((b,S)=>{d=d.insert(b,S)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,l)))).next((d=>{c.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,sn.newInvalidDocument(T)))}));let p=Yo();return d.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&ic(T.mutation,y,In.empty(),lt.now()),id(n,y)&&(p=p.insert(g,y))})),p}))}}class bj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return se.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Bi(l.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:hj(l.bundledQuery),readTime:Bi(l.readTime)}})(n)),se.resolve()}}class Sj{constructor(){this.overlays=new dt(_e.comparator),this.qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=sa();return se.forEach(n,(l=>this.getOverlay(e,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((l,c)=>{this.St(e,n,c)})),se.resolve()}removeOverlaysForBatchId(e,n,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const l=sa(),c=n.length+1,d=new _e(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&l.set(g.getKey(),g)}return se.resolve(l)}getOverlaysForCollectionGroup(e,n,r,l){let c=new dt(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=sa(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=sa(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=l)););return se.resolve(p)}St(e,n,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new BI(n,r));let c=this.qr.get(n);c===void 0&&(c=Be(),this.qr.set(n,c)),this.qr.set(n,c.add(r.key))}}class Aj{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class Qp{constructor(){this.Qr=new zt(Ft.$r),this.Ur=new zt(Ft.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ft(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ft(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new st([])),r=new Ft(n,e),l=new Ft(n,e+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new st([])),r=new Ft(n,e),l=new Ft(n,e+1);let c=Be();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(e){const n=new Ft(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||ze(e.Yr,n.Yr)}static Kr(e,n){return ze(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class wj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new zt(Ft.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zI(c,n,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Ft(p.key,c)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return se.resolve(d)}lookupMutationBatch(e,n){return se.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,l=this.ei(r),c=l<0?0:l;return se.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ft(n,0),l=new Ft(n,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),se.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new zt(ze);return n.forEach((l=>{const c=new Ft(l,0),d=new Ft(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),se.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,l=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const d=new Ft(new _e(c),0);let p=new zt(ze);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(g.Yr)),!0)}),d),se.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((r=>{const l=this.Xr(r);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return se.forEach(n.mutations,(l=>{const c=new Ft(l.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ft(n,0),l=this.Zr.firstAfterOrEqual(r);return se.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xj{constructor(e){this.ri=e,this.docs=(function(){return new dt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let r=Ts();return n.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():sn.newInvalidDocument(l))})),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,l){let c=Ts();const d=n.path,p=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||nI(tI(T),r)<=0||(l.has(T.key)||id(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return se.resolve(c)}getAllFromCollectionGroup(e,n,r,l){Se(9500)}ii(e,n){return se.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Nj(this)}getSize(e){return se.resolve(this.size)}}class Nj extends _j{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(r)})),se.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class Rj{constructor(e){this.persistence=e,this.si=new fa((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=El.ur()}forEachTarget(e,n){return this.si.forEach(((r,l)=>n(l))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),se.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new El(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Pr(n),se.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=n&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(e,p.targetId)),l++)})),se.waitFor(c).next((()=>l))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach((d=>{c.push(l.markPotentiallyOrphaned(e,d))})),se.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this._i.containsKey(n))}}class q0{constructor(e,n){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new Aj,this.referenceDelegate=e(this),this.Pi=new Rj(this),this.indexManager=new dj,this.remoteDocumentCache=(function(l){return new xj(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new uj(n),this.Ii=new bj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Sj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new wj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){de("MemoryPersistence","Starting transaction:",e);const l=new Cj(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(e,n){return se.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Cj extends sI{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Vi=null}static mi(e){return new Yp(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(r=>{const l=_e.fromPath(r);return this.gi(e,l).next((c=>{c||n.removeEntry(l,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new fa((r=>lI(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=vj(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((l=>r+l))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return se.forEach(this.pi,((r,l)=>this.br(e,r,l).next((c=>c?se.resolve():n(l)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(e,(d=>this.br(e,d,n).next((p=>{p||(r++,c.removeEntry(d,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}br(e,n,r){return se.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return se.resolve(l!==void 0&&l>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class $p{constructor(e,n,r,l){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=l}static As(e,n){let r=Be(),l=Be();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $p(e,n.fromCache,r,l)}}class Ij{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class jj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rN()?8:rI(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,l){const c={result:null};return this.ys(e,n).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(e,n,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ij;return this.Ss(e,n,d).next((p=>{if(c.result=p,this.Vs)return this.bs(e,n,d,p.size)}))})).next((()=>c.result))}bs(e,n,r,l){return r.documentReadCount<this.fs?(rl()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",al(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(rl()<=Ue.DEBUG&&de("QueryEngine","Query:",al(n),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(rl()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",al(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(n))):se.resolve())}ys(e,n){if(ZE(n))return se.resolve(null);let r=zi(n);return this.indexManager.getIndexType(e,r).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=rp(n,null,"F"),r=zi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const d=Be(...c);return this.ps.getDocuments(e,d).next((p=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,d,g.readTime)?this.ys(e,rp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,r,l){return ZE(n)||l.isEqual(we.min())?se.resolve(null):this.ps.getDocuments(e,r).next((c=>{const d=this.Ds(n,c);return this.Cs(n,d,r,l)?se.resolve(null):(rl()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),al(n)),this.vs(e,d,n,eI(l,lc)).next((p=>p)))}))}Ds(e,n){let r=new zt(_0(e));return n.forEach(((l,c)=>{id(e,c)&&(r=r.add(c))})),r}Cs(e,n,r,l){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(e,n,r){return rl()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",al(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),r)}vs(e,n,r,l){return this.ps.getDocumentsMatchingQuery(e,r,l).next((c=>(n.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xp="LocalStore",Dj=3e8;class Oj{constructor(e,n,r,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new dt(ze),this.xs=new fa((c=>zp(c)),Bp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Mj(s,e,n,r){return new Oj(s,e,n,r)}async function F0(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return n.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let g=Be();for(const y of l){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function Vj(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=e.batch.keys(),c=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const b=y.batch,S=b.keys();let M=se.resolve();return S.forEach((j=>{M=M.next((()=>T.getEntry(g,j))).next((C=>{const D=y.docVersions.get(j);$e(D!==null,48541),C.version.compareTo(D)<0&&(b.applyToRemoteDocument(C,y),C.isValidDocument()&&(C.setReadTime(y.commitVersion),T.addEntry(C)))}))})),M.next((()=>p.mutationQueue.removeMutationBatch(g,b)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let g=Be();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,l)))}))}function G0(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kj(s,e){const n=Re(s),r=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const p=[];e.targetChanges.forEach(((T,b)=>{const S=l.get(b);if(!S)return;p.push(n.Pi.removeMatchingKeys(c,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(c,T.addedDocuments,b))));let M=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,r)),l=l.insert(b,M),(function(C,D,Y){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=Dj?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,M,T)&&p.push(n.Pi.updateTargetData(c,M))}));let g=Ts(),y=Be();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),p.push(Lj(c,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!r.isEqual(we.min())){const T=n.Pi.getLastRemoteSnapshotVersion(c).next((b=>n.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(T)}return se.waitFor(p).next((()=>d.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.Ms=l,c)))}function Lj(s,e,n){let r=Be(),l=Be();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let d=Ts();return n.forEach(((p,g)=>{const y=c.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(p,g.readTime),d=d.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(p,g)):de(Xp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:l}}))}function Pj(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Uj(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return n.Pi.getTargetData(r,e).next((c=>c?(l=c,se.resolve(l)):n.Pi.allocateTargetId(r).next((d=>(l=new cr(e,d,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=n.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function up(s,e,n){const r=Re(s),l=r.Ms.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!Ml(d))throw d;de(Xp,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(l.target)}function dT(s,e,n){const r=Re(s);let l=we.min(),c=Be();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const b=Re(g),S=b.xs.get(T);return S!==void 0?se.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,T)})(r,d,zi(e)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((g=>{c=g}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,n?l:we.min(),n?c:Be()))).next((p=>(zj(r,xI(e),p),{documents:p,Qs:c})))))}function zj(s,e,n){let r=s.Os.get(e)||we.min();n.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(e,r)}class fT{constructor(){this.activeTargetIds=DI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bj{constructor(){this.Mo=new fT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Hj{Oo(e){}shutdown(){}}const mT="ConnectivityMonitor";class pT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(mT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(mT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let dh=null;function hp(){return dh===null?dh=(function(){return 268435456+Math.round(2147483648*Math.random())})():dh++,"0x"+dh.toString(16)}const km="RestConnection",qj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(e,n,r,l,c){const d=hp(),p=this.zo(e,n.toUriEncodedString());de(km,`Sending RPC '${e}' ${d}:`,p,r);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,c);const{host:y}=new URL(p),T=Cl(y);return this.Jo(e,p,g,r,T).then((b=>(de(km,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw gl(km,`RPC '${e}' ${d} failed with error: `,b,"url: ",p,"request:",r),b}))}Ho(e,n,r,l,c,d){return this.Go(e,n,r,l,c)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Dl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,c)=>e[c]=l)),r&&r.headers.forEach(((l,c)=>e[c]=l))}zo(e,n){const r=qj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}class Gj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const tn="WebChannelConnection";class Kj extends Fj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,l,c){const d=hp();return new Promise(((p,g)=>{const y=new Kb;y.setWithCredentials(!0),y.listenOnce(Qb.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _h.NO_ERROR:const b=y.getResponseJson();de(tn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),p(b);break;case _h.TIMEOUT:de(tn,`RPC '${e}' ${d} timed out`),g(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case _h.HTTP_ERROR:const S=y.getStatus();if(de(tn,`RPC '${e}' ${d} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const j=M?.error;if(j&&j.status&&j.message){const C=(function(Y){const W=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(W)>=0?W:ee.UNKNOWN})(j.status);g(new he(C,j.message))}else g(new he(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{de(tn,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(l);de(tn,`RPC '${e}' ${d} sending request:`,l),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const l=hp(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Xb(),p=$b(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,r),g.encodeInitMessageHeaders=!0;const T=c.join("");de(tn,`Creating RPC '${e}' stream ${l}: ${T}`,g);const b=d.createWebChannel(T,g);this.I_(b);let S=!1,M=!1;const j=new Gj({Yo:D=>{M?de(tn,`Not sending because RPC '${e}' stream ${l} is closed:`,D):(S||(de(tn,`Opening RPC '${e}' stream ${l} transport.`),b.open(),S=!0),de(tn,`RPC '${e}' stream ${l} sending:`,D),b.send(D))},Zo:()=>b.close()}),C=(D,Y,W)=>{D.listen(Y,(te=>{try{W(te)}catch(z){setTimeout((()=>{throw z}),0)}}))};return C(b,Qo.EventType.OPEN,(()=>{M||(de(tn,`RPC '${e}' stream ${l} transport opened.`),j.o_())})),C(b,Qo.EventType.CLOSE,(()=>{M||(M=!0,de(tn,`RPC '${e}' stream ${l} transport closed`),j.a_(),this.E_(b))})),C(b,Qo.EventType.ERROR,(D=>{M||(M=!0,gl(tn,`RPC '${e}' stream ${l} transport errored. Name:`,D.name,"Message:",D.message),j.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),C(b,Qo.EventType.MESSAGE,(D=>{if(!M){const Y=D.data[0];$e(!!Y,16349);const W=Y,te=W?.error||W[0]?.error;if(te){de(tn,`RPC '${e}' stream ${l} received error:`,te);const z=te.status;let ce=(function(x){const N=jt[x];if(N!==void 0)return D0(N)})(z),le=te.message;ce===void 0&&(ce=ee.INTERNAL,le="Unknown error status: "+z+" with message "+te.message),M=!0,j.a_(new he(ce,le)),b.close()}else de(tn,`RPC '${e}' stream ${l} received:`,Y),j.u_(Y)}})),C(p,Yb.STAT_EVENT,(D=>{D.stat===Jm.PROXY?de(tn,`RPC '${e}' stream ${l} detected buffering proxy`):D.stat===Jm.NOPROXY&&de(tn,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{j.__()}),0),j}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Lm(){return typeof document<"u"?document:null}function ld(s){return new XI(s,!0)}class K0{constructor(e,n,r=1e3,l=1.5,c=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-r);l>0&&de("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const gT="PersistentStream";class Q0{constructor(e,n,r,l,c,d,p,g){this.Mi=e,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new K0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===n&&this.G_(r,l)}),(r=>{e((()=>{const l=new he(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(gT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(de(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Qj extends Q0{constructor(e,n,r,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=ZI(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?we.min():d.readTime?Bi(d.readTime):we.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=cp(this.serializer),n.addTarget=(function(c,d){let p;const g=d.target;if(p=ip(g)?{documents:nj(c,g)}:{query:ij(c,g).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=V0(c,d.resumeToken);const y=ap(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(we.min())>0){p.readTime=Uh(c,d.snapshotVersion.toTimestamp());const y=ap(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const r=rj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=cp(this.serializer),n.removeTarget=e,this.q_(n)}}class Yj extends Q0{constructor(e,n,r,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=tj(e.writeResults,e.commitTime),r=Bi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>ej(this.serializer,r)))};this.q_(n)}}class $j{}class Xj extends $j{constructor(e,n,r,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(e,lp(n,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(ee.UNKNOWN,c.toString())}))}Ho(e,n,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(e,lp(n,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(ee.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Wj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const da="RemoteStore";class Jj{constructor(e,n,r,l,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ma(this)&&(de(da,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Nc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await od(y)})(this))}))})),this.Ra=new Wj(r,l)}}async function od(s){if(ma(s))for(const e of s.da)await e(!0)}async function Nc(s){for(const e of s.da)await e(!1)}function Y0(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):kl(n).O_()&&Jp(n,e))}function Wp(s,e){const n=Re(s),r=kl(n);n.Ia.delete(e),r.O_()&&$0(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Ra.set("Unknown"))}function Jp(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}kl(s).Y_(e)}function $0(s,e){s.Va.Ue(e),kl(s).Z_(e)}function Zp(s){s.Va=new KI({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),kl(s).start(),s.Ra.ua()}function eg(s){return ma(s)&&!kl(s).x_()&&s.Ia.size>0}function ma(s){return Re(s).Ea.size===0}function X0(s){s.Va=void 0}async function Zj(s){s.Ra.set("Online")}async function e2(s){s.Ia.forEach(((e,n)=>{Jp(s,e)}))}async function t2(s,e){X0(s),eg(s)?(s.Ra.ha(e),Zp(s)):s.Ra.set("Unknown")}async function n2(s,e,n){if(s.Ra.set("Online"),e instanceof M0&&e.state===2&&e.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,e)}catch(r){de(da,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bh(s,r)}else if(e instanceof Sh?s.Va.Ze(e):e instanceof O0?s.Va.st(e):s.Va.tt(e),!n.isEqual(we.min()))try{const r=await G0(s.localStore);n.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),p.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Zt.EMPTY_BYTE_STRING,T.snapshotVersion)),$0(c,g);const b=new cr(T.target,g,y,T.sequenceNumber);Jp(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(s,n)}catch(r){de(da,"Failed to raise snapshot:",r),await Bh(s,r)}}async function Bh(s,e,n){if(!Ml(e))throw e;s.Ea.add(1),await Nc(s),s.Ra.set("Offline"),n||(n=()=>G0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{de(da,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await od(s)}))}function W0(s,e){return e().catch((n=>Bh(s,n,e)))}async function cd(s){const e=Re(s),n=_r(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;i2(e);)try{const l=await Pj(e.localStore,r);if(l===null){e.Ta.length===0&&n.L_();break}r=l.batchId,s2(e,l)}catch(l){await Bh(e,l)}J0(e)&&Z0(e)}function i2(s){return ma(s)&&s.Ta.length<10}function s2(s,e){s.Ta.push(e);const n=_r(s);n.O_()&&n.X_&&n.ea(e.mutations)}function J0(s){return ma(s)&&!_r(s).x_()&&s.Ta.length>0}function Z0(s){_r(s).start()}async function r2(s){_r(s).ra()}async function a2(s){const e=_r(s);for(const n of s.Ta)e.ea(n.mutations)}async function l2(s,e,n){const r=s.Ta.shift(),l=Fp.from(r,e,n);await W0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await cd(s)}async function o2(s,e){e&&_r(s).X_&&await(async function(r,l){if((function(d){return qI(d)&&d!==ee.ABORTED})(l.code)){const c=r.Ta.shift();_r(r).B_(),await W0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await cd(r)}})(s,e),J0(s)&&Z0(s)}async function yT(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),de(da,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await Nc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await od(n)}async function c2(s,e){const n=Re(s);e?(n.Ea.delete(2),await od(n)):e||(n.Ea.add(2),await Nc(n),n.Ra.set("Unknown"))}function kl(s){return s.ma||(s.ma=(function(n,r,l){const c=Re(n);return c.sa(),new Qj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:Zj.bind(null,s),t_:e2.bind(null,s),r_:t2.bind(null,s),H_:n2.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),eg(s)?Zp(s):s.Ra.set("Unknown")):(await s.ma.stop(),X0(s))}))),s.ma}function _r(s){return s.fa||(s.fa=(function(n,r,l){const c=Re(n);return c.sa(),new Yj(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:r2.bind(null,s),r_:o2.bind(null,s),ta:a2.bind(null,s),na:l2.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await cd(s)):(await s.fa.stop(),s.Ta.length>0&&(de(da,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class tg{constructor(e,n,r,l,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,l,c){const d=Date.now()+r,p=new tg(e,n,d,l,c);return p.start(r),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(s,e){if(Es("AsyncQueue",`${e}: ${s}`),Ml(s))return new he(ee.UNAVAILABLE,`${e}: ${s}`);throw s}class fl{static emptySet(e){return new fl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Yo(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new fl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class vT{constructor(){this.ga=new dt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Tl{constructor(e,n,r,l,c,d,p,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,l,c){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new Tl(e,n,fl.emptySet(n),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==r[l].type||!n[l].doc.isEqual(r[l].doc))return!1;return!0}}class u2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class h2{constructor(){this.queries=_T(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const l=Re(n),c=l.queries;l.queries=_T(),c.forEach(((d,p)=>{for(const g of p.Sa)g.onError(r)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function _T(){return new fa((s=>v0(s)),nd)}async function ig(s,e){const n=Re(s);let r=3;const l=e.query;let c=n.queries.get(l);c?!c.ba()&&e.Da()&&(r=2):(c=new u2,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(l,!0);break;case 1:c.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=ng(d,`Initialization of query '${al(e.query)}' failed`);return void e.onError(p)}n.queries.set(l,c),c.Sa.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&rg(n)}async function sg(s,e){const n=Re(s),r=e.query;let l=3;const c=n.queries.get(r);if(c){const d=c.Sa.indexOf(e);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=e.Da()?0:1:!c.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function d2(s,e){const n=Re(s);let r=!1;for(const l of e){const c=l.query,d=n.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&rg(n)}function f2(s,e,n){const r=Re(s),l=r.queries.get(e);if(l)for(const c of l.Sa)c.onError(n);r.queries.delete(e)}function rg(s){s.Ca.forEach((e=>{e.next()}))}var dp,ET;(ET=dp||(dp={})).Ma="default",ET.Cache="cache";class ag{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const l of e.docChanges)l.type!==3&&r.push(l);e=new Tl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Tl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dp.Cache}}class eS{constructor(e){this.key=e}}class tS{constructor(e){this.key=e}}class m2{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=_0(e),this.tu=new fl(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new vT,l=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const S=l.get(T),M=id(this.query,b)?b:null,j=!!S&&this.mutatedKeys.has(S.key),C=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let D=!1;S&&M?S.data.isEqual(M.data)?j!==C&&(r.track({type:3,doc:M}),D=!0):this.su(S,M)||(r.track({type:2,doc:M}),D=!0,(g&&this.eu(M,g)>0||y&&this.eu(M,y)<0)&&(p=!0)):!S&&M?(r.track({type:0,doc:M}),D=!0):S&&!M&&(r.track({type:1,doc:S}),D=!0,(g||y)&&(p=!0)),D&&(M?(d=d.add(M),c=C?c.add(T):c.delete(T)):(d=d.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,l){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(M,j){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:D})}};return C(M)-C(j)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(r),l=l??!1;const p=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new Tl(this.query,e.tu,c,d,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new tS(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new eS(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Tl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lg="SyncEngine";class p2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class g2{constructor(e){this.key=e,this.hu=!1}}class y2{constructor(e,n,r,l,c,d){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((p=>v0(p)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new dt(_e.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=El.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(s,e,n=!0){const r=lS(s);let l;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await nS(r,e,n,!0),l}async function _2(s,e){const n=lS(s);await nS(n,e,!0,!1)}async function nS(s,e,n,r){const l=await Uj(s.localStore,zi(e)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,n);let p;return r&&(p=await E2(s,e,c,d==="current",l.resumeToken)),s.isPrimaryClient&&n&&Y0(s.remoteStore,l),p}async function E2(s,e,n,r,l){s.pu=(b,S,M)=>(async function(C,D,Y,W){let te=D.view.ru(Y);te.Cs&&(te=await dT(C.localStore,D.query,!1).then((({documents:R})=>D.view.ru(R,te))));const z=W&&W.targetChanges.get(D.targetId),ce=W&&W.targetMismatches.get(D.targetId)!=null,le=D.view.applyChanges(te,C.isPrimaryClient,z,ce);return bT(C,D.targetId,le.au),le.snapshot})(s,b,S,M);const c=await dT(s.localStore,e,!0),d=new m2(e,c.Qs),p=d.ru(c.documents),g=xc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",l),y=d.applyChanges(p,s.isPrimaryClient,g);bT(s,n,y.au);const T=new p2(e,n,d);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function T2(s,e,n){const r=Re(s),l=r.Tu.get(e),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!nd(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await up(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),n&&Wp(r.remoteStore,l.targetId),fp(r,l.targetId)})).catch(Ol)):(fp(r,l.targetId),await up(r.localStore,l.targetId,!0))}async function b2(s,e){const n=Re(s),r=n.Tu.get(e),l=n.Iu.get(r.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wp(n.remoteStore,r.targetId))}async function S2(s,e,n){const r=I2(s);try{const l=await(function(d,p){const g=Re(d),y=lt.now(),T=p.reduce(((M,j)=>M.add(j.key)),Be());let b,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let j=Ts(),C=Be();return g.Ns.getEntries(M,T).next((D=>{j=D,j.forEach(((Y,W)=>{W.isValidDocument()||(C=C.add(Y))}))})).next((()=>g.localDocuments.getOverlayedDocuments(M,j))).next((D=>{b=D;const Y=[];for(const W of p){const te=PI(W,b.get(W.key).overlayedDocument);te!=null&&Y.push(new Ar(W.key,te,u0(te.value.mapValue),Yn.exists(!0)))}return g.mutationQueue.addMutationBatch(M,y,Y,p)})).next((D=>{S=D;const Y=D.applyToLocalDocumentSet(b,C);return g.documentOverlayCache.saveOverlays(M,D.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:T0(b)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new dt(ze)),y=y.insert(p,g),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,n),await Rc(r,l.changes),await cd(r.remoteStore)}catch(l){const c=ng(l,"Failed to persist write");n.reject(c)}}async function iS(s,e){const n=Re(s);try{const r=await kj(n.localStore,e);e.targetChanges.forEach(((l,c)=>{const d=n.Au.get(c);d&&($e(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?$e(d.hu,14607):l.removedDocuments.size>0&&($e(d.hu,42227),d.hu=!1))})),await Rc(n,r,e)}catch(r){await Ol(r)}}function TT(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(e);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const g=Re(d);g.onlineState=p;let y=!1;g.queries.forEach(((T,b)=>{for(const S of b.Sa)S.va(p)&&(y=!0)})),y&&rg(g)})(r.eventManager,e),l.length&&r.Pu.H_(l),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function A2(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const l=r.Au.get(e),c=l&&l.key;if(c){let d=new dt(_e.comparator);d=d.insert(c,sn.newNoDocument(c,we.min()));const p=Be().add(c),g=new ad(we.min(),new Map,new dt(ze),d,p);await iS(r,g),r.du=r.du.remove(c),r.Au.delete(e),og(r)}else await up(r.localStore,e,!1).then((()=>fp(r,e,n))).catch(Ol)}async function w2(s,e){const n=Re(s),r=e.batch.batchId;try{const l=await Vj(n.localStore,e);rS(n,r,null),sS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Rc(n,l)}catch(l){await Ol(l)}}async function x2(s,e,n){const r=Re(s);try{const l=await(function(d,p){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((b=>($e(b!==null,37113),T=b.keys(),g.mutationQueue.removeMutationBatch(y,b)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);rS(r,e,n),sS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Rc(r,l)}catch(l){await Ol(l)}}function sS(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function rS(s,e,n){const r=Re(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(e);c&&(n?c.reject(n):c.resolve(),l=l.remove(e)),r.Vu[r.currentUser.toKey()]=l}}function fp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||aS(s,r)}))}function aS(s,e){s.Eu.delete(e.path.canonicalString());const n=s.du.get(e);n!==null&&(Wp(s.remoteStore,n),s.du=s.du.remove(e),s.Au.delete(n),og(s))}function bT(s,e,n){for(const r of n)r instanceof eS?(s.Ru.addReference(r.key,e),N2(s,r)):r instanceof tS?(de(lg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||aS(s,r.key)):Se(19791,{wu:r})}function N2(s,e){const n=e.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(de(lg,"New document in limbo: "+n),s.Eu.add(r),og(s))}function og(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new _e(st.fromString(e)),r=s.fu.next();s.Au.set(r,new g2(n)),s.du=s.du.insert(n,r),Y0(s.remoteStore,new cr(zi(td(n.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function Rc(s,e,n){const r=Re(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,g)=>{d.push(r.pu(g,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=$p.As(g.targetId,y);c.push(T)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(g,y){const T=Re(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>se.forEach(y,(S=>se.forEach(S.Es,(M=>T.persistence.referenceDelegate.addReference(b,S.targetId,M))).next((()=>se.forEach(S.ds,(M=>T.persistence.referenceDelegate.removeReference(b,S.targetId,M)))))))))}catch(b){if(!Ml(b))throw b;de(Xp,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const M=T.Ms.get(S),j=M.snapshotVersion,C=M.withLastLimboFreeSnapshotVersion(j);T.Ms=T.Ms.insert(S,C)}}})(r.localStore,c))}async function R2(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){de(lg,"User change. New user:",e.toKey());const r=await F0(n.localStore,e);n.currentUser=e,(function(c,d){c.mu.forEach((p=>{p.forEach((g=>{g.reject(new he(ee.CANCELLED,d))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Rc(n,r.Ls)}}function C2(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return Be().add(r.key);{let l=Be();const c=n.Iu.get(e);if(!c)return l;for(const d of c){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function lS(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=A2.bind(null,e),e.Pu.H_=d2.bind(null,e.eventManager),e.Pu.yu=f2.bind(null,e.eventManager),e}function I2(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=x2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ld(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Mj(this.persistence,new jj,e.initialUser,this.serializer)}Cu(e){return new q0(Yp.mi,this.serializer)}Du(e){return new Bj}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class j2 extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof zh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new q0((r=>zh.mi(r,n)),this.serializer)}}class mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=R2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new h2})()}createDatastore(e){const n=ld(e.databaseInfo.databaseId),r=(function(c){return new Kj(c)})(e.databaseInfo);return(function(c,d,p,g){return new Xj(c,d,p,g)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,l,c,d,p){return new Jj(r,l,c,d,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>TT(this.syncEngine,n,0)),(function(){return pT.v()?new pT:new Hj})())}createSyncEngine(e,n){return(function(l,c,d,p,g,y,T){const b=new y2(l,c,d,p,g,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);de(da,"RemoteStore shutting down."),r.Ea.add(5),await Nc(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mp.provider={build:()=>new mp};class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Es("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Er="FirestoreClient";class D2{constructor(e,n,r,l,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=l,this.user=nn.UNAUTHENTICATED,this.clientId=kp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{de(Er,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(de(Er,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Pm(s,e){s.asyncQueue.verifyOperationInProgress(),de(Er,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await F0(e.localStore,l),r=l)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function ST(s,e){s.asyncQueue.verifyOperationInProgress();const n=await O2(s);de(Er,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>yT(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>yT(e.remoteStore,l))),s._onlineComponents=e}async function O2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){de(Er,"Using user provided OfflineComponentProvider");try{await Pm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===ee.FAILED_PRECONDITION||l.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;gl("Error using user provided cache. Falling back to memory cache: "+n),await Pm(s,new Hh)}}else de(Er,"Using default OfflineComponentProvider"),await Pm(s,new j2(void 0));return s._offlineComponents}async function oS(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(de(Er,"Using user provided OnlineComponentProvider"),await ST(s,s._uninitializedComponentsProvider._online)):(de(Er,"Using default OnlineComponentProvider"),await ST(s,new mp))),s._onlineComponents}function M2(s){return oS(s).then((e=>e.syncEngine))}async function qh(s){const e=await oS(s),n=e.eventManager;return n.onListen=v2.bind(null,e.syncEngine),n.onUnlisten=T2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),n}function V2(s,e,n={}){const r=new gs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new cg({next:S=>{T.Nu(),d.enqueueAndForget((()=>sg(c,b)));const M=S.docs.has(p);!M&&S.fromCache?y.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&g&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ag(td(p.path),T,{includeMetadataChanges:!0,qa:!0});return ig(c,b)})(await qh(s),s.asyncQueue,e,n,r))),r.promise}function k2(s,e,n={}){const r=new gs;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,g,y){const T=new cg({next:S=>{T.Nu(),d.enqueueAndForget((()=>sg(c,b))),S.fromCache&&g.source==="server"?y.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new ag(p,T,{includeMetadataChanges:!0,qa:!0});return ig(c,b)})(await qh(s),s.asyncQueue,e,n,r))),r.promise}function cS(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}const AT=new Map;const uS="firestore.googleapis.com",wT=!0;class xT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=wT}else this.host=e.host,this.ssl=e.ssl??wT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mj)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ud{constructor(e,n,r,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qC;switch(r.type){case"firstParty":return new QC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=AT.get(n);r&&(de("ComponentProvider","Removing Datastore"),AT.delete(n),r.terminate())})(this),Promise.resolve()}}function L2(s,e,n,r={}){s=En(s,ud);const l=Cl(e),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${e}:${n}`;l&&(ib(`https://${p}`),sb("Firestore",!0)),c.host!==uS&&c.host!==p&&gl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:p,ssl:l,emulatorOptions:r};if(!la(g,d)&&(s._setSettings(g),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=nn.MOCK_USER;else{y=Xx(r.mockUserToken,s._app?.options.projectId);const b=r.mockUserToken.sub||r.mockUserToken.user_id;if(!b)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}s._authCredentials=new FC(new Jb(y,T))}}class wr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new wr(this.firestore,e,this._query)}}class pt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pt(this.firestore,e,this._key)}toJSON(){return{type:pt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ac(n,pt._jsonSchema))return new pt(e,r||null,new _e(st.fromString(n.referencePath)))}}pt._jsonSchemaVersion="firestore/documentReference/1.0",pt._jsonSchema={type:Ot("string",pt._jsonSchemaVersion),referencePath:Ot("string")};class mr extends wr{constructor(e,n,r){super(e,n,td(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pt(this.firestore,null,new _e(e))}withConverter(e){return new mr(this.firestore,e,this._path)}}function Mt(s,e,...n){if(s=Vt(s),Zb("collection","path",e),s instanceof ud){const r=st.fromString(e,...n);return UE(r),new mr(s,null,r)}{if(!(s instanceof pt||s instanceof mr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return UE(r),new mr(s.firestore,null,r)}}function Tt(s,e,...n){if(s=Vt(s),arguments.length===1&&(e=kp.newId()),Zb("doc","path",e),s instanceof ud){const r=st.fromString(e,...n);return PE(r),new pt(s,null,new _e(r))}{if(!(s instanceof pt||s instanceof mr))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(st.fromString(e,...n));return PE(r),new pt(s.firestore,s instanceof mr?s.converter:null,new _e(r))}}const NT="AsyncQueue";class RT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new K0(this,"async_queue_retry"),this._c=()=>{const r=Lm();r&&de(NT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Lm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Lm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;de(NT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",CT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=tg.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&Se(47125,{Pc:CT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function CT(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}function IT(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const l=n;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class bs extends ud{constructor(e,n,r,l){super(e,n,r,l),this.type="firestore",this._queue=new RT,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RT(e),this._firestoreClient=void 0,await e}}}function P2(s,e){const n=typeof s=="object"?s:ob(),r=typeof s=="string"?s:kh,l=xp(n,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=Yx("firestore");c&&L2(l,...c)}return l}function hd(s){if(s._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||U2(s),s._firestoreClient}function U2(s){const e=s._freezeSettings(),n=(function(l,c,d,p){return new uI(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,cS(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new D2(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class Qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qn(Zt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qn(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ac(e,Qn._jsonSchema))return Qn.fromBase64String(e.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ot("string",Qn._jsonSchemaVersion),bytes:Ot("string")};class dd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cc{constructor(e){this._methodName=e}}class Hi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Hi._jsonSchemaVersion}}static fromJSON(e){if(Ac(e,Hi._jsonSchema))return new Hi(e.latitude,e.longitude)}}Hi._jsonSchemaVersion="firestore/geoPoint/1.0",Hi._jsonSchema={type:Ot("string",Hi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};class qi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ac(e,qi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new qi(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}qi._jsonSchemaVersion="firestore/vectorValue/1.0",qi._jsonSchema={type:Ot("string",qi._jsonSchemaVersion),vectorValues:Ot("object")};const z2=/^__.*__$/;class B2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new wc(e,this.data,n,this.fieldTransforms)}}class hS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function dS(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:s})}}class ug{constructor(e,n,r,l,c,d){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(dS(this.Ac)&&z2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class H2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ld(e)}Cc(e,n,r,l=!1){return new ug({Ac:e,methodName:n,Dc:r,path:Jt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fd(s){const e=s._freezeSettings(),n=ld(s._databaseId);return new H2(s._databaseId,!!e.ignoreUndefinedProperties,n)}function fS(s,e,n,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,e,n,l);fg("Data must be an object, but it was:",d,r);const p=mS(r,d);let g,y;if(c.merge)g=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const T=[];for(const b of c.mergeFields){const S=pp(e,b,n);if(!d.contains(S))throw new he(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);gS(T,S)||T.push(S)}g=new In(T),y=d.fieldTransforms.filter((b=>g.covers(b.field)))}else g=null,y=d.fieldTransforms;return new B2(new _n(p),g,y)}class md extends Cc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof md}}class hg extends Cc{_toFieldTransform(e){return new C0(e.path,new dc)}isEqual(e){return e instanceof hg}}class dg extends Cc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new pc(e.serializer,A0(e.serializer,this.Fc));return new C0(e.path,n)}isEqual(e){return e instanceof dg&&this.Fc===e.Fc}}function q2(s,e,n,r){const l=s.Cc(1,e,n);fg("Data must be an object, but it was:",l,r);const c=[],d=_n.empty();Sr(r,((g,y)=>{const T=mg(e,g,n);y=Vt(y);const b=l.yc(T);if(y instanceof md)c.push(T);else{const S=Ic(y,b);S!=null&&(c.push(T),d.set(T,S))}}));const p=new In(c);return new hS(d,p,l.fieldTransforms)}function F2(s,e,n,r,l,c){const d=s.Cc(1,e,n),p=[pp(e,r,n)],g=[l];if(c.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)p.push(pp(e,c[S])),g.push(c[S+1]);const y=[],T=_n.empty();for(let S=p.length-1;S>=0;--S)if(!gS(y,p[S])){const M=p[S];let j=g[S];j=Vt(j);const C=d.yc(M);if(j instanceof md)y.push(M);else{const D=Ic(j,C);D!=null&&(y.push(M),T.set(M,D))}}const b=new In(y);return new hS(T,b,d.fieldTransforms)}function G2(s,e,n,r=!1){return Ic(n,s.Cc(r?4:3,e))}function Ic(s,e){if(pS(s=Vt(s)))return fg("Unsupported field value:",e,s),mS(s,e);if(s instanceof Cc)return(function(r,l){if(!dS(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let g=Ic(p,l.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}})(s,e)}return(function(r,l){if((r=Vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A0(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=lt.fromDate(r);return{timestampValue:Uh(l.serializer,c)}}if(r instanceof lt){const c=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(l.serializer,c)}}if(r instanceof Hi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qn)return{bytesValue:V0(l.serializer,r._byteString)};if(r instanceof pt){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof qi)return(function(d,p){return{mapValue:{fields:{[o0]:{stringValue:c0},[Lh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Hp(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Wh(r)}`)})(s,e)}function mS(s,e){const n={};return n0(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sr(s,((r,l)=>{const c=Ic(l,e.mc(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function pS(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof lt||s instanceof Hi||s instanceof Qn||s instanceof pt||s instanceof Cc||s instanceof qi)}function fg(s,e,n){if(!pS(n)||!e0(n)){const r=Wh(n);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function pp(s,e,n){if((e=Vt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return mg(s,e);throw Fh("Field path arguments must be of type string or ",s,!1,void 0,n)}const K2=new RegExp("[~\\*/\\[\\]]");function mg(s,e,n){if(e.search(K2)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new dd(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Fh(s,e,n,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${l}`),g+=")"),new he(ee.INVALID_ARGUMENT,p+s+g)}function gS(s,e){return s.some((n=>n.isEqual(e)))}class yS{constructor(e,n,r,l,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Q2 extends yS{data(){return super.data()}}function pd(s,e){return typeof e=="string"?mg(s,e):e instanceof dd?e._internalPath:e._delegate._internalPath}function vS(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class _S extends pg{}function Gi(s,e,...n){let r=[];e instanceof pg&&r.push(e),r=r.concat(n),(function(c){const d=c.filter((g=>g instanceof gg)).length,p=c.filter((g=>g instanceof gd)).length;if(d>1||d>0&&p>0)throw new he(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const l of r)s=l._apply(s);return s}class gd extends _S{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gd(e,n,r)}_apply(e){const n=this._parse(e);return ES(e._query,n),new wr(e.firestore,e.converter,sp(e._query,n))}_parse(e){const n=fd(e.firestore);return(function(c,d,p,g,y,T,b){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){DT(b,T);const j=[];for(const C of b)j.push(jT(g,c,C));S={arrayValue:{values:j}}}else S=jT(g,c,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||DT(b,T),S=G2(p,d,b,T==="in"||T==="not-in");return Dt.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function bl(s,e,n){const r=e,l=pd("where",s);return gd._create(l,r,n)}class gg extends pg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const g of p)ES(d,g),d=sp(d,g)})(e._query,n),new wr(e.firestore,e.converter,sp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends _S{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=(function(l,c,d){if(l.startAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new he(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new hc(c,d)})(e._query,this._field,this._direction);return new wr(e.firestore,e.converter,(function(l,c){const d=l.explicitOrderBy.concat([c]);return new Vl(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function yd(s,e="asc"){const n=e,r=pd("orderBy",s);return yg._create(r,n)}function jT(s,e,n){if(typeof(n=Vt(n))=="string"){if(n==="")throw new he(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y0(e)&&n.indexOf("/")!==-1)throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(st.fromString(n));if(!_e.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QE(s,new _e(r))}if(n instanceof pt)return QE(s,n._key);throw new he(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function DT(s,e){if(!Array.isArray(s)||s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ES(s,e){const n=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Y2{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sr(e,((l,c)=>{r[l]=this.convertValue(c,n)})),r}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((r=>Et(r.doubleValue)));return new qi(n)}convertGeoPoint(e){return new Hi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ed(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(oc(e));default:return null}}convertTimestamp(e){const n=gr(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=st.fromString(e);$e(B0(r),9688,{name:e});const l=new cc(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return l.isEqual(n)||Es(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}function TS(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ra extends yS{constructor(e,n,r,l,c,d){super(e,n,r,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ra._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ot("string",ra._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Ah extends ra{data(e={}){return super.data(e)}}class aa{constructor(e,n,r,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Xo(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const g=new Ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const g=new Ah(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Xo(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),T=d.indexOf(p.doc.key)),{type:$2(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=aa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:s})}}function vd(s){s=En(s,pt);const e=En(s.firestore,bs);return V2(hd(e),s._key).then((n=>AS(e,s,n)))}aa._jsonSchemaVersion="firestore/querySnapshot/1.0",aa._jsonSchema={type:Ot("string",aa._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class vg extends Y2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pt(this.firestore,null,n)}}function jn(s){s=En(s,wr);const e=En(s.firestore,bs),n=hd(e),r=new vg(e);return vS(s._query),k2(n,s._query).then((l=>new aa(e,r,s,l)))}function bS(s,e,n){s=En(s,pt);const r=En(s.firestore,bs),l=TS(s.converter,e);return _d(r,[fS(fd(r),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,Yn.none())])}function ui(s,e,n,...r){s=En(s,pt);const l=En(s.firestore,bs),c=fd(l);let d;return d=typeof(e=Vt(e))=="string"||e instanceof dd?F2(c,"updateDoc",s._key,e,n,r):q2(c,"updateDoc",s._key,e),_d(l,[d.toMutation(s._key,Yn.exists(!0))])}function SS(s){return _d(En(s.firestore,bs),[new qp(s._key,Yn.none())])}function Sl(s,e){const n=En(s.firestore,bs),r=Tt(s),l=TS(s.converter,e);return _d(n,[fS(fd(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,Yn.exists(!1))]).then((()=>r))}function OT(s,...e){s=Vt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||IT(e[r])||(n=e[r++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(IT(e[r])){const g=e[r];e[r]=g.next?.bind(g),e[r+1]=g.error?.bind(g),e[r+2]=g.complete?.bind(g)}let c,d,p;if(s instanceof pt)d=En(s.firestore,bs),p=td(s._key.path),c={next:g=>{e[r]&&e[r](AS(d,s,g))},error:e[r+1],complete:e[r+2]};else{const g=En(s,wr);d=En(g.firestore,bs),p=g._query;const y=new vg(d);c={next:T=>{e[r]&&e[r](new aa(d,y,g,T))},error:e[r+1],complete:e[r+2]},vS(s._query)}return(function(y,T,b,S){const M=new cg(S),j=new ag(T,M,b);return y.asyncQueue.enqueueAndForget((async()=>ig(await qh(y),j))),()=>{M.Nu(),y.asyncQueue.enqueueAndForget((async()=>sg(await qh(y),j)))}})(hd(d),p,l,c)}function _d(s,e){return(function(r,l){const c=new gs;return r.asyncQueue.enqueueAndForget((async()=>S2(await M2(r),l,c))),c.promise})(hd(s),e)}function AS(s,e,n){const r=n.docs.get(e._key),l=new vg(s);return new ra(s,l,e._key,r,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}function hi(){return new hg("serverTimestamp")}function _g(s){return new dg("increment",s)}(function(e,n=!0){(function(l){Dl=l})(Il),ml(new oa("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new bs(new GC(r.getProvider("auth-internal")),new YC(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cc(y.options.projectId,T)})(d,l),d);return c={useFetchStreams:n,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),dr(ME,VE,e),dr(ME,VE,"esm2020")})();var X2="firebase",W2="12.6.0";dr(X2,W2,"app");const J2={apiKey:"AIzaSyCFK0ROmclDB340RnTgAMGM6xiXgcMs7Vs",authDomain:"license-manager-b0e4e.firebaseapp.com",projectId:"license-manager-b0e4e",storageBucket:"license-manager-b0e4e.firebasestorage.app",messagingSenderId:"548643757194",appId:"1:548643757194:web:79fa0555acc0ccd9702173",measurementId:"G-7RWV4LEHP1"},wS=lb(J2),Wo=BC(wS),Oe=P2(wS),xS=V.createContext();function ln(){return V.useContext(xS)}function Z2({children:s}){const[e,n]=V.useState(null),[r,l]=V.useState(null),[c,d]=V.useState(!0);async function p(M,j,C){const D=await SR(Wo,M,j),Y=D.user;await xR(Y,{displayName:C});const W=new Date;return W.setDate(W.getDate()+1),await bS(Tt(Oe,"users",Y.uid),{uid:Y.uid,email:M,displayName:C,role:"user",balance:1e4,createdAt:hi()}),D}function g(M,j){return AR(Wo,M,j)}function y(){return IR(Wo)}async function T(M){const j=Tt(Oe,"users",M),C=await vd(j);return C.exists()?C.data():null}function b(){return r?.role==="admin"}V.useEffect(()=>CR(Wo,async j=>{if(n(j),j){const C=await T(j.uid);l(C)}else l(null);d(!1)}),[]);const S={currentUser:e,userProfile:r,signup:p,login:g,logout:y,isAdmin:b,loading:c};return u.jsx(xS.Provider,{value:S,children:!c&&s})}const NS="/logo.png";function an(){const{currentUser:s,userProfile:e,logout:n,isAdmin:r}=ln(),l=Nl(),[c,d]=V.useState(!1);async function p(){try{await n(),l("/login")}catch(T){console.error("Logout error:",T)}}function g(){d(!c)}function y(){d(!1)}return u.jsx("nav",{className:"navbar",children:u.jsxs("div",{className:"navbar-container",children:[u.jsxs(Ne,{to:"/",className:"navbar-brand",onClick:y,children:[u.jsx("img",{src:NS,alt:"PHP Tool",className:"brand-logo"}),u.jsx("span",{className:"brand-text",children:"PHP Tool"})]}),u.jsxs("button",{className:"hamburger",onClick:g,children:[u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`}),u.jsx("span",{className:`hamburger-line ${c?"open":""}`})]}),u.jsx("div",{className:`navbar-menu ${c?"active":""}`,children:s?u.jsxs(u.Fragment,{children:[u.jsxs(Ne,{to:"/dashboard",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Dashboard"})]}),u.jsxs(Ne,{to:"/guide",className:"nav-link",onClick:y,children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Hng dn"})]}),u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Ti khon"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Ne,{to:"/wallet",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Ne,{to:"/my-licenses",className:"dropdown-item",onClick:y,children:" License ca ti"}),u.jsx(Ne,{to:"/profile",className:"dropdown-item",onClick:y,children:" Lch s giao dch"})]})]}),r()&&u.jsxs("div",{className:"nav-dropdown",children:[u.jsxs("button",{className:"nav-link dropdown-trigger",children:[u.jsx("span",{className:"nav-icon",children:""}),u.jsx("span",{children:"Admin"}),u.jsx("span",{className:"dropdown-arrow",children:""})]}),u.jsxs("div",{className:"dropdown-menu",children:[u.jsx(Ne,{to:"/admin/users",className:"dropdown-item",onClick:y,children:" Users"}),u.jsx(Ne,{to:"/admin/licenses",className:"dropdown-item",onClick:y,children:" Keys"}),u.jsx(Ne,{to:"/admin/orders",className:"dropdown-item",onClick:y,children:" Giao dch"}),u.jsx(Ne,{to:"/admin/deposits",className:"dropdown-item",onClick:y,children:" Np tin"}),u.jsx(Ne,{to:"/admin/stats",className:"dropdown-item",onClick:y,children:" Thng k"}),u.jsx(Ne,{to:"/admin/settings",className:"dropdown-item",onClick:y,children:" Ci t"})]})]}),u.jsxs("div",{className:"nav-user",children:[u.jsx("span",{className:"user-name",children:e?.displayName||s.email}),u.jsx("button",{onClick:p,className:"btn-logout",children:"ng xut"})]})]}):u.jsxs(u.Fragment,{children:[u.jsx(Ne,{to:"/login",className:"nav-link",onClick:y,children:"ng nhp"}),u.jsx(Ne,{to:"/register",className:"btn-register",onClick:y,children:"ng k"})]})})]})})}function RS({title:s,description:e,keywords:n,image:r,url:l}){const c="PHP Tool",d="Tool t ng ng k v xc minh ti khon Facebook hng lot. H tr Hotmail, SMS, Gmail.";return V.useEffect(()=>{document.title=s?`${s} | ${c}`:`${c} - Tool Reg/Very Facebook`;const p=document.querySelector('meta[name="description"]');p&&p.setAttribute("content",e||d);const g=document.querySelector('meta[property="og:title"]'),y=document.querySelector('meta[property="og:description"]'),T=document.querySelector('meta[property="og:url"]'),b=document.querySelector('meta[property="og:image"]');g&&g.setAttribute("content",s?`${s} | ${c}`:c),y&&y.setAttribute("content",e||d),T&&l&&T.setAttribute("content",l),b&&r&&b.setAttribute("content",r);const S=document.querySelector('meta[property="twitter:title"]'),M=document.querySelector('meta[property="twitter:description"]');if(S&&S.setAttribute("content",s?`${s} | ${c}`:c),M&&M.setAttribute("content",e||d),n){let j=document.querySelector('meta[name="keywords"]');j&&j.setAttribute("content",n)}},[s,e,n,r,l]),null}const eD="/hero-visual.png",tD=[{id:"regfb",name:"Reg Facebook Tool",description:"Tool t ng ng k v verify ti khon Facebook hng lot",icon:"",features:["Reg & Verify t ng","H tr nhiu dch v mail/SMS","Bind HWID bo mt"],prices:{day:1e4,month:2e5,lifetime:6e5},status:"available",hot:!0},{id:"clonetk",name:"Clone TikTok Tool",description:"Cng c clone video TikTok, qun l nhiu ti khon",icon:"",features:["Clone video khng logo","Qun l multi accounts","Auto upload"],prices:{day:15e3,month:3e5,lifetime:8e5},status:"coming_soon"},{id:"seoyt",name:"YouTube SEO Tool",description:"Ti u SEO video YouTube, tng view v subscriber",icon:"",features:["Keyword research","Tag optimizer","Analytics dashboard"],prices:{day:2e4,month:4e5,lifetime:1e6},status:"coming_soon"}],nD=[{icon:"",color:"#e040fb",title:"Gi C Hp L",desc:"Tit kim chi ph khng ch t gi c, m cn t hiu sut lm vic cao m phn mm mang li"},{icon:"",color:"#ba68c8",title:"Cht Lng Phn Mm",desc:"Phn mm c xy dng vi tiu chun cht lng cao, m bo tnh n nh v kt qu ng tin cy"},{icon:"",color:"#9c27b0",title:"Cp Nht nh K",desc:"Lun cp nht vi cc tnh nng mi nht, m bo phn mm lun tng thch v hiu qu"},{icon:"",color:"#ab47bc",title:"Tc  V Hiu Sut Cao",desc:"Ti u ha hiu sut vi tc  x l nhanh chng, gip bn tit kim thi gian v tng nng sut"},{icon:"",color:"#ce93d8",title:"Giao Din D S Dng",desc:"Giao din phn mm d s dng v y  tnh nng, gip ngi dng d dng s dng v qun l"},{icon:"",color:"#e040fb",title:"i Ng H Tr",desc:"i ng h tr k thut chuyn nghip, sn sng gii p mi thc mc v h tr bn mi lc"}],Um=[{name:"Minh T***",avatar:"",content:"n nh, d dng, gi c ngon. Dng tt cho cng vic ca mnh!",rating:5},{name:"Hong V***",avatar:"",content:"Tool ngon, gi r, h tr tt. Mnh rt hi lng vi dch v ca PHP Tool!",rating:5},{name:"Nam N***",avatar:"",content:"Dch v tt, gi c hp l. Mnh rt hi lng vi PHP Tool!",rating:5},{name:"Tun A***",avatar:"",content:"PHP Tool gip ti tit kim hng gi lm vic mi ngy. Qu tuyt!",rating:5},{name:"c H***",avatar:"",content:"Reg acc t ng cc nhanh, chy 100% khng li. Recommend!",rating:5},{name:"Long P***",avatar:"",content:"Support tr li nhanh, fix bug trong vi pht. Rt chuyn nghip!",rating:5},{name:"Quang M***",avatar:"",content:"Giao din p, d s dng. Tool chy mt khng git lag!",rating:5},{name:"Kin T***",avatar:"",content:" dng nhiu tool khc nhng PHP Tool l n nh nht!",rating:5}];function MT(){const{currentUser:s}=ln(),e=V.useRef(null),[n,r]=V.useState(0);V.useEffect(()=>{const d=setInterval(()=>{r(p=>(p+1)%Um.length)},4e3);return()=>clearInterval(d)},[]);const l=d=>{d.preventDefault(),e.current?.scrollIntoView({behavior:"smooth",block:"start"})};function c(d){return new Intl.NumberFormat("vi-VN").format(d)}return u.jsxs("div",{className:"home-page",children:[u.jsx(RS,{title:"Trang ch",description:"PHP Tool - Cung cp Tool Reg/Very Facebook t ng hng lot. H tr Hotmail, SMS, Gmail. Giao din d s dng, gi r nht th trng.",keywords:"tool reg fb, tool very fb, reg facebook t ng, xc minh facebook, tool mmo, php tool"}),u.jsx(an,{}),u.jsxs("section",{className:"hero-section",children:[u.jsxs("div",{className:"hero-container",children:[u.jsxs("div",{className:"hero-content",children:[u.jsx("div",{className:"hero-badge",children:" Nn tng Tools MMO hng u"}),u.jsxs("h1",{className:"hero-title",children:[u.jsx("span",{className:"gradient-text",children:"PHP Tool"}),u.jsx("br",{}),"Gii Php MMO Chuyn Nghip"]}),u.jsx("p",{className:"hero-description",children:"Cung cp cc cng c t ng ha, phn mm MMO cht lng cao. H tr bn pht trin kinh doanh online hiu qu v bn vng."}),u.jsxs("div",{className:"hero-actions",children:[u.jsxs("a",{href:"#products",onClick:l,className:"btn-primary-lg",children:[u.jsx("span",{children:""})," Xem sn phm"]}),!s&&u.jsxs(Ne,{to:"/register",className:"btn-secondary-lg",children:[u.jsx("span",{children:""})," ng k min ph"]})]}),u.jsxs("div",{className:"hero-stats",children:[u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"500+"}),u.jsx("span",{className:"stat-label",children:"Khch hng"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"3+"}),u.jsx("span",{className:"stat-label",children:"Sn phm"})]}),u.jsxs("div",{className:"stat",children:[u.jsx("span",{className:"stat-number",children:"24/7"}),u.jsx("span",{className:"stat-label",children:"H tr"})]})]})]}),u.jsx("div",{className:"hero-visual",children:u.jsx("img",{src:eD,alt:"PHP Tool",className:"hero-image"})})]}),u.jsxs("div",{className:"hero-decoration",children:[u.jsx("div",{className:"deco-circle deco-1"}),u.jsx("div",{className:"deco-circle deco-2"}),u.jsx("div",{className:"deco-circle deco-3"})]})]}),u.jsx("section",{className:"why-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"TI SAO NN CHN PHP TOOL"})}),u.jsx("div",{className:"why-grid",children:nD.map((d,p)=>u.jsxs("div",{className:"why-card",children:[u.jsx("div",{className:"why-number",children:p+1}),u.jsx("div",{className:"why-icon",style:{background:`${d.color}20`,color:d.color},children:d.icon}),u.jsx("h3",{children:d.title}),u.jsx("p",{children:d.desc})]},p))})]})}),u.jsx("section",{className:"products-section",id:"products",ref:e,children:u.jsxs("div",{className:"section-container",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" SN PHM CA CHNG TI"}),u.jsx("p",{children:"Cc cng c MMO cht lng cao"})]}),u.jsx("div",{className:"products-grid",children:tD.map(d=>u.jsxs("div",{className:`product-card ${d.status}`,children:[d.hot&&u.jsx("div",{className:"hot-badge",children:" HOT"}),d.status==="coming_soon"&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"}),u.jsx("div",{className:"product-icon",children:d.icon}),u.jsx("h3",{className:"product-name",children:d.name}),u.jsx("p",{className:"product-desc",children:d.description}),u.jsx("ul",{className:"product-features",children:d.features.map((p,g)=>u.jsxs("li",{children:[" ",p]},g))}),u.jsxs("div",{className:"product-pricing",children:[u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 ngy"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.day),""]})]}),u.jsxs("div",{className:"price-item",children:[u.jsx("span",{className:"price-label",children:"1 thng"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.month),""]})]}),u.jsxs("div",{className:"price-item highlight",children:[u.jsx("span",{className:"price-label",children:"Vnh vin"}),u.jsxs("span",{className:"price-value",children:[c(d.prices.lifetime),""]})]})]}),d.status==="available"?u.jsx(Ne,{to:`/buy/${d.id}`,className:"btn-buy-product",children:"Mua ngay"}):u.jsx("button",{className:"btn-coming-soon",disabled:!0,children:"Sp ra mt"})]},d.id))})]})}),u.jsx("section",{className:"testimonials-section",children:u.jsxs("div",{className:"section-container",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:"FEEDBACK KHCH HNG"})}),u.jsx("div",{className:"testimonials-slider",style:{transform:`translateX(-${n*(100/4+1.5)}%)`},children:[...Um,...Um.slice(0,4)].map((d,p)=>u.jsxs("div",{className:"testimonial-card",children:[u.jsx("div",{className:"testimonial-avatar",children:d.avatar}),u.jsx("h4",{className:"testimonial-name",children:d.name}),u.jsxs("p",{className:"testimonial-content",children:['"',d.content,'"']}),u.jsx("div",{className:"testimonial-rating",children:"".repeat(d.rating)})]},p))})]})}),u.jsx("section",{className:"contact-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"contact-content",children:[u.jsxs("div",{className:"contact-info",children:[u.jsx("h2",{children:" LIN H VI CHNG TI"}),u.jsx("p",{children:"C thc mc? Lin h ngay  c h tr!"})]}),u.jsx("div",{className:"contact-buttons",children:u.jsxs("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",className:"btn-telegram",children:[u.jsx("svg",{viewBox:"0 0 24 24",width:"24",height:"24",fill:"currentColor",children:u.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})}),"Telegram"]})})]})})}),u.jsx("section",{className:"cta-section",children:u.jsx("div",{className:"section-container",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{children:" ng k ngay - Nhn 1 ngy dng th MIN PH!"}),u.jsx("p",{children:"To ti khon  tri nghim cc cng c ca chng ti"}),s?u.jsx(Ne,{to:"/dashboard",className:"btn-cta",children:"Vo Dashboard"}):u.jsx(Ne,{to:"/register",className:"btn-cta",children:"ng k min ph"})]})})}),u.jsx("footer",{className:"footer",children:u.jsxs("div",{className:"footer-container",children:[u.jsxs("div",{className:"footer-brand",children:[u.jsx("img",{src:NS,alt:"PHP Tool",className:"footer-logo-img"}),u.jsx("span",{className:"footer-name",children:"PHP Tool"})]}),u.jsxs("div",{className:"footer-links",children:[u.jsx("a",{href:"#",children:"iu khon"}),u.jsx("a",{href:"#",children:"Chnh sch"}),u.jsx("a",{href:"https://t.me/phptoolvip",target:"_blank",rel:"noopener noreferrer",children:"Telegram"})]}),u.jsx("div",{className:"footer-copyright",children:" 2024 PHP Tool. All rights reserved."})]})})]})}function iD(s=5,e=6e4,n=3e5){const[r,l]=V.useState([]),[c,d]=V.useState(!1),[p,g]=V.useState(null),y=V.useCallback(()=>{const S=Date.now();if(p&&S<p)return{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil((p-S)/1e3)} giy.`};if(p&&S>=p&&(d(!1),g(null),l([])),r.filter(j=>S-j<e).length>=s){const j=S+n;return d(!0),g(j),{allowed:!1,message:`Qu nhiu ln th! Vui lng i ${Math.ceil(n/1e3)} giy.`}}return{allowed:!0}},[r,p,s,e,n]),T=V.useCallback(()=>{l(S=>[...S,Date.now()])},[]),b=V.useCallback(()=>{const S=Date.now(),M=r.filter(j=>S-j<e);return Math.max(0,s-M.length)},[r,s,e]);return{checkRateLimit:y,recordAttempt:T,getRemainingAttempts:b,isBlocked:c}}function sD(){const[s,e]=V.useState(""),n=V.useCallback(()=>s.length>0,[s]),r=V.useCallback(()=>u.jsx("input",{type:"text",name:"website_url",value:s,onChange:l=>e(l.target.value),autoComplete:"off",tabIndex:-1,style:{position:"absolute",left:"-9999px",opacity:0,height:0,width:0,zIndex:-1},"aria-hidden":"true"}),[s]);return{isBot:n,HoneypotField:r,honeypotValue:s}}function Eg(s={}){const{maxAttempts:e=5,windowMs:n=6e4,cooldownMs:r=3e5}=s,l=iD(e,n,r),c=sD();return{validateSubmission:V.useCallback(()=>{if(c.isBot())return console.warn("Bot detected via honeypot"),{valid:!1,error:"C li xy ra. Vui lng th li sau."};const p=l.checkRateLimit();return p.allowed?{valid:!0}:{valid:!1,error:p.message}},[c,l]),recordAttempt:l.recordAttempt,HoneypotField:c.HoneypotField,isBlocked:l.isBlocked,getRemainingAttempts:l.getRemainingAttempts}}function rD(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(!1),[T,b]=V.useState(!1),{login:S}=ln(),M=Nl(),{validateSubmission:j,recordAttempt:C}=Eg({maxAttempts:5,windowMs:6e4,cooldownMs:3e5});async function D(W){W.preventDefault();const te=j();if(!te.valid){c(te.error);return}C();try{c(""),y(!0),await S(s,n),M("/dashboard")}catch(z){console.error(z),z.code==="auth/user-not-found"?c("Ti khon khng tn ti"):z.code==="auth/wrong-password"?c("Mt khu khng ng"):z.code==="auth/invalid-credential"?c("Email hoc mt khu khng ng"):c("ng nhp tht bi. Vui lng th li!")}y(!1)}async function Y(W){if(W.preventDefault(),!s)return c("Vui lng nhp email!");const te=j();if(!te.valid){c(te.error);return}C();try{c(""),p(""),y(!0),await bR(Wo,s),p("Nu email ny  ng k, bn s nhn c link t li mt khu trong hp th."),b(!1)}catch(z){console.error(z),z.code==="auth/user-not-found"||z.code==="auth/invalid-email"?c("Email ny cha ng k ti khon!"):z.code==="auth/too-many-requests"?c("Qu nhiu yu cu! Vui lng th li sau."):c("Gi email tht bi. Vui lng th li!")}y(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:T?"":""}),u.jsx("h1",{children:T?"Qun Mt Khu":"ng Nhp"}),u.jsx("p",{children:T?"Nhp email  nhn link t li mt khu":"Cho mng bn quay tr li!"})]}),l&&u.jsx("div",{className:"alert alert-error",children:l}),d&&u.jsx("div",{className:"alert alert-success",children:d}),T?u.jsxs("form",{onSubmit:Y,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"Gi Email t Li"}),u.jsx("button",{type:"button",className:"btn-text",onClick:()=>{b(!1),c("")},children:" Quay li ng nhp"})]}):u.jsxs("form",{onSubmit:D,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:s,onChange:W=>e(W.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:n,onChange:W=>r(W.target.value),placeholder:"",required:!0})]})]}),u.jsx("button",{type:"button",className:"btn-forgot",onClick:()=>{b(!0),c(""),p("")},children:"Qun mt khu?"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:g,children:g?u.jsx("span",{className:"loading-spinner"}):"ng Nhp"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:["Cha c ti khon?"," ",u.jsx(Ne,{to:"/register",className:"auth-link",children:"ng k ngay"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}function aD(){const[s,e]=V.useState(""),[n,r]=V.useState(""),[l,c]=V.useState(""),[d,p]=V.useState(""),[g,y]=V.useState(""),[T,b]=V.useState(!1),{signup:S}=ln(),M=Nl(),{validateSubmission:j,recordAttempt:C}=Eg({maxAttempts:3,windowMs:6e4,cooldownMs:6e5});async function D(Y){Y.preventDefault();const W=j();if(!W.valid){y(W.error);return}if(l!==d)return y("Mt khu xc nhn khng khp!");if(l.length<6)return y("Mt khu phi c t nht 6 k t!");C();try{y(""),b(!0),await S(n,l,s),M("/dashboard")}catch(te){console.error(te),te.code==="auth/email-already-in-use"?y("Email ny  c s dng!"):te.code==="auth/weak-password"?y("Mt khu qu yu!"):te.code==="auth/invalid-email"?y("Email khng hp l!"):y("ng k tht bi. Vui lng th li!")}b(!1)}return u.jsx("div",{className:"auth-page",children:u.jsxs("div",{className:"auth-container",children:[u.jsxs("div",{className:"auth-card",children:[u.jsxs("div",{className:"auth-header",children:[u.jsx("div",{className:"auth-icon",children:""}),u.jsx("h1",{children:"ng K"}),u.jsx("p",{children:"To ti khon v nhn 1 ngy dng th min ph!"})]}),g&&u.jsx("div",{className:"alert alert-error",children:g}),u.jsxs("form",{onSubmit:D,className:"auth-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"displayName",children:"Tn hin th"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"text",id:"displayName",value:s,onChange:Y=>e(Y.target.value),placeholder:"Nguyen Van A",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"email",children:"Email"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"email",id:"email",value:n,onChange:Y=>r(Y.target.value),placeholder:"your@email.com",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"password",value:l,onChange:Y=>c(Y.target.value),placeholder:"t nht 6 k t",required:!0})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"confirmPassword",children:"Xc nhn mt khu"}),u.jsxs("div",{className:"input-wrapper",children:[u.jsx("span",{className:"input-icon",children:""}),u.jsx("input",{type:"password",id:"confirmPassword",value:d,onChange:Y=>p(Y.target.value),placeholder:"Nhp li mt khu",required:!0})]})]}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:T,children:T?u.jsx("span",{className:"loading-spinner"}):"ng K"})]}),u.jsx("div",{className:"auth-footer",children:u.jsxs("p",{children:[" c ti khon?"," ",u.jsx(Ne,{to:"/login",className:"auth-link",children:"ng nhp"})]})})]}),u.jsxs("div",{className:"auth-decoration",children:[u.jsx("div",{className:"decoration-circle circle-1"}),u.jsx("div",{className:"decoration-circle circle-2"}),u.jsx("div",{className:"decoration-circle circle-3"})]})]})})}const lD=[{id:"regfb",name:"Reg Facebook Tool",icon:"",priceRange:"10k - 600k"},{id:"clonetk",name:"Clone TikTok Tool",icon:"",priceRange:"15k - 800k",comingSoon:!0},{id:"seoyt",name:"YouTube SEO Tool",icon:"",priceRange:"20k - 1tr",comingSoon:!0}];function oD(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState([]),[d,p]=V.useState(!0),[g,y]=V.useState(null);V.useEffect(()=>{async function j(){if(s){try{const D=Gi(Mt(Oe,"licenses"),bl("userId","==",s.uid));let W=(await jn(D)).docs.map(le=>({id:le.id,...le.data()}));W.sort((le,R)=>{const x=le.createdAt?.toDate?.()||new Date(0);return(R.createdAt?.toDate?.()||new Date(0))-x}),console.log("Dashboard licenses:",W),r(W);const te=Gi(Mt(Oe,"transactions"),bl("userId","==",s.uid));let ce=(await jn(te)).docs.map(le=>({id:le.id,...le.data()}));ce.sort((le,R)=>{const x=le.createdAt?.toDate?.()||new Date(0);return(R.createdAt?.toDate?.()||new Date(0))-x}),ce=ce.slice(0,5),console.log("Dashboard transactions:",ce),c(ce)}catch(D){console.error("Error fetching data:",D),alert("Li ti d liu: "+D.message)}p(!1)}}async function C(){try{const D=Tt(Oe,"settings","software"),Y=await vd(D);Y.exists()&&y(Y.data())}catch(D){console.error("Error fetching software info:",D)}}j(),C()},[s]);function T(j){return new Intl.NumberFormat("vi-VN").format(j)}function b(j){return n.find(C=>C.productId===j&&C.status==="active")}function S(j){if(!j)return{text:"Cha mua",class:"status-none"};if(j.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(j.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(j.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const C=new Date,D=j.expiresAt?.toDate?.()||new Date(j.expiresAt);if(C>=D)return{text:"Ht hn",class:"status-expired"};const Y=D-C,W=Math.floor(Y/(1e3*60*60*24));return W<=3?{text:`Cn ${W} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}const M=e?.balance||0;return u.jsxs("div",{className:"dashboard-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"dashboard-container",children:[u.jsxs("div",{className:"dashboard-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsxs("h1",{children:["Xin cho, ",e?.displayName||"User","! "]}),u.jsx("p",{children:"Qun l license v ti khon ca bn"})]}),u.jsxs("div",{className:"balance-card",children:[u.jsx("div",{className:"balance-label",children:"S d ti khon"}),u.jsxs("div",{className:"balance-amount",children:[T(M),""]}),u.jsxs(Ne,{to:"/wallet",className:"btn-deposit",children:[u.jsx("span",{children:""})," Np tin"]})]})]}),u.jsxs("div",{className:"download-guide-section",children:[g?.downloadUrl&&u.jsxs("a",{href:g.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"download-card-dash",children:[u.jsx("div",{className:"download-card-icon",children:""}),u.jsxs("div",{className:"download-card-content",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version ",g.version||"1.0.0"]})]}),u.jsx("span",{className:"download-arrow",children:""})]}),u.jsxs(Ne,{to:"/guide",className:"guide-card-dash",children:[u.jsx("div",{className:"guide-card-icon",children:""}),u.jsxs("div",{className:"guide-card-content",children:[u.jsx("h3",{children:"Hng dn s dng"}),u.jsx("p",{children:"Xem ti liu chi tit"})]}),u.jsx("span",{className:"guide-arrow",children:""})]})]}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:n.filter(j=>j.status==="active").length}),u.jsx("div",{className:"stat-label",children:"License ang hot ng"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsxs("div",{className:"stat-value",children:[T(M),""]}),u.jsx("div",{className:"stat-label",children:"S d"})]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-info",children:[u.jsx("div",{className:"stat-value",children:l.length}),u.jsx("div",{className:"stat-label",children:"Giao dch gn y"})]})]})]}),u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Sn phm"}),u.jsx(Ne,{to:"/buy",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"products-grid",children:lD.map(j=>{const C=b(j.id),D=S(C);return u.jsxs("div",{className:`product-card ${j.comingSoon?"coming-soon":""}`,children:[u.jsx("div",{className:"product-icon",children:j.icon}),u.jsxs("div",{className:"product-info",children:[u.jsx("h3",{children:j.name}),C&&u.jsx("span",{className:`license-status ${D.class}`,children:D.text})]}),j.comingSoon?u.jsx("button",{className:"btn-coming",disabled:!0,children:"Sp ra mt"}):C?u.jsx(Ne,{to:"/my-licenses",className:"btn-manage",children:"Qun l"}):u.jsx(Ne,{to:`/buy/${j.id}`,className:"btn-buy",children:"Mua ngay"})]},j.id)})})]}),u.jsxs("section",{className:"section",children:[u.jsx("div",{className:"section-header",children:u.jsx("h2",{children:" Thao tc nhanh"})}),u.jsxs("div",{className:"actions-grid",children:[u.jsxs(Ne,{to:"/wallet",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Np tin"})]}),u.jsxs(Ne,{to:"/my-licenses",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"License ca ti"})]}),u.jsxs(Ne,{to:"/profile",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Lch s giao dch"})]}),u.jsxs(Ne,{to:"/buy",className:"action-card",children:[u.jsx("span",{className:"action-icon",children:""}),u.jsx("span",{className:"action-text",children:"Mua license"})]})]})]}),l.length>0&&u.jsxs("section",{className:"section",children:[u.jsxs("div",{className:"section-header",children:[u.jsx("h2",{children:" Giao dch gn y"}),u.jsx(Ne,{to:"/profile",className:"link-all",children:"Xem tt c "})]}),u.jsx("div",{className:"transactions-list",children:l.map(j=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:j.type==="deposit"?"":j.type==="license_purchase"?"":""}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-desc",children:j.description}),u.jsx("div",{className:"tx-date",children:j.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${j.amount>=0?"positive":"negative"}`,children:[j.amount>=0?"+":"",T(j.amount),""]})]},j.id))})]}),d&&u.jsx("div",{className:"loading-overlay",children:u.jsx("div",{className:"loading-spinner"})})]})]})}function cD(){const{currentUser:s}=ln(),[e,n]=V.useState(0),[r,l]=V.useState([]),[c,d]=V.useState(!0),[p,g]=V.useState(""),[y,T]=V.useState(!1),[b,S]=V.useState(null),[M,j]=V.useState(""),C={bankId:"MB",accountNo:"1444488888888",accountName:"PHAM HAI PHU",template:"compact2"};V.useEffect(()=>{if(!s)return;const z=OT(Tt(Oe,"users",s.uid),ce=>{ce.exists()&&n(ce.data().balance||0)});return()=>z()},[s]),V.useEffect(()=>{if(!s)return;const z=Gi(Mt(Oe,"deposits"),bl("userId","==",s.uid)),ce=OT(z,le=>{let R=le.docs.map(x=>({id:x.id,...x.data()}));if(R.sort((x,N)=>{const L=x.createdAt?.toDate?.()||new Date(0);return(N.createdAt?.toDate?.()||new Date(0))-L}),b&&y){const x=R.find(N=>N.orderId===b.orderId);x&&x.status==="completed"&&(j(` Np tin thnh cng! +${new Intl.NumberFormat("vi-VN").format(x.actualAmount||x.amount)}`),T(!1),S(null),setTimeout(()=>j(""),5e3))}l(R),d(!1)});return()=>ce()},[s,b,y]);function D(z){return new Intl.NumberFormat("vi-VN").format(z)}function Y(){const z=Date.now().toString(36).toUpperCase(),ce=Math.random().toString(36).substring(2,6).toUpperCase();return`NAP${z}${ce}`}async function W(){const z=parseInt(p);if(!z||z<1e4){alert("S tin np ti thiu l 10,000");return}if(r.filter(le=>le.status==="pending").length>=3){alert("Bn  c 3 yu cu np tin ang ch x l. Vui lng i admin xc nhn trc khi to yu cu mi.");return}try{const le=Y(),R={userId:s.uid,userEmail:s.email,amount:z,orderId:le,status:"pending",createdAt:hi()};await Sl(Mt(Oe,"deposits"),R),S({...R,amount:z}),T(!0)}catch(le){console.error("Error creating deposit:",le),alert("C li xy ra. Vui lng th li!")}}function te(){if(!b)return"";const{bankId:z,accountNo:ce,template:le,accountName:R}=C;return`https://qr.sepay.vn/img?bank=${z}&acc=${ce}&template=${le}&amount=${b.amount}&des=${b.orderId}&accountName=${encodeURIComponent(R)}`}return u.jsxs("div",{className:"wallet-page",children:[u.jsx(an,{}),M&&u.jsx("div",{className:"success-toast",children:M}),u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Np tin"})]}),u.jsx("div",{className:"balance-section",children:u.jsxs("div",{className:"balance-display",children:[u.jsx("span",{className:"balance-label",children:"S d hin ti"}),u.jsxs("span",{className:"balance-amount",children:[D(e),""]})]})}),y?u.jsxs("div",{className:"qr-section",children:[u.jsx("h2",{children:"Qut m QR  thanh ton"}),u.jsxs("div",{className:"qr-card",children:[u.jsx("img",{src:te(),alt:"QR Code",className:"qr-image"}),u.jsxs("div",{className:"payment-info",children:[u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ngn hng:"}),u.jsx("span",{className:"value",children:"MB Bank"})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"S ti khon:"}),u.jsx("span",{className:"value",children:C.accountNo})]}),u.jsxs("div",{className:"info-row",children:[u.jsx("span",{className:"label",children:"Ch ti khon:"}),u.jsx("span",{className:"value",children:C.accountName})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value",children:[D(b?.amount||0),""]})]}),u.jsxs("div",{className:"info-row highlight",children:[u.jsx("span",{className:"label",children:"Ni dung CK:"}),u.jsx("span",{className:"value code",children:b?.orderId})]})]}),u.jsxs("div",{className:"warning-box",children:[" Vui lng chuyn ",u.jsx("strong",{children:"ng s tin"})," v ",u.jsx("strong",{children:"ng ni dung"}),"  c cng tin t ng!"]})]}),u.jsx("button",{className:"btn-back",onClick:()=>{T(!1),S(null)},children:" Quay li"})]}):u.jsxs("div",{className:"deposit-form-section",children:[u.jsx("h2",{children:"Chn s tin np"}),u.jsx("div",{className:"amount-presets",children:[5e4,1e5,2e5,5e5,1e6].map(z=>u.jsxs("button",{className:`preset-btn ${p===z.toString()?"active":""}`,onClick:()=>g(z.toString()),children:[D(z),""]},z))}),u.jsxs("div",{className:"custom-amount",children:[u.jsx("label",{children:"Hoc nhp s tin khc:"}),u.jsxs("div",{className:"input-group",children:[u.jsx("input",{type:"number",value:p,onChange:z=>g(z.target.value),placeholder:"Nhp s tin",min:"10000"}),u.jsx("span",{className:"currency",children:""})]})]}),u.jsx("button",{className:"btn-create-deposit",onClick:W,disabled:!p||parseInt(p)<1e4,children:"To lnh np tin"})]}),u.jsxs("div",{className:"history-section",children:[u.jsx("h2",{children:" Lch s np tin"}),c?u.jsx("div",{className:"loading",children:"ang ti..."}):r.length===0?u.jsx("p",{className:"empty-text",children:"Cha c lch s np tin"}):u.jsx("div",{className:"deposits-list",children:r.map(z=>u.jsxs("div",{className:"deposit-item",children:[u.jsxs("div",{className:"deposit-info",children:[u.jsx("div",{className:"deposit-id",children:z.orderId}),u.jsx("div",{className:"deposit-date",children:z.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"deposit-amount",children:["+",D(z.amount),""]}),u.jsx("div",{className:`deposit-status status-${z.status}`,children:z.status==="completed"?" Thnh cng":z.status==="rejected"?" T chi":" ang ch"})]},z.id))})]})]})]})}const zm={regfb:{"1_month":{name:"1 Thng",price:2e5,days:30},"1_year":{name:"1 Nm",price:5e5,days:365}},clonetk:{"1_month":{name:"1 Thng",price:3e5,days:30},"1_year":{name:"1 Nm",price:7e5,days:365}},seoyt:{"1_month":{name:"1 Thng",price:4e5,days:30},"1_year":{name:"1 Nm",price:9e5,days:365}}};function uD(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState(null),[g,y]=V.useState({}),[T,b]=V.useState(null),[S,M]=V.useState(null),[j,C]=V.useState(null),[D,Y]=V.useState(null),[W,te]=V.useState("1_month"),[z,ce]=V.useState(!1);V.useEffect(()=>{if(j){const re=setTimeout(()=>C(null),5e3);return()=>clearTimeout(re)}},[j]),V.useEffect(()=>{async function re(){if(s){try{const K=Gi(Mt(Oe,"licenses"),bl("userId","==",s.uid));let me=(await jn(K)).docs.map(Te=>({id:Te.id,...Te.data(),licenseKey:Te.data().licenseKey||Te.data().key}));me.sort((Te,Me)=>{const P=Te.createdAt?.toDate?.()||new Date(0);return(Me.createdAt?.toDate?.()||new Date(0))-P}),console.log("MyLicenses fetched:",me),r(me)}catch(K){console.error("Error fetching licenses:",K),alert("Li ti licenses: "+K.message)}c(!1)}}async function ye(){try{const K=Tt(Oe,"settings","software"),ae=await vd(K);ae.exists()&&M(ae.data())}catch(K){console.error("Error fetching software info:",K)}}re(),ye()},[s]);function le(re){return new Intl.NumberFormat("vi-VN").format(re)}function R(re){if(re.status==="revoked")return{text:" thu hi",class:"status-revoked"};if(re.plan==="lifetime")return{text:"Vnh vin",class:"status-lifetime"};if(re.plan==="daily")return{text:"Theo ngy",class:"status-daily"};const ye=new Date,K=re.expiresAt?.toDate?.()||new Date(re.expiresAt);if(ye>=K)return{text:"Ht hn",class:"status-expired"};const ae=K-ye,me=Math.floor(ae/(1e3*60*60*24));return me<=3?{text:`Cn ${me} ngy`,class:"status-warning"}:{text:"ang hot ng",class:"status-active"}}function x(re){return{regfb:"Reg Facebook Tool",clonetk:"Clone TikTok Tool",seoyt:"YouTube SEO Tool"}[re]||re}function N(re){return{daily:"Theo ngy",monthly:"1 thng",yearly:"1 nm",lifetime:"Vnh vin"}[re]||re}function L(re){navigator.clipboard.writeText(re),alert(" copy!")}async function k(re){b(re);try{await ui(Tt(Oe,"licenses",re),{hwid:null,hwidResetRequested:!1}),r(ye=>ye.map(K=>K.id===re?{...K,hwid:null,hwidResetRequested:!1}:K))}catch(ye){console.error("Error resetting HWID:",ye)}b(null)}async function B(re){const ye=g[re]?.trim();if(!ye||ye.length<20){C({type:"error",message:"HWID khng hp l! Vui lng nhp ng HWID t tool."});return}b(re);try{const K=Gi(Mt(Oe,"licenses"),bl("hwid","==",ye)),me=(await jn(K)).docs.find(Te=>Te.id!==re);if(me){const Te=me.data();C({type:"error",message:`HWID ny  c ng k bi ti khon khc (${Te.userEmail||"unknown"})! Mi HWID ch c th kch hot 1 license.`}),b(null);return}await ui(Tt(Oe,"licenses",re),{hwid:ye,status:"active",activatedAt:new Date}),r(Te=>Te.map(Me=>Me.id===re?{...Me,hwid:ye,status:"active"}:Me)),y(Te=>({...Te,[re]:""})),C({type:"success",message:"Kch hot license thnh cng! Vui lng khi ng li tool  s dng."})}catch(K){console.error("Error saving HWID:",K),C({type:"error",message:"Li kch hot: "+K.message})}b(null)}async function I(){if(!D||!s)return;const re=zm[D.productId];if(!re){C({type:"error",message:"Khng tm thy gi gia hn cho sn phm ny!"});return}const ye=re[W];if(!ye){C({type:"error",message:"Vui lng chn gi gia hn!"});return}const K=e?.balance||0;if(K<ye.price){C({type:"error",message:`S d khng ! Cn ${le(ye.price)}, hin c ${le(K)}`});return}ce(!0);try{let ae;const me=D.expiresAt?.toDate?.()||new Date(D.expiresAt);me>new Date?(ae=new Date(me),ae.setDate(ae.getDate()+ye.days)):(ae=new Date,ae.setDate(ae.getDate()+ye.days)),await ui(Tt(Oe,"licenses",D.id),{expiresAt:ae,status:"active",renewedAt:hi()}),await ui(Tt(Oe,"users",s.uid),{balance:_g(-ye.price)}),await Sl(Mt(Oe,"transactions"),{userId:s.uid,userEmail:s.email,type:"renewal",amount:-ye.price,description:`Gia hn ${x(D.productId)} - ${ye.name}`,licenseId:D.id,createdAt:hi()}),r(Me=>Me.map(P=>P.id===D.id?{...P,expiresAt:ae,status:"active"}:P)),C({type:"success",message:`Gia hn thnh cng! License mi ht hn: ${ae.toLocaleDateString("vi-VN")}`}),Y(null)}catch(ae){console.error("Error renewing license:",ae),C({type:"error",message:"Li gia hn: "+ae.message})}ce(!1)}return u.jsxs("div",{className:"licenses-page",children:[u.jsx(an,{}),j&&u.jsxs("div",{className:`toast toast-${j.type}`,children:[u.jsx("span",{className:"toast-icon",children:j.type==="success"?"":""}),u.jsx("span",{className:"toast-message",children:j.message}),u.jsx("button",{className:"toast-close",onClick:()=>C(null),children:""})]}),u.jsxs("div",{className:"licenses-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" License ca ti"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):n.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h2",{children:"Cha c license no"}),u.jsx("p",{children:"Mua license  bt u s dng cc cng c ca chng ti!"}),u.jsx(Ne,{to:"/buy",className:"btn-buy",children:" Mua license ngay"})]}):u.jsxs(u.Fragment,{children:[S?.downloadUrl&&n.some(re=>re.status==="active")&&u.jsxs("div",{className:"download-section",children:[u.jsxs("div",{className:"download-card",children:[u.jsx("div",{className:"download-icon",children:""}),u.jsxs("div",{className:"download-info",children:[u.jsx("h3",{children:"Ti phn mm"}),u.jsxs("p",{children:["Version: ",u.jsx("strong",{children:S.version||"1.0.0"})]})]}),u.jsx("a",{href:S.downloadUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-download",children:" Ti xung"})]}),S.changelog&&u.jsxs("details",{className:"changelog",children:[u.jsx("summary",{children:" Changelog"}),u.jsx("pre",{children:S.changelog})]})]}),u.jsx("div",{className:"licenses-grid",children:n.map(re=>{const ye=R(re);return u.jsxs("div",{className:"license-card",children:[u.jsxs("div",{className:"license-header",children:[u.jsx("h3",{children:x(re.productId)}),u.jsx("span",{className:`license-status ${ye.class}`,children:ye.text})]}),u.jsxs("div",{className:"license-body",children:[u.jsxs("div",{className:"license-key-section",children:[u.jsx("label",{children:"License Key:"}),u.jsxs("div",{className:"key-display",children:[u.jsx("code",{children:re.licenseKey}),u.jsx("button",{className:"btn-copy",onClick:()=>L(re.licenseKey),children:""})]})]}),u.jsxs("div",{className:"license-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsx("span",{className:"value",children:N(re.plan)})]}),re.expiresAt&&re.plan!=="daily"&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:re.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),re.hwid?u.jsxs("span",{className:"value hwid",title:re.hwid,children:[re.hwid.substring(0,20),"..."]}):u.jsx("span",{className:"value hwid-pending",children:"Cha kch hot"})]})]}),!re.hwid&&re.status!=="revoked"&&u.jsxs("div",{className:"hwid-activation-section",children:[u.jsx("p",{className:"hwid-instruction",children:" M tool  Copy HWID  Paste vo y  kch hot:"}),u.jsxs("div",{className:"hwid-input-group",children:[u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:g[re.id]||"",onChange:K=>y(ae=>({...ae,[re.id]:K.target.value})),className:"hwid-input"}),u.jsxs("button",{className:"btn-activate",onClick:()=>B(re.id),disabled:T===re.id,children:[T===re.id?"":""," Kch hot"]})]})]}),re.hwid&&re.status==="active"&&u.jsxs("button",{className:"btn-reset-hwid",onClick:()=>k(re.id),disabled:T===re.id,children:[T===re.id?"":""," i my"]}),re.plan!=="lifetime"&&re.plan!=="daily"&&re.status!=="revoked"&&u.jsx("button",{className:"btn-renew",onClick:()=>{Y(re),te("1_month")},children:" Gia hn"})]}),u.jsx("div",{className:"license-footer",children:u.jsxs("span",{className:"created-date",children:["Mua ngy: ",re.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})})]},re.id)})})]})]}),D&&u.jsx("div",{className:"modal-overlay",onClick:()=>Y(null),children:u.jsxs("div",{className:"renew-modal",onClick:re=>re.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" Gia hn License"}),u.jsx("button",{className:"modal-close",onClick:()=>Y(null),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"renew-info",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",x(D.productId)]}),u.jsxs("p",{children:[u.jsx("strong",{children:"License:"})," ",D.licenseKey]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Ht hn:"})," ",D.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"renew-options",children:[u.jsx("h3",{children:"Chn gi gia hn:"}),zm[D.productId]&&Object.entries(zm[D.productId]).map(([re,ye])=>u.jsxs("label",{className:`renew-option ${W===re?"selected":""}`,children:[u.jsx("input",{type:"radio",name:"renewPlan",value:re,checked:W===re,onChange:()=>te(re)}),u.jsx("span",{className:"option-name",children:ye.name}),u.jsxs("span",{className:"option-price",children:[le(ye.price),""]})]},re))]}),u.jsxs("div",{className:"renew-balance",children:[u.jsx("span",{children:"S d hin ti:"}),u.jsxs("span",{className:"balance-amount",children:[le(e?.balance||0),""]})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>Y(null),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:I,disabled:z,children:z?" ang x l...":" Xc nhn gia hn"})]})]})})]})}function hD(){const{currentUser:s,userProfile:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all");V.useEffect(()=>{async function j(){if(s){try{const C=Gi(Mt(Oe,"transactions"),bl("userId","==",s.uid));let Y=(await jn(C)).docs.map(W=>({id:W.id,...W.data()}));Y.sort((W,te)=>{const z=W.createdAt?.toDate?.()||new Date(0);return(te.createdAt?.toDate?.()||new Date(0))-z}),console.log("Transactions fetched:",Y),r(Y)}catch(C){console.error("Error fetching transactions:",C),alert("Li ti giao dch: "+C.message)}c(!1)}}j()},[s]);function g(j){return new Intl.NumberFormat("vi-VN").format(j)}function y(){return d==="all"?n:n.filter(j=>j.type===d)}function T(j){switch(j){case"deposit":return"";case"license_purchase":return"";case"daily_deduct":return"";default:return""}}function b(j){switch(j){case"deposit":return"Np tin";case"license_purchase":return"Mua license";case"daily_deduct":return"Tr ngy";default:return j}}const S=e?.balance||0,M=y();return u.jsxs("div",{className:"profile-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"profile-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Thng tin ti khon"})]}),u.jsxs("div",{className:"user-info-card",children:[u.jsx("div",{className:"avatar",children:u.jsx("span",{children:e?.displayName?.[0]?.toUpperCase()||"?"})}),u.jsxs("div",{className:"user-details",children:[u.jsx("h2",{children:e?.displayName||"User"}),u.jsx("p",{className:"email",children:s?.email}),u.jsxs("p",{className:"member-since",children:["Thnh vin t: ",e?.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"N/A"]})]}),u.jsxs("div",{className:"balance-section",children:[u.jsx("div",{className:"balance-label",children:"S d"}),u.jsxs("div",{className:"balance-amount",children:[g(S),""]}),u.jsx(Ne,{to:"/wallet",className:"btn-deposit",children:"Np tin"})]})]}),u.jsxs("div",{className:"transactions-section",children:[u.jsx("h2",{children:" Lch s giao dch"}),u.jsxs("div",{className:"tabs",children:[u.jsx("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:"Tt c"}),u.jsx("button",{className:`tab ${d==="deposit"?"active":""}`,onClick:()=>p("deposit"),children:"Np tin"}),u.jsx("button",{className:`tab ${d==="license_purchase"?"active":""}`,onClick:()=>p("license_purchase"),children:"Mua license"}),u.jsx("button",{className:`tab ${d==="daily_deduct"?"active":""}`,onClick:()=>p("daily_deduct"),children:"Tr ngy"})]}),l?u.jsx("div",{className:"loading",children:"ang ti..."}):M.length===0?u.jsx("div",{className:"empty-text",children:"Cha c giao dch no"}):u.jsx("div",{className:"transactions-list",children:M.map(j=>u.jsxs("div",{className:"transaction-item",children:[u.jsx("div",{className:"tx-icon",children:T(j.type)}),u.jsxs("div",{className:"tx-info",children:[u.jsx("div",{className:"tx-type",children:b(j.type)}),u.jsx("div",{className:"tx-desc",children:j.description}),u.jsx("div",{className:"tx-date",children:j.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]}),u.jsxs("div",{className:`tx-amount ${j.amount>=0?"positive":"negative"}`,children:[j.amount>=0?"+":"",g(j.amount),""]})]},j.id))})]})]})]})}const Bm={regfb:{name:"Reg Facebook Tool",icon:"",description:"Tool t ng ng k v verify ti khon Facebook hng lot",plans:{daily:{name:"Theo ngy",price:1e4,days:0,icon:"",description:"Tr 10k/ngy khi s dng"},monthly:{name:"1 Thng",price:2e5,days:30,icon:"",popular:!0},yearly:{name:"1 Nm",price:5e5,days:365,icon:""},lifetime:{name:"Vnh vin",price:6e5,days:-1,icon:""}}},clonetk:{name:"Clone TikTok Tool",icon:"",description:"Cng c clone video TikTok, qun l nhiu ti khon",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:15e3,days:0,icon:""},monthly:{name:"1 Thng",price:3e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:8e5,days:-1,icon:""}}},seoyt:{name:"YouTube SEO Tool",icon:"",description:"Ti u SEO video YouTube, tng view v subscriber",comingSoon:!0,plans:{daily:{name:"Theo ngy",price:2e4,days:0,icon:""},monthly:{name:"1 Thng",price:4e5,days:30,icon:"",popular:!0},lifetime:{name:"Vnh vin",price:1e6,days:-1,icon:""}}}};function VT(){const{currentUser:s,userProfile:e}=ln(),n=Nl(),{productId:r}=Kw(),[l,c]=V.useState(r||"regfb"),[d,p]=V.useState("monthly"),[g,y]=V.useState(!1),[T,b]=V.useState(!1),[S,M]=V.useState(null),j=Bm[l],C=j?.plans[d],D=e?.balance||0,{validateSubmission:Y,recordAttempt:W}=Eg({maxAttempts:3,windowMs:36e5,cooldownMs:36e5});V.useEffect(()=>{r&&Bm[r]&&c(r)},[r]);function te(x){return new Intl.NumberFormat("vi-VN").format(x)}function z(){const x="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let N="";for(let L=0;L<4;L++){for(let k=0;k<4;k++)N+=x.charAt(Math.floor(Math.random()*x.length));L<3&&(N+="-")}return N}function ce(x){if(x<=0)return null;const N=new Date;return N.setDate(N.getDate()+x),N}async function le(){if(!s){n("/login");return}if(j.comingSoon){alert("Sn phm ny sp ra mt!");return}if(D<C.price){alert("S d khng ! Vui lng np thm tin."),n("/wallet");return}const x=Y();if(!x.valid){alert(x.error);return}W(),y(!0);try{const N=z(),L=ce(C.days);await Sl(Mt(Oe,"licenses"),{userId:s.uid,userEmail:s.email,productId:l,licenseKey:N,plan:d,planName:C.name,price:C.price,status:"active",hwid:null,expiresAt:L,createdAt:hi()}),await ui(Tt(Oe,"users",s.uid),{balance:_g(-C.price)}),await Sl(Mt(Oe,"transactions"),{userId:s.uid,type:"license_purchase",amount:-C.price,productId:l,description:`Mua ${j.name} - ${C.name}`,createdAt:hi()}),M({product:j.name,plan:C.name,licenseKey:N,expiresAt:L}),b(!1)}catch(N){console.error("Error purchasing license:",N),alert("C li xy ra. Vui lng th li!")}y(!1)}function R(){S?.licenseKey&&(navigator.clipboard.writeText(S.licenseKey),alert(" copy license key!"))}return S?u.jsxs("div",{className:"buy-page",children:[u.jsx(an,{}),u.jsx("div",{className:"buy-container",children:u.jsxs("div",{className:"success-section",children:[u.jsx("div",{className:"success-icon",children:""}),u.jsx("h1",{children:"Mua License Thnh Cng!"}),u.jsxs("p",{children:["Cm n bn  mua ",S.product]}),u.jsxs("div",{className:"license-display",children:[u.jsx("label",{children:"License Key ca bn:"}),u.jsxs("div",{className:"license-key",children:[u.jsx("code",{children:S.licenseKey}),u.jsx("button",{onClick:R,className:"btn-copy",children:" Copy"})]})]}),u.jsxs("div",{className:"purchase-details",children:[u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:S.product})]}),u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:S.plan})]}),S.expiresAt&&u.jsxs("div",{className:"detail-row",children:[u.jsx("span",{children:"Ht hn:"}),u.jsx("span",{children:S.expiresAt.toLocaleDateString("vi-VN")})]})]}),u.jsxs("div",{className:"success-actions",children:[u.jsx(Ne,{to:"/my-licenses",className:"btn-primary",children:"Xem License ca ti"}),u.jsx(Ne,{to:"/dashboard",className:"btn-secondary",children:"V Dashboard"})]})]})})]}):u.jsxs("div",{className:"buy-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"buy-container",children:[u.jsxs("div",{className:"page-header",children:[u.jsx(Ne,{to:"/dashboard",className:"back-link",children:" Quay li"}),u.jsx("h1",{children:" Mua License"})]}),u.jsxs("div",{className:"balance-bar",children:[u.jsxs("div",{className:"balance-info",children:[u.jsx("span",{children:"S d:"}),u.jsxs("span",{className:"balance-amount",children:[te(D),""]})]}),u.jsx(Ne,{to:"/wallet",className:"btn-topup",children:" Np thm"})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"1 Chn sn phm"}),u.jsx("div",{className:"products-select",children:Object.entries(Bm).map(([x,N])=>u.jsxs("div",{className:`product-option ${l===x?"selected":""} ${N.comingSoon?"coming-soon":""}`,onClick:()=>!N.comingSoon&&c(x),children:[u.jsx("div",{className:"product-icon",children:N.icon}),u.jsx("div",{className:"product-name",children:N.name}),N.comingSoon&&u.jsx("div",{className:"coming-badge",children:"Sp ra mt"})]},x))})]}),u.jsxs("div",{className:"section",children:[u.jsx("h2",{children:"2 Chn gi"}),u.jsx("div",{className:"plans-grid",children:Object.entries(j.plans).map(([x,N])=>u.jsxs("div",{className:`plan-card ${d===x?"selected":""} ${N.popular?"popular":""}`,onClick:()=>p(x),children:[N.popular&&u.jsx("div",{className:"popular-badge",children:"Ph bin"}),u.jsx("div",{className:"plan-icon",children:N.icon}),u.jsx("h3",{children:N.name}),u.jsx("div",{className:"plan-price",children:u.jsxs("span",{className:"price",children:[te(N.price),""]})}),N.description&&u.jsx("p",{className:"plan-desc",children:N.description}),u.jsxs("ul",{className:"plan-features",children:[u.jsx("li",{children:" Ton b tnh nng"}),u.jsx("li",{children:" H tr 24/7"}),u.jsx("li",{children:" Cp nht min ph"}),x==="lifetime"&&u.jsx("li",{children:" Khng gii hn thi gian"}),x==="daily"&&u.jsx("li",{children:" Ch tr tin khi s dng"})]}),u.jsx("div",{className:"plan-select",children:d===x?"  chn":"Chn gi ny"})]},x))})]}),u.jsxs("div",{className:"checkout-section",children:[u.jsxs("div",{className:"checkout-summary",children:[u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Sn phm:"}),u.jsx("span",{children:j.name})]}),u.jsxs("div",{className:"summary-row",children:[u.jsx("span",{children:"Gi:"}),u.jsx("span",{children:C.name})]}),u.jsxs("div",{className:"summary-row total",children:[u.jsx("span",{children:"Tng thanh ton:"}),u.jsxs("span",{className:"total-price",children:[te(C.price),""]})]}),D<C.price&&u.jsxs("div",{className:"insufficient-warning",children:[" S d khng . Cn np thm ",te(C.price-D),""]})]}),u.jsx("button",{className:"btn-checkout",onClick:()=>b(!0),disabled:g||j.comingSoon||D<C.price,children:g?u.jsx("span",{className:"loading-spinner"}):D<C.price?"S d khng ":u.jsxs(u.Fragment,{children:[" Mua ngay - ",te(C.price),""]})})]}),T&&u.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:u.jsxs("div",{className:"modal-content",onClick:x=>x.stopPropagation(),children:[u.jsx("h2",{children:"Xc nhn mua hng"}),u.jsxs("div",{className:"confirm-details",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Sn phm:"})," ",j.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",C.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Gi:"})," ",te(C.price),""]}),u.jsxs("p",{children:[u.jsx("strong",{children:"S d sau khi mua:"})," ",te(D-C.price),""]})]}),u.jsxs("div",{className:"modal-actions",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>b(!1),children:"Hy"}),u.jsx("button",{className:"btn-confirm",onClick:le,disabled:g,children:g?"ang x l...":"Xc nhn mua"})]})]})})]})]})}function dD(){return u.jsxs("div",{className:"guide-page",children:[u.jsx(RS,{title:"Hng dn s dng",description:"Hng dn chi tit cch s dng Tool Reg/Very Facebook. Cc bc ci t, kch hot license, cu hnh Option v Setting.",keywords:"hng dn tool reg fb, cch dng tool very fb, tutorial php tool, ci t tool facebook"}),u.jsx(an,{}),u.jsxs("div",{className:"guide-container",children:[u.jsxs("div",{className:"guide-header",children:[u.jsx("h1",{children:" Hng Dn S Dng"}),u.jsx("p",{children:"Tool Reg/Very FB by PHP-TOOL"})]}),u.jsxs("div",{className:"guide-toc",children:[u.jsx("h2",{children:" Mc lc"}),u.jsxs("ul",{children:[u.jsx("li",{children:u.jsx("a",{href:"#intro",children:"1. Gii thiu chung"})}),u.jsx("li",{children:u.jsx("a",{href:"#features",children:"2. Cc chc nng chnh"})}),u.jsx("li",{children:u.jsx("a",{href:"#requirements",children:"3. iu kin s dng tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#steps",children:"4. Cc bc chy tool"})}),u.jsx("li",{children:u.jsx("a",{href:"#options",children:"5. Ci t Option"})}),u.jsx("li",{children:u.jsx("a",{href:"#settings",children:"6. Ci t Setting"})}),u.jsx("li",{children:u.jsx("a",{href:"#support",children:"7. Lin h h tr"})})]})]}),u.jsxs("div",{className:"guide-content",children:[u.jsxs("section",{id:"intro",className:"guide-section",children:[u.jsx("h2",{children:"1. Gii thiu chung"}),u.jsx("p",{children:"Tool automatic Facebook account register and verification by PHP-TOOL gip vic to ti khon hay xc minh FB hng lot ca mi ngi tr nn d dng v nhanh chng thun tin."}),u.jsx("p",{children:"Giao din d dng thao tc s dng. Nhiu chc nng cho mi ngi la chn v s dng theo nhu cu v mc ch."}),u.jsx("p",{children:"Gi thu tool th r nht so vi th trng v quan trng l s h tr mi ngi trong qu trnh s dng, lng nghe s gp   tool hon thin hn."})]}),u.jsxs("section",{id:"features",className:"guide-section",children:[u.jsx("h2",{children:"2. Cc chc nng chnh"}),u.jsxs("div",{className:"features-table",children:[u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" REG (To ti khon)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," novery, hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," novery, hotmail, sms, gmail, virtual email"]})]})]}),u.jsxs("div",{className:"feature-group",children:[u.jsx("h4",{children:" VERY (Xc minh)"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"FB Katana:"})," hotmail, sms, gmail, virtual email"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"FB Lite:"})," hotmail, sms, gmail, virtual email"]})]})]})]})]}),u.jsxs("section",{id:"requirements",className:"guide-section",children:[u.jsx("h2",{children:"3. iu kin s dng tool"}),u.jsxs("div",{className:"requirements-list",children:[u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"c dng th 1 ngy cho ngi mi"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Cn thu tool thng (200k) hoc vnh vin (600k)  s dng"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Tool chy c trn Windows, khng th chy trn VPS"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:" chy c tool cn c smartphone root hoc LDPlayer"})]}),u.jsxs("div",{className:"requirement-item",children:[u.jsx("span",{className:"req-icon",children:""}),u.jsx("span",{children:"Khng c cu hnh my ti thiu, nu chy LD my yu chy t Tab"})]})]})]}),u.jsxs("section",{id:"steps",className:"guide-section",children:[u.jsx("h2",{children:"4. Cc bc chy tool"}),u.jsxs("div",{className:"step-list",children:[u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"1"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Gii nn file"}),u.jsx("p",{children:'Sau khi ti file rar tool v, n vo "Extract All"  gii nn'})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"2"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Ci t APK (nu dng in thoi)"}),u.jsx("p",{children:"n vo folder APK  tin hnh ci tt c cc app cn thit. Nu bn chy LDPlayer th b qua bc ny."})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"3"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"M Tool"}),u.jsx("p",{children:"n vo file ui .exe  m tool"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"4"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Kch hot License"}),u.jsx("p",{children:"n sao chp m HWID, sau  vo website  kch hot license"})]})]}),u.jsxs("div",{className:"step-item",children:[u.jsx("span",{className:"step-number",children:"5"}),u.jsxs("div",{className:"step-content",children:[u.jsx("h4",{children:"Load thit b"}),u.jsx("p",{children:"Sau khi vo tool, chuyn sang tab Device  load thit b mun chy. C th tick tng thit b, bi en click chut phi n chn, hoc chn tt c."})]})]})]})]}),u.jsxs("section",{id:"options",className:"guide-section",children:[u.jsx("h2",{children:"5. Ci t Option"}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Hotmail"}),u.jsxs("p",{children:["C 3 site: ",u.jsx("code",{children:"unlimitmail"}),", ",u.jsx("code",{children:"dongvanfb"}),", ",u.jsx("code",{children:"shopvia1s"})]}),u.jsx("p",{className:"note",children:"dongvanfb v unlimitmail l hotmail new, cn shopvia l hotmail trust"}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."}),u.jsxs("p",{className:"tip",children:[" ",u.jsx("strong",{children:"Mo:"})," C th thay i loi email mua bng cch sa ID trong file ",u.jsx("code",{children:"data/[site].txt"}),". VD: Sa ",u.jsx("code",{children:"data/dongvanfb.txt"})," nhp s ",u.jsx("code",{children:"2"})," s mua Outlook thay v Hotmail."]})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" SMS"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"ironsim"}),", ",u.jsx("code",{children:"funotp"}),", ",u.jsx("code",{children:"otptextnow"}),", ",u.jsx("code",{children:"viotp"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Gmail"}),u.jsxs("p",{children:["C 4 site: ",u.jsx("code",{children:"shopmailmmo"}),", ",u.jsx("code",{children:"shopgmail999"}),", ",u.jsx("code",{children:"gmail66"}),", ",u.jsx("code",{children:"clonenha"})]}),u.jsx("p",{children:"Dn key vo  gia, n Check  kim tra s d ti khon."})]}),u.jsxs("div",{className:"option-group",children:[u.jsx("h4",{children:" Virtual Email"}),u.jsxs("p",{children:["C 7 site: ",u.jsx("code",{children:"10p"}),", ",u.jsx("code",{children:"tm"}),", ",u.jsx("code",{children:"temp"}),", ",u.jsx("code",{children:"saki"}),", ",u.jsx("code",{children:"fake"}),", ",u.jsx("code",{children:"generator"}),", ",u.jsx("code",{children:"drop"})]})]})]}),u.jsxs("section",{id:"settings",className:"guide-section",children:[u.jsx("h2",{children:"6. Ci t Setting"}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Ci t chung"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Reg/Very:"})," Chn reg hoc very (chn very khng th chn novery  option)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"App:"})," Chn app Katana hoc Lite"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Sex:"})," Chn male, female hoc random"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Language:"})," Chn VN (c trong in thoi/LD cng phi  ting Vit)"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Name & Password"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Name:"})," C last v first  t custom, hoc vo folder data thay i"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Password:"}),"  random (ngu nhin) hoc t t mt khu ring"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Bait:"})," Mi s in thoi, c th b u s mong mun vo file prefix number"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Change IP"}),u.jsxs("p",{children:["C 4 la chn: ",u.jsx("strong",{children:"4G"}),", ",u.jsx("strong",{children:"Wifi"}),", ",u.jsx("strong",{children:"Proxy"}),", ",u.jsx("strong",{children:"VPN"})]}),u.jsx("p",{children:"Ring Proxy xoay: Vo app Super Proxy, n du cng  thm proxy khi mua. Bt phn t ng i IP, nhp cc thng s v n Start."}),u.jsxs("p",{children:["Proxy list: Nhp danh sch proxy vo ",u.jsx("code",{children:"data/proxy.txt"})," vi nh dng ",u.jsx("code",{children:"ip:port:user:pass"})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" Setting Time"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"Time action:"})," Thi gian hnh ng (mun chm/nhanh)"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time wait otp:"})," Thi gian ch ly OTP"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Time buy:"})," Thi gian ch mua ti nguyn"]})]})]}),u.jsxs("div",{className:"setting-group",children:[u.jsx("h4",{children:" File Input/Output"}),u.jsxs("ul",{children:[u.jsxs("li",{children:[u.jsx("strong",{children:"File account:"})," Nhp tk|mk  chy very"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File live:"})," Ti khon reg/very live"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File novery:"})," Ti khon cha xc minh"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"File die:"})," Ti khon die"]})]})]})]}),u.jsxs("section",{id:"support",className:"guide-section support-section",children:[u.jsx("h2",{children:"7. Lin h h tr"}),u.jsxs("p",{className:"support-note",children:["Nu bn gp bt k vn  no trong qu trnh s dng hoc c  tng ng gp,",u.jsx("br",{}),"ng ngn ngi lin h vi mnh nh! "]}),u.jsx("div",{className:"support-cards centered",children:u.jsxs("a",{href:"https://t.me/phu_dev",target:"_blank",rel:"noopener noreferrer",className:"support-card",children:[u.jsx("span",{className:"support-icon",children:""}),u.jsx("span",{children:"Telegram"})]})}),u.jsx("p",{className:"support-footer",children:"Chc mi ngi s dng tool vui v v hiu qu! "})]})]})]})]})}function fD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("");V.useEffect(()=>{g()},[]);async function g(){try{const S=Gi(Mt(Oe,"users"),yd("createdAt","desc")),j=(await jn(S)).docs.map(C=>({id:C.id,...C.data()}));r(j)}catch(S){console.error("Error fetching users:",S)}c(!1)}async function y(S,M){const j=M==="admin"?"user":"admin";try{await ui(Tt(Oe,"users",S),{role:j}),r(n.map(C=>C.id===S?{...C,role:j}:C))}catch(C){console.error("Error updating role:",C)}}async function T(S){try{await SS(Tt(Oe,"users",S)),r(n.filter(M=>M.id!==S))}catch(M){console.error("Error deleting user:",M)}}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});const b=n.filter(S=>S.email?.toLowerCase().includes(d.toLowerCase())||S.displayName?.toLowerCase().includes(d.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Users"}),u.jsxs("p",{children:["Tng cng: ",n.length," users"]})]}),u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo email hoc tn...",value:d,onChange:S=>p(S.target.value)})]})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Tn"}),u.jsx("th",{children:"Vai tr"}),u.jsx("th",{children:"Balance"}),u.jsx("th",{children:"Ngy to"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:b.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"email-cell",children:S.email}),u.jsx("td",{children:S.displayName||"-"}),u.jsx("td",{children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("td",{children:[S.balance?.toLocaleString("vi-VN")||0,""]}),u.jsx("td",{children:S.createdAt?.toDate?S.createdAt.toDate().toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action btn-toggle",onClick:()=>y(S.id,S.role),title:S.role==="admin"?"H xung User":"Nng ln Admin",children:S.role==="admin"?"":""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>T(S.id),title:"Xa user",children:""})]})]},S.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:b.map(S=>u.jsxs("div",{className:`mobile-card role-${S.role}`,children:[u.jsx("div",{className:"mobile-card-header",children:u.jsx("span",{className:`role-badge role-${S.role}`,children:S.role==="admin"?" Admin":" User"})}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:S.email})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Tn:"}),u.jsx("span",{className:"value",children:S.displayName||"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S d:"}),u.jsxs("span",{className:"value amount",children:[S.balance?.toLocaleString("vi-VN")||0,""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ngy to:"}),u.jsx("span",{className:"value",children:S.createdAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:S.role==="admin"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>y(S.id,S.role),children:S.role==="admin"?" H QUYN":" NNG ADMIN"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>T(S.id),children:" XA"})]})]},S.id))})]})]})]})}function mD(){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",e=[];for(let n=0;n<4;n++){let r="";for(let l=0;l<4;l++)r+=s.charAt(Math.floor(Math.random()*s.length));e.push(r)}return e.join("-")}function pD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState({}),[d,p]=V.useState(!0),[g,y]=V.useState(!1),[T,b]=V.useState(""),[S,M]=V.useState({plan:"1_month",userId:"",userEmail:"",hwid:""});V.useEffect(()=>{j()},[]);async function j(){try{const z=await jn(Mt(Oe,"users")),ce={};z.docs.forEach(N=>{ce[N.id]=N.data()}),c(ce);const le=Gi(Mt(Oe,"licenses"),yd("createdAt","desc")),x=(await jn(le)).docs.map(N=>({id:N.id,...N.data()}));r(x)}catch(z){console.error("Error fetching data:",z)}p(!1)}async function C(){try{const z=S.plan,ce=z==="1_day"?1:z==="1_month"?30:-1,le=ce>0?new Date(Date.now()+ce*24*60*60*1e3):null,R=S.hwid&&S.hwid.trim()!=="",x=R||S.userId,N={licenseKey:mD(),productId:"regfb",plan:z,status:x?"active":"pending",userId:S.userId||null,hwid:R?S.hwid.trim():null,hwidHistory:[],createdAt:hi(),activatedAt:x?hi():null,expiresAt:le},L=await Sl(Mt(Oe,"licenses"),N);r([{id:L.id,...N,createdAt:new Date},...n]),y(!1),M({plan:"1_month",userId:"",userEmail:"",hwid:""})}catch(z){console.error("Error creating license:",z)}}async function D(z,ce){const le=ce==="active"?"revoked":"active";try{await ui(Tt(Oe,"licenses",z),{status:le}),r(n.map(R=>R.id===z?{...R,status:le}:R))}catch(R){console.error("Error updating status:",R)}}async function Y(z,ce){try{const R=n.find(x=>x.id===z).hwidHistory||[];ce&&R.push(ce),await ui(Tt(Oe,"licenses",z),{hwid:null,hwidHistory:R}),r(n.map(x=>x.id===z?{...x,hwid:null,hwidHistory:R}:x))}catch(le){console.error("Error resetting HWID:",le)}}async function W(z){try{await SS(Tt(Oe,"licenses",z)),r(n.filter(ce=>ce.id!==z))}catch(ce){console.error("Error deleting license:",ce)}}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});const te=n.filter(z=>(z.licenseKey||z.key||"").toLowerCase().includes(T.toLowerCase())||l[z.userId]?.email?.toLowerCase().includes(T.toLowerCase()));return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Qun l Licenses"}),u.jsxs("p",{children:["Tng cng: ",n.length," licenses"]})]}),u.jsxs("div",{className:"header-actions",children:[u.jsxs("div",{className:"search-box",children:[u.jsx("span",{className:"search-icon",children:""}),u.jsx("input",{type:"text",placeholder:"Tm theo key hoc email...",value:T,onChange:z=>b(z.target.value)})]}),u.jsx("button",{className:"btn-create",onClick:()=>y(!0),children:" To License"})]})]}),d?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"data-table-wrapper desktop-only",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Key"}),u.jsx("th",{children:"Gi"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"}),u.jsx("th",{children:"Ht hn"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:te.map(z=>u.jsxs("tr",{children:[u.jsxs("td",{className:"key-cell",children:[u.jsx("code",{children:z.licenseKey||z.key}),u.jsx("button",{className:"btn-copy-small",onClick:()=>navigator.clipboard.writeText(z.licenseKey||z.key),children:""})]}),u.jsx("td",{children:u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&" Active",z.status==="pending"&&" Pending",z.status==="expired"&&" Expired",z.status==="revoked"&&" Revoked"]})}),u.jsx("td",{children:z.userId?l[z.userId]?.email||z.userId.substring(0,8)+"...":u.jsx("span",{className:"no-user",children:"Cha gn"})}),u.jsx("td",{children:z.hwid?u.jsxs("span",{className:"hwid-value",title:z.hwid,children:[z.hwid.substring(0,10),"..."]}):u.jsx("span",{className:"no-hwid",children:"-"})}),u.jsx("td",{children:z.plan==="lifetime"?"":z.expiresAt?.toDate?z.expiresAt.toDate().toLocaleDateString("vi-VN"):z.expiresAt?new Date(z.expiresAt).toLocaleDateString("vi-VN"):"-"}),u.jsxs("td",{className:"actions-cell",children:[u.jsx("button",{className:"btn-action",onClick:()=>D(z.id,z.status),title:z.status==="active"?"Thu hi":"Kch hot",children:z.status==="active"?"":""}),z.hwid&&u.jsx("button",{className:"btn-action",onClick:()=>Y(z.id,z.hwid),title:"Reset HWID",children:""}),u.jsx("button",{className:"btn-action btn-delete",onClick:()=>W(z.id),title:"Xa",children:""})]})]},z.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:te.map(z=>u.jsxs("div",{className:`mobile-card status-${z.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("code",{className:"license-key-mobile",children:z.licenseKey||z.key}),u.jsxs("span",{className:`status-badge status-${z.status}`,children:[z.status==="active"&&"",z.status==="pending"&&"",z.status==="expired"&&"",z.status==="revoked"&&""]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Gi:"}),u.jsxs("span",{className:`plan-badge plan-${z.plan}`,children:[z.plan==="1_day"&&"1 Ngy",z.plan==="1_month"&&"1 Thng",z.plan==="lifetime"&&"Vnh vin"]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"User:"}),u.jsx("span",{className:"value",children:z.userId?l[z.userId]?.email||z.userId.substring(0,12)+"...":"Cha gn"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"HWID:"}),u.jsx("span",{className:"value",children:z.hwid?z.hwid.substring(0,12)+"...":"-"})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Ht hn:"}),u.jsx("span",{className:"value",children:z.plan==="lifetime"?" Vnh vin":z.expiresAt?.toDate?.().toLocaleDateString("vi-VN")||"-"})]})]}),u.jsxs("div",{className:"mobile-card-actions",children:[u.jsx("button",{className:z.status==="active"?"btn-reject-mobile":"btn-confirm-mobile",onClick:()=>D(z.id,z.status),children:z.status==="active"?" THU HI":" KCH HOT"}),z.hwid&&u.jsx("button",{className:"btn-secondary-mobile",onClick:()=>Y(z.id,z.hwid),children:" RESET"}),u.jsx("button",{className:"btn-delete-mobile",onClick:()=>W(z.id),children:""})]})]},z.id))})]})]}),g&&u.jsx("div",{className:"modal-overlay",onClick:()=>y(!1),children:u.jsxs("div",{className:"modal-content",onClick:z=>z.stopPropagation(),children:[u.jsxs("div",{className:"modal-header",children:[u.jsx("h2",{children:" To License Mi"}),u.jsx("button",{className:"btn-close",onClick:()=>y(!1),children:""})]}),u.jsxs("div",{className:"modal-body",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gi License"}),u.jsxs("select",{value:S.plan,onChange:z=>M({...S,plan:z.target.value}),children:[u.jsx("option",{value:"1_day",children:"1 Ngy - 10,000"}),u.jsx("option",{value:"1_month",children:"1 Thng - 200,000"}),u.jsx("option",{value:"lifetime",children:"Vnh vin - 600,000"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Gn cho User (ty chn)"}),u.jsxs("select",{value:S.userId,onChange:z=>M({...S,userId:z.target.value}),children:[u.jsx("option",{value:"",children:"-- Khng gn --"}),Object.entries(l).map(([z,ce])=>u.jsx("option",{value:z,children:ce.email},z))]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"HWID my tnh (copy t tool)"}),u.jsx("input",{type:"text",placeholder:"Paste HWID t tool vo y...",value:S.hwid,onChange:z=>M({...S,hwid:z.target.value}),style:{width:"100%",padding:"0.75rem",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",color:"#fff",fontFamily:"monospace",fontSize:"0.85rem"}}),u.jsx("small",{style:{color:"rgba(255,255,255,0.5)",fontSize:"0.75rem"},children:"User m tool  Copy HWID  Paste vo y"})]})]}),u.jsxs("div",{className:"modal-footer",children:[u.jsx("button",{className:"btn-cancel",onClick:()=>y(!1),children:"Hy"}),u.jsx("button",{className:"btn-submit",onClick:C,children:"To License"})]})]})})]})}function gD(){const{isAdmin:s,loading:e}=ln(),[n,r]=V.useState([]),[l,c]=V.useState(!0),[d,p]=V.useState("all"),[g,y]=V.useState("");V.useEffect(()=>{T()},[]);async function T(){try{const D=Gi(Mt(Oe,"transactions"),yd("createdAt","desc")),W=(await jn(D)).docs.map(le=>({id:le.id,...le.data()})),te=await jn(Mt(Oe,"users")),z={};te.docs.forEach(le=>{z[le.id]=le.data().email});const ce=W.map(le=>({...le,userEmail:z[le.userId]||"Unknown"}));r(ce)}catch(D){console.error("Error fetching transactions:",D)}c(!1)}if(!e&&!s())return u.jsx(Rl,{to:"/dashboard"});function b(D){const Y=new Intl.NumberFormat("vi-VN").format(Math.abs(D));return D>=0?`+${Y}`:`-${Y}`}function S(D){switch(D){case"deposit":return" Np tin";case"license_purchase":return" Mua license";case"daily_usage":return" Tr ngy";case"refund":return" Hon tin";default:return D}}let M=n;d!=="all"&&(M=M.filter(D=>D.type===d)),g&&(M=M.filter(D=>D.userEmail?.toLowerCase().includes(g.toLowerCase())));const j=n.filter(D=>D.type==="deposit").reduce((D,Y)=>D+(Y.amount||0),0),C=n.filter(D=>D.type==="license_purchase").reduce((D,Y)=>D+Math.abs(Y.amount||0),0);return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsx("div",{className:"admin-header",children:u.jsxs("div",{className:"header-content",children:[u.jsx("h1",{children:" Lch s giao dch"}),u.jsxs("p",{children:["Tng np: ",u.jsxs("span",{className:"text-green",children:[new Intl.NumberFormat("vi-VN").format(j),""]})," | Tng mua: ",u.jsxs("span",{className:"text-red",children:[new Intl.NumberFormat("vi-VN").format(C),""]})]})]})}),u.jsxs("div",{className:"filters-bar",children:[u.jsxs("div",{className:"filter-tabs",children:[u.jsxs("button",{className:`tab ${d==="all"?"active":""}`,onClick:()=>p("all"),children:["Tt c (",n.length,")"]}),u.jsx("button",{className:`tab ${d==="deposit"?"active":""}`,onClick:()=>p("deposit"),children:" Np tin"}),u.jsx("button",{className:`tab ${d==="license_purchase"?"active":""}`,onClick:()=>p("license_purchase"),children:" Mua license"})]}),u.jsx("div",{className:"search-box",children:u.jsx("input",{type:"text",placeholder:"Tm theo email...",value:g,onChange:D=>y(D.target.value)})})]}),l?u.jsxs("div",{className:"loading-state",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]}):M.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("div",{className:"empty-icon",children:""}),u.jsx("h3",{children:"Khng c giao dch no"})]}):u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"Loi"}),u.jsx("th",{children:"M t"}),u.jsx("th",{children:"S tin"})]})}),u.jsx("tbody",{children:M.map(D=>u.jsxs("tr",{children:[u.jsx("td",{className:"date-cell",children:D.createdAt?.toDate?.().toLocaleString("vi-VN")||"-"}),u.jsx("td",{className:"email-cell",children:D.userEmail}),u.jsx("td",{children:u.jsx("span",{className:`type-badge type-${D.type}`,children:S(D.type)})}),u.jsx("td",{className:"desc-cell",children:D.description||"-"}),u.jsx("td",{className:`amount-cell ${D.amount>=0?"positive":"negative"}`,children:b(D.amount)})]},D.id))})]})})]})]})}function yD(){const{isAdmin:s}=ln(),[e,n]=V.useState([]),[r,l]=V.useState(!0),[c,d]=V.useState("all"),[p,g]=V.useState(null);V.useEffect(()=>{y()},[]);async function y(){l(!0);try{const C=Gi(Mt(Oe,"deposits"),yd("createdAt","desc")),Y=(await jn(C)).docs.map(W=>({id:W.id,...W.data()}));console.log("Fetched deposits:",Y),n(Y)}catch(C){console.error("Error fetching deposits:",C)}l(!1)}function T(){return c==="all"?e:e.filter(C=>C.status===c)}async function b(C){console.log("Confirm clicked for deposit:",C),g(C.id);try{console.log("Updating deposit:",C.id),await ui(Tt(Oe,"deposits",C.id),{status:"completed",completedAt:hi()}),console.log("Deposit updated"),console.log("Updating user balance:",C.userId),await ui(Tt(Oe,"users",C.userId),{balance:_g(C.amount)}),console.log("User balance updated"),await Sl(Mt(Oe,"transactions"),{userId:C.userId,type:"deposit",amount:C.amount,description:`Np tin - M GD: ${C.orderId}`,createdAt:hi()}),console.log("Transaction created"),y()}catch(D){console.error("Error confirming deposit:",D)}g(null)}async function S(C){console.log("Reject clicked for deposit:",C),g(C.id);try{await ui(Tt(Oe,"deposits",C.id),{status:"rejected",rejectedAt:hi()}),y()}catch(D){console.error("Error rejecting deposit:",D)}g(null)}function M(C){return new Intl.NumberFormat("vi-VN").format(C)}if(!s())return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx("p",{children:"Bn cn quyn Admin  xem trang ny."}),u.jsx(Ne,{to:"/dashboard",children:"V Dashboard"})]})})]});const j=T();return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h1",{children:" Qun l np tin"}),u.jsx("button",{className:"btn-refresh",onClick:y,children:" Lm mi"})]}),u.jsxs("div",{className:"filter-tabs",children:[u.jsxs("button",{className:`tab ${c==="all"?"active":""}`,onClick:()=>d("all"),children:["Tt c (",e.length,")"]}),u.jsxs("button",{className:`tab ${c==="pending"?"active":""}`,onClick:()=>d("pending"),children:["Ch x l (",e.filter(C=>C.status==="pending").length,")"]}),u.jsxs("button",{className:`tab ${c==="completed"?"active":""}`,onClick:()=>d("completed"),children:[" np (",e.filter(C=>C.status==="completed").length,")"]})]}),r?u.jsx("div",{className:"loading",children:"ang ti..."}):j.length===0?u.jsx("div",{className:"empty",children:"Khng c yu cu np tin no"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"table-container desktop-only",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"M GD"}),u.jsx("th",{children:"Email"}),u.jsx("th",{children:"S tin"}),u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"Trng thi"}),u.jsx("th",{children:"Thao tc"})]})}),u.jsx("tbody",{children:j.map(C=>u.jsxs("tr",{children:[u.jsx("td",{className:"order-id",children:C.orderId}),u.jsx("td",{children:C.userEmail}),u.jsxs("td",{className:"amount",children:[M(C.amount),""]}),u.jsx("td",{className:"date",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"}),u.jsx("td",{children:u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch x l",C.status==="completed"&&"  np",C.status==="rejected"&&" T chi"]})}),u.jsxs("td",{className:"actions",children:[C.status==="pending"&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"btn-confirm",onClick:()=>b(C),disabled:p===C.id,children:p===C.id?"...":" Xc nhn"}),u.jsx("button",{className:"btn-reject",onClick:()=>S(C),disabled:p===C.id,children:" T chi"})]}),C.status!=="pending"&&u.jsx("span",{className:"processed",children:" x l"})]})]},C.id))})]})}),u.jsx("div",{className:"mobile-cards mobile-only",children:j.map(C=>u.jsxs("div",{className:`mobile-card status-${C.status}`,children:[u.jsxs("div",{className:"mobile-card-header",children:[u.jsx("span",{className:"mobile-card-id",children:C.orderId}),u.jsxs("span",{className:`status-badge status-${C.status}`,children:[C.status==="pending"&&" Ch",C.status==="completed"&&" Done",C.status==="rejected"&&" Reject"]})]}),u.jsxs("div",{className:"mobile-card-body",children:[u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Email:"}),u.jsx("span",{className:"value",children:C.userEmail})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"S tin:"}),u.jsxs("span",{className:"value amount",children:[M(C.amount),""]})]}),u.jsxs("div",{className:"mobile-card-row",children:[u.jsx("span",{className:"label",children:"Thi gian:"}),u.jsx("span",{className:"value",children:C.createdAt?.toDate?.().toLocaleString("vi-VN")||"N/A"})]})]}),C.status==="pending"&&u.jsxs("div",{className:"mobile-card-actions",children:[u.jsxs("button",{className:"btn-confirm-mobile",onClick:()=>b(C),disabled:p===C.id,children:[p===C.id?"":""," XC NHN"]}),u.jsx("button",{className:"btn-reject-mobile",onClick:()=>S(C),disabled:p===C.id,children:" T CHI"})]})]},C.id))})]})]})]})}function vD(){const[s,e]=V.useState({today:0,thisMonth:0,total:0,uniqueToday:0,uniqueMonth:0,uniqueTotal:0,revenueToday:0,revenueMonth:0,revenueTotal:0,ordersToday:0,ordersMonth:0,ordersTotal:0}),[n,r]=V.useState(!0),[l,c]=V.useState([]);V.useEffect(()=>{p()},[]);function d(g){return new Intl.NumberFormat("vi-VN").format(g)}async function p(){r(!0);try{const y=new Date().toISOString().split("T")[0],T=y.substring(0,7),b=Mt(Oe,"usage_logs"),S=await jn(b);let M=0,j=0,C=0;const D=new Set,Y=new Set,W=new Set,te=[];S.docs.forEach(B=>{const I=B.data();C++,W.add(I.hwid),I.date===y&&(M++,D.add(I.hwid)),I.month===T&&(j++,Y.add(I.hwid)),te.push({id:B.id,...I})}),te.sort((B,I)=>{const re=B.timestamp?.toDate?.()||new Date(B.timestamp||0);return(I.timestamp?.toDate?.()||new Date(I.timestamp||0))-re});const z=Mt(Oe,"transactions"),ce=await jn(z);let le=0,R=0,x=0,N=0,L=0,k=0;ce.docs.forEach(B=>{const I=B.data();if(I.type==="license_purchase"&&I.amount<0){const re=Math.abs(I.amount),ye=I.createdAt?.toDate?.();if(ye){const K=ye.toISOString().split("T")[0],ae=K.substring(0,7);x+=re,k++,K===y&&(le+=re,N++),ae===T&&(R+=re,L++)}else x+=re,k++}}),e({today:M,thisMonth:j,total:C,uniqueToday:D.size,uniqueMonth:Y.size,uniqueTotal:W.size,revenueToday:le,revenueMonth:R,revenueTotal:x,ordersToday:N,ordersMonth:L,ordersTotal:k}),c(te.slice(0,20))}catch(g){console.error("Error fetching stats:",g)}r(!1)}return u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx(Ne,{to:"/admin/users",className:"back-link",children:" Admin"}),u.jsx("h1",{children:" Thng k"}),u.jsx("button",{className:"btn-refresh",onClick:p,children:" Refresh"})]}),n?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsxs(u.Fragment,{children:[u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem"},children:" Doanh thu"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueToday),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersToday," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueMonth),""]}),u.jsx("div",{className:"stat-label",children:"Doanh thu thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersMonth," n hng"]})]})]}),u.jsxs("div",{className:"stat-card-admin revenue",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsxs("div",{className:"stat-number",children:[d(s.revenueTotal),""]}),u.jsx("div",{className:"stat-label",children:"Tng doanh thu"}),u.jsxs("div",{className:"stat-sub",children:[s.ordersTotal," n hng"]})]})]})]}),u.jsx("h2",{style:{color:"#fff",marginBottom:"1rem",marginTop:"2rem"},children:" Lt s dng"}),u.jsxs("div",{className:"stats-grid-admin",children:[u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.today}),u.jsx("div",{className:"stat-label",children:"Lt dng hm nay"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueToday," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.thisMonth}),u.jsx("div",{className:"stat-label",children:"Lt dng thng ny"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueMonth," ngi dng"]})]})]}),u.jsxs("div",{className:"stat-card-admin",children:[u.jsx("div",{className:"stat-icon",children:""}),u.jsxs("div",{className:"stat-content",children:[u.jsx("div",{className:"stat-number",children:s.total}),u.jsx("div",{className:"stat-label",children:"Tng lt dng"}),u.jsxs("div",{className:"stat-sub",children:[s.uniqueTotal," ngi dng"]})]})]})]}),u.jsxs("div",{className:"section-card",style:{marginTop:"2rem"},children:[u.jsx("h2",{children:" Lch s s dng gn y"}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"admin-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Thi gian"}),u.jsx("th",{children:"User"}),u.jsx("th",{children:"HWID"})]})}),u.jsx("tbody",{children:l.map(g=>u.jsxs("tr",{children:[u.jsx("td",{children:g.timestamp?.toDate?.().toLocaleString("vi-VN")||new Date(g.timestamp).toLocaleString("vi-VN")}),u.jsx("td",{children:g.userName||"Unknown"}),u.jsxs("td",{className:"hwid-cell",children:[g.hwid?.substring(0,16),"..."]})]},g.id))})]})})]})]})]})]})}function _D(){const{isAdmin:s}=ln(),[e,n]=V.useState({downloadUrl:"",version:"",changelog:"",updatedAt:null}),[r,l]=V.useState(!0),[c,d]=V.useState(!1);V.useEffect(()=>{p()},[]);async function p(){try{const y=Tt(Oe,"settings","software"),T=await vd(y);T.exists()&&n(T.data())}catch(y){console.error("Error fetching settings:",y)}l(!1)}async function g(){d(!0);try{await bS(Tt(Oe,"settings","software"),{...e,updatedAt:new Date})}catch(y){console.error("Error saving settings:",y)}d(!1)}return s()?u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsxs("div",{className:"admin-container",children:[u.jsx("div",{className:"admin-header",children:u.jsx("h1",{children:" Ci t phn mm"})}),r?u.jsx("div",{className:"loading",children:"ang ti..."}):u.jsx("div",{className:"settings-form",children:u.jsxs("div",{className:"settings-card",children:[u.jsx("h2",{children:" Link ti phn mm"}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Version hin ti"}),u.jsx("input",{type:"text",placeholder:"VD: 1.0.0",value:e.version,onChange:y=>n({...e,version:y.target.value})}),u.jsx("small",{children:"Tool s check version ny  bo cp nht"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Link ti (Google Drive, MediaFire...)"}),u.jsx("input",{type:"text",placeholder:"https://drive.google.com/...",value:e.downloadUrl,onChange:y=>n({...e,downloadUrl:y.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Changelog (ty chn)"}),u.jsx("textarea",{placeholder:`- Tnh nng mi...
- Sa li...`,value:e.changelog||"",onChange:y=>n({...e,changelog:y.target.value}),rows:4})]}),e.updatedAt&&u.jsxs("p",{className:"last-updated",children:["Cp nht ln cui: ",new Date(e.updatedAt.seconds?e.updatedAt.seconds*1e3:e.updatedAt).toLocaleString("vi-VN")]}),u.jsx("button",{className:"btn-save",onClick:g,disabled:c,children:c?" ang lu...":" Lu ci t"})]})})]})]}):u.jsxs("div",{className:"admin-page",children:[u.jsx(an,{}),u.jsx("div",{className:"admin-container",children:u.jsxs("div",{className:"access-denied",children:[u.jsx("h1",{children:" Khng c quyn truy cp"}),u.jsx(Ne,{to:"/dashboard",children:"V Dashboard"})]})})]})}function Gn({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?s:u.jsx(Rl,{to:"/login"})}function kT({children:s}){const{currentUser:e,loading:n}=ln();return n?u.jsx("div",{className:"loading-page",children:u.jsxs("div",{className:"loading-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("p",{children:"ang ti..."})]})}):e?u.jsx(Rl,{to:"/dashboard"}):s}function ED(){return u.jsxs(lx,{children:[u.jsx(Ut,{path:"/",element:u.jsx(MT,{})}),u.jsx(Ut,{path:"/products",element:u.jsx(MT,{})}),u.jsx(Ut,{path:"/login",element:u.jsx(kT,{children:u.jsx(rD,{})})}),u.jsx(Ut,{path:"/register",element:u.jsx(kT,{children:u.jsx(aD,{})})}),u.jsx(Ut,{path:"/dashboard",element:u.jsx(Gn,{children:u.jsx(oD,{})})}),u.jsx(Ut,{path:"/wallet",element:u.jsx(Gn,{children:u.jsx(cD,{})})}),u.jsx(Ut,{path:"/my-licenses",element:u.jsx(Gn,{children:u.jsx(uD,{})})}),u.jsx(Ut,{path:"/guide",element:u.jsx(dD,{})}),u.jsx(Ut,{path:"/profile",element:u.jsx(Gn,{children:u.jsx(hD,{})})}),u.jsx(Ut,{path:"/buy",element:u.jsx(Gn,{children:u.jsx(VT,{})})}),u.jsx(Ut,{path:"/buy/:productId",element:u.jsx(Gn,{children:u.jsx(VT,{})})}),u.jsx(Ut,{path:"/admin/users",element:u.jsx(Gn,{children:u.jsx(fD,{})})}),u.jsx(Ut,{path:"/admin/licenses",element:u.jsx(Gn,{children:u.jsx(pD,{})})}),u.jsx(Ut,{path:"/admin/orders",element:u.jsx(Gn,{children:u.jsx(gD,{})})}),u.jsx(Ut,{path:"/admin/deposits",element:u.jsx(Gn,{children:u.jsx(yD,{})})}),u.jsx(Ut,{path:"/admin/stats",element:u.jsx(Gn,{children:u.jsx(vD,{})})}),u.jsx(Ut,{path:"/admin/settings",element:u.jsx(Gn,{children:u.jsx(_D,{})})}),u.jsx(Ut,{path:"*",element:u.jsx(Rl,{to:"/"})})]})}function TD(){return u.jsx(Ix,{children:u.jsx(Z2,{children:u.jsx(ED,{})})})}mw.createRoot(document.getElementById("root")).render(u.jsx(V.StrictMode,{children:u.jsx(TD,{})}));
